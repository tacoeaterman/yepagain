var pv=t=>{throw TypeError(t)};var Fd=(t,e,n)=>e.has(t)||pv("Cannot "+n);var O=(t,e,n)=>(Fd(t,e,"read from private field"),n?n.call(t):e.get(t)),ye=(t,e,n)=>e.has(t)?pv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Z=(t,e,n,r)=>(Fd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),lt=(t,e,n)=>(Fd(t,e,"access private method"),n);var Ml=(t,e,n,r)=>({set _(s){Z(t,e,s,n)},get _(){return O(t,e,r)}});function Ek(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function U_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H_={exports:{}},$u={},B_={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),Nk=Symbol.for("react.portal"),kk=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),Pk=Symbol.for("react.profiler"),Ik=Symbol.for("react.provider"),Rk=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Dk=Symbol.for("react.memo"),Mk=Symbol.for("react.lazy"),mv=Symbol.iterator;function jk(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var z_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V_=Object.assign,G_={};function _o(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||z_}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y_(){}Y_.prototype=_o.prototype;function Pp(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||z_}var Ip=Pp.prototype=new Y_;Ip.constructor=Pp;V_(Ip,_o.prototype);Ip.isPureReactComponent=!0;var gv=Array.isArray,K_=Object.prototype.hasOwnProperty,Rp={current:null},q_={key:!0,ref:!0,__self:!0,__source:!0};function Q_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)K_.call(e,r)&&!q_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:cl,type:t,key:i,ref:o,props:s,_owner:Rp.current}}function Lk(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function Fk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vv=/\/+/g;function $d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fk(""+t.key):e.toString(36)}function fc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cl:case Nk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$d(o,0):r,gv(s)?(n="",t!=null&&(n=t.replace(vv,"$&/")+"/"),fc(s,e,n,"",function(c){return c})):s!=null&&(Ap(s)&&(s=Lk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",gv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+$d(i,a);o+=fc(i,e,n,l,s)}else if(l=jk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+$d(i,a++),o+=fc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jl(t,e,n){if(t==null)return t;var r=[],s=0;return fc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},hc={transition:null},Wk={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:hc,ReactCurrentOwner:Rp};function X_(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:jl,forEach:function(t,e,n){jl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jl(t,function(){e++}),e},toArray:function(t){return jl(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=_o;le.Fragment=kk;le.Profiler=Pk;le.PureComponent=Pp;le.StrictMode=Tk;le.Suspense=Ok;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wk;le.act=X_;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Rp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)K_.call(e,l)&&!q_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cl,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:Rk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ik,_context:t},t.Consumer=t};le.createElement=Q_;le.createFactory=function(t){var e=Q_.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:Ak,render:t}};le.isValidElement=Ap;le.lazy=function(t){return{$$typeof:Mk,_payload:{_status:-1,_result:t},_init:$k}};le.memo=function(t,e){return{$$typeof:Dk,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=hc.transition;hc.transition={};try{t()}finally{hc.transition=e}};le.unstable_act=X_;le.useCallback=function(t,e){return St.current.useCallback(t,e)};le.useContext=function(t){return St.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return St.current.useDeferredValue(t)};le.useEffect=function(t,e){return St.current.useEffect(t,e)};le.useId=function(){return St.current.useId()};le.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return St.current.useMemo(t,e)};le.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};le.useRef=function(t){return St.current.useRef(t)};le.useState=function(t){return St.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return St.current.useTransition()};le.version="18.3.1";B_.exports=le;var m=B_.exports;const Sr=U_(m),J_=Ek({__proto__:null,default:Sr},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk=m,Hk=Symbol.for("react.element"),Bk=Symbol.for("react.fragment"),zk=Object.prototype.hasOwnProperty,Vk=Uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gk={key:!0,ref:!0,__self:!0,__source:!0};function Z_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zk.call(e,r)&&!Gk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hk,type:t,key:i,ref:o,props:s,_owner:Vk.current}}$u.Fragment=Bk;$u.jsx=Z_;$u.jsxs=Z_;H_.exports=$u;var u=H_.exports,ex={exports:{}},Vt={},tx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,M){var U=S.length;S.push(M);e:for(;0<U;){var B=U-1>>>1,ce=S[B];if(0<s(ce,M))S[B]=M,S[U]=ce,U=B;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var M=S[0],U=S.pop();if(U!==M){S[0]=U;e:for(var B=0,ce=S.length,ee=ce>>>1;B<ee;){var ie=2*(B+1)-1,Le=S[ie],oe=ie+1,V=S[oe];if(0>s(Le,U))oe<ce&&0>s(V,Le)?(S[B]=V,S[oe]=U,B=oe):(S[B]=Le,S[ie]=U,B=ie);else if(oe<ce&&0>s(V,U))S[B]=V,S[oe]=U,B=oe;else break e}}return M}function s(S,M){var U=S.sortIndex-M.sortIndex;return U!==0?U:S.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,v=!1,_=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=S)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function b(S){if(g=!1,w(S),!_)if(n(l)!==null)_=!0,F(C);else{var M=n(c);M!==null&&A(b,M.startTime-S)}}function C(S,M){_=!1,g&&(g=!1,y(P),P=-1),v=!0;var U=h;try{for(w(M),f=n(l);f!==null&&(!(f.expirationTime>M)||S&&!I());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var ce=B(f.expirationTime<=M);M=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(l)&&r(l),w(M)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var ie=n(c);ie!==null&&A(b,ie.startTime-M),ee=!1}return ee}finally{f=null,h=U,v=!1}}var k=!1,T=null,P=-1,E=5,N=-1;function I(){return!(t.unstable_now()-N<E)}function R(){if(T!==null){var S=t.unstable_now();N=S;var M=!0;try{M=T(!0,S)}finally{M?$():(k=!1,T=null)}}else k=!1}var $;if(typeof p=="function")$=function(){p(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,W=D.port2;D.port1.onmessage=R,$=function(){W.postMessage(null)}}else $=function(){x(R,0)};function F(S){T=S,k||(k=!0,$())}function A(S,M){P=x(function(){S(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,F(C))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var U=h;h=M;try{return S()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,M){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var U=h;h=S;try{return M()}finally{h=U}},t.unstable_scheduleCallback=function(S,M,U){var B=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?B+U:B):U=B,S){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=U+ce,S={id:d++,callback:M,priorityLevel:S,startTime:U,expirationTime:ce,sortIndex:-1},U>B?(S.sortIndex=U,e(c,S),n(l)===null&&S===n(c)&&(g?(y(P),P=-1):g=!0,A(b,U-B))):(S.sortIndex=ce,e(l,S),_||v||(_=!0,F(C))),S},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(S){var M=h;return function(){var U=h;h=M;try{return S.apply(this,arguments)}finally{h=U}}}})(nx);tx.exports=nx;var Yk=tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk=m,Ht=Yk;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,Ea={};function ni(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Ea[t]=e,t=0;t<e.length;t++)rx.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},wv={};function Qk(t){return qf.call(wv,t)?!0:qf.call(yv,t)?!1:qk.test(t)?wv[t]=!0:(yv[t]=!0,!1)}function Xk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jk(t,e,n,r){if(e===null||typeof e>"u"||Xk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Dp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,Dp);st[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,Dp);st[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,Dp);st[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mp(t,e,n,r){var s=st.hasOwnProperty(e)?st[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jk(e,n,s,r)&&(n=null),r||s===null?Qk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=Kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ll=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),ox=Symbol.for("react.offscreen"),_v=Symbol.iterator;function Fo(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Wd;function ea(t){if(Wd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wd=e&&e[1]||""}return`
`+Wd+t}var Ud=!1;function Hd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ea(t):""}function Zk(t){switch(t.tag){case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return t=Hd(t.type,!1),t;case 11:return t=Hd(t.type.render,!1),t;case 1:return t=Hd(t.type,!0),t;default:return""}}function Zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case Qf:return"Profiler";case jp:return"StrictMode";case Xf:return"Suspense";case Jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ix:return(t.displayName||"Context")+".Consumer";case sx:return(t._context.displayName||"Context")+".Provider";case Lp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:Zf(t.type)||"Memo";case kr:e=t._payload,t=t._init;try{return Zf(t(e))}catch{}}return null}function eT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ax(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tT(t){var e=ax(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fl(t){t._valueTracker||(t._valueTracker=tT(t))}function lx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ax(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eh(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cx(t,e){e=e.checked,e!=null&&Mp(t,"checked",e,!1)}function th(t,e){cx(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&nh(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nh(t,e,n){(e!=="number"||jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ta=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(ta(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function ux(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $l,fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nT=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){nT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function hx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function px(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rT=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ih(t,e){if(e){if(rT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function oh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function $p(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lh=null,Ii=null,Ri=null;function Ev(t){if(t=fl(t)){if(typeof lh!="function")throw Error(j(280));var e=t.stateNode;e&&(e=zu(e),lh(t.stateNode,t.type,e))}}function mx(t){Ii?Ri?Ri.push(t):Ri=[t]:Ii=t}function gx(){if(Ii){var t=Ii,e=Ri;if(Ri=Ii=null,Ev(t),e)for(t=0;t<e.length;t++)Ev(e[t])}}function vx(t,e){return t(e)}function yx(){}var Bd=!1;function wx(t,e,n){if(Bd)return t(e,n);Bd=!0;try{return vx(t,e,n)}finally{Bd=!1,(Ii!==null||Ri!==null)&&(yx(),gx())}}function ka(t,e){var n=t.stateNode;if(n===null)return null;var r=zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var ch=!1;if(ir)try{var $o={};Object.defineProperty($o,"passive",{get:function(){ch=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{ch=!1}function sT(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var la=!1,Lc=null,Fc=!1,uh=null,iT={onError:function(t){la=!0,Lc=t}};function oT(t,e,n,r,s,i,o,a,l){la=!1,Lc=null,sT.apply(iT,arguments)}function aT(t,e,n,r,s,i,o,a,l){if(oT.apply(this,arguments),la){if(la){var c=Lc;la=!1,Lc=null}else throw Error(j(198));Fc||(Fc=!0,uh=c)}}function ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _x(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(ri(t)!==t)throw Error(j(188))}function lT(t){var e=t.alternate;if(!e){if(e=ri(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nv(s),t;if(i===r)return Nv(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function xx(t){return t=lT(t),t!==null?bx(t):null}function bx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bx(t);if(e!==null)return e;t=t.sibling}return null}var Cx=Ht.unstable_scheduleCallback,kv=Ht.unstable_cancelCallback,cT=Ht.unstable_shouldYield,uT=Ht.unstable_requestPaint,Ve=Ht.unstable_now,dT=Ht.unstable_getCurrentPriorityLevel,Wp=Ht.unstable_ImmediatePriority,Sx=Ht.unstable_UserBlockingPriority,$c=Ht.unstable_NormalPriority,fT=Ht.unstable_LowPriority,Ex=Ht.unstable_IdlePriority,Wu=null,Mn=null;function hT(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Wu,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:gT,pT=Math.log,mT=Math.LN2;function gT(t){return t>>>=0,t===0?32:31-(pT(t)/mT|0)|0}var Wl=64,Ul=4194304;function na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=na(a):(i&=o,i!==0&&(r=na(i)))}else o=n&~s,o!==0?r=na(o):i!==0&&(r=na(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),s=1<<n,r|=t[n],e&=~s;return r}function vT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-vn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=vT(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nx(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function wT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function kx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tx,Hp,Px,Ix,Rx,fh=!1,Hl=[],Br=null,zr=null,Vr=null,Ta=new Map,Pa=new Map,Pr=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function Wo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fl(e),e!==null&&Hp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xT(t,e,n,r,s){switch(e){case"focusin":return Br=Wo(Br,t,e,n,r,s),!0;case"dragenter":return zr=Wo(zr,t,e,n,r,s),!0;case"mouseover":return Vr=Wo(Vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ta.set(i,Wo(Ta.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pa.set(i,Wo(Pa.get(i)||null,t,e,n,r,s)),!0}return!1}function Ax(t){var e=Ts(t.target);if(e!==null){var n=ri(e);if(n!==null){if(e=n.tag,e===13){if(e=_x(n),e!==null){t.blockedOn=e,Rx(t.priority,function(){Px(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ah=r,n.target.dispatchEvent(r),ah=null}else return e=fl(n),e!==null&&Hp(e),t.blockedOn=n,!1;e.shift()}return!0}function Pv(t,e,n){pc(t)&&n.delete(e)}function bT(){fh=!1,Br!==null&&pc(Br)&&(Br=null),zr!==null&&pc(zr)&&(zr=null),Vr!==null&&pc(Vr)&&(Vr=null),Ta.forEach(Pv),Pa.forEach(Pv)}function Uo(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,bT)))}function Ia(t){function e(s){return Uo(s,t)}if(0<Hl.length){Uo(Hl[0],t);for(var n=1;n<Hl.length;n++){var r=Hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&Uo(Br,t),zr!==null&&Uo(zr,t),Vr!==null&&Uo(Vr,t),Ta.forEach(e),Pa.forEach(e),n=0;n<Pr.length;n++)r=Pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pr.length&&(n=Pr[0],n.blockedOn===null);)Ax(n),n.blockedOn===null&&Pr.shift()}var Ai=pr.ReactCurrentBatchConfig,Uc=!0;function CT(t,e,n,r){var s=xe,i=Ai.transition;Ai.transition=null;try{xe=1,Bp(t,e,n,r)}finally{xe=s,Ai.transition=i}}function ST(t,e,n,r){var s=xe,i=Ai.transition;Ai.transition=null;try{xe=4,Bp(t,e,n,r)}finally{xe=s,Ai.transition=i}}function Bp(t,e,n,r){if(Uc){var s=hh(t,e,n,r);if(s===null)ef(t,e,r,Hc,n),Tv(t,r);else if(xT(s,t,e,n,r))r.stopPropagation();else if(Tv(t,r),e&4&&-1<_T.indexOf(t)){for(;s!==null;){var i=fl(s);if(i!==null&&Tx(i),i=hh(t,e,n,r),i===null&&ef(t,e,r,Hc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ef(t,e,r,null,n)}}var Hc=null;function hh(t,e,n,r){if(Hc=null,t=$p(r),t=Ts(t),t!==null)if(e=ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_x(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hc=t,null}function Ox(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dT()){case Wp:return 1;case Sx:return 4;case $c:case fT:return 16;case Ex:return 536870912;default:return 16}default:return 16}}var Wr=null,zp=null,mc=null;function Dx(){if(mc)return mc;var t,e=zp,n=e.length,r,s="value"in Wr?Wr.value:Wr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mc=s.slice(t,1<r?1-r:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function Iv(){return!1}function Gt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bl:Iv,this.isPropagationStopped=Iv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=Gt(xo),dl=je({},xo,{view:0,detail:0}),ET=Gt(dl),Vd,Gd,Ho,Uu=je({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(Vd=t.screenX-Ho.screenX,Gd=t.screenY-Ho.screenY):Gd=Vd=0,Ho=t),Vd)},movementY:function(t){return"movementY"in t?t.movementY:Gd}}),Rv=Gt(Uu),NT=je({},Uu,{dataTransfer:0}),kT=Gt(NT),TT=je({},dl,{relatedTarget:0}),Yd=Gt(TT),PT=je({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),IT=Gt(PT),RT=je({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AT=Gt(RT),OT=je({},xo,{data:0}),Av=Gt(OT),DT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jT[t])?!!e[t]:!1}function Gp(){return LT}var FT=je({},dl,{key:function(t){if(t.key){var e=DT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gp,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$T=Gt(FT),WT=je({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=Gt(WT),UT=je({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gp}),HT=Gt(UT),BT=je({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zT=Gt(BT),VT=je({},Uu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GT=Gt(VT),YT=[9,13,27,32],Yp=ir&&"CompositionEvent"in window,ca=null;ir&&"documentMode"in document&&(ca=document.documentMode);var KT=ir&&"TextEvent"in window&&!ca,Mx=ir&&(!Yp||ca&&8<ca&&11>=ca),Dv=" ",Mv=!1;function jx(t,e){switch(t){case"keyup":return YT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function qT(t,e){switch(t){case"compositionend":return Lx(e);case"keypress":return e.which!==32?null:(Mv=!0,Dv);case"textInput":return t=e.data,t===Dv&&Mv?null:t;default:return null}}function QT(t,e){if(vi)return t==="compositionend"||!Yp&&jx(t,e)?(t=Dx(),mc=zp=Wr=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mx&&e.locale!=="ko"?null:e.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XT[t.type]:e==="textarea"}function Fx(t,e,n,r){mx(r),e=Bc(e,"onChange"),0<e.length&&(n=new Vp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ua=null,Ra=null;function JT(t){qx(t,0)}function Hu(t){var e=_i(t);if(lx(e))return t}function ZT(t,e){if(t==="change")return e}var $x=!1;if(ir){var Kd;if(ir){var qd="oninput"in document;if(!qd){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),qd=typeof Lv.oninput=="function"}Kd=qd}else Kd=!1;$x=Kd&&(!document.documentMode||9<document.documentMode)}function Fv(){ua&&(ua.detachEvent("onpropertychange",Wx),Ra=ua=null)}function Wx(t){if(t.propertyName==="value"&&Hu(Ra)){var e=[];Fx(e,Ra,t,$p(t)),wx(JT,e)}}function eP(t,e,n){t==="focusin"?(Fv(),ua=e,Ra=n,ua.attachEvent("onpropertychange",Wx)):t==="focusout"&&Fv()}function tP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Ra)}function nP(t,e){if(t==="click")return Hu(e)}function rP(t,e){if(t==="input"||t==="change")return Hu(e)}function sP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:sP;function Aa(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qf.call(e,s)||!_n(t[s],e[s]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wv(t,e){var n=$v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$v(n)}}function Ux(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ux(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hx(){for(var t=window,e=jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jc(t.document)}return e}function Kp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iP(t){var e=Hx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ux(n.ownerDocument.documentElement,n)){if(r!==null&&Kp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wv(n,i);var o=Wv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oP=ir&&"documentMode"in document&&11>=document.documentMode,yi=null,ph=null,da=null,mh=!1;function Uv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mh||yi==null||yi!==jc(r)||(r=yi,"selectionStart"in r&&Kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Aa(da,r)||(da=r,r=Bc(ph,"onSelect"),0<r.length&&(e=new Vp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yi)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Qd={},Bx={};ir&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Bu(t){if(Qd[t])return Qd[t];if(!wi[t])return t;var e=wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bx)return Qd[t]=e[n];return t}var zx=Bu("animationend"),Vx=Bu("animationiteration"),Gx=Bu("animationstart"),Yx=Bu("transitionend"),Kx=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){Kx.set(t,e),ni(e,[t])}for(var Xd=0;Xd<Hv.length;Xd++){var Jd=Hv[Xd],aP=Jd.toLowerCase(),lP=Jd[0].toUpperCase()+Jd.slice(1);us(aP,"on"+lP)}us(zx,"onAnimationEnd");us(Vx,"onAnimationIteration");us(Gx,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Yx,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Bv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aT(r,e,void 0,t),t.currentTarget=null}function qx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Bv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Bv(s,a,c),i=l}}}if(Fc)throw t=uh,Fc=!1,uh=null,t}function Re(t,e){var n=e[_h];n===void 0&&(n=e[_h]=new Set);var r=t+"__bubble";n.has(r)||(Qx(e,t,2,!1),n.add(r))}function Zd(t,e,n){var r=0;e&&(r|=4),Qx(n,t,r,e)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[Vl]){t[Vl]=!0,rx.forEach(function(n){n!=="selectionchange"&&(cP.has(n)||Zd(n,!1,t),Zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vl]||(e[Vl]=!0,Zd("selectionchange",!1,e))}}function Qx(t,e,n,r){switch(Ox(e)){case 1:var s=CT;break;case 4:s=ST;break;default:s=Bp}n=s.bind(null,e,n,t),s=void 0,!ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ef(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}wx(function(){var c=i,d=$p(n),f=[];e:{var h=Kx.get(t);if(h!==void 0){var v=Vp,_=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":v=$T;break;case"focusin":_="focus",v=Yd;break;case"focusout":_="blur",v=Yd;break;case"beforeblur":case"afterblur":v=Yd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=kT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=HT;break;case zx:case Vx:case Gx:v=IT;break;case Yx:v=zT;break;case"scroll":v=ET;break;case"wheel":v=GT;break;case"copy":case"cut":case"paste":v=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ov}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var p=c,w;p!==null;){w=p;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=ka(p,y),b!=null&&g.push(Da(p,b,w)))),x)break;p=p.return}0<g.length&&(h=new v(h,_,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==ah&&(_=n.relatedTarget||n.fromElement)&&(Ts(_)||_[or]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=c,_=_?Ts(_):null,_!==null&&(x=ri(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(g=Rv,b="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(g=Ov,b="onPointerLeave",y="onPointerEnter",p="pointer"),x=v==null?h:_i(v),w=_==null?h:_i(_),h=new g(b,p+"leave",v,n,d),h.target=x,h.relatedTarget=w,b=null,Ts(d)===c&&(g=new g(y,p+"enter",_,n,d),g.target=w,g.relatedTarget=x,b=g),x=b,v&&_)t:{for(g=v,y=_,p=0,w=g;w;w=ci(w))p++;for(w=0,b=y;b;b=ci(b))w++;for(;0<p-w;)g=ci(g),p--;for(;0<w-p;)y=ci(y),w--;for(;p--;){if(g===y||y!==null&&g===y.alternate)break t;g=ci(g),y=ci(y)}g=null}else g=null;v!==null&&zv(f,h,v,g,!1),_!==null&&x!==null&&zv(f,x,_,g,!0)}}e:{if(h=c?_i(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var C=ZT;else if(jv(h))if($x)C=rP;else{C=tP;var k=eP}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=nP);if(C&&(C=C(t,c))){Fx(f,C,n,d);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&nh(h,"number",h.value)}switch(k=c?_i(c):window,t){case"focusin":(jv(k)||k.contentEditable==="true")&&(yi=k,ph=c,da=null);break;case"focusout":da=ph=yi=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Uv(f,n,d);break;case"selectionchange":if(oP)break;case"keydown":case"keyup":Uv(f,n,d)}var T;if(Yp)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else vi?jx(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Mx&&n.locale!=="ko"&&(vi||P!=="onCompositionStart"?P==="onCompositionEnd"&&vi&&(T=Dx()):(Wr=d,zp="value"in Wr?Wr.value:Wr.textContent,vi=!0)),k=Bc(c,P),0<k.length&&(P=new Av(P,t,null,n,d),f.push({event:P,listeners:k}),T?P.data=T:(T=Lx(n),T!==null&&(P.data=T)))),(T=KT?qT(t,n):QT(t,n))&&(c=Bc(c,"onBeforeInput"),0<c.length&&(d=new Av("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}qx(f,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ka(t,n),i!=null&&r.unshift(Da(t,i,s)),i=ka(t,e),i!=null&&r.push(Da(t,i,s))),t=t.return}return r}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ka(n,i),l!=null&&o.unshift(Da(n,l,a))):s||(l=ka(n,i),l!=null&&o.push(Da(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(uP,`
`).replace(dP,"")}function Gl(t,e,n){if(e=Vv(e),Vv(t)!==e&&n)throw Error(j(425))}function zc(){}var gh=null,vh=null;function yh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(pP)}:wh;function pP(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ia(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),An="__reactFiber$"+bo,Ma="__reactProps$"+bo,or="__reactContainer$"+bo,_h="__reactEvents$"+bo,mP="__reactListeners$"+bo,gP="__reactHandles$"+bo;function Ts(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[or]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[An])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function fl(t){return t=t[An]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function zu(t){return t[Ma]||null}var xh=[],xi=-1;function ds(t){return{current:t}}function Ae(t){0>xi||(t.current=xh[xi],xh[xi]=null,xi--)}function Te(t,e){xi++,xh[xi]=t.current,t.current=e}var rs={},ht=ds(rs),Rt=ds(!1),$s=rs;function eo(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function At(t){return t=t.childContextTypes,t!=null}function Vc(){Ae(Rt),Ae(ht)}function Kv(t,e,n){if(ht.current!==rs)throw Error(j(168));Te(ht,e),Te(Rt,n)}function Xx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,eT(t)||"Unknown",s));return je({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,$s=ht.current,Te(ht,t),Te(Rt,Rt.current),!0}function qv(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Xx(t,e,$s),r.__reactInternalMemoizedMergedChildContext=t,Ae(Rt),Ae(ht),Te(ht,t)):Ae(Rt),Te(Rt,n)}var Qn=null,Vu=!1,nf=!1;function Jx(t){Qn===null?Qn=[t]:Qn.push(t)}function vP(t){Vu=!0,Jx(t)}function fs(){if(!nf&&Qn!==null){nf=!0;var t=0,e=xe;try{var n=Qn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,Vu=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(t+1)),Cx(Wp,fs),s}finally{xe=e,nf=!1}}return null}var bi=[],Ci=0,Yc=null,Kc=0,qt=[],Qt=0,Ws=null,Xn=1,Jn="";function Cs(t,e){bi[Ci++]=Kc,bi[Ci++]=Yc,Yc=t,Kc=e}function Zx(t,e,n){qt[Qt++]=Xn,qt[Qt++]=Jn,qt[Qt++]=Ws,Ws=t;var r=Xn;t=Jn;var s=32-vn(r)-1;r&=~(1<<s),n+=1;var i=32-vn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xn=1<<32-vn(e)+s|n<<s|r,Jn=i+t}else Xn=1<<i|n<<s|r,Jn=t}function qp(t){t.return!==null&&(Cs(t,1),Zx(t,1,0))}function Qp(t){for(;t===Yc;)Yc=bi[--Ci],bi[Ci]=null,Kc=bi[--Ci],bi[Ci]=null;for(;t===Ws;)Ws=qt[--Qt],qt[Qt]=null,Jn=qt[--Qt],qt[Qt]=null,Xn=qt[--Qt],qt[Qt]=null}var Wt=null,$t=null,Oe=!1,fn=null;function e0(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,$t=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,$t=null,!0):!1;default:return!1}}function bh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ch(t){if(Oe){var e=$t;if(e){var n=e;if(!Qv(t,e)){if(bh(t))throw Error(j(418));e=Gr(n.nextSibling);var r=Wt;e&&Qv(t,e)?e0(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Wt=t)}}else{if(bh(t))throw Error(j(418));t.flags=t.flags&-4097|2,Oe=!1,Wt=t}}}function Xv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Yl(t){if(t!==Wt)return!1;if(!Oe)return Xv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yh(t.type,t.memoizedProps)),e&&(e=$t)){if(bh(t))throw t0(),Error(j(418));for(;e;)e0(t,e),e=Gr(e.nextSibling)}if(Xv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Wt?Gr(t.stateNode.nextSibling):null;return!0}function t0(){for(var t=$t;t;)t=Gr(t.nextSibling)}function to(){$t=Wt=null,Oe=!1}function Xp(t){fn===null?fn=[t]:fn.push(t)}var yP=pr.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Kl(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jv(t){var e=t._init;return e(t._payload)}function n0(t){function e(y,p){if(t){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Qr(y,p),y.index=0,y.sibling=null,y}function i(y,p,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=2,p):w):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,w,b){return p===null||p.tag!==6?(p=uf(w,y.mode,b),p.return=y,p):(p=s(p,w),p.return=y,p)}function l(y,p,w,b){var C=w.type;return C===gi?d(y,p,w.props.children,b,w.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kr&&Jv(C)===p.type)?(b=s(p,w.props),b.ref=Bo(y,p,w),b.return=y,b):(b=Cc(w.type,w.key,w.props,null,y.mode,b),b.ref=Bo(y,p,w),b.return=y,b)}function c(y,p,w,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=df(w,y.mode,b),p.return=y,p):(p=s(p,w.children||[]),p.return=y,p)}function d(y,p,w,b,C){return p===null||p.tag!==7?(p=Ls(w,y.mode,b,C),p.return=y,p):(p=s(p,w),p.return=y,p)}function f(y,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=uf(""+p,y.mode,w),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ll:return w=Cc(p.type,p.key,p.props,null,y.mode,w),w.ref=Bo(y,null,p),w.return=y,w;case mi:return p=df(p,y.mode,w),p.return=y,p;case kr:var b=p._init;return f(y,b(p._payload),w)}if(ta(p)||Fo(p))return p=Ls(p,y.mode,w,null),p.return=y,p;Kl(y,p)}return null}function h(y,p,w,b){var C=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(y,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ll:return w.key===C?l(y,p,w,b):null;case mi:return w.key===C?c(y,p,w,b):null;case kr:return C=w._init,h(y,p,C(w._payload),b)}if(ta(w)||Fo(w))return C!==null?null:d(y,p,w,b,null);Kl(y,w)}return null}function v(y,p,w,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,a(p,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ll:return y=y.get(b.key===null?w:b.key)||null,l(p,y,b,C);case mi:return y=y.get(b.key===null?w:b.key)||null,c(p,y,b,C);case kr:var k=b._init;return v(y,p,w,k(b._payload),C)}if(ta(b)||Fo(b))return y=y.get(w)||null,d(p,y,b,C,null);Kl(p,b)}return null}function _(y,p,w,b){for(var C=null,k=null,T=p,P=p=0,E=null;T!==null&&P<w.length;P++){T.index>P?(E=T,T=null):E=T.sibling;var N=h(y,T,w[P],b);if(N===null){T===null&&(T=E);break}t&&T&&N.alternate===null&&e(y,T),p=i(N,p,P),k===null?C=N:k.sibling=N,k=N,T=E}if(P===w.length)return n(y,T),Oe&&Cs(y,P),C;if(T===null){for(;P<w.length;P++)T=f(y,w[P],b),T!==null&&(p=i(T,p,P),k===null?C=T:k.sibling=T,k=T);return Oe&&Cs(y,P),C}for(T=r(y,T);P<w.length;P++)E=v(T,y,P,w[P],b),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?P:E.key),p=i(E,p,P),k===null?C=E:k.sibling=E,k=E);return t&&T.forEach(function(I){return e(y,I)}),Oe&&Cs(y,P),C}function g(y,p,w,b){var C=Fo(w);if(typeof C!="function")throw Error(j(150));if(w=C.call(w),w==null)throw Error(j(151));for(var k=C=null,T=p,P=p=0,E=null,N=w.next();T!==null&&!N.done;P++,N=w.next()){T.index>P?(E=T,T=null):E=T.sibling;var I=h(y,T,N.value,b);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(y,T),p=i(I,p,P),k===null?C=I:k.sibling=I,k=I,T=E}if(N.done)return n(y,T),Oe&&Cs(y,P),C;if(T===null){for(;!N.done;P++,N=w.next())N=f(y,N.value,b),N!==null&&(p=i(N,p,P),k===null?C=N:k.sibling=N,k=N);return Oe&&Cs(y,P),C}for(T=r(y,T);!N.done;P++,N=w.next())N=v(T,y,P,N.value,b),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?P:N.key),p=i(N,p,P),k===null?C=N:k.sibling=N,k=N);return t&&T.forEach(function(R){return e(y,R)}),Oe&&Cs(y,P),C}function x(y,p,w,b){if(typeof w=="object"&&w!==null&&w.type===gi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ll:e:{for(var C=w.key,k=p;k!==null;){if(k.key===C){if(C=w.type,C===gi){if(k.tag===7){n(y,k.sibling),p=s(k,w.props.children),p.return=y,y=p;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kr&&Jv(C)===k.type){n(y,k.sibling),p=s(k,w.props),p.ref=Bo(y,k,w),p.return=y,y=p;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===gi?(p=Ls(w.props.children,y.mode,b,w.key),p.return=y,y=p):(b=Cc(w.type,w.key,w.props,null,y.mode,b),b.ref=Bo(y,p,w),b.return=y,y=b)}return o(y);case mi:e:{for(k=w.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(y,p.sibling),p=s(p,w.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=df(w,y.mode,b),p.return=y,y=p}return o(y);case kr:return k=w._init,x(y,p,k(w._payload),b)}if(ta(w))return _(y,p,w,b);if(Fo(w))return g(y,p,w,b);Kl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,w),p.return=y,y=p):(n(y,p),p=uf(w,y.mode,b),p.return=y,y=p),o(y)):n(y,p)}return x}var no=n0(!0),r0=n0(!1),qc=ds(null),Qc=null,Si=null,Jp=null;function Zp(){Jp=Si=Qc=null}function em(t){var e=qc.current;Ae(qc),t._currentValue=e}function Sh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oi(t,e){Qc=t,Jp=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Jp!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(Qc===null)throw Error(j(308));Si=t,Qc.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var Ps=null;function tm(t){Ps===null?Ps=[t]:Ps.push(t)}function s0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tm(e)):(n.next=s.next,s.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tr=!1;function nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ar(t,n)}return s=r.interleaved,s===null?(e.next=e,tm(r)):(e.next=s.next,s.next=e),r.interleaved=e,ar(t,n)}function vc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Up(t,n)}}function Zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xc(t,e,n,r){var s=t.updateQueue;Tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(h=e,v=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(v,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,h=typeof _=="function"?_.call(v,f,h):_,h==null)break e;f=je({},f,h);break e;case 2:Tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hs|=o,t.lanes=o,t.memoizedState=f}}function ey(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var hl={},jn=ds(hl),ja=ds(hl),La=ds(hl);function Is(t){if(t===hl)throw Error(j(174));return t}function rm(t,e){switch(Te(La,e),Te(ja,t),Te(jn,hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sh(e,t)}Ae(jn),Te(jn,e)}function ro(){Ae(jn),Ae(ja),Ae(La)}function o0(t){Is(La.current);var e=Is(jn.current),n=sh(e,t.type);e!==n&&(Te(ja,t),Te(jn,n))}function sm(t){ja.current===t&&(Ae(jn),Ae(ja))}var De=ds(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rf=[];function im(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var yc=pr.ReactCurrentDispatcher,sf=pr.ReactCurrentBatchConfig,Us=0,Me=null,Ye=null,Je=null,Zc=!1,fa=!1,Fa=0,wP=0;function ct(){throw Error(j(321))}function om(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function am(t,e,n,r,s,i){if(Us=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yc.current=t===null||t.memoizedState===null?CP:SP,t=n(r,s),fa){i=0;do{if(fa=!1,Fa=0,25<=i)throw Error(j(301));i+=1,Je=Ye=null,e.updateQueue=null,yc.current=EP,t=n(r,s)}while(fa)}if(yc.current=eu,e=Ye!==null&&Ye.next!==null,Us=0,Je=Ye=Me=null,Zc=!1,e)throw Error(j(300));return t}function lm(){var t=Fa!==0;return Fa=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Me.memoizedState=Je=t:Je=Je.next=t,Je}function rn(){if(Ye===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=Je===null?Me.memoizedState:Je.next;if(e!==null)Je=e,Ye=t;else{if(t===null)throw Error(j(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?Me.memoizedState=Je=t:Je=Je.next=t}return Je}function $a(t,e){return typeof e=="function"?e(t):e}function of(t){var e=rn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Us&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Me.lanes|=d,Hs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,_n(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,Hs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function af(t){var e=rn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_n(i,e.memoizedState)||(Tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function a0(){}function l0(t,e){var n=Me,r=rn(),s=e(),i=!_n(r.memoizedState,s);if(i&&(r.memoizedState=s,Tt=!0),r=r.queue,cm(d0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Wa(9,u0.bind(null,n,r,s,e),void 0,null),et===null)throw Error(j(349));Us&30||c0(n,e,s)}return s}function c0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function u0(t,e,n,r){e.value=n,e.getSnapshot=r,f0(e)&&h0(t)}function d0(t,e,n){return n(function(){f0(e)&&h0(t)})}function f0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function h0(t){var e=ar(t,1);e!==null&&yn(e,t,1,-1)}function ty(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=bP.bind(null,Me,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p0(){return rn().memoizedState}function wc(t,e,n,r){var s=Tn();Me.flags|=t,s.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function Gu(t,e,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if(Ye!==null){var o=Ye.memoizedState;if(i=o.destroy,r!==null&&om(r,o.deps)){s.memoizedState=Wa(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Wa(1|e,n,i,r)}function ny(t,e){return wc(8390656,8,t,e)}function cm(t,e){return Gu(2048,8,t,e)}function m0(t,e){return Gu(4,2,t,e)}function g0(t,e){return Gu(4,4,t,e)}function v0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y0(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4,4,v0.bind(null,e,t),n)}function um(){}function w0(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&om(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _0(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&om(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function x0(t,e,n){return Us&21?(_n(n,e)||(n=Nx(),Me.lanes|=n,Hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function _P(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=sf.transition;sf.transition={};try{t(!1),e()}finally{xe=n,sf.transition=r}}function b0(){return rn().memoizedState}function xP(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C0(t))S0(e,n);else if(n=s0(t,e,n,r),n!==null){var s=xt();yn(n,t,r,s),E0(n,e,r)}}function bP(t,e,n){var r=qr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C0(t))S0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_n(a,o)){var l=e.interleaved;l===null?(s.next=s,tm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=s0(t,e,s,r),n!==null&&(s=xt(),yn(n,t,r,s),E0(n,e,r))}}function C0(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function S0(t,e){fa=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Up(t,n)}}var eu={readContext:nn,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},CP={readContext:nn,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:ny,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wc(4194308,4,v0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return wc(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xP.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:ty,useDebugValue:um,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=ty(!1),e=t[0];return t=_P.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=Tn();if(Oe){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),et===null)throw Error(j(349));Us&30||c0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ny(d0.bind(null,r,i,t),[t]),r.flags|=2048,Wa(9,u0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Tn(),e=et.identifierPrefix;if(Oe){var n=Jn,r=Xn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SP={readContext:nn,useCallback:w0,useContext:nn,useEffect:cm,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:_0,useReducer:of,useRef:p0,useState:function(){return of($a)},useDebugValue:um,useDeferredValue:function(t){var e=rn();return x0(e,Ye.memoizedState,t)},useTransition:function(){var t=of($a)[0],e=rn().memoizedState;return[t,e]},useMutableSource:a0,useSyncExternalStore:l0,useId:b0,unstable_isNewReconciler:!1},EP={readContext:nn,useCallback:w0,useContext:nn,useEffect:cm,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:_0,useReducer:af,useRef:p0,useState:function(){return af($a)},useDebugValue:um,useDeferredValue:function(t){var e=rn();return Ye===null?e.memoizedState=t:x0(e,Ye.memoizedState,t)},useTransition:function(){var t=af($a)[0],e=rn().memoizedState;return[t,e]},useMutableSource:a0,useSyncExternalStore:l0,useId:b0,unstable_isNewReconciler:!1};function ln(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Eh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yu={isMounted:function(t){return(t=t._reactInternals)?ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=qr(t),i=nr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Yr(t,i,s),e!==null&&(yn(e,t,s,r),vc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=qr(t),i=nr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yr(t,i,s),e!==null&&(yn(e,t,s,r),vc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=qr(t),s=nr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yr(t,s,r),e!==null&&(yn(e,t,r,n),vc(e,t,r))}};function ry(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Aa(n,r)||!Aa(s,i):!0}function N0(t,e,n){var r=!1,s=rs,i=e.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=At(e)?$s:ht.current,r=e.contextTypes,i=(r=r!=null)?eo(t,s):rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function sy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yu.enqueueReplaceState(e,e.state,null)}function Nh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},nm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=At(e)?$s:ht.current,s.context=eo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Eh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yu.enqueueReplaceState(s,s.state,null),Xc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=Zk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NP=typeof WeakMap=="function"?WeakMap:Map;function k0(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nu||(nu=!0,Lh=r),kh(t,e)},n}function T0(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){kh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){kh(t,e),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WP.bind(null,t,e,n),e.then(t,t))}function oy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ay(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var kP=pr.ReactCurrentOwner,Tt=!1;function vt(t,e,n,r){e.child=t===null?r0(e,null,n,r):no(e,t.child,n,r)}function ly(t,e,n,r,s){n=n.render;var i=e.ref;return Oi(e,s),r=am(t,e,n,r,i,s),n=lm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lr(t,e,s)):(Oe&&n&&qp(e),e.flags|=1,vt(t,e,r,s),e.child)}function cy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ym(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,P0(t,e,i,r,s)):(t=Cc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Aa,n(o,r)&&t.ref===e.ref)return lr(t,e,s)}return e.flags|=1,t=Qr(i,r),t.ref=e.ref,t.return=e,e.child=t}function P0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Aa(i,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,lr(t,e,s)}return Th(t,e,n,r,s)}function I0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ni,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Ni,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(Ni,jt),jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(Ni,jt),jt|=r;return vt(t,e,s,n),e.child}function R0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Th(t,e,n,r,s){var i=At(n)?$s:ht.current;return i=eo(e,i),Oi(e,s),n=am(t,e,n,r,i,s),r=lm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lr(t,e,s)):(Oe&&r&&qp(e),e.flags|=1,vt(t,e,n,s),e.child)}function uy(t,e,n,r,s){if(At(n)){var i=!0;Gc(e)}else i=!1;if(Oi(e,s),e.stateNode===null)_c(t,e),N0(e,n,r),Nh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=At(n)?$s:ht.current,c=eo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sy(e,o,r,c),Tr=!1;var h=e.memoizedState;o.state=h,Xc(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Rt.current||Tr?(typeof d=="function"&&(Eh(e,n,d,r),l=e.memoizedState),(a=Tr||ry(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,i0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ln(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=At(n)?$s:ht.current,l=eo(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&sy(e,o,r,l),Tr=!1,h=e.memoizedState,o.state=h,Xc(e,r,o,s);var _=e.memoizedState;a!==f||h!==_||Rt.current||Tr?(typeof v=="function"&&(Eh(e,n,v,r),_=e.memoizedState),(c=Tr||ry(e,n,c,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ph(t,e,n,r,i,s)}function Ph(t,e,n,r,s,i){R0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&qv(e,n,!1),lr(t,e,i);r=e.stateNode,kP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=no(e,t.child,null,i),e.child=no(e,null,a,i)):vt(t,e,a,i),e.memoizedState=r.state,s&&qv(e,n,!0),e.child}function A0(t){var e=t.stateNode;e.pendingContext?Kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kv(t,e.context,!1),rm(t,e.containerInfo)}function dy(t,e,n,r,s){return to(),Xp(s),e.flags|=256,vt(t,e,n,r),e.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function O0(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(De,s&1),t===null)return Ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qu(o,r,0,null),t=Ls(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rh(n),e.memoizedState=Ih,t):dm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return TP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Qr(a,i):(i=Ls(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ih,r}return i=t.child,t=i.sibling,r=Qr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dm(t,e){return e=Qu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ql(t,e,n,r){return r!==null&&Xp(r),no(e,t.child,null,n),t=dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lf(Error(j(422))),ql(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Qu({mode:"visible",children:r.children},s,0,null),i=Ls(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&no(e,t.child,null,o),e.child.memoizedState=Rh(o),e.memoizedState=Ih,i);if(!(e.mode&1))return ql(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=lf(i,r,void 0),ql(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tt||a){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ar(t,s),yn(r,t,s,-1))}return vm(),r=lf(Error(j(421))),ql(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=UP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$t=Gr(s.nextSibling),Wt=e,Oe=!0,fn=null,t!==null&&(qt[Qt++]=Xn,qt[Qt++]=Jn,qt[Qt++]=Ws,Xn=t.id,Jn=t.overflow,Ws=e),e=dm(e,r.children),e.flags|=4096,e)}function fy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sh(t.return,e,n)}function cf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function D0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(vt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,n,e);else if(t.tag===19)fy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cf(e,!0,n,null,i);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PP(t,e,n){switch(e.tag){case 3:A0(e),to();break;case 5:o0(e);break;case 1:At(e.type)&&Gc(e);break;case 4:rm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(qc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?O0(t,e,n):(Te(De,De.current&1),t=lr(t,e,n),t!==null?t.sibling:null);Te(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,I0(t,e,n)}return lr(t,e,n)}var M0,Ah,j0,L0;M0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ah=function(){};j0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Is(jn.current);var i=null;switch(n){case"input":s=eh(t,s),r=eh(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=rh(t,s),r=rh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zc)}ih(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ea.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};L0=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IP(t,e,n){var r=e.pendingProps;switch(Qp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return At(e.type)&&Vc(),ut(e),null;case 3:return r=e.stateNode,ro(),Ae(Rt),Ae(ht),im(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Wh(fn),fn=null))),Ah(t,e),ut(e),null;case 5:sm(e);var s=Is(La.current);if(n=e.type,t!==null&&e.stateNode!=null)j0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return ut(e),null}if(t=Is(jn.current),Yl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[An]=e,r[Ma]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<ra.length;s++)Re(ra[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":xv(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Cv(r,i),Re("invalid",r)}ih(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),s=["children",""+a]):Ea.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Fl(r),bv(r,i,!0);break;case"textarea":Fl(r),Sv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[An]=e,t[Ma]=r,M0(t,e,!1,!1),e.stateNode=t;e:{switch(o=oh(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<ra.length;s++)Re(ra[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":xv(t,r),s=eh(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Cv(t,r),s=rh(t,r),Re("invalid",t);break;default:s=r}ih(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?px(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Na(t,l):typeof l=="number"&&Na(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ea.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",t):l!=null&&Mp(t,i,l,o))}switch(n){case"input":Fl(t),bv(t,r,!1);break;case"textarea":Fl(t),Sv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)L0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Is(La.current),Is(jn.current),Yl(e)){if(r=e.stateNode,n=e.memoizedProps,r[An]=e,(i=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r}return ut(e),null;case 13:if(Ae(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&$t!==null&&e.mode&1&&!(e.flags&128))t0(),to(),e.flags|=98560,i=!1;else if(i=Yl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[An]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),i=!1}else fn!==null&&(Wh(fn),fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Qe===0&&(Qe=3):vm())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return ro(),Ah(t,e),t===null&&Oa(e.stateNode.containerInfo),ut(e),null;case 10:return em(e.type._context),ut(e),null;case 17:return At(e.type)&&Vc(),ut(e),null;case 19:if(Ae(De),i=e.memoizedState,i===null)return ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zo(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,zo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ve()>io&&(e.flags|=128,r=!0,zo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return ut(e),null}else 2*Ve()-i.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,zo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ve(),e.sibling=null,n=De.current,Te(De,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return gm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function RP(t,e){switch(Qp(e),e.tag){case 1:return At(e.type)&&Vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),Ae(Rt),Ae(ht),im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sm(e),null;case 13:if(Ae(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(De),null;case 4:return ro(),null;case 10:return em(e.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var Ql=!1,ft=!1,AP=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Oh(t,e,n){try{n()}catch(r){We(t,e,r)}}var hy=!1;function OP(t,e){if(gh=Uc,t=Hx(),Kp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:t,selectionRange:n},Uc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,x=_.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ln(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(b){We(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return _=hy,hy=!1,_}function ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oh(e,n,i)}s=s.next}while(s!==r)}}function Ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function F0(t){var e=t.alternate;e!==null&&(t.alternate=null,F0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[Ma],delete e[_h],delete e[mP],delete e[gP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $0(t){return t.tag===5||t.tag===3||t.tag===4}function py(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zc));else if(r!==4&&(t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}function jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jh(t,e,n),t=t.sibling;t!==null;)jh(t,e,n),t=t.sibling}var tt=null,dn=!1;function wr(t,e,n){for(n=n.child;n!==null;)W0(t,e,n),n=n.sibling}function W0(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 5:ft||Ei(n,e);case 6:var r=tt,s=dn;tt=null,wr(t,e,n),tt=r,dn=s,tt!==null&&(dn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(dn?(t=tt,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),Ia(t)):tf(tt,n.stateNode));break;case 4:r=tt,s=dn,tt=n.stateNode.containerInfo,dn=!0,wr(t,e,n),tt=r,dn=s;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oh(n,e,o),s=s.next}while(s!==r)}wr(t,e,n);break;case 1:if(!ft&&(Ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,wr(t,e,n),ft=r):wr(t,e,n);break;default:wr(t,e,n)}}function my(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AP),e.forEach(function(r){var s=HP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function on(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,dn=!1;break e;case 3:tt=a.stateNode.containerInfo,dn=!0;break e;case 4:tt=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(tt===null)throw Error(j(160));W0(i,o,s),tt=null,dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){We(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U0(e,t),e=e.sibling}function U0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(e,t),kn(t),r&4){try{ha(3,t,t.return),Ku(3,t)}catch(g){We(t,t.return,g)}try{ha(5,t,t.return)}catch(g){We(t,t.return,g)}}break;case 1:on(e,t),kn(t),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(on(e,t),kn(t),r&512&&n!==null&&Ei(n,n.return),t.flags&32){var s=t.stateNode;try{Na(s,"")}catch(g){We(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cx(s,i),oh(a,o);var c=oh(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?px(s,f):d==="dangerouslySetInnerHTML"?fx(s,f):d==="children"?Na(s,f):Mp(s,d,f,c)}switch(a){case"input":th(s,i);break;case"textarea":ux(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Pi(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Pi(s,!!i.multiple,i.defaultValue,!0):Pi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ma]=i}catch(g){We(t,t.return,g)}}break;case 6:if(on(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){We(t,t.return,g)}}break;case 3:if(on(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(e.containerInfo)}catch(g){We(t,t.return,g)}break;case 4:on(e,t),kn(t);break;case 13:on(e,t),kn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pm=Ve())),r&4&&my(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||d,on(e,t),ft=c):on(e,t),kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,v=h.child,h.tag){case 0:case 11:case 14:case 15:ha(4,h,h.return);break;case 1:Ei(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){We(r,n,g)}}break;case 5:Ei(h,h.return);break;case 22:if(h.memoizedState!==null){vy(f);continue}}v!==null?(v.return=h,H=v):vy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hx("display",o))}catch(g){We(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){We(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:on(e,t),kn(t),r&4&&my(t);break;case 21:break;default:on(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($0(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Na(s,""),r.flags&=-33);var i=py(t);jh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=py(t);Mh(t,a,o);break;default:throw Error(j(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DP(t,e,n){H=t,H0(t)}function H0(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ql;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ft;a=Ql;var c=ft;if(Ql=o,(ft=l)&&!c)for(H=s;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?yy(s):l!==null?(l.return=o,H=l):yy(s);for(;i!==null;)H=i,H0(i),i=i.sibling;H=s,Ql=a,ft=c}gy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):gy(t)}}function gy(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||Ku(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ln(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ey(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ey(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ia(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ft||e.flags&512&&Dh(e)}catch(h){We(e,e.return,h)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function vy(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function yy(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ku(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){We(e,s,l)}}var i=e.return;try{Dh(e)}catch(l){We(e,i,l)}break;case 5:var o=e.return;try{Dh(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var MP=Math.ceil,tu=pr.ReactCurrentDispatcher,fm=pr.ReactCurrentOwner,tn=pr.ReactCurrentBatchConfig,de=0,et=null,Ge=null,rt=0,jt=0,Ni=ds(0),Qe=0,Ua=null,Hs=0,qu=0,hm=0,pa=null,kt=null,pm=0,io=1/0,qn=null,nu=!1,Lh=null,Kr=null,Xl=!1,Ur=null,ru=0,ma=0,Fh=null,xc=-1,bc=0;function xt(){return de&6?Ve():xc!==-1?xc:xc=Ve()}function qr(t){return t.mode&1?de&2&&rt!==0?rt&-rt:yP.transition!==null?(bc===0&&(bc=Nx()),bc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Ox(t.type)),t):1}function yn(t,e,n,r){if(50<ma)throw ma=0,Fh=null,Error(j(185));ul(t,n,r),(!(de&2)||t!==et)&&(t===et&&(!(de&2)&&(qu|=n),Qe===4&&Ir(t,rt)),Ot(t,r),n===1&&de===0&&!(e.mode&1)&&(io=Ve()+500,Vu&&fs()))}function Ot(t,e){var n=t.callbackNode;yT(t,e);var r=Wc(t,t===et?rt:0);if(r===0)n!==null&&kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kv(n),e===1)t.tag===0?vP(wy.bind(null,t)):Jx(wy.bind(null,t)),hP(function(){!(de&6)&&fs()}),n=null;else{switch(kx(r)){case 1:n=Wp;break;case 4:n=Sx;break;case 16:n=$c;break;case 536870912:n=Ex;break;default:n=$c}n=Q0(n,B0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B0(t,e){if(xc=-1,bc=0,de&6)throw Error(j(327));var n=t.callbackNode;if(Di()&&t.callbackNode!==n)return null;var r=Wc(t,t===et?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=su(t,r);else{e=r;var s=de;de|=2;var i=V0();(et!==t||rt!==e)&&(qn=null,io=Ve()+500,js(t,e));do try{FP();break}catch(a){z0(t,a)}while(!0);Zp(),tu.current=i,de=s,Ge!==null?e=0:(et=null,rt=0,e=Qe)}if(e!==0){if(e===2&&(s=dh(t),s!==0&&(r=s,e=$h(t,s))),e===1)throw n=Ua,js(t,0),Ir(t,r),Ot(t,Ve()),n;if(e===6)Ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!jP(s)&&(e=su(t,r),e===2&&(i=dh(t),i!==0&&(r=i,e=$h(t,i))),e===1))throw n=Ua,js(t,0),Ir(t,r),Ot(t,Ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Ss(t,kt,qn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=pm+500-Ve(),10<e)){if(Wc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wh(Ss.bind(null,t,kt,qn),e);break}Ss(t,kt,qn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-vn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MP(r/1960))-r,10<r){t.timeoutHandle=wh(Ss.bind(null,t,kt,qn),r);break}Ss(t,kt,qn);break;case 5:Ss(t,kt,qn);break;default:throw Error(j(329))}}}return Ot(t,Ve()),t.callbackNode===n?B0.bind(null,t):null}function $h(t,e){var n=pa;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=su(t,e),t!==2&&(e=kt,kt=n,e!==null&&Wh(e)),t}function Wh(t){kt===null?kt=t:kt.push.apply(kt,t)}function jP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_n(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~hm,e&=~qu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function wy(t){if(de&6)throw Error(j(327));Di();var e=Wc(t,0);if(!(e&1))return Ot(t,Ve()),null;var n=su(t,e);if(t.tag!==0&&n===2){var r=dh(t);r!==0&&(e=r,n=$h(t,r))}if(n===1)throw n=Ua,js(t,0),Ir(t,e),Ot(t,Ve()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ss(t,kt,qn),Ot(t,Ve()),null}function mm(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(io=Ve()+500,Vu&&fs())}}function Bs(t){Ur!==null&&Ur.tag===0&&!(de&6)&&Di();var e=de;de|=1;var n=tn.transition,r=xe;try{if(tn.transition=null,xe=1,t)return t()}finally{xe=r,tn.transition=n,de=e,!(de&6)&&fs()}}function gm(){jt=Ni.current,Ae(Ni)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fP(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Qp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vc();break;case 3:ro(),Ae(Rt),Ae(ht),im();break;case 5:sm(r);break;case 4:ro();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:em(r.type._context);break;case 22:case 23:gm()}n=n.return}if(et=t,Ge=t=Qr(t.current,null),rt=jt=e,Qe=0,Ua=null,hm=qu=Hs=0,kt=pa=null,Ps!==null){for(e=0;e<Ps.length;e++)if(n=Ps[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ps=null}return t}function z0(t,e){do{var n=Ge;try{if(Zp(),yc.current=eu,Zc){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zc=!1}if(Us=0,Je=Ye=Me=null,fa=!1,Fa=0,fm.current=null,n===null||n.return===null){Qe=1,Ua=e,Ge=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=oy(o);if(v!==null){v.flags&=-257,ay(v,o,a,i,e),v.mode&1&&iy(i,c,e),e=v,l=c;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){iy(i,c,e),vm();break e}l=Error(j(426))}}else if(Oe&&a.mode&1){var x=oy(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ay(x,o,a,i,e),Xp(so(l,a));break e}}i=l=so(l,a),Qe!==4&&(Qe=2),pa===null?pa=[i]:pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=k0(i,l,e);Zv(i,y);break e;case 1:a=l;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kr===null||!Kr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=T0(i,a,e);Zv(i,b);break e}}i=i.return}while(i!==null)}Y0(n)}catch(C){e=C,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function V0(){var t=tu.current;return tu.current=eu,t===null?eu:t}function vm(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(Hs&268435455)&&!(qu&268435455)||Ir(et,rt)}function su(t,e){var n=de;de|=2;var r=V0();(et!==t||rt!==e)&&(qn=null,js(t,e));do try{LP();break}catch(s){z0(t,s)}while(!0);if(Zp(),de=n,tu.current=r,Ge!==null)throw Error(j(261));return et=null,rt=0,Qe}function LP(){for(;Ge!==null;)G0(Ge)}function FP(){for(;Ge!==null&&!cT();)G0(Ge)}function G0(t){var e=q0(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?Y0(t):Ge=e,fm.current=null}function Y0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RP(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ge=null;return}}else if(n=IP(n,e,jt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Qe===0&&(Qe=5)}function Ss(t,e,n){var r=xe,s=tn.transition;try{tn.transition=null,xe=1,$P(t,e,n,r)}finally{tn.transition=s,xe=r}return null}function $P(t,e,n,r){do Di();while(Ur!==null);if(de&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wT(t,i),t===et&&(Ge=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xl||(Xl=!0,Q0($c,function(){return Di(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var o=xe;xe=1;var a=de;de|=4,fm.current=null,OP(t,n),U0(n,t),iP(vh),Uc=!!gh,vh=gh=null,t.current=n,DP(n),uT(),de=a,xe=o,tn.transition=i}else t.current=n;if(Xl&&(Xl=!1,Ur=t,ru=s),i=t.pendingLanes,i===0&&(Kr=null),hT(n.stateNode),Ot(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nu)throw nu=!1,t=Lh,Lh=null,t;return ru&1&&t.tag!==0&&Di(),i=t.pendingLanes,i&1?t===Fh?ma++:(ma=0,Fh=t):ma=0,fs(),null}function Di(){if(Ur!==null){var t=kx(ru),e=tn.transition,n=xe;try{if(tn.transition=null,xe=16>t?16:t,Ur===null)var r=!1;else{if(t=Ur,Ur=null,ru=0,de&6)throw Error(j(331));var s=de;for(de|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:ha(8,d,i)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,v=d.return;if(F0(d),d===c){H=null;break}if(h!==null){h.return=v,H=h;break}H=v}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ha(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,H=y;break e}H=i.return}}var p=t.current;for(H=p;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=p;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ku(9,a)}}catch(C){We(a,a.return,C)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(de=s,fs(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Wu,t)}catch{}r=!0}return r}finally{xe=n,tn.transition=e}}return!1}function _y(t,e,n){e=so(n,e),e=k0(t,e,1),t=Yr(t,e,1),e=xt(),t!==null&&(ul(t,1,e),Ot(t,e))}function We(t,e,n){if(t.tag===3)_y(t,t,n);else for(;e!==null;){if(e.tag===3){_y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){t=so(n,t),t=T0(e,t,1),e=Yr(e,t,1),t=xt(),e!==null&&(ul(e,1,t),Ot(e,t));break}}e=e.return}}function WP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(rt&n)===n&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>Ve()-pm?js(t,0):hm|=n),Ot(t,e)}function K0(t,e){e===0&&(t.mode&1?(e=Ul,Ul<<=1,!(Ul&130023424)&&(Ul=4194304)):e=1);var n=xt();t=ar(t,e),t!==null&&(ul(t,e,n),Ot(t,n))}function UP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K0(t,n)}function HP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),K0(t,n)}var q0;q0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,PP(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Oe&&e.flags&1048576&&Zx(e,Kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var s=eo(e,ht.current);Oi(e,n),s=am(null,e,r,t,s,n);var i=lm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(i=!0,Gc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nm(e),s.updater=Yu,e.stateNode=s,s._reactInternals=e,Nh(e,r,t,n),e=Ph(null,e,r,!0,i,n)):(e.tag=0,Oe&&i&&qp(e),vt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zP(r),t=ln(r,t),s){case 0:e=Th(null,e,r,t,n);break e;case 1:e=uy(null,e,r,t,n);break e;case 11:e=ly(null,e,r,t,n);break e;case 14:e=cy(null,e,r,ln(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),Th(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),uy(t,e,r,s,n);case 3:e:{if(A0(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,i0(t,e),Xc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=so(Error(j(423)),e),e=dy(t,e,r,n,s);break e}else if(r!==s){s=so(Error(j(424)),e),e=dy(t,e,r,n,s);break e}else for($t=Gr(e.stateNode.containerInfo.firstChild),Wt=e,Oe=!0,fn=null,n=r0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===s){e=lr(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return o0(e),t===null&&Ch(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yh(r,s)?o=null:i!==null&&yh(r,i)&&(e.flags|=32),R0(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Ch(e),null;case 13:return O0(t,e,n);case 4:return rm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),ly(t,e,r,s,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(qc,r._currentValue),r._currentValue=o,i!==null)if(_n(i.value,o)){if(i.children===s.children&&!Rt.current){e=lr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=nr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Sh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oi(e,n),s=nn(s),r=r(s),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,s=ln(r,e.pendingProps),s=ln(r.type,s),cy(t,e,r,s,n);case 15:return P0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),_c(t,e),e.tag=1,At(r)?(t=!0,Gc(e)):t=!1,Oi(e,n),N0(e,r,s),Nh(e,r,s,n),Ph(null,e,r,!0,t,n);case 19:return D0(t,e,n);case 22:return I0(t,e,n)}throw Error(j(156,e.tag))};function Q0(t,e){return Cx(t,e)}function BP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new BP(t,e,n,r)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zP(t){if(typeof t=="function")return ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lp)return 11;if(t===Fp)return 14}return 2}function Qr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ym(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gi:return Ls(n.children,s,i,e);case jp:o=8,s|=8;break;case Qf:return t=Zt(12,n,e,s|2),t.elementType=Qf,t.lanes=i,t;case Xf:return t=Zt(13,n,e,s),t.elementType=Xf,t.lanes=i,t;case Jf:return t=Zt(19,n,e,s),t.elementType=Jf,t.lanes=i,t;case ox:return Qu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sx:o=10;break e;case ix:o=9;break e;case Lp:o=11;break e;case Fp:o=14;break e;case kr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ls(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function Qu(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=ox,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wm(t,e,n,r,s,i,o,a,l){return t=new VP(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(i),t}function GP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X0(t){if(!t)return rs;t=t._reactInternals;e:{if(ri(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(At(n))return Xx(t,n,e)}return e}function J0(t,e,n,r,s,i,o,a,l){return t=wm(n,r,!0,t,s,i,o,a,l),t.context=X0(null),n=t.current,r=xt(),s=qr(n),i=nr(r,s),i.callback=e??null,Yr(n,i,s),t.current.lanes=s,ul(t,s,r),Ot(t,r),t}function Xu(t,e,n,r){var s=e.current,i=xt(),o=qr(s);return n=X0(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yr(s,e,o),t!==null&&(yn(t,s,o,i),vc(t,s,o)),o}function iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _m(t,e){xy(t,e),(t=t.alternate)&&xy(t,e)}function YP(){return null}var Z0=typeof reportError=="function"?reportError:function(t){console.error(t)};function xm(t){this._internalRoot=t}Ju.prototype.render=xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Xu(t,e,null,null)};Ju.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){Xu(null,t,null,null)}),e[or]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ix();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pr.length&&e!==0&&e<Pr[n].priority;n++);Pr.splice(n,0,t),n===0&&Ax(t)}};function bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function by(){}function KP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=iu(o);i.call(c)}}var o=J0(e,r,t,0,null,!1,!1,"",by);return t._reactRootContainer=o,t[or]=o.current,Oa(t.nodeType===8?t.parentNode:t),Bs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=iu(l);a.call(c)}}var l=wm(t,0,!1,null,null,!1,!1,"",by);return t._reactRootContainer=l,t[or]=l.current,Oa(t.nodeType===8?t.parentNode:t),Bs(function(){Xu(e,l,n,r)}),l}function ed(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=iu(o);a.call(l)}}Xu(e,o,t,s)}else o=KP(n,e,t,s,r);return iu(o)}Tx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=na(e.pendingLanes);n!==0&&(Up(e,n|1),Ot(e,Ve()),!(de&6)&&(io=Ve()+500,fs()))}break;case 13:Bs(function(){var r=ar(t,1);if(r!==null){var s=xt();yn(r,t,1,s)}}),_m(t,1)}};Hp=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=xt();yn(e,t,134217728,n)}_m(t,134217728)}};Px=function(t){if(t.tag===13){var e=qr(t),n=ar(t,e);if(n!==null){var r=xt();yn(n,t,e,r)}_m(t,e)}};Ix=function(){return xe};Rx=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};lh=function(t,e,n){switch(e){case"input":if(th(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zu(r);if(!s)throw Error(j(90));lx(r),th(r,s)}}}break;case"textarea":ux(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};vx=mm;yx=Bs;var qP={usingClientEntryPoint:!1,Events:[fl,_i,zu,mx,gx,mm]},Vo={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xx(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||YP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Wu=Jl.inject(QP),Mn=Jl}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(e))throw Error(j(200));return GP(t,e,null,n)};Vt.createRoot=function(t,e){if(!bm(t))throw Error(j(299));var n=!1,r="",s=Z0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wm(t,1,!1,null,null,n,!1,r,s),t[or]=e.current,Oa(t.nodeType===8?t.parentNode:t),new xm(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=xx(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return Bs(t)};Vt.hydrate=function(t,e,n){if(!Zu(e))throw Error(j(200));return ed(null,t,e,!0,n)};Vt.hydrateRoot=function(t,e,n){if(!bm(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Z0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J0(e,null,t,1,n??null,s,!1,i,o),t[or]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ju(e)};Vt.render=function(t,e,n){if(!Zu(e))throw Error(j(200));return ed(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(j(40));return t._reactRootContainer?(Bs(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};Vt.unstable_batchedUpdates=mm;Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zu(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ed(t,e,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426";function eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eb)}catch(t){console.error(t)}}eb(),ex.exports=Vt;var si=ex.exports;const XP=U_(si);var tb,Cy=si;tb=Cy.createRoot,Cy.hydrateRoot;function JP(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=m;function ZP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eI=typeof Object.is=="function"?Object.is:ZP,tI=oo.useState,nI=oo.useEffect,rI=oo.useLayoutEffect,sI=oo.useDebugValue;function iI(t,e){var n=e(),r=tI({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return rI(function(){s.value=n,s.getSnapshot=e,ff(s)&&i({inst:s})},[t,n,e]),nI(function(){return ff(s)&&i({inst:s}),t(function(){ff(s)&&i({inst:s})})},[t]),sI(n),n}function ff(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eI(t,n)}catch{return!0}}function oI(t,e){return e()}var aI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oI:iI;rb.useSyncExternalStore=oo.useSyncExternalStore!==void 0?oo.useSyncExternalStore:aI;nb.exports=rb;var lI=nb.exports;const cI=J_.useInsertionEffect,uI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dI=uI?m.useLayoutEffect:m.useEffect,fI=cI||dI,sb=t=>{const e=m.useRef([t,(...n)=>e[0](...n)]).current;return fI(()=>{e[0]=t}),e[1]},hI="popstate",Cm="pushState",Sm="replaceState",pI="hashchange",Sy=[hI,Cm,Sm,pI],mI=t=>{for(const e of Sy)addEventListener(e,t);return()=>{for(const e of Sy)removeEventListener(e,t)}},ib=(t,e)=>lI.useSyncExternalStore(mI,t,e),gI=()=>location.search,vI=({ssrSearch:t=""}={})=>ib(gI,()=>t),Ey=()=>location.pathname,yI=({ssrPath:t}={})=>ib(Ey,t?()=>t:Ey),wI=(t,{replace:e=!1,state:n=null}={})=>history[e?Sm:Cm](n,"",t),_I=(t={})=>[yI(t),wI],Ny=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ny]>"u"){for(const t of[Cm,Sm]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Ny,{value:!0})}const xI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ob=(t="")=>t==="/"?"":t,bI=(t,e)=>t[0]==="~"?t.slice(1):ob(e)+t,CI=(t="",e)=>xI(ky(ob(t)),ky(e)),ky=t=>{try{return decodeURI(t)}catch{return t}},ab={hook:_I,searchHook:vI,parser:JP,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},lb=m.createContext(ab),Co=()=>m.useContext(lb),cb={},ub=m.createContext(cb),SI=()=>m.useContext(ub),td=t=>{const[e,n]=t.hook(t);return[CI(t.base,e),sb((r,s)=>n(bI(r,t.base),s))]},hs=()=>td(Co()),Em=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},Nm=t=>Em(Co().parser,t,hs()[0]),EI=({children:t,...e})=>{var d,f;const n=Co(),r=e.hook?ab:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=m.useRef({}),l=a.current,c=l;for(let h in r){const v=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&v!==c[h]&&(a.current=c={...c}),c[h]=v,v!==r[h]&&(s=c)}return m.createElement(lb.Provider,{value:s,children:t})},Ty=({children:t,component:e},n)=>e?m.createElement(e,{params:n}):typeof t=="function"?t(n):t,NI=t=>{let e=m.useRef(cb),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Vn=({path:t,nest:e,match:n,...r})=>{const s=Co(),[i]=td(s),[o,a,l]=n??Em(s.parser,t,i,e),c=NI({...SI(),...a});if(!o)return null;const d=l?m.createElement(EI,{base:l},Ty(r,c)):Ty(r,c);return m.createElement(ub.Provider,{value:c,children:d})},Sc=m.forwardRef((t,e)=>{const n=Co(),[r,s]=td(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...v}=t,_=sb(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&m.isValidElement(c)?m.cloneElement(c,{onClick:_,href:g}):m.createElement("a",{...v,onClick:_,href:g,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),db=t=>Array.isArray(t)?t.flatMap(e=>db(e&&e.type===m.Fragment?e.props.children:e)):[t],kI=({children:t,location:e})=>{const n=Co(),[r]=td(n);for(const s of db(t)){let i=0;if(m.isValidElement(s)&&(i=Em(n.parser,s.props.path,e||r,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null};var nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rd=typeof window>"u"||"Deno"in globalThis;function cn(){}function TI(t,e){return typeof t=="function"?t(e):t}function PI(t){return typeof t=="number"&&t>=0&&t!==1/0}function II(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Py(t,e){return typeof t=="function"?t(e):t}function RI(t,e){return typeof t=="function"?t(e):t}function Iy(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==km(o,e.options))return!1}else if(!Ba(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ry(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ha(e.options.mutationKey)!==Ha(i))return!1}else if(!Ba(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function km(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ha)(t)}function Ha(t){return JSON.stringify(t,(e,n)=>Uh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ba(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ba(t[n],e[n])):!1}function fb(t,e){if(t===e)return t;const n=Ay(t)&&Ay(e);if(n||Uh(t)&&Uh(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=fb(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Ay(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Uh(t){if(!Oy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Oy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Oy(t){return Object.prototype.toString.call(t)==="[object Object]"}function AI(t){return new Promise(e=>{setTimeout(e,t)})}function OI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fb(t,e):e}function DI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function MI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tm=Symbol();function hb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var As,Mr,zi,O_,jI=(O_=class extends nd{constructor(){super();ye(this,As);ye(this,Mr);ye(this,zi);Z(this,zi,e=>{if(!rd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Mr)||this.setEventListener(O(this,zi))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Mr))==null||e.call(this),Z(this,Mr,void 0))}setEventListener(e){var n;Z(this,zi,e),(n=O(this,Mr))==null||n.call(this),Z(this,Mr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,As)!==e&&(Z(this,As,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,As)=="boolean"?O(this,As):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},As=new WeakMap,Mr=new WeakMap,zi=new WeakMap,O_),pb=new jI,Vi,jr,Gi,D_,LI=(D_=class extends nd{constructor(){super();ye(this,Vi,!0);ye(this,jr);ye(this,Gi);Z(this,Gi,e=>{if(!rd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,jr)||this.setEventListener(O(this,Gi))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,jr))==null||e.call(this),Z(this,jr,void 0))}setEventListener(e){var n;Z(this,Gi,e),(n=O(this,jr))==null||n.call(this),Z(this,jr,e(this.setOnline.bind(this)))}setOnline(e){O(this,Vi)!==e&&(Z(this,Vi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,Vi)}},Vi=new WeakMap,jr=new WeakMap,Gi=new WeakMap,D_),ou=new LI;function FI(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function $I(t){return Math.min(1e3*2**t,3e4)}function mb(t){return(t??"online")==="online"?ou.isOnline():!0}var gb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hf(t){return t instanceof gb}function vb(t){let e=!1,n=0,r=!1,s;const i=FI(),o=g=>{var x;r||(h(new gb(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>pb.isFocused()&&(t.networkMode==="always"||ou.isOnline())&&t.canRun(),d=()=>mb(t.networkMode)&&t.canRun(),f=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),s==null||s(),i.reject(g))},v=()=>new Promise(g=>{var x;s=y=>{(r||c())&&g(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var k;if(r)return;const p=t.retry??(rd?0:3),w=t.retryDelay??$I,b=typeof w=="function"?w(n,y):w,C=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,y);if(e||!C){h(y);return}n++,(k=t.onFail)==null||k.call(t,n,y),AI(b).then(()=>c()?void 0:v()).then(()=>{e?h(y):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():v().then(_),i)}}function WI(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var wt=WI(),Os,M_,yb=(M_=class{constructor(){ye(this,Os)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PI(this.gcTime)&&Z(this,Os,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rd?1/0:5*60*1e3))}clearGcTimeout(){O(this,Os)&&(clearTimeout(O(this,Os)),Z(this,Os,void 0))}},Os=new WeakMap,M_),Yi,Ki,Kt,dt,al,Ds,un,Kn,j_,UI=(j_=class extends yb{constructor(e){super();ye(this,un);ye(this,Yi);ye(this,Ki);ye(this,Kt);ye(this,dt);ye(this,al);ye(this,Ds);Z(this,Ds,!1),Z(this,al,e.defaultOptions),this.setOptions(e.options),this.observers=[],Z(this,Kt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Z(this,Yi,BI(this.options)),this.state=e.state??O(this,Yi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,dt))==null?void 0:e.promise}setOptions(e){this.options={...O(this,al),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Kt).remove(this)}setData(e,n){const r=OI(this.state.data,e,this.options);return lt(this,un,Kn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){lt(this,un,Kn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=O(this,dt))==null?void 0:r.promise;return(s=O(this,dt))==null||s.cancel(e),n?n.then(cn).catch(cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Yi))}isActive(){return this.observers.some(e=>RI(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!II(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,dt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,dt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,Kt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(O(this,dt)&&(O(this,Ds)?O(this,dt).cancel({revert:!0}):O(this,dt).cancelRetry()),this.scheduleGc()),O(this,Kt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lt(this,un,Kn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,dt))return O(this,dt).continueRetry(),O(this,dt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Z(this,Ds,!0),r.signal)})},i=()=>{const f=hb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),Z(this,Ds,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),Z(this,Ki,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&lt(this,un,Kn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,v,_,g;hf(f)&&f.silent||lt(this,un,Kn).call(this,{type:"error",error:f}),hf(f)||((v=(h=O(this,Kt).config).onError)==null||v.call(h,f,this),(g=(_=O(this,Kt).config).onSettled)==null||g.call(_,this.state.data,f,this)),this.scheduleGc()};return Z(this,dt,vb({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,v,_,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(v=(h=O(this,Kt).config).onSuccess)==null||v.call(h,f,this),(g=(_=O(this,Kt).config).onSettled)==null||g.call(_,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{lt(this,un,Kn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{lt(this,un,Kn).call(this,{type:"pause"})},onContinue:()=>{lt(this,un,Kn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),O(this,dt).start()}},Yi=new WeakMap,Ki=new WeakMap,Kt=new WeakMap,dt=new WeakMap,al=new WeakMap,Ds=new WeakMap,un=new WeakSet,Kn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HI(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return hf(s)&&s.revert&&O(this,Ki)?{...O(this,Ki),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),O(this,Kt).notify({query:this,type:"updated",action:e})})},j_);function HI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pn,L_,zI=(L_=class extends nd{constructor(e={}){super();ye(this,Pn);this.config=e,Z(this,Pn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??km(s,n);let o=this.get(i);return o||(o=new UI({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,Pn).has(e.queryHash)||(O(this,Pn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,Pn).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,Pn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Pn).get(e)}getAll(){return[...O(this,Pn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Iy(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Iy(e,r)):n}notify(e){wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pn=new WeakMap,L_),In,gt,Ms,Rn,Er,F_,VI=(F_=class extends yb{constructor(e){super();ye(this,Rn);ye(this,In);ye(this,gt);ye(this,Ms);this.mutationId=e.mutationId,Z(this,gt,e.mutationCache),Z(this,In,[]),this.state=e.state||GI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,In).includes(e)||(O(this,In).push(e),this.clearGcTimeout(),O(this,gt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Z(this,In,O(this,In).filter(n=>n!==e)),this.scheduleGc(),O(this,gt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,In).length||(this.state.status==="pending"?this.scheduleGc():O(this,gt).remove(this))}continue(){var e;return((e=O(this,Ms))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,f,h,v,_,g,x,y,p,w,b,C,k,T;Z(this,Ms,vb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{lt(this,Rn,Er).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{lt(this,Rn,Er).call(this,{type:"pause"})},onContinue:()=>{lt(this,Rn,Er).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,gt).canRun(this)}));const n=this.state.status==="pending",r=!O(this,Ms).canStart();try{if(!n){lt(this,Rn,Er).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=O(this,gt).config).onMutate)==null?void 0:i.call(s,e,this));const E=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));E!==this.state.context&&lt(this,Rn,Er).call(this,{type:"pending",context:E,variables:e,isPaused:r})}const P=await O(this,Ms).start();return await((c=(l=O(this,gt).config).onSuccess)==null?void 0:c.call(l,P,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,e,this.state.context)),await((v=(h=O(this,gt).config).onSettled)==null?void 0:v.call(h,P,null,this.state.variables,this.state.context,this)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,P,null,e,this.state.context)),lt(this,Rn,Er).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(x=O(this,gt).config).onError)==null?void 0:y.call(x,P,e,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,P,e,this.state.context)),await((C=(b=O(this,gt).config).onSettled)==null?void 0:C.call(b,void 0,P,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,P,e,this.state.context)),P}finally{lt(this,Rn,Er).call(this,{type:"error",error:P})}}finally{O(this,gt).runNext(this)}}},In=new WeakMap,gt=new WeakMap,Ms=new WeakMap,Rn=new WeakSet,Er=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wt.batch(()=>{O(this,In).forEach(r=>{r.onMutationUpdate(e)}),O(this,gt).notify({mutation:this,type:"updated",action:e})})},F_);function GI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mt,ll,$_,YI=($_=class extends nd{constructor(e={}){super();ye(this,Mt);ye(this,ll);this.config=e,Z(this,Mt,new Map),Z(this,ll,Date.now())}build(e,n,r){const s=new VI({mutationCache:this,mutationId:++Ml(this,ll)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Zl(e),r=O(this,Mt).get(n)??[];r.push(e),O(this,Mt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zl(e);if(O(this,Mt).has(n)){const s=(r=O(this,Mt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?O(this,Mt).delete(n):O(this,Mt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=O(this,Mt).get(Zl(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=O(this,Mt).get(Zl(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...O(this,Mt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ry(n,r))}findAll(e={}){return this.getAll().filter(n=>Ry(e,n))}notify(e){wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wt.batch(()=>Promise.all(e.map(n=>n.continue().catch(cn))))}},Mt=new WeakMap,ll=new WeakMap,$_);function Zl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Dy(t){return{onFetch:(e,n)=>{var d,f,h,v,_;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=hb(e.options,e.fetchOptions),p=async(w,b,C)=>{if(g)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:e.queryKey,pageParam:b,direction:C?"backward":"forward",meta:e.options.meta};x(k);const T=await y(k),{maxPages:P}=e.options,E=C?MI:DI;return{pages:E(w.pages,T,P),pageParams:E(w.pageParams,b,P)}};if(s&&i.length){const w=s==="backward",b=w?KI:My,C={pages:i,pageParams:o},k=b(r,C);a=await p(C,k,w)}else{const w=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:My(r,a);if(l>0&&b==null)break;a=await p(a,b),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function My(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function KI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $e,Lr,Fr,qi,Qi,$r,Xi,Ji,W_,qI=(W_=class{constructor(t={}){ye(this,$e);ye(this,Lr);ye(this,Fr);ye(this,qi);ye(this,Qi);ye(this,$r);ye(this,Xi);ye(this,Ji);Z(this,$e,t.queryCache||new zI),Z(this,Lr,t.mutationCache||new YI),Z(this,Fr,t.defaultOptions||{}),Z(this,qi,new Map),Z(this,Qi,new Map),Z(this,$r,0)}mount(){Ml(this,$r)._++,O(this,$r)===1&&(Z(this,Xi,pb.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,$e).onFocus())})),Z(this,Ji,ou.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,$e).onOnline())})))}unmount(){var t,e;Ml(this,$r)._--,O(this,$r)===0&&((t=O(this,Xi))==null||t.call(this),Z(this,Xi,void 0),(e=O(this,Ji))==null||e.call(this),Z(this,Ji,void 0))}isFetching(t){return O(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Lr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,$e).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=O(this,$e).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Py(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return O(this,$e).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,$e).get(r.queryHash),i=s==null?void 0:s.state.data,o=TI(e,i);if(o!==void 0)return O(this,$e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return wt.batch(()=>O(this,$e).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,$e).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,$e);wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,$e),r={type:"active",...t};return wt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=wt.batch(()=>O(this,$e).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(cn).catch(cn)}invalidateQueries(t={},e={}){return wt.batch(()=>{if(O(this,$e).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=wt.batch(()=>O(this,$e).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(cn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,$e).build(this,e);return n.isStaleByTime(Py(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cn).catch(cn)}fetchInfiniteQuery(t){return t.behavior=Dy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cn).catch(cn)}ensureInfiniteQueryData(t){return t.behavior=Dy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ou.isOnline()?O(this,Lr).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,$e)}getMutationCache(){return O(this,Lr)}getDefaultOptions(){return O(this,Fr)}setDefaultOptions(t){Z(this,Fr,t)}setQueryDefaults(t,e){O(this,qi).set(Ha(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,qi).values()];let n={};return e.forEach(r=>{Ba(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){O(this,Qi).set(Ha(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,Qi).values()];let n={};return e.forEach(r=>{Ba(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Fr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=km(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Tm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Fr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,$e).clear(),O(this,Lr).clear()}},$e=new WeakMap,Lr=new WeakMap,Fr=new WeakMap,qi=new WeakMap,Qi=new WeakMap,$r=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,W_),QI=m.createContext(void 0),XI=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(QI.Provider,{value:t,children:e}));async function JI(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const ZI=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await JI(n),await n.json())},eR=new qI({defaultOptions:{queries:{queryFn:ZI({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),tR=1,nR=1e6;let pf=0;function rR(){return pf=(pf+1)%Number.MAX_SAFE_INTEGER,pf.toString()}const mf=new Map,jy=t=>{if(mf.has(t))return;const e=setTimeout(()=>{mf.delete(t),ga({type:"REMOVE_TOAST",toastId:t})},nR);mf.set(t,e)},sR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?jy(n):t.toasts.forEach(r=>{jy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ec=[];let Nc={toasts:[]};function ga(t){Nc=sR(Nc,t),Ec.forEach(e=>{e(Nc)})}function iR({...t}){const e=rR(),n=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ga({type:"DISMISS_TOAST",toastId:e});return ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ii(){const[t,e]=m.useState(Nc);return m.useEffect(()=>(Ec.push(e),()=>{const n=Ec.indexOf(e);n>-1&&Ec.splice(n,1)}),[t]),{...t,toast:iR,dismiss:n=>ga({type:"DISMISS_TOAST",toastId:n})}}function Q(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ly(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wb(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Ly(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ly(t[s],null)}}}}function be(...t){return m.useCallback(wb(...t),t)}function oR(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ps(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:h,children:v,..._}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,x=m.useMemo(()=>_,Object.values(_));return u.jsx(g.Provider,{value:x,children:v})};c.displayName=i+"Provider";function d(f,h){var g;const v=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,_=m.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,aR(s,...e)]}function aR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zs(t){const e=cR(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(uR);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var lR=zs("Slot");function cR(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=fR(s),a=dR(i,s.props);return s.type!==m.Fragment&&(a.ref=r?wb(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _b=Symbol("radix.slottable");function xb(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_b,e}function uR(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_b}function dR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bb(t){const e=t+"CollectionProvider",[n,r]=ps(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:y}=g,p=Sr.useRef(null),w=Sr.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:w,collectionRef:p,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=zs(a),c=Sr.forwardRef((g,x)=>{const{scope:y,children:p}=g,w=i(a,y),b=be(x,w.collectionRef);return u.jsx(l,{ref:b,children:p})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=zs(d),v=Sr.forwardRef((g,x)=>{const{scope:y,children:p,...w}=g,b=Sr.useRef(null),C=be(x,b),k=i(d,y);return Sr.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),u.jsx(h,{[f]:"",ref:C,children:p})});v.displayName=d;function _(g){const x=i(t+"CollectionConsumer",g);return Sr.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((k,T)=>w.indexOf(k.ref.current)-w.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:v},_,r]}var hR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=hR.reduce((t,e)=>{const n=zs(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Cb(t,e){t&&si.flushSync(()=>t.dispatchEvent(e))}function Bt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pR(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mR="DismissableLayer",Hh="dismissableLayer.update",gR="dismissableLayer.pointerDownOutside",vR="dismissableLayer.focusOutside",Fy,Sb=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),So=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(Sb),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),_=be(e,T=>f(T)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),p=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,b=p>=y,C=wR(T=>{const P=T.target,E=[...c.branches].some(N=>N.contains(P));!b||E||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),k=_R(T=>{const P=T.target;[...c.branches].some(N=>N.contains(P))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return pR(T=>{p===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Fy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),$y(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Fy)}},[d,h,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),$y())},[d,c]),m.useEffect(()=>{const T=()=>v({});return document.addEventListener(Hh,T),()=>document.removeEventListener(Hh,T)},[]),u.jsx(ue.div,{...l,ref:_,style:{pointerEvents:w?b?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,C.onPointerDownCapture)})});So.displayName=mR;var yR="DismissableLayerBranch",Eb=m.forwardRef((t,e)=>{const n=m.useContext(Sb),r=m.useRef(null),s=be(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ue.div,{...t,ref:s})});Eb.displayName=yR;function wR(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Nb(gR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _R(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Nb(vR,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $y(){const t=new CustomEvent(Hh);document.dispatchEvent(t)}function Nb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Cb(s,i):s.dispatchEvent(i)}var xR=So,bR=Eb,pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},CR="Portal",pl=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XP.createPortal(u.jsx(ue.div,{...r,ref:e}),o):null});pl.displayName=CR;function SR(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ms=t=>{const{present:e,children:n}=t,r=ER(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=be(r.ref,NR(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ms.displayName="Presence";function ER(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=SR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=ec(r.current);i.current=a==="mounted"?c:"none"},[a]),pt(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,v=ec(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),pt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=v=>{const g=ec(r.current).includes(v.animationName);if(v.target===e&&g&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=v=>{v.target===e&&(i.current=ec(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ec(t){return(t==null?void 0:t.animationName)||"none"}function NR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function za({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=kR({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Bt(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function kR({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Bt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var TR="VisuallyHidden",ml=m.forwardRef((t,e)=>u.jsx(ue.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ml.displayName=TR;var PR=ml,Pm="ToastProvider",[Im,IR,RR]=bb("Toast"),[kb,oU]=ps("Toast",[RR]),[AR,sd]=kb(Pm),Tb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pm}\`. Expected non-empty \`string\`.`),u.jsx(Im.Provider,{scope:e,children:u.jsx(AR,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(v=>v+1),[]),onToastRemove:m.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Tb.displayName=Pm;var Pb="ToastViewport",OR=["F8"],Bh="toast.viewportPause",zh="toast.viewportResume",Ib=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=OR,label:s="Notifications ({hotkey})",...i}=t,o=sd(Pb,n),a=IR(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=be(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;m.useEffect(()=>{const x=y=>{var w;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,y=f.current;if(_&&x&&y){const p=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Bh);y.dispatchEvent(k),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(zh);y.dispatchEvent(k),o.isClosePausedRef.current=!1}},b=k=>{!x.contains(k.relatedTarget)&&w()},C=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",p),x.addEventListener("focusout",b),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",C),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[_,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const p=a().map(w=>{const b=w.ref.current,C=[b,...GR(b)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?p.reverse():p).flat()},[a]);return m.useEffect(()=>{const x=f.current;if(x){const y=p=>{var C,k,T;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const P=document.activeElement,E=p.shiftKey;if(p.target===x&&E){(C=c.current)==null||C.focus();return}const R=g({tabbingDirection:E?"backwards":"forwards"}),$=R.findIndex(D=>D===P);gf(R.slice($+1))?p.preventDefault():E?(k=c.current)==null||k.focus():(T=d.current)==null||T.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,g]),u.jsxs(bR,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&u.jsx(Vh,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});gf(x)}}),u.jsx(Im.Slot,{scope:n,children:u.jsx(ue.ol,{tabIndex:-1,...i,ref:h})}),_&&u.jsx(Vh,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});gf(x)}})]})});Ib.displayName=Pb;var Rb="ToastFocusProxy",Vh=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=sd(Rb,n);return u.jsx(ml,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Vh.displayName=Rb;var id="Toast",DR="toast.swipeStart",MR="toast.swipeMove",jR="toast.swipeCancel",LR="toast.swipeEnd",Ab=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=za({prop:r,defaultProp:s,onChange:i});return u.jsx(ms,{present:n||a,children:u.jsx(WR,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Bt(t.onPause),onResume:Bt(t.onResume),onSwipeStart:Q(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Ab.displayName=id;var[FR,$R]=kb(id,{onClose(){}}),WR=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,..._}=t,g=sd(id,n),[x,y]=m.useState(null),p=be(e,D=>y(D)),w=m.useRef(null),b=m.useRef(null),C=s||g.duration,k=m.useRef(0),T=m.useRef(C),P=m.useRef(0),{onToastAdd:E,onToastRemove:N}=g,I=Bt(()=>{var W;(x==null?void 0:x.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),o()}),R=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(P.current),k.current=new Date().getTime(),P.current=window.setTimeout(I,D))},[I]);m.useEffect(()=>{const D=g.viewport;if(D){const W=()=>{R(T.current),c==null||c()},F=()=>{const A=new Date().getTime()-k.current;T.current=T.current-A,window.clearTimeout(P.current),l==null||l()};return D.addEventListener(Bh,F),D.addEventListener(zh,W),()=>{D.removeEventListener(Bh,F),D.removeEventListener(zh,W)}}},[g.viewport,C,l,c,R]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&R(C)},[i,C,g.isClosePausedRef,R]),m.useEffect(()=>(E(),()=>N()),[E,N]);const $=m.useMemo(()=>x?$b(x):null,[x]);return g.viewport?u.jsxs(u.Fragment,{children:[$&&u.jsx(UR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),u.jsx(FR,{scope:n,onClose:I,children:si.createPortal(u.jsx(Im.ItemSlot,{scope:n,children:u.jsx(xR,{asChild:!0,onEscapeKeyDown:Q(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Q(t.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Q(t.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:Q(t.onPointerMove,D=>{if(!w.current)return;const W=D.clientX-w.current.x,F=D.clientY-w.current.y,A=!!b.current,S=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=S?M(0,W):0,B=S?0:M(0,F),ce=D.pointerType==="touch"?10:2,ee={x:U,y:B},ie={originalEvent:D,delta:ee};A?(b.current=ee,tc(MR,f,ie,{discrete:!1})):Wy(ee,g.swipeDirection,ce)?(b.current=ee,tc(DR,d,ie,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(W)>ce||Math.abs(F)>ce)&&(w.current=null)}),onPointerUp:Q(t.onPointerUp,D=>{const W=b.current,F=D.target;if(F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),b.current=null,w.current=null,W){const A=D.currentTarget,S={originalEvent:D,delta:W};Wy(W,g.swipeDirection,g.swipeThreshold)?tc(LR,v,S,{discrete:!0}):tc(jR,h,S,{discrete:!0}),A.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),UR=t=>{const{__scopeToast:e,children:n,...r}=t,s=sd(id,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return zR(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(pl,{asChild:!0,children:u.jsx(ml,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},HR="ToastTitle",Ob=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ue.div,{...r,ref:e})});Ob.displayName=HR;var BR="ToastDescription",Db=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ue.div,{...r,ref:e})});Db.displayName=BR;var Mb="ToastAction",jb=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Fb,{altText:n,asChild:!0,children:u.jsx(Rm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Mb}\`. Expected non-empty \`string\`.`),null)});jb.displayName=Mb;var Lb="ToastClose",Rm=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=$R(Lb,n);return u.jsx(Fb,{asChild:!0,children:u.jsx(ue.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,s.onClose)})})});Rm.displayName=Lb;var Fb=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $b(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$b(r))}}),e}function tc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Cb(s,i):s.dispatchEvent(i)}var Wy=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function zR(t=()=>{}){const e=Bt(t);pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function VR(t){return t.nodeType===t.ELEMENT_NODE}function GR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var YR=Tb,Wb=Ib,Ub=Ab,Hb=Ob,Bb=Db,zb=jb,Vb=Rm;function Gb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Gb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Gb(t))&&(r&&(r+=" "),r+=e);return r}const Uy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hy=Yb,Am=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Hy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const h=Uy(d)||Uy(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(_=>{let[g,x]=_;return Array.isArray(x)?x.includes({...i,...a}[g]):{...i,...a}[g]===x})?[...c,f,h]:c},[]);return Hy(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...qR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kb("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(QR,{ref:i,iconNode:e,className:Kb(`lucide-${KR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=we("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mm="-",mA=t=>{const e=vA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Mm);return a[0]===""&&a.length!==1&&a.shift(),rC(a,e)||gA(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},rC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?rC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Mm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},zy=/^\[(.+)\]$/,gA=t=>{if(zy.test(t)){const e=zy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vA=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return wA(Object.entries(t.classGroups),n).forEach(([i,o])=>{Gh(o,r,i,e)}),r},Gh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Vy(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(yA(s)){Gh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Gh(o,Vy(e,i),n,r)})})},Vy=(t,e)=>{let n=t;return e.split(Mm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yA=t=>t.isThemeGetter,wA=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,_A=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},sC="!",xA=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(d),v=h.startsWith(sC),_=v?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},bA=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},CA=t=>({cache:_A(t.cacheSize),parseClassName:xA(t),...mA(t)}),SA=/\s+/,EA=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(SA);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=n(c);let _=!!v,g=r(_?h.substring(0,v):h);if(!g){if(!_){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}_=!1}const x=bA(d).join(":"),y=f?x+sC:x,p=y+g;if(i.includes(p))continue;i.push(p);const w=s(g,_);for(let b=0;b<w.length;++b){const C=w[b];i.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function NA(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iC(e))&&(r&&(r+=" "),r+=n);return r}const iC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iC(t[r]))&&(n&&(n+=" "),n+=e);return n};function kA(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=CA(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=EA(l,n);return s(l,d),d}return function(){return i(NA.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oC=/^\[(?:([a-z-]+):)?(.+)\]$/i,TA=/^\d+\/\d+$/,PA=new Set(["px","full","screen"]),IA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gn=t=>Mi(t)||PA.has(t)||TA.test(t),_r=t=>Eo(t,"length",HA),Mi=t=>!!t&&!Number.isNaN(Number(t)),vf=t=>Eo(t,"number",Mi),Go=t=>!!t&&Number.isInteger(Number(t)),MA=t=>t.endsWith("%")&&Mi(t.slice(0,-1)),J=t=>oC.test(t),xr=t=>IA.test(t),jA=new Set(["length","size","percentage"]),LA=t=>Eo(t,jA,aC),FA=t=>Eo(t,"position",aC),$A=new Set(["image","url"]),WA=t=>Eo(t,$A,zA),UA=t=>Eo(t,"",BA),Yo=()=>!0,Eo=(t,e,n)=>{const r=oC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HA=t=>RA.test(t)&&!AA.test(t),aC=()=>!1,BA=t=>OA.test(t),zA=t=>DA.test(t),VA=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),c=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),h=Ie("gap"),v=Ie("gradientColorStops"),_=Ie("gradientColorStopPositions"),g=Ie("inset"),x=Ie("margin"),y=Ie("opacity"),p=Ie("padding"),w=Ie("saturate"),b=Ie("scale"),C=Ie("sepia"),k=Ie("skew"),T=Ie("space"),P=Ie("translate"),E=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",J,e],R=()=>[J,e],$=()=>["",Gn,_r],D=()=>["auto",Mi,J],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",J],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Mi,J];return{cacheSize:500,separator:":",theme:{colors:[Yo],spacing:[Gn,_r],blur:["none","",xr,J],brightness:B(),borderColor:[t],borderRadius:["none","","full",xr,J],borderSpacing:R(),borderWidth:$(),contrast:B(),grayscale:M(),hueRotate:B(),invert:M(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[MA,_r],inset:I(),margin:I(),opacity:B(),padding:R(),saturate:B(),scale:B(),sepia:M(),skew:B(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",J]}],container:["container"],columns:[{columns:[xr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),J]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Go,J]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",J]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Go,J]}],"grid-cols":[{"grid-cols":[Yo]}],"col-start-end":[{col:["auto",{span:["full",Go,J]},J]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Yo]}],"row-start-end":[{row:["auto",{span:[Go,J]},J]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",J]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",J]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",J,e]}],"min-w":[{"min-w":[J,e,"min","max","fit"]}],"max-w":[{"max-w":[J,e,"none","full","min","max","fit","prose",{screen:[xr]},xr]}],h:[{h:[J,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[J,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[J,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[J,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xr,_r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vf]}],"font-family":[{font:[Yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",J]}],"line-clamp":[{"line-clamp":["none",Mi,vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gn,J]}],"list-image":[{"list-image":["none",J]}],"list-style-type":[{list:["none","disc","decimal",J]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gn,_r]}],"underline-offset":[{"underline-offset":["auto",Gn,J]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),FA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Gn,J]}],"outline-w":[{outline:[Gn,_r]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Gn,_r]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xr,UA]}],"shadow-color":[{shadow:[Yo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xr,J]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",J]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",J]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",J]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Go,J]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",J]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gn,_r,vf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GA=kA(VA);function X(...t){return GA(Yb(t))}const YA=YR,lC=m.forwardRef(({className:t,...e},n)=>u.jsx(Wb,{ref:n,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lC.displayName=Wb.displayName;const KA=Am("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cC=m.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Ub,{ref:r,className:X(KA({variant:e}),t),...n}));cC.displayName=Ub.displayName;const qA=m.forwardRef(({className:t,...e},n)=>u.jsx(zb,{ref:n,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));qA.displayName=zb.displayName;const uC=m.forwardRef(({className:t,...e},n)=>u.jsx(Vb,{ref:n,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(nC,{className:"h-4 w-4"})}));uC.displayName=Vb.displayName;const dC=m.forwardRef(({className:t,...e},n)=>u.jsx(Hb,{ref:n,className:X("text-sm font-semibold",t),...e}));dC.displayName=Hb.displayName;const fC=m.forwardRef(({className:t,...e},n)=>u.jsx(Bb,{ref:n,className:X("text-sm opacity-90",t),...e}));fC.displayName=Bb.displayName;function QA(){const{toasts:t}=ii();return u.jsxs(YA,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(cC,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(dC,{children:n}),r&&u.jsx(fC,{children:r})]}),s,u.jsx(uC,{})]},e)}),u.jsx(lC,{})]})}var XA=J_[" useId ".trim().toString()]||(()=>{}),JA=0;function Fs(t){const[e,n]=m.useState(XA());return pt(()=>{n(r=>r??String(JA++))},[t]),e?`radix-${e}`:""}const ZA=["top","right","bottom","left"],ss=Math.min,Lt=Math.max,au=Math.round,nc=Math.floor,Ln=t=>({x:t,y:t}),eO={left:"right",right:"left",bottom:"top",top:"bottom"},tO={start:"end",end:"start"};function Yh(t,e,n){return Lt(t,ss(e,n))}function cr(t,e){return typeof t=="function"?t(e):t}function ur(t){return t.split("-")[0]}function No(t){return t.split("-")[1]}function jm(t){return t==="x"?"y":"x"}function Lm(t){return t==="y"?"height":"width"}function is(t){return["top","bottom"].includes(ur(t))?"y":"x"}function Fm(t){return jm(is(t))}function nO(t,e,n){n===void 0&&(n=!1);const r=No(t),s=Fm(t),i=Lm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=lu(o)),[o,lu(o)]}function rO(t){const e=lu(t);return[Kh(t),e,Kh(e)]}function Kh(t){return t.replace(/start|end/g,e=>tO[e])}function sO(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function iO(t,e,n,r){const s=No(t);let i=sO(ur(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Kh)))),i}function lu(t){return t.replace(/left|right|bottom|top/g,e=>eO[e])}function oO(t){return{top:0,right:0,bottom:0,left:0,...t}}function hC(t){return typeof t!="number"?oO(t):{top:t,right:t,bottom:t,left:t}}function cu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Gy(t,e,n){let{reference:r,floating:s}=t;const i=is(e),o=Fm(e),a=Lm(o),l=ur(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(No(e)){case"start":v[o]-=h*(n&&c?-1:1);break;case"end":v[o]+=h*(n&&c?-1:1);break}return v}const aO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Gy(c,r,l),h=r,v={},_=0;for(let g=0;g<a.length;g++){const{name:x,fn:y}=a[g],{x:p,y:w,data:b,reset:C}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=p??d,f=w??f,v={...v,[x]:{...v[x],...b}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:f}=Gy(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function Va(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=cr(e,t),_=hC(v),x=a[h?f==="floating"?"reference":"floating":f],y=cu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),p=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=cu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:w,strategy:l}):p);return{top:(y.top-C.top+_.top)/b.y,bottom:(C.bottom-y.bottom+_.bottom)/b.y,left:(y.left-C.left+_.left)/b.x,right:(C.right-y.right+_.right)/b.x}}const lO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=cr(t,e)||{};if(c==null)return{};const f=hC(d),h={x:n,y:r},v=Fm(s),_=Lm(v),g=await o.getDimensions(c),x=v==="y",y=x?"top":"left",p=x?"bottom":"right",w=x?"clientHeight":"clientWidth",b=i.reference[_]+i.reference[v]-h[v]-i.floating[_],C=h[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=k?k[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=a.floating[w]||i.floating[_]);const P=b/2-C/2,E=T/2-g[_]/2-1,N=ss(f[y],E),I=ss(f[p],E),R=N,$=T-g[_]-I,D=T/2-g[_]/2+P,W=Yh(R,D,$),F=!l.arrow&&No(s)!=null&&D!==W&&i.reference[_]/2-(D<R?N:I)-g[_]/2<0,A=F?D<R?D-R:D-$:0;return{[v]:h[v]+A,data:{[v]:W,centerOffset:D-W-A,...F&&{alignmentOffset:A}},reset:F}}}),cO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...x}=cr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ur(s),p=is(a),w=ur(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(w||!g?[lu(a)]:rO(a)),k=_!=="none";!h&&k&&C.push(...iO(a,g,_,b));const T=[a,...C],P=await Va(e,x),E=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(P[y]),f){const D=nO(s,o,b);E.push(P[D[0]],P[D[1]])}if(N=[...N,{placement:s,overflows:E}],!E.every(D=>D<=0)){var I,R;const D=(((I=i.flip)==null?void 0:I.index)||0)+1,W=T[D];if(W)return{data:{index:D,overflows:N},reset:{placement:W}};let F=(R=N.filter(A=>A.overflows[0]<=0).sort((A,S)=>A.overflows[1]-S.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(v){case"bestFit":{var $;const A=($=N.filter(S=>{if(k){const M=is(S.placement);return M===p||M==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(M=>M>0).reduce((M,U)=>M+U,0)]).sort((S,M)=>S[1]-M[1])[0])==null?void 0:$[0];A&&(F=A);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function Yy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ky(t){return ZA.some(e=>t[e]>=0)}const uO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=cr(t,e);switch(r){case"referenceHidden":{const i=await Va(e,{...s,elementContext:"reference"}),o=Yy(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ky(o)}}}case"escaped":{const i=await Va(e,{...s,altBoundary:!0}),o=Yy(i,n.floating);return{data:{escapedOffsets:o,escaped:Ky(o)}}}default:return{}}}}};async function dO(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ur(n),a=No(n),l=is(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=cr(e,t);let{mainAxis:h,crossAxis:v,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(v=a==="end"?_*-1:_),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const fO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await dO(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},hO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:p}=x;return{x:y,y:p}}},...l}=cr(t,e),c={x:n,y:r},d=await Va(e,l),f=is(ur(s)),h=jm(f);let v=c[h],_=c[f];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",p=v+d[x],w=v-d[y];v=Yh(p,v,w)}if(o){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=_+d[x],w=_-d[y];_=Yh(p,_,w)}const g=a.fn({...e,[h]:v,[f]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},pO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=cr(t,e),d={x:n,y:r},f=is(s),h=jm(f);let v=d[h],_=d[f];const g=cr(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",b=i.reference[h]-i.floating[w]+x.mainAxis,C=i.reference[h]+i.reference[w]-x.mainAxis;v<b?v=b:v>C&&(v=C)}if(c){var y,p;const w=h==="y"?"width":"height",b=["top","left"].includes(ur(s)),C=i.reference[f]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[f])||0)+(b?0:x.crossAxis),k=i.reference[f]+i.reference[w]+(b?0:((p=o.offset)==null?void 0:p[f])||0)-(b?x.crossAxis:0);_<C?_=C:_>k&&(_=k)}return{[h]:v,[f]:_}}}},mO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=cr(t,e),d=await Va(e,c),f=ur(s),h=No(s),v=is(s)==="y",{width:_,height:g}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const p=g-d.top-d.bottom,w=_-d.left-d.right,b=ss(g-d[x],p),C=ss(_-d[y],w),k=!e.middlewareData.shift;let T=b,P=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=p),k&&!h){const N=Lt(d.left,0),I=Lt(d.right,0),R=Lt(d.top,0),$=Lt(d.bottom,0);v?P=_-2*(N!==0||I!==0?N+I:Lt(d.left,d.right)):T=g-2*(R!==0||$!==0?R+$:Lt(d.top,d.bottom))}await l({...e,availableWidth:P,availableHeight:T});const E=await o.getDimensions(a.floating);return _!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function od(){return typeof window<"u"}function ko(t){return pC(t)?(t.nodeName||"").toLowerCase():"#document"}function Ut(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hn(t){var e;return(e=(pC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pC(t){return od()?t instanceof Node||t instanceof Ut(t).Node:!1}function xn(t){return od()?t instanceof Element||t instanceof Ut(t).Element:!1}function Wn(t){return od()?t instanceof HTMLElement||t instanceof Ut(t).HTMLElement:!1}function qy(t){return!od()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ut(t).ShadowRoot}function gl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function gO(t){return["table","td","th"].includes(ko(t))}function ad(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $m(t){const e=Wm(),n=xn(t)?bn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function vO(t){let e=os(t);for(;Wn(e)&&!ao(e);){if($m(e))return e;if(ad(e))return null;e=os(e)}return null}function Wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ao(t){return["html","body","#document"].includes(ko(t))}function bn(t){return Ut(t).getComputedStyle(t)}function ld(t){return xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function os(t){if(ko(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qy(t)&&t.host||Hn(t);return qy(e)?e.host:e}function mC(t){const e=os(t);return ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wn(e)&&gl(e)?e:mC(e)}function Ga(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=mC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ut(s);if(i){const a=qh(o);return e.concat(o,o.visualViewport||[],gl(s)?s:[],a&&n?Ga(a):[])}return e.concat(s,Ga(s,[],n))}function qh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gC(t){const e=bn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Wn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=au(n)!==i||au(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Um(t){return xn(t)?t:t.contextElement}function ji(t){const e=Um(t);if(!Wn(e))return Ln(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=gC(e);let o=(i?au(n.width):n.width)/r,a=(i?au(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yO=Ln(0);function vC(t){const e=Ut(t);return!Wm()||!e.visualViewport?yO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ut(t)?!1:e}function Vs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Um(t);let o=Ln(1);e&&(r?xn(r)&&(o=ji(r)):o=ji(t));const a=wO(i,n,r)?vC(i):Ln(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Ut(i),v=r&&xn(r)?Ut(r):r;let _=h,g=qh(_);for(;g&&r&&v!==_;){const x=ji(g),y=g.getBoundingClientRect(),p=bn(g),w=y.left+(g.clientLeft+parseFloat(p.paddingLeft))*x.x,b=y.top+(g.clientTop+parseFloat(p.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=w,c+=b,_=Ut(g),g=qh(_)}}return cu({width:d,height:f,x:l,y:c})}function Hm(t,e){const n=ld(t).scrollLeft;return e?e.left+n:Vs(Hn(t)).left+n}function yC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Hm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function _O(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Hn(r),a=e?ad(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ln(1);const d=Ln(0),f=Wn(r);if((f||!f&&!i)&&((ko(r)!=="body"||gl(o))&&(l=ld(r)),Wn(r))){const v=Vs(r);c=ji(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const h=o&&!f&&!i?yC(o,l,!0):Ln(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function xO(t){return Array.from(t.getClientRects())}function bO(t){const e=Hn(t),n=ld(t),r=t.ownerDocument.body,s=Lt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Lt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hm(t);const a=-n.scrollTop;return bn(r).direction==="rtl"&&(o+=Lt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function CO(t,e){const n=Ut(t),r=Hn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Wm();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function SO(t,e){const n=Vs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Wn(t)?ji(t):Ln(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Qy(t,e,n){let r;if(e==="viewport")r=CO(t,n);else if(e==="document")r=bO(Hn(t));else if(xn(e))r=SO(e,n);else{const s=vC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return cu(r)}function wC(t,e){const n=os(t);return n===e||!xn(n)||ao(n)?!1:bn(n).position==="fixed"||wC(n,e)}function EO(t,e){const n=e.get(t);if(n)return n;let r=Ga(t,[],!1).filter(a=>xn(a)&&ko(a)!=="body"),s=null;const i=bn(t).position==="fixed";let o=i?os(t):t;for(;xn(o)&&!ao(o);){const a=bn(o),l=$m(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||gl(o)&&!l&&wC(t,o))?r=r.filter(d=>d!==o):s=a,o=os(o)}return e.set(t,r),r}function NO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ad(e)?[]:EO(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=Qy(e,d,s);return c.top=Lt(f.top,c.top),c.right=ss(f.right,c.right),c.bottom=ss(f.bottom,c.bottom),c.left=Lt(f.left,c.left),c},Qy(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kO(t){const{width:e,height:n}=gC(t);return{width:e,height:n}}function TO(t,e,n){const r=Wn(e),s=Hn(e),i=n==="fixed",o=Vs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ln(0);if(r||!r&&!i)if((ko(e)!=="body"||gl(s))&&(a=ld(e)),r){const h=Vs(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=Hm(s));const c=s&&!r&&!i?yC(s,a):Ln(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function yf(t){return bn(t).position==="static"}function Xy(t,e){if(!Wn(t)||bn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hn(t)===n&&(n=n.ownerDocument.body),n}function _C(t,e){const n=Ut(t);if(ad(t))return n;if(!Wn(t)){let s=os(t);for(;s&&!ao(s);){if(xn(s)&&!yf(s))return s;s=os(s)}return n}let r=Xy(t,e);for(;r&&gO(r)&&yf(r);)r=Xy(r,e);return r&&ao(r)&&yf(r)&&!$m(r)?n:r||vO(t)||n}const PO=async function(t){const e=this.getOffsetParent||_C,n=this.getDimensions,r=await n(t.floating);return{reference:TO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IO(t){return bn(t).direction==="rtl"}const RO={convertOffsetParentRelativeRectToViewportRelativeRect:_O,getDocumentElement:Hn,getClippingRect:NO,getOffsetParent:_C,getElementRects:PO,getClientRects:xO,getDimensions:kO,getScale:ji,isElement:xn,isRTL:IO};function xC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AO(t,e){let n=null,r;const s=Hn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:v}=c;if(a||e(),!h||!v)return;const _=nc(f),g=nc(s.clientWidth-(d+h)),x=nc(s.clientHeight-(f+v)),y=nc(d),w={rootMargin:-_+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Lt(0,ss(1,l))||1};let b=!0;function C(k){const T=k[0].intersectionRatio;if(T!==l){if(!b)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!xC(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return o(!0),i}function OO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Um(t),d=s||i?[...c?Ga(c):[],...Ga(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=c&&a?AO(c,n):null;let h=-1,v=null;o&&(v=new ResizeObserver(y=>{let[p]=y;p&&p.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=v)==null||w.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let _,g=l?Vs(t):null;l&&x();function x(){const y=Vs(t);g&&!xC(g,y)&&n(),g=y,_=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,l&&cancelAnimationFrame(_)}}const DO=fO,MO=hO,jO=cO,LO=mO,FO=uO,Jy=lO,$O=pO,WO=(t,e,n)=>{const r=new Map,s={platform:RO,...n},i={...s.platform,_c:r};return aO(t,e,{...s,platform:i})};var kc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function uu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!uu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zy(t,e){const n=bC(t);return Math.round(e*n)/n}function wf(t){const e=m.useRef(t);return kc(()=>{e.current=t}),e}function UO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,v]=m.useState(r);uu(h,r)||v(r);const[_,g]=m.useState(null),[x,y]=m.useState(null),p=m.useCallback(S=>{S!==k.current&&(k.current=S,g(S))},[]),w=m.useCallback(S=>{S!==T.current&&(T.current=S,y(S))},[]),b=i||_,C=o||x,k=m.useRef(null),T=m.useRef(null),P=m.useRef(d),E=l!=null,N=wf(l),I=wf(s),R=wf(c),$=m.useCallback(()=>{if(!k.current||!T.current)return;const S={placement:e,strategy:n,middleware:h};I.current&&(S.platform=I.current),WO(k.current,T.current,S).then(M=>{const U={...M,isPositioned:R.current!==!1};D.current&&!uu(P.current,U)&&(P.current=U,si.flushSync(()=>{f(U)}))})},[h,e,n,I,R]);kc(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[c]);const D=m.useRef(!1);kc(()=>(D.current=!0,()=>{D.current=!1}),[]),kc(()=>{if(b&&(k.current=b),C&&(T.current=C),b&&C){if(N.current)return N.current(b,C,$);$()}},[b,C,$,N,E]);const W=m.useMemo(()=>({reference:k,floating:T,setReference:p,setFloating:w}),[p,w]),F=m.useMemo(()=>({reference:b,floating:C}),[b,C]),A=m.useMemo(()=>{const S={position:n,left:0,top:0};if(!F.floating)return S;const M=Zy(F.floating,d.x),U=Zy(F.floating,d.y);return a?{...S,transform:"translate("+M+"px, "+U+"px)",...bC(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:U}},[n,a,F.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:$,refs:W,elements:F,floatingStyles:A}),[d,$,W,F,A])}const HO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Jy({element:r.current,padding:s}).fn(n):{}:r?Jy({element:r,padding:s}).fn(n):{}}}},BO=(t,e)=>({...DO(t),options:[t,e]}),zO=(t,e)=>({...MO(t),options:[t,e]}),VO=(t,e)=>({...$O(t),options:[t,e]}),GO=(t,e)=>({...jO(t),options:[t,e]}),YO=(t,e)=>({...LO(t),options:[t,e]}),KO=(t,e)=>({...FO(t),options:[t,e]}),qO=(t,e)=>({...HO(t),options:[t,e]});var QO="Arrow",CC=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ue.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});CC.displayName=QO;var XO=CC;function JO(t){const[e,n]=m.useState(void 0);return pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Bm="Popper",[SC,To]=ps(Bm),[ZO,EC]=SC(Bm),NC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return u.jsx(ZO,{scope:e,anchor:r,onAnchorChange:s,children:n})};NC.displayName=Bm;var kC="PopperAnchor",TC=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=EC(kC,n),o=m.useRef(null),a=be(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ue.div,{...s,ref:a})});TC.displayName=kC;var zm="PopperContent",[eD,tD]=SC(zm),PC=m.forwardRef((t,e)=>{var V,ge,Fe,ve,pe,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:_,...g}=t,x=EC(zm,n),[y,p]=m.useState(null),w=be(e,ot=>p(ot)),[b,C]=m.useState(null),k=JO(b),T=(k==null?void 0:k.width)??0,P=(k==null?void 0:k.height)??0,E=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],R=I.length>0,$={padding:N,boundary:I.filter(rD),altBoundary:R},{refs:D,floatingStyles:W,placement:F,isPositioned:A,middlewareData:S}=UO({strategy:"fixed",placement:E,whileElementsMounted:(...ot)=>OO(...ot,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[BO({mainAxis:s+P,alignmentAxis:o}),l&&zO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VO():void 0,...$}),l&&GO({...$}),YO({...$,apply:({elements:ot,rects:z,availableWidth:Ce,availableHeight:at})=>{const{width:Nt,height:zn}=z.reference,yr=ot.floating.style;yr.setProperty("--radix-popper-available-width",`${Ce}px`),yr.setProperty("--radix-popper-available-height",`${at}px`),yr.setProperty("--radix-popper-anchor-width",`${Nt}px`),yr.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),b&&qO({element:b,padding:a}),sD({arrowWidth:T,arrowHeight:P}),h&&KO({strategy:"referenceHidden",...$})]}),[M,U]=AC(F),B=Bt(_);pt(()=>{A&&(B==null||B())},[A,B]);const ce=(V=S.arrow)==null?void 0:V.x,ee=(ge=S.arrow)==null?void 0:ge.y,ie=((Fe=S.arrow)==null?void 0:Fe.centerOffset)!==0,[Le,oe]=m.useState();return pt(()=>{y&&oe(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:A?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(ve=S.transformOrigin)==null?void 0:ve.x,(pe=S.transformOrigin)==null?void 0:pe.y].join(" "),...((me=S.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(eD,{scope:n,placedSide:M,onArrowChange:C,arrowX:ce,arrowY:ee,shouldHideArrow:ie,children:u.jsx(ue.div,{"data-side":M,"data-align":U,...g,ref:w,style:{...g.style,animation:A?void 0:"none"}})})})});PC.displayName=zm;var IC="PopperArrow",nD={top:"bottom",right:"left",bottom:"top",left:"right"},RC=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=tD(IC,r),o=nD[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(XO,{...s,ref:n,style:{...s.style,display:"block"}})})});RC.displayName=IC;function rD(t){return t!==null}var sD=t=>({name:"transformOrigin",options:t,fn(e){var x,y,p;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=AC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,v=(((p=s.arrow)==null?void 0:p.y)??0)+l/2;let _="",g="";return c==="bottom"?(_=o?f:`${h}px`,g=`${-l}px`):c==="top"?(_=o?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,g=o?f:`${v}px`):c==="left"&&(_=`${r.floating.width+l}px`,g=o?f:`${v}px`),{data:{x:_,y:g}}}});function AC(t){const[e,n="center"]=t.split("-");return[e,n]}var OC=NC,cd=TC,Vm=PC,Gm=RC,[ud,aU]=ps("Tooltip",[To]),Ym=To(),DC="TooltipProvider",iD=700,ew="tooltip.open",[oD,MC]=ud(DC),jC=t=>{const{__scopeTooltip:e,delayDuration:n=iD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(oD,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};jC.displayName=DC;var LC="Tooltip",[lU,dd]=ud(LC),Qh="TooltipTrigger",aD=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=dd(Qh,n),i=MC(Qh,n),o=Ym(n),a=m.useRef(null),l=be(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(cd,{asChild:!0,...o,children:u.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Q(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Q(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Q(t.onBlur,s.onClose),onClick:Q(t.onClick,s.onClose)})})});aD.displayName=Qh;var lD="TooltipPortal",[cU,cD]=ud(lD,{forceMount:void 0}),lo="TooltipContent",FC=m.forwardRef((t,e)=>{const n=cD(lo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=dd(lo,t.__scopeTooltip);return u.jsx(ms,{present:r||o.open,children:o.disableHoverableContent?u.jsx($C,{side:s,...i,ref:e}):u.jsx(uD,{side:s,...i,ref:e})})}),uD=m.forwardRef((t,e)=>{const n=dd(lo,t.__scopeTooltip),r=MC(lo,t.__scopeTooltip),s=m.useRef(null),i=be(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{a(null),f(!1)},[f]),v=m.useCallback((_,g)=>{const x=_.currentTarget,y={x:_.clientX,y:_.clientY},p=mD(y,x.getBoundingClientRect()),w=gD(y,p),b=vD(g.getBoundingClientRect()),C=wD([...w,...b]);a(C),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(l&&d){const _=x=>v(x,d),g=x=>v(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",g)}}},[l,d,v,h]),m.useEffect(()=>{if(o){const _=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},p=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),w=!yD(y,o);p?h():w&&(h(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,h]),u.jsx($C,{...t,ref:i})}),[dD,fD]=ud(LC,{isInside:!1}),hD=xb("TooltipContent"),$C=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=dd(lo,n),c=Ym(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(ew,d),()=>document.removeEventListener(ew,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(So,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Vm,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(hD,{children:r}),u.jsx(dD,{scope:n,isInside:!0,children:u.jsx(PR,{id:l.contentId,role:"tooltip",children:s||r})})]})})});FC.displayName=lo;var WC="TooltipArrow",pD=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ym(n);return fD(WC,n).isInside?null:u.jsx(Gm,{...s,...r,ref:e})});pD.displayName=WC;function mD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function vD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function yD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function wD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_D(e)}function _D(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var xD=jC,UC=FC;const bD=xD,CD=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(UC,{ref:r,sideOffset:e,className:X("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));CD.displayName=UC.displayName;const SD=()=>{};var tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(t,e){if(!t)throw Po(e)},Po=function(t){return new Error("Firebase Database ("+HC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ED=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Km={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(h=64)),r.push(n[d],n[f],n[h],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ED(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new ND;const h=i<<2|a>>4;if(r.push(h),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ND extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zC=function(t){const e=BC(t);return Km.encodeByteArray(e,!0)},du=function(t){return zC(t).replace(/\./g,"")},fu=function(t){try{return Km.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return VC(void 0,t)}function VC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!TD(n)||(t[n]=VC(t[n],e[n]));return t}function TD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=()=>PD().__FIREBASE_DEFAULTS__,RD=()=>{if(typeof process>"u"||typeof tw>"u")return;const t=tw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fu(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return SD()||ID()||RD()||AD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GC=t=>{var e,n;return(n=(e=qm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},OD=t=>{const e=GC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YC=()=>{var t;return(t=qm())==null?void 0:t.config},KC=t=>{var e;return(e=qm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[du(JSON.stringify(n)),du(JSON.stringify(o)),""].join(".")}const ya={};function MD(){const t={prod:[],emulator:[]};for(const e of Object.keys(ya))ya[e]?t.emulator.push(e):t.prod.push(e);return t}function jD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nw=!1;function QC(t,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||ya[t]===e||ya[t]||nw)return;ya[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=MD().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,v){h.setAttribute("width","24"),h.setAttribute("id",v),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{nw=!0,o()},h}function d(h,v){h.setAttribute("id",v),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=jD(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),x=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),p=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;a(w),d(x,g);const b=c();l(p,y),w.append(p,_,x,b),document.body.appendChild(w)}i?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function LD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $D(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JC(){return HC.NODE_ADMIN===!0}function WD(){try{return typeof indexedDB=="object"}catch{return!1}}function UD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HD,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?BD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gs(s,a,r)}}function BD(t,e){return t.replace(zD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){return JSON.parse(t)}function qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ya(fu(i[0])||""),n=Ya(fu(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},VD=function(t){const e=ZC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GD=function(t){const e=ZC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function co(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hu(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(rw(i)&&rw(o)){if(!Gs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function rw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ia(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):f<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const h=(s<<5|s>>>27)+c+l+d+r[f]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function KD(t,e){const n=new qD(t,e);return n.subscribe.bind(n)}class qD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_f),s.error===void 0&&(s.error=_f),s.complete===void 0&&(s.complete=_f);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _f(){}function fd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,L(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eM(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZD(t){return t===Es?void 0:t}function eM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const nM={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},rM=Se.INFO,sM={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},iM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=rM,this._logHandler=iM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const oM=(t,e)=>e.some(n=>t instanceof n);let sw,iw;function aM(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lM(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,Jh=new WeakMap,t1=new WeakMap,xf=new WeakMap,Jm=new WeakMap;function cM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&e1.set(n,t)}).catch(()=>{}),Jm.set(e,t),e}function uM(t){if(Jh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jh.set(t,e)}let Zh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dM(t){Zh=t(Zh)}function fM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bf(this),e,...n);return t1.set(r,e.sort?e.sort():[e]),Xr(r)}:lM().includes(t)?function(...e){return t.apply(bf(this),e),Xr(e1.get(this))}:function(...e){return Xr(t.apply(bf(this),e))}}function hM(t){return typeof t=="function"?fM(t):(t instanceof IDBTransaction&&uM(t),oM(t,aM())?new Proxy(t,Zh):t)}function Xr(t){if(t instanceof IDBRequest)return cM(t);if(xf.has(t))return xf.get(t);const e=hM(t);return e!==t&&(xf.set(t,e),Jm.set(e,t)),e}const bf=t=>Jm.get(t);function pM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xr(o.result),l.oldVersion,l.newVersion,Xr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mM=["get","getKey","getAll","getAllKeys","count"],gM=["put","add","delete","clear"],Cf=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=gM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Cf.set(e,i),i}dM(t=>({...t,get:(e,n,r)=>ow(e,n)||t.get(e,n,r),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",aw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Xm("@firebase/app"),wM="@firebase/app-compat",_M="@firebase/analytics-compat",xM="@firebase/analytics",bM="@firebase/app-check-compat",CM="@firebase/app-check",SM="@firebase/auth",EM="@firebase/auth-compat",NM="@firebase/database",kM="@firebase/data-connect",TM="@firebase/database-compat",PM="@firebase/functions",IM="@firebase/functions-compat",RM="@firebase/installations",AM="@firebase/installations-compat",OM="@firebase/messaging",DM="@firebase/messaging-compat",MM="@firebase/performance",jM="@firebase/performance-compat",LM="@firebase/remote-config",FM="@firebase/remote-config-compat",$M="@firebase/storage",WM="@firebase/storage-compat",UM="@firebase/firestore",HM="@firebase/ai",BM="@firebase/firestore-compat",zM="firebase",VM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",GM={[ep]:"fire-core",[wM]:"fire-core-compat",[xM]:"fire-analytics",[_M]:"fire-analytics-compat",[CM]:"fire-app-check",[bM]:"fire-app-check-compat",[SM]:"fire-auth",[EM]:"fire-auth-compat",[NM]:"fire-rtdb",[kM]:"fire-data-connect",[TM]:"fire-rtdb-compat",[PM]:"fire-fn",[IM]:"fire-fn-compat",[RM]:"fire-iid",[AM]:"fire-iid-compat",[OM]:"fire-fcm",[DM]:"fire-fcm-compat",[MM]:"fire-perf",[jM]:"fire-perf-compat",[LM]:"fire-rc",[FM]:"fire-rc-compat",[$M]:"fire-gcs",[WM]:"fire-gcs-compat",[UM]:"fire-fst",[BM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[zM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,YM=new Map,np=new Map;function lw(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(np.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of pu.values())lw(n,t);for(const n of YM.values())lw(n,t);return!0}function Zm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new yl("app","Firebase",KM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=VM;function n1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Jr.create("bad-app-name",{appName:String(s)});if(n||(n=YC()),!n)throw Jr.create("no-options");const i=pu.get(s);if(i){if(Gs(n,i.options)&&Gs(r,i.config))return i;throw Jr.create("duplicate-app",{appName:s})}const o=new tM(s);for(const l of np.values())o.addComponent(l);const a=new qM(n,r,o);return pu.set(s,a),a}function r1(t=tp){const e=pu.get(t);if(!e&&t===tp&&YC())return n1();if(!e)throw Jr.create("no-app",{appName:t});return e}function Zr(t,e,n){let r=GM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(o.join(" "));return}uo(new Ys(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="firebase-heartbeat-database",XM=1,Ka="firebase-heartbeat-store";let Sf=null;function s1(){return Sf||(Sf=pM(QM,XM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Sf}async function JM(t){try{const n=(await s1()).transaction(Ka),r=await n.objectStore(Ka).get(i1(t));return await n.done,r}catch(e){if(e instanceof gs)dr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function cw(t,e){try{const r=(await s1()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,i1(t)),await r.done}catch(n){if(n instanceof gs)dr.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(r.message)}}}function i1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=1024,ej=30;class tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ej){const o=sj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uw(),{heartbeatsToSend:r,unsentEntries:s}=nj(this._heartbeatsCache.heartbeats),i=du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return dr.warn(n),""}}}function uw(){return new Date().toISOString().substring(0,10)}function nj(t,e=ZM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),dw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WD()?UD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dw(t){return du(JSON.stringify({version:2,heartbeats:t})).length}function sj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){uo(new Ys("platform-logger",e=>new vM(e),"PRIVATE")),uo(new Ys("heartbeat",e=>new tj(e),"PRIVATE")),Zr(ep,aw,t),Zr(ep,aw,"esm2020"),Zr("fire-js","")}ij("");var oj="firebase",aj="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(oj,aj,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lj=o1,a1=new yl("auth","Firebase",o1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Xm("@firebase/auth");function cj(t,...e){mu.logLevel<=Se.WARN&&mu.warn(`Auth (${Ao}): ${t}`,...e)}function Tc(t,...e){mu.logLevel<=Se.ERROR&&mu.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw eg(t,...e)}function Fn(t,...e){return eg(t,...e)}function l1(t,e,n){const r={...lj(),[e]:n};return new yl("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return l1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a1.create(t,...e)}function Y(t,e,...n){if(!t)throw eg(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tc(e),new Error(e)}function fr(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uj(){return fw()==="http:"||fw()==="https:"}function fw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uj()||FD()||"connection"in navigator)?navigator.onLine:!0}function fj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=Qm()||XC()}get(){return dj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mj=new wl(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mr(t,e,n,r,s={}){return u1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ro({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return LD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Io(t.emulatorConfig.host)&&(c.credentials="include"),c1.fetch()(await d1(t,t.config.apiHost,n,a),c)})}async function u1(t,e,n){t._canInitEmulator=!1;const r={...hj,...e};try{const s=new vj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw l1(t,d,c);Cn(t,d)}}catch(s){if(s instanceof gs)throw s;Cn(t,"network-request-failed",{message:String(s)})}}async function _l(t,e,n,r,s={}){const i=await mr(t,e,n,r,s);return"mfaPendingCredential"in i&&Cn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function d1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?tg(t.config,s):`${t.config.apiScheme}://${s}`;return pj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function gj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),mj.get())})}}function rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fn(t,e,r);return s.customData._tokenResponse=n,s}function hw(t){return t!==void 0&&t.enterprise!==void 0}class yj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wj(t,e){return mr(t,"GET","/v2/recaptchaConfig",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return mr(t,"POST","/v1/accounts:delete",e)}async function gu(t,e){return mr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xj(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=ng(r);Y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wa(Ef(s.auth_time)),issuedAtTime:wa(Ef(s.iat)),expirationTime:wa(Ef(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ef(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const s=fu(n);return s?JSON.parse(s):(Tc("Failed to decode base64 JWT payload"),null)}catch(s){return Tc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pw(t){const e=ng(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&bj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await fo(t,gu(e,{idToken:n}));Y(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?f1(s.providerUserInfo):[],o=Ej(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new sp(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Sj(t){const e=mt(t);await vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ej(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function f1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e){const n=await u1(t,{},async()=>{const r=Ro({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await d1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Io(t.emulatorConfig.host)&&(l.credentials="include"),c1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kj(t,e){return mr(t,"POST","/v2/accounts:revokeToken",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=pw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Nj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Li;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Y(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Y(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xj(this,e)}reload(){return Sj(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await fo(this,_j(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:v,providerData:_,stsTokenManager:g}=n;Y(f&&g,e,"internal-error");const x=Li.fromJSON(this.name,g);Y(typeof f=="string",e,"internal-error"),br(r,e.name),br(s,e.name),Y(typeof h=="boolean",e,"internal-error"),Y(typeof v=="boolean",e,"internal-error"),br(i,e.name),br(o,e.name),br(a,e.name),br(l,e.name),br(c,e.name),br(d,e.name);const y=new pn({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(y.providerData=_.map(p=>({...p}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new Li;s.updateFromServerResponse(n);const i=new pn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Y(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?f1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Li;a.updateFromIdToken(r);const l=new pn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new sp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;function er(t){fr(t instanceof Function,"Expected a class definition");let e=mw.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h1.type="NONE";const gw=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Pc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Pc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gu(this.auth,{idToken:e}).catch(()=>{});return n?pn._fromGetAccountInfoResponse(this.auth,n,e):null}return pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fi(er(gw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||er(gw);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await gu(e,{idToken:d}).catch(()=>{});if(!h)break;f=await pn._fromGetAccountInfoResponse(e,h,d)}else f=pn._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Fi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Fi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w1(e))return"Blackberry";if(_1(e))return"Webos";if(m1(e))return"Safari";if((e.includes("chrome/")||g1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p1(t=Ct()){return/firefox\//i.test(t)}function m1(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g1(t=Ct()){return/crios\//i.test(t)}function v1(t=Ct()){return/iemobile/i.test(t)}function y1(t=Ct()){return/android/i.test(t)}function w1(t=Ct()){return/blackberry/i.test(t)}function _1(t=Ct()){return/webos/i.test(t)}function rg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tj(t=Ct()){var e;return rg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Pj(){return $D()&&document.documentMode===10}function x1(t=Ct()){return rg(t)||y1(t)||_1(t)||w1(t)||/windows phone/i.test(t)||v1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t,e=[]){let n;switch(t){case"Browser":n=vw(Ct());break;case"Worker":n=`${vw(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e={}){return mr(t,"GET","/v2/passwordPolicy",vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=6;class Oj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Aj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new Ij(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Fi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gu(this,{idToken:e}),r=await pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(rr(this));const n=e?mt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rj(this),n=new Oj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Fi.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oi(t){return mt(t)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mj(t){pd=t}function C1(t){return pd.loadJS(t)}function jj(){return pd.recaptchaEnterpriseScript}function Lj(){return pd.gapiScript}function Fj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $j{constructor(){this.enterprise=new Wj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Wj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Uj="recaptcha-enterprise",S1="NO_RECAPTCHA";class Hj{constructor(e){this.type=Uj,this.auth=oi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{wj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new yj(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;hw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(S1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $j().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&hw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jj();l.length!==0&&(l+=a),C1(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function ww(t,e,n,r=!1,s=!1){const i=new Hj(t);let o;if(s)o=S1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ip(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ww(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ww(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){const n=Zm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Gs(i,e??{}))return s;Cn(s,"already-initialized")}return n.initialize({options:e})}function zj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vj(t,e,n){const r=oi(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=E1(e),{host:o,port:a}=Gj(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Gs(c,r.config.emulator)&&Gs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Io(o)?(qC(`${i}//${o}${l}`),QC("Auth",!0)):Yj()}function E1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gj(t){const e=E1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_w(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_w(o)}}}function _w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function Kj(t,e){return mr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}async function Xj(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends sg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,n,"signInWithPassword",qj);case"emailLink":return Qj(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,r,"signUpPassword",Kj);case"emailLink":return Xj(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $i(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="http://localhost";class Ks extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ks(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $i(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$i(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$i(e,n)}buildRequest(){const e={requestUri:Jj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ro(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e2(t){const e=sa(ia(t)).link,n=e?sa(ia(e)).deep_link_id:null,r=sa(ia(t)).deep_link_id;return(r?sa(ia(r)).link:null)||r||n||e||t}class ig{constructor(e){const n=sa(ia(e)),r=n.apiKey??null,s=n.oobCode??null,i=Zj(n.mode??null);Y(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=e2(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ig.parseLink(n);return Y(r,"argument-error"),qa._fromEmailAndCode(e,r.code,r.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends xl{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends xl{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends xl{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e){return _l(t,"POST","/v1/accounts:signUp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await pn._fromIdTokenResponse(e,r,s),o=xw(r);return new qs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=xw(r);return new qs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends gs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yu(e,n,r,s)}}function k1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yu._fromErrorAndOperation(t,i,e,r):i})}async function n2(t,e,n=!1){const r=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e,n=!1){const{auth:r}=t;if(Xt(r.app))return Promise.reject(rr(r));const s="reauthenticate";try{const i=await fo(t,k1(r,s,e,t),n);Y(i.idToken,r,"internal-error");const o=ng(i.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),qs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,e,n=!1){if(Xt(t.app))return Promise.reject(rr(t));const r="signIn",s=await k1(t,r,e),i=await qs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function s2(t,e){return T1(oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(t){const e=oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i2(t,e,n){if(Xt(t.app))return Promise.reject(rr(t));const r=oi(t),o=await ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&P1(t),l}),a=await qs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function o2(t,e,n){return Xt(t.app)?Promise.reject(rr(t)):s2(mt(t),Oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&P1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e){return mr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await fo(r,a2(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function c2(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function u2(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function d2(t){return mt(t).signOut()}const wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wu,"1"),this.storage.removeItem(wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1e3,h2=10;class R1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Pj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,h2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const p2=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A1.type="SESSION";const O1=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await m2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=og("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function v2(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _2(){return D1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",x2=1,_u="firebaseLocalStorage",j1="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([_u],e?"readwrite":"readonly").objectStore(_u)}function b2(){const t=indexedDB.deleteDatabase(M1);return new bl(t).toPromise()}function op(){const t=indexedDB.open(M1,x2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_u,{keyPath:j1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_u)?e(r):(r.close(),await b2(),e(await op()))})})}async function bw(t,e,n){const r=gd(t,!0).put({[j1]:e,value:n});return new bl(r).toPromise()}async function C2(t,e){const n=gd(t,!1).get(e),r=await new bl(n).toPromise();return r===void 0?null:r.value}function Cw(t,e){const n=gd(t,!0).delete(e);return new bl(n).toPromise()}const S2=800,E2=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(_2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await bw(e,wu,"1"),await Cw(e,wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gd(s,!1).getAll();return new bl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const N2=L1;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){return e?er(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $i(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $i(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $i(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T2(t){return T1(t.auth,new ag(t),t.bypassAuthState)}function P2(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),r2(n,new ag(t),t.bypassAuthState)}async function I2(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),n2(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:Cn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new wl(2e3,1e4);class ki extends F1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R2.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="pendingRedirect",Ic=new Map;class O2 extends F1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const r=await D2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2(t,e){const n=L2(e),r=j2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function M2(t,e){Ic.set(t._key(),e)}function j2(t){return er(t._redirectPersistence)}function L2(t){return Pc(A2,t.config.apiKey,t.name)}async function F2(t,e,n=!1){if(Xt(t.app))return Promise.reject(rr(t));const r=oi(t),s=k2(r,e),o=await new O2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=10*60*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sw(e))}saveEventToCache(e){this.cachedEventUids.add(Sw(e)),this.lastProcessedEventTime=Date.now()}}function Sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(t,e={}){return mr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;async function V2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H2(t);for(const n of e)try{if(G2(n))return}catch{}Cn(t,"unauthorized-domain")}function G2(t){const e=rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z2.test(n))return!1;if(B2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new wl(3e4,6e4);function Ew(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K2(t){return new Promise((e,n)=>{var s,i,o;function r(){Ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ew(),n(Fn(t,"network-request-failed"))},timeout:Y2.get()})}if((i=(s=$n().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=$n().gapi)!=null&&o.load)r();else{const a=Fj("iframefcb");return $n()[a]=()=>{gapi.load?r():n(Fn(t,"network-request-failed"))},C1(`${Lj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function q2(t){return Rc=Rc||K2(t),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new wl(5e3,15e3),X2="__/auth/iframe",J2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tL(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,J2):`https://${t.config.authDomain}/${X2}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},s=eL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ro(r).slice(1)}`}async function nL(t){const e=await q2(t),n=$n().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:tL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=$n().setTimeout(()=>{i(o)},Q2.get());function l(){$n().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sL=500,iL=600,oL="_blank",aL="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lL(t,e,n,r=sL,s=iL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...rL,width:r.toString(),height:s.toString(),top:i,left:o},c=Ct().toLowerCase();n&&(a=g1(c)?oL:n),p1(c)&&(e=e||aL,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[v,_])=>`${h}${v}=${_},`,"");if(Tj(c)&&a!=="_self")return cL(e||"",a),new Nw(null);const f=window.open(e||"",a,d);Y(f,t,"popup-blocked");try{f.focus()}catch{}return new Nw(f)}function cL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="__/auth/handler",dL="emulator/auth/handler",fL=encodeURIComponent("fac");async function kw(t,e,n,r,s,i){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:s};if(e instanceof N1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof xl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${fL}=${encodeURIComponent(l)}`:"";return`${hL(t)}?${Ro(a).slice(1)}${c}`}function hL({config:t}){return t.emulator?tg(t,dL):`https://${t.authDomain}/${uL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class pL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O1,this._completeRedirectFn=F2,this._overrideRedirectResult=M2}async _openPopup(e,n,r,s){var o;fr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await kw(e,n,r,rp(),s);return lL(e,i,og())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await kw(e,n,r,rp(),s);return v2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(fr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nL(e),r=new W2(e);return n.register("authEvent",s=>(Y(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nf,{type:Nf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Nf];i!==void 0&&n(!!i),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return x1()||m1()||rg()}}const mL=pL;var Tw="@firebase/auth",Pw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yL(t){uo(new Ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(t)},c=new Dj(r,s,i,l);return zj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new Ys("auth-internal",e=>{const n=oi(e.getProvider("auth").getImmediate());return(r=>new gL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(Tw,Pw,vL(t)),Zr(Tw,Pw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=5*60,_L=KC("authIdTokenMaxAge")||wL;let Iw=null;const xL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_L)return;const s=n==null?void 0:n.token;Iw!==s&&(Iw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bL(t=r1()){const e=Zm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bj(t,{popupRedirectResolver:mL,persistence:[N2,p2,O1]}),r=KC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=xL(i.toString());u2(n,o,()=>o(n.currentUser)),c2(n,a=>o(a))}}const s=GC("auth");return s&&Vj(n,`http://${s}`),n}function CL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Mj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",CL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yL("Browser");var Rw={};const Aw="@firebase/database",Ow="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W1="";function SL(t){W1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ya(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new EL(e)}}catch{}return new NL},Rs=U1("localStorage"),kL=U1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Xm("@firebase/database"),TL=function(){let t=1;return function(){return t++}}(),H1=function(t){const e=XD(t),n=new YD;n.update(e);const r=n.digest();return Km.encodeByteArray(r)},Cl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Cl.apply(null,r):typeof r=="object"?e+=qe(r):e+=r,e+=" "}return e};let _a=null,Dw=!0;const PL=function(t,e){L(!e,"Can't turn on custom loggers persistently."),Wi.logLevel=Se.VERBOSE,_a=Wi.log.bind(Wi)},nt=function(...t){if(Dw===!0&&(Dw=!1,_a===null&&kL.get("logging_enabled")===!0&&PL()),_a){const e=Cl.apply(null,t);_a(e)}},Sl=function(t){return function(...e){nt(t,...e)}},ap=function(...t){const e="FIREBASE INTERNAL ERROR: "+Cl(...t);Wi.error(e)},hr=function(...t){const e=`FIREBASE FATAL ERROR: ${Cl(...t)}`;throw Wi.error(e),new Error(e)},bt=function(...t){const e="FIREBASE WARNING: "+Cl(...t);Wi.warn(e)},IL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},RL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ho="[MIN_NAME]",Qs="[MAX_NAME]",ai=function(t,e){if(t===e)return 0;if(t===ho||e===Qs)return-1;if(e===ho||t===Qs)return 1;{const n=Mw(t),r=Mw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},AL=function(t,e){return t===e?0:t<e?-1:1},Ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qe(e))},cg=function(t){if(typeof t!="object"||t===null)return qe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=qe(e[r]),n+=":",n+=cg(t[e[r]]);return n+="}",n},B1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function it(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const z1=function(t){L(!lg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},OL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},DL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ML(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const jL=new RegExp("^-?(0*)\\d{1,10}$"),LL=-2147483648,FL=2147483647,Mw=function(t){if(jL.test(t)){const e=Number(t);if(e>=LL&&e<=FL)return e}return null},Do=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},$L=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(e)}}class Ac{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ac.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="5",V1="v",G1="s",Y1="r",K1="f",q1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q1="ls",X1="p",lp="ac",J1="websocket",Z1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function HL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tS(t,e,n){L(typeof e=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(e===J1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Z1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HL(t)&&(n.ns=t.namespace);const s=[];return it(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.counters_={}}incrementCounter(e,n=1){Bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf={},Tf={};function dg(t){const e=t.toString();return kf[e]||(kf[e]=new BL),kf[e]}function zL(t,e){const n=t.toString();return Tf[n]||(Tf[n]=e()),Tf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Do(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="start",GL="close",YL="pLPCommand",KL="pRTLPCB",nS="id",rS="pw",sS="ser",qL="cb",QL="seg",XL="ts",JL="d",ZL="dframe",iS=1870,oS=30,e4=iS-oS,t4=25e3,n4=3e4;class Ti{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sl(e),this.stats_=dg(n),this.urlFn=l=>(this.appCheckToken&&(l[lp]=this.appCheckToken),tS(n,Z1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new VL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(n4)),RL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fg((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jw)this.id=a,this.password=l;else if(o===GL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jw]="t",r[sS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[qL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[V1]=ug,this.transportSessionId&&(r[G1]=this.transportSessionId),this.lastSessionId&&(r[Q1]=this.lastSessionId),this.applicationId&&(r[X1]=this.applicationId),this.appCheckToken&&(r[lp]=this.appCheckToken),typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(r[Y1]=K1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ti.forceAllow_=!0}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){return Ti.forceAllow_?!0:!Ti.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!OL()&&!DL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=zC(n),s=B1(r,e4);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ZL]="t",r[nS]=e,r[rS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fg{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TL(),window[YL+this.uniqueCallbackIdentifier]=e,window[KL+this.uniqueCallbackIdentifier]=n,this.myIFrame=fg.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[nS]=this.myID,e[rS]=this.myPW,e[sS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oS+r.length<=iS;){const o=this.pendingSegs.shift();r=r+"&"+QL+s+"="+o.seg+"&"+XL+s+"="+o.ts+"&"+JL+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(t4)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=16384,s4=45e3;let xu=null;typeof MozWebSocket<"u"?xu=MozWebSocket:typeof WebSocket<"u"&&(xu=WebSocket);class hn{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sl(this.connId),this.stats_=dg(n),this.connURL=hn.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[V1]=ug,typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(o[Y1]=K1),n&&(o[G1]=n),r&&(o[Q1]=r),s&&(o[lp]=s),i&&(o[X1]=i),tS(e,J1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rs.set("previous_websocket_failure",!0);try{let r;JC(),this.mySock=new xu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xu!==null&&!hn.forceDisallow_}static previouslyFailed(){return Rs.isInMemoryStorage||Rs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ya(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=B1(n,r4);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(s4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static get ALL_TRANSPORTS(){return[Ti,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=hn&&hn.isAvailable();let r=n&&!hn.previouslyFailed();if(e.webSocketOnly&&(n||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hn];else{const s=this.transports_=[];for(const i of Qa.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=6e4,o4=5e3,a4=10*1024,l4=100*1024,Pf="t",Lw="d",c4="s",Fw="r",u4="e",$w="o",Ww="a",Uw="n",Hw="p",d4="h";class f4{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sl("c:"+this.id+":"),this.transportManager_=new Qa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=xa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>l4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>a4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pf in e){const n=e[Pf];n===Ww?this.upgradeIfSecondaryHealthy_():n===Fw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$w&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ww,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ko(Pf,e);if(Lw in e){const r=e[Lw];if(n===d4){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Uw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===c4?this.onConnectionShutdown_(r):n===Fw?this.onReset_(r):n===u4?ap("Server Error: "+r):n===$w?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ap("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ug!==r&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(i4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(o4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){L(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends lS{static getInstance(){return new bu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=32,zw=768;class Ee{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new Ee("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function as(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function hg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function h4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Xa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function cS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function Ue(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ee(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function _t(t,e){const n=re(t),r=re(e);if(n===null)return e;if(n===r)return _t(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function p4(t,e){const n=Xa(t,0),r=Xa(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ai(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function pg(t,e){if(as(t)!==as(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function en(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(as(t)>as(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class m4{constructor(e,n){this.errorPrefix_=n,this.parts_=Xa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=hd(this.parts_[r]);uS(this)}}function g4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=hd(e),uS(t)}function v4(t){const e=t.parts_.pop();t.byteLength_-=hd(e),t.parts_.length>0&&(t.byteLength_-=1)}function uS(t){if(t.byteLength_>zw)throw new Error(t.errorPrefix_+"has a key path longer than "+zw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Bw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bw+") or object contains a cycle "+Ns(t))}function Ns(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends lS{static getInstance(){return new mg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,y4=60*5*1e3,Vw=30*1e3,w4=1.3,_4=3e4,x4="server_kill",Gw=3;class sr extends aS{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=sr.nextPersistentConnectionId_++,this.log_=Sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=y4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!JC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(qe(i)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new vl,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;sr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bn(e,"w")){const r=co(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||GD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=VD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ap("Unrecognized action received from server: "+qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_4&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*w4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+sr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(f){L(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new f4(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{bt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(x4)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&bt(f),l())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xh(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>cg(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ee(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gw&&(this.reconnectDelay_=Vw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+W1.replace(/\./g,"-")]=1,Qm()?e["framework.cordova"]=1:XC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bu.getInstance().currentlyOnline();return Xh(this.interruptReasons_)&&e}}sr.nextPersistentConnectionId_=0;sr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(ho,e),s=new se(ho,n);return this.compare(r,s)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;class dS extends vd{static get __EMPTY_NODE(){return sc}static set __EMPTY_NODE(e){sc=e}compare(e,n){return ai(e.name,n.name)}isDefinedOn(e){throw Po("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(Qs,sc)}makePost(e,n){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,sc)}toString(){return".key"}}const Ui=new dS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=s??Pt.EMPTY_NODE,this.right=i??Pt.EMPTY_NODE}copy(e,n,r,s,i){return new Ze(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Pt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class b4{copy(e,n,r,s,i){return this}insert(e,n,r){return new Ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ic(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ic(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ic(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ic(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new b4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){return ai(t.name,e.name)}function gg(t,e){return ai(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp;function S4(t){cp=t}const fS=function(t){return typeof t=="number"?"number:"+z1(t):"string:"+t},hS=function(t){if(t.isLeafNode()){const e=t.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bn(e,".sv"),"Priority must be a string or number.")}else L(t===cp||t.isEmpty(),"priority of unexpected type.");L(t===cp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yw;class Xe{static set __childrenNodeConstructor(e){Yw=e}static get __childrenNodeConstructor(){return Yw}constructor(e,n=Xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:re(e)===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=re(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||as(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=z1(this.value_):e+=this.value_,this.lazyHash_=H1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Xe.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Xe.VALUE_TYPE_ORDER.indexOf(n),i=Xe.VALUE_TYPE_ORDER.indexOf(r);return L(s>=0,"Unknown leaf type: "+n),L(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pS,mS;function E4(t){pS=t}function N4(t){mS=t}class k4 extends vd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ai(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Qs,new Xe("[PRIORITY-POST]",mS))}makePost(e,n){const r=pS(e);return new se(n,new Xe("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new k4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=Math.log(2);class P4{constructor(e){const n=i=>parseInt(Math.log(i)/T4,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cu=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let f,h;if(d===0)return null;if(d===1)return f=t[l],h=n?n(f):f,new Ze(h,f.node,Ze.BLACK,null,null);{const v=parseInt(d/2,10)+l,_=s(l,v),g=s(v+1,c);return f=t[v],h=n?n(f):f,new Ze(h,f.node,Ze.BLACK,_,g)}},i=function(l){let c=null,d=null,f=t.length;const h=function(_,g){const x=f-_,y=f;f-=_;const p=s(x+1,y),w=t[x],b=n?n(w):w;v(new Ze(b,w.node,g,null,p))},v=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const g=l.nextBitIsOne(),x=Math.pow(2,l.count-(_+1));g?h(x,Ze.BLACK):(h(x,Ze.BLACK),h(x,Ze.RED))}return d},o=new P4(t.length),a=i(o);return new Pt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;const ui={};class tr{static get Default(){return L(ui&&He,"ChildrenNode.ts has not been loaded"),If=If||new tr({".priority":ui},{".priority":He}),If}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=co(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return Bn(this.indexSet_,e.toString())}addIndex(e,n){L(e!==Ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(se.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Cu(r,e.getCompare()):a=ui;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=a,new tr(d,c)}addToIndexes(e,n){const r=hu(this.indexes_,(s,i)=>{const o=co(this.indexSet_,i);if(L(o,"Missing index implementation for "+i),s===ui)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(se.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Cu(a,o.getCompare())}else return ui;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new se(e.name,a))),l.insert(e,e.node)}});return new tr(r,this.indexSet_)}removeFromIndexes(e,n){const r=hu(this.indexes_,s=>{if(s===ui)return s;{const i=n.get(e.name);return i?s.remove(new se(e.name,i)):s}});return new tr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class K{static get EMPTY_NODE(){return Qo||(Qo=new K(new Pt(gg),null,tr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hS(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new K(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qo:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(L(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new se(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Qo:this.priorityNode_;return new K(s,o,i)}}updateChild(e,n){const r=re(e);if(r===null)return n;{L(re(e)!==".priority"||as(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),r++,i&&K.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fS(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":H1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new se(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,se.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===El?-1:0}withIndex(e){if(e===Ui||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ui||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),s=n.getIterator(He);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ui?null:this.indexMap_.get(e.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class I4 extends K{constructor(){super(new Pt(gg),K.EMPTY_NODE,tr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}}const El=new I4;Object.defineProperties(se,{MIN:{value:new se(ho,K.EMPTY_NODE)},MAX:{value:new se(Qs,El)}});dS.__EMPTY_NODE=K.EMPTY_NODE;Xe.__childrenNodeConstructor=K;S4(El);N4(El);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=!0;function Ke(t,e=null){if(t===null)return K.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Xe(n,Ke(e))}if(!(t instanceof Array)&&R4){const n=[];let r=!1;if(it(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ke(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new se(o,l)))}}),n.length===0)return K.EMPTY_NODE;const i=Cu(n,C4,o=>o.name,gg);if(r){const o=Cu(n,He.getCompare());return new K(i,Ke(e),new tr({".priority":o},{".priority":He}))}else return new K(i,Ke(e),tr.Default)}else{let n=K.EMPTY_NODE;return it(t,(r,s)=>{if(Bn(t,r)&&r.substring(0,1)!=="."){const i=Ke(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ke(e))}}E4(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4 extends vd{constructor(e){super(),this.indexPath_=e,L(!ae(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ai(e.name,n.name):i}makePost(e,n){const r=Ke(e),s=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,s)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,El);return new se(Qs,e)}toString(){return Xa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends vd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ai(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=Ke(e);return new se(n,r)}toString(){return".value"}}const D4=new O4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){return{type:"value",snapshotNode:t}}function po(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ja(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Za(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function M4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){L(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ja(n,a)):L(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(po(n,r)):o.trackChildChange(Za(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ja(s,i))}),n.isLeafNode()||n.forEachChild(He,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Za(s,i,o))}else r.trackChildChange(po(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.indexedFilter_=new vg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=el.getStartPost_(e),this.endPost_=el.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new se(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(K.EMPTY_NODE);const i=this;return n.forEachChild(He,(o,a)=>{i.matches(new se(o,a))||(s=s.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new el(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new se(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=K.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(K.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,v)=>f(v,h)}else o=this.index_.getCompare();const a=e;L(a.numChildren()===this.limit_,"");const l=new se(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const v=h==null?1:o(h,l);if(d&&!r.isEmpty()&&v>=0)return i!=null&&i.trackChildChange(Za(n,r,f)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ja(n,f));const g=a.updateImmediateChild(n,K.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(po(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Ja(c.name,c.node)),i.trackChildChange(po(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,K.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ho}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new yg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function L4(t){return t.loadsAllData()?new vg(t.getIndex()):t.hasLimit()?new j4(t):new el(t)}function Kw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===D4?n="$value":t.index_===Ui?n="$key":(L(t.index_ instanceof A4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=qe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+qe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=qe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends aS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Sl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Su.getListenId_(e,r),a={};this.listens_[o]=a;const l=Kw(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(i,f,!1,r),co(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=Su.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Kw(e._queryParams),r=e._path.toString(),s=new vl;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ro(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ya(a.responseText)}catch{bt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&bt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(){return{value:null,children:new Map}}function vS(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=re(e);t.children.has(r)||t.children.set(r,Eu());const s=t.children.get(r);e=ke(e),vS(s,e,n)}}function up(t,e,n){t.value!==null?n(e,t.value):$4(t,(r,s)=>{const i=new Ee(e.toString()+"/"+r);up(s,i,n)})}function $4(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&it(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=10*1e3,U4=30*1e3,H4=5*60*1e3;class B4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new W4(e);const r=Qw+(U4-Qw)*Math.random();xa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;it(e,(s,i)=>{i>0&&Bn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),xa(this.reportStats_.bind(this),Math.floor(Math.random()*2*H4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function wg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _g(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mn.ACK_USER_WRITE,this.source=wg()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(e));return new Nu(he(),n,this.revert)}}else return L(re(this.path)===e,"operationForChild called for unrelated child."),new Nu(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.source=e,this.path=n,this.type=mn.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new tl(this.source,he()):new tl(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mn.OVERWRITE}operationForChild(e){return ae(this.path)?new Xs(this.source,he(),this.snap.getImmediateChild(e)):new Xs(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new Xs(this.source,he(),n.value):new mo(this.source,he(),n)}else return L(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mo(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function V4(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(M4(o.childName,o.snapshotNode))}),Xo(t,s,"child_removed",e,r,n),Xo(t,s,"child_added",e,r,n),Xo(t,s,"child_moved",i,r,n),Xo(t,s,"child_changed",e,r,n),Xo(t,s,"value",e,r,n),s}function Xo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Y4(t,a,l)),o.forEach(a=>{const l=G4(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function G4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Y4(t,e,n){if(e.childName==null||n.childName==null)throw Po("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),s=new se(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e){return{eventCache:t,serverCache:e}}function ba(t,e,n,r){return yd(new ls(e,n,r),t.serverCache)}function yS(t,e,n,r){return yd(t.eventCache,new ls(e,n,r))}function ku(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Js(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf;const K4=()=>(Rf||(Rf=new Pt(AL)),Rf);class Ne{static fromObject(e){let n=new Ne(null);return it(e,(r,s)=>{n=n.set(new Ee(r),s)}),n}constructor(e,n=K4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(ae(e))return null;{const r=re(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ke(e),n);return i!=null?{path:Ue(new Ee(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=re(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Ne(null)}}set(e,n){if(ae(e))return new Ne(n,this.children);{const r=re(e),i=(this.children.get(r)||new Ne(null)).set(ke(e),n),o=this.children.insert(r,i);return new Ne(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=re(e),r=this.children.get(n);if(r){const s=r.remove(ke(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ne(null):new Ne(this.value,i)}else return this}}get(e){if(ae(e))return this.value;{const n=re(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(ae(e))return n;{const r=re(e),i=(this.children.get(r)||new Ne(null)).setTree(ke(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ne(this.value,o)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ue(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ae(e))return null;{const i=re(e),o=this.children.get(i);return o?o.findOnPath_(ke(e),Ue(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);const s=re(e),i=this.children.get(s);return i?i.foreachOnPath_(ke(e),Ue(n,s),r):new Ne(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ue(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.writeTree_=e}static empty(){return new wn(new Ne(null))}}function Ca(t,e,n){if(ae(e))return new wn(new Ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=_t(s,e);return i=i.updateChild(o,n),new wn(t.writeTree_.set(s,i))}else{const s=new Ne(n),i=t.writeTree_.setTree(e,s);return new wn(i)}}}function dp(t,e,n){let r=t;return it(n,(s,i)=>{r=Ca(r,Ue(e,s),i)}),r}function Xw(t,e){if(ae(e))return wn.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new wn(n)}}function fp(t,e){return li(t,e)!=null}function li(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(_t(n.path,e)):null}function Jw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,s)=>{e.push(new se(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new se(r,s.value))}),e}function es(t,e){if(ae(e))return t;{const n=li(t,e);return n!=null?new wn(new Ne(n)):new wn(t.writeTree_.subtree(e))}}function hp(t){return t.writeTree_.isEmpty()}function go(t,e){return wS(he(),t.writeTree_,e)}function wS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(L(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=wS(Ue(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ue(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e){return CS(e,t)}function q4(t,e,n,r,s){L(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Ca(t.visibleWrites,e,n)),t.lastWriteId=r}function Q4(t,e,n,r){L(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=dp(t.visibleWrites,e,n),t.lastWriteId=r}function X4(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function J4(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);L(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Z4(a,r.path)?s=!1:en(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return e3(t),!0;if(r.snap)t.visibleWrites=Xw(t.visibleWrites,r.path);else{const a=r.children;it(a,l=>{t.visibleWrites=Xw(t.visibleWrites,Ue(r.path,l))})}return!0}else return!1}function Z4(t,e){if(t.snap)return en(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&en(Ue(t.path,n),e))return!0;return!1}function e3(t){t.visibleWrites=_S(t.allWrites,t3,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function t3(t){return t.visible}function _S(t,e,n){let r=wn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)en(n,o)?(a=_t(n,o),r=Ca(r,a,i.snap)):en(o,n)&&(a=_t(o,n),r=Ca(r,he(),i.snap.getChild(a)));else if(i.children){if(en(n,o))a=_t(n,o),r=dp(r,a,i.children);else if(en(o,n))if(a=_t(o,n),ae(a))r=dp(r,he(),i.children);else{const l=co(i.children,re(a));if(l){const c=l.getChild(ke(a));r=Ca(r,he(),c)}}}else throw Po("WriteRecord should have .snap or .children")}}return r}function xS(t,e,n,r,s){if(!r&&!s){const i=li(t.visibleWrites,e);if(i!=null)return i;{const o=es(t.visibleWrites,e);if(hp(o))return n;if(n==null&&!fp(o,he()))return null;{const a=n||K.EMPTY_NODE;return go(o,a)}}}else{const i=es(t.visibleWrites,e);if(!s&&hp(i))return n;if(!s&&n==null&&!fp(i,he()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(en(c.path,e)||en(e,c.path))},a=_S(t.allWrites,o,e),l=n||K.EMPTY_NODE;return go(a,l)}}}function n3(t,e,n){let r=K.EMPTY_NODE;const s=li(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=es(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=go(es(i,new Ee(o)),a);r=r.updateImmediateChild(o,l)}),Jw(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=es(t.visibleWrites,e);return Jw(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function r3(t,e,n,r,s){L(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ue(e,n);if(fp(t.visibleWrites,i))return null;{const o=es(t.visibleWrites,i);return hp(o)?s.getChild(n):go(o,s.getChild(n))}}function s3(t,e,n,r){const s=Ue(e,n),i=li(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=es(t.visibleWrites,s);return go(o,r.getNode().getImmediateChild(n))}else return null}function i3(t,e){return li(t.visibleWrites,e)}function o3(t,e,n,r,s,i,o){let a;const l=es(t.visibleWrites,e),c=li(l,he());if(c!=null)a=c;else if(n!=null)a=go(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=h.getNext();for(;v&&d.length<s;)f(v,r)!==0&&d.push(v),v=h.getNext();return d}else return[]}function a3(){return{visibleWrites:wn.empty(),allWrites:[],lastWriteId:-1}}function Tu(t,e,n,r){return xS(t.writeTree,t.treePath,e,n,r)}function bg(t,e){return n3(t.writeTree,t.treePath,e)}function Zw(t,e,n,r){return r3(t.writeTree,t.treePath,e,n,r)}function Pu(t,e){return i3(t.writeTree,Ue(t.treePath,e))}function l3(t,e,n,r,s,i){return o3(t.writeTree,t.treePath,e,n,r,s,i)}function Cg(t,e,n){return s3(t.writeTree,t.treePath,e,n)}function bS(t,e){return CS(Ue(t.treePath,e),t.writeTree)}function CS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Za(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ja(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,po(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Za(r,e.snapshotNode,s.oldSnap));else throw Po("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const SS=new u3;class Sg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Js(this.viewCache_),i=l3(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){return{filter:t}}function f3(t,e){L(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function h3(t,e,n,r,s){const i=new c3;let o,a;if(n.type===mn.OVERWRITE){const c=n;c.source.fromUser?o=pp(t,e,c.path,c.snap,r,s,i):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ae(c.path),o=Iu(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===mn.MERGE){const c=n;c.source.fromUser?o=m3(t,e,c.path,c.children,r,s,i):(L(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=mp(t,e,c.path,c.children,r,s,a,i))}else if(n.type===mn.ACK_USER_WRITE){const c=n;c.revert?o=y3(t,e,c.path,r,s,i):o=g3(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===mn.LISTEN_COMPLETE)o=v3(t,e,n.path,r,i);else throw Po("Unknown operation type: "+n.type);const l=i.getChanges();return p3(e,o,l),{viewCache:o,changes:l}}function p3(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=ku(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(gS(ku(e)))}}function ES(t,e,n,r,s,i){const o=e.eventCache;if(Pu(r,n)!=null)return e;{let a,l;if(ae(n))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Js(e),d=c instanceof K?c:K.EMPTY_NODE,f=bg(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const c=Tu(r,Js(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=re(n);if(c===".priority"){L(as(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=Zw(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=ke(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Zw(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(c).updateChild(d,h):f=o.getNode().getImmediateChild(c)}else f=Cg(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,d,s,i):a=o.getNode()}}return ba(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function Iu(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(ae(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),v,null)}else{const v=re(n);if(!l.isCompleteForPath(n)&&as(n)>1)return e;const _=ke(n),x=l.getNode().getImmediateChild(v).updateChild(_,r);v===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),v,x,_,SS,null)}const f=yS(e,c,l.isFullyInitialized()||ae(n),d.filtersNodes()),h=new Sg(s,f,i);return ES(t,f,n,s,h,a)}function pp(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new Sg(s,e,i);if(ae(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ba(e,c,!0,t.filter.filtersNodes());else{const f=re(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ba(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ke(n),v=a.getNode().getImmediateChild(f);let _;if(ae(h))_=r;else{const g=d.getCompleteChild(f);g!=null?hg(h)===".priority"&&g.getChild(cS(h)).isEmpty()?_=g:_=g.updateChild(h,r):_=K.EMPTY_NODE}if(v.equals(_))l=e;else{const g=t.filter.updateChild(a.getNode(),f,_,h,d,o);l=ba(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function e_(t,e){return t.eventCache.isCompleteForChild(e)}function m3(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=Ue(n,l);e_(e,re(d))&&(a=pp(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=Ue(n,l);e_(e,re(d))||(a=pp(t,a,d,c,s,i,o))}),a}function t_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function mp(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ae(n)?c=r:c=new Ne(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const v=e.serverCache.getNode().getImmediateChild(f),_=t_(t,v,h);l=Iu(t,l,new Ee(f),_,s,i,o,a)}}),c.children.inorderTraversal((f,h)=>{const v=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!v){const _=e.serverCache.getNode().getImmediateChild(f),g=t_(t,_,h);l=Iu(t,l,new Ee(f),g,s,i,o,a)}}),l}function g3(t,e,n,r,s,i,o){if(Pu(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Iu(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ae(n)){let c=new Ne(null);return l.getNode().forEachChild(Ui,(d,f)=>{c=c.set(new Ee(d),f)}),mp(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ne(null);return r.foreach((d,f)=>{const h=Ue(n,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),mp(t,e,n,c,s,i,a,o)}}function v3(t,e,n,r,s){const i=e.serverCache,o=yS(e,i.getNode(),i.isFullyInitialized()||ae(n),i.isFiltered());return ES(t,o,n,r,SS,s)}function y3(t,e,n,r,s,i){let o;if(Pu(r,n)!=null)return e;{const a=new Sg(r,e,s),l=e.eventCache.getNode();let c;if(ae(n)||re(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Tu(r,Js(e));else{const f=e.serverCache.getNode();L(f instanceof K,"serverChildren would be complete if leaf node"),d=bg(r,f)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=re(n);let f=Cg(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?c=t.filter.updateChild(l,d,f,ke(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,K.EMPTY_NODE,ke(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Tu(r,Js(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Pu(r,he())!=null,ba(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new vg(r.getIndex()),i=L4(r);this.processor_=d3(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(K.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(K.EMPTY_NODE,a.getNode(),null),d=new ls(l,o.isFullyInitialized(),s.filtersNodes()),f=new ls(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=yd(f,d),this.eventGenerator_=new z4(this.query_)}get query(){return this.query_}}function _3(t){return t.viewCache_.serverCache.getNode()}function x3(t){return ku(t.viewCache_)}function b3(t,e){const n=Js(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function n_(t){return t.eventRegistrations_.length===0}function C3(t,e){t.eventRegistrations_.push(e)}function r_(t,e,n){const r=[];if(n){L(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function s_(t,e,n,r){e.type===mn.MERGE&&e.source.queryId!==null&&(L(Js(t.viewCache_),"We should always have a full cache before handling merges"),L(ku(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=h3(t.processor_,s,e,n,r);return f3(t.processor_,i.viewCache),L(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,NS(t,i.changes,i.viewCache.eventCache.getNode(),null)}function S3(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(i,o)=>{r.push(po(i,o))}),n.isFullyInitialized()&&r.push(gS(n.getNode())),NS(t,r,n.getNode(),e)}function NS(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return V4(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;class kS{constructor(){this.views=new Map}}function E3(t){L(!Ru,"__referenceConstructor has already been defined"),Ru=t}function N3(){return L(Ru,"Reference.ts has not been loaded"),Ru}function k3(t){return t.views.size===0}function Eg(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return L(i!=null,"SyncTree gave us an op for an invalid query."),s_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(s_(o,e,n,r));return i}}function TS(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Tu(n,s?r:null),l=!1;a?l=!0:r instanceof K?(a=bg(n,r),l=!1):(a=K.EMPTY_NODE,l=!1);const c=yd(new ls(a,l,!1),new ls(r,s,!1));return new w3(e,c)}return o}function T3(t,e,n,r,s,i){const o=TS(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),C3(o,n),S3(o,n)}function P3(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=cs(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(r_(c,n,r)),n_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(r_(l,n,r)),n_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!cs(t)&&i.push(new(N3())(e._repo,e._path)),{removed:i,events:o}}function PS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ts(t,e){let n=null;for(const r of t.views.values())n=n||b3(r,e);return n}function IS(t,e){if(e._queryParams.loadsAllData())return _d(t);{const r=e._queryIdentifier;return t.views.get(r)}}function RS(t,e){return IS(t,e)!=null}function cs(t){return _d(t)!=null}function _d(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;function I3(t){L(!Au,"__referenceConstructor has already been defined"),Au=t}function R3(){return L(Au,"Reference.ts has not been loaded"),Au}let A3=1;class i_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=a3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AS(t,e,n,r,s){return q4(t.pendingWriteTree_,e,n,r,s),s?Mo(t,new Xs(wg(),e,n)):[]}function O3(t,e,n,r){Q4(t.pendingWriteTree_,e,n,r);const s=Ne.fromObject(n);return Mo(t,new mo(wg(),e,s))}function Hr(t,e,n=!1){const r=X4(t.pendingWriteTree_,e);if(J4(t.pendingWriteTree_,e)){let i=new Ne(null);return r.snap!=null?i=i.set(he(),!0):it(r.children,o=>{i=i.set(new Ee(o),!0)}),Mo(t,new Nu(r.path,i,n))}else return[]}function Nl(t,e,n){return Mo(t,new Xs(_g(),e,n))}function D3(t,e,n){const r=Ne.fromObject(n);return Mo(t,new mo(_g(),e,r))}function M3(t,e){return Mo(t,new tl(_g(),e))}function j3(t,e,n){const r=kg(t,n);if(r){const s=Tg(r),i=s.path,o=s.queryId,a=_t(i,e),l=new tl(xg(o),a);return Pg(t,i,l)}else return[]}function Ou(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||RS(o,e))){const l=P3(o,e,n,r);k3(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(h,v)=>cs(v));if(d&&!f){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const v=$3(h);for(let _=0;_<v.length;++_){const g=v[_],x=g.query,y=jS(t,g);t.listenProvider_.startListening(Sa(x),nl(t,x),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Sa(e),null):c.forEach(h=>{const v=t.queryToTagMap.get(xd(h));t.listenProvider_.stopListening(Sa(h),v)}))}W3(t,c)}return a}function OS(t,e,n,r){const s=kg(t,r);if(s!=null){const i=Tg(s),o=i.path,a=i.queryId,l=_t(o,e),c=new Xs(xg(a),l,n);return Pg(t,o,c)}else return[]}function L3(t,e,n,r){const s=kg(t,r);if(s){const i=Tg(s),o=i.path,a=i.queryId,l=_t(o,e),c=Ne.fromObject(n),d=new mo(xg(a),l,c);return Pg(t,o,d)}else return[]}function gp(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,v)=>{const _=_t(h,s);i=i||ts(v,_),o=o||cs(v)});let a=t.syncPointTree_.get(s);a?(o=o||cs(a),i=i||ts(a,he())):(a=new kS,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=K.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((v,_)=>{const g=ts(_,he());g&&(i=i.updateImmediateChild(v,g))}));const c=RS(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=xd(e);L(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const v=U3();t.queryToTagMap.set(h,v),t.tagToQueryMap.set(v,h)}const d=wd(t.pendingWriteTree_,s);let f=T3(a,e,n,d,i,l);if(!c&&!o&&!r){const h=IS(a,e);f=f.concat(H3(t,e,h))}return f}function Ng(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=_t(o,e),c=ts(a,l);if(c)return c});return xS(s,e,i,n,!0)}function F3(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const f=_t(c,n);r=r||ts(d,f)});let s=t.syncPointTree_.get(n);s?r=r||ts(s,he()):(s=new kS,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new ls(r,!0,!1):null,a=wd(t.pendingWriteTree_,e._path),l=TS(s,e,a,i?o.getNode():K.EMPTY_NODE,i);return x3(l)}function Mo(t,e){return DS(e,t.syncPointTree_,null,wd(t.pendingWriteTree_,he()))}function DS(t,e,n,r){if(ae(t.path))return MS(t,e,n,r);{const s=e.get(he());n==null&&s!=null&&(n=ts(s,he()));let i=[];const o=re(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=bS(r,o);i=i.concat(DS(a,l,c,d))}return s&&(i=i.concat(Eg(s,t,r,n))),i}}function MS(t,e,n,r){const s=e.get(he());n==null&&s!=null&&(n=ts(s,he()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=bS(r,o),d=t.operationForChild(o);d&&(i=i.concat(MS(d,a,l,c)))}),s&&(i=i.concat(Eg(s,t,r,n))),i}function jS(t,e){const n=e.query,r=nl(t,n);return{hashFn:()=>(_3(e)||K.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?j3(t,n._path,r):M3(t,n._path);{const i=ML(s,n);return Ou(t,n,null,i)}}}}function nl(t,e){const n=xd(e);return t.queryToTagMap.get(n)}function xd(t){return t._path.toString()+"$"+t._queryIdentifier}function kg(t,e){return t.tagToQueryMap.get(e)}function Tg(t){const e=t.indexOf("$");return L(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function Pg(t,e,n){const r=t.syncPointTree_.get(e);L(r,"Missing sync point for query tag that we're tracking");const s=wd(t.pendingWriteTree_,e);return Eg(r,n,s,null)}function $3(t){return t.fold((e,n,r)=>{if(n&&cs(n))return[_d(n)];{let s=[];return n&&(s=PS(n)),it(r,(i,o)=>{s=s.concat(o)}),s}})}function Sa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(R3())(t._repo,t._path):t}function W3(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=xd(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function U3(){return A3++}function H3(t,e,n){const r=e._path,s=nl(t,e),i=jS(t,n),o=t.listenProvider_.startListening(Sa(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)L(!cs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!ae(c)&&d&&cs(d))return[_d(d).query];{let h=[];return d&&(h=h.concat(PS(d).map(v=>v.query))),it(f,(v,_)=>{h=h.concat(_)}),h}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Sa(d),nl(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ig(n)}node(){return this.node_}}class Rg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ue(this.path_,e);return new Rg(this.syncTree_,n)}node(){return Ng(this.syncTree_,this.path_)}}const B3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},o_=function(t,e,n){if(!t||typeof t!="object")return t;if(L(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return z3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return V3(t[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},z3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+t)}},V3=function(t,e,n){t.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const s=e.node();if(L(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},LS=function(t,e,n,r){return Ag(e,new Rg(n,t),r)},FS=function(t,e,n){return Ag(t,new Ig(e),n)};function Ag(t,e,n){const r=t.getPriority().val(),s=o_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=o_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Xe(a,Ke(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Xe(s))),o.forEachChild(He,(a,l)=>{const c=Ag(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Dg(t,e){let n=e instanceof Ee?e:new Ee(e),r=t,s=re(n);for(;s!==null;){const i=co(r.node.children,s)||{children:{},childCount:0};r=new Og(s,r,i),n=ke(n),s=re(n)}return r}function jo(t){return t.node.value}function $S(t,e){t.node.value=e,vp(t)}function WS(t){return t.node.childCount>0}function G3(t){return jo(t)===void 0&&!WS(t)}function bd(t,e){it(t.node.children,(n,r)=>{e(new Og(n,t,r))})}function US(t,e,n,r){n&&!r&&e(t),bd(t,s=>{US(s,e,!0,r)}),n&&r&&e(t)}function Y3(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function kl(t){return new Ee(t.parent===null?t.name:kl(t.parent)+"/"+t.name)}function vp(t){t.parent!==null&&K3(t.parent,t.name,t)}function K3(t,e,n){const r=G3(n),s=Bn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,vp(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,vp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=/[\[\].#$\/\u0000-\u001F\u007F]/,Q3=/[\[\].#$\u0000-\u001F\u007F]/,Af=10*1024*1024,Mg=function(t){return typeof t=="string"&&t.length!==0&&!q3.test(t)},HS=function(t){return typeof t=="string"&&t.length!==0&&!Q3.test(t)},X3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),HS(t)},J3=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!lg(t)||t&&typeof t=="object"&&Bn(t,".sv")},BS=function(t,e,n,r){r&&e===void 0||Cd(fd(t,"value"),e,n)},Cd=function(t,e,n){const r=n instanceof Ee?new m4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ns(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ns(r)+" with contents = "+e.toString());if(lg(e))throw new Error(t+"contains "+e.toString()+" "+Ns(r));if(typeof e=="string"&&e.length>Af/3&&hd(e)>Af)throw new Error(t+"contains a string greater than "+Af+" utf8 bytes "+Ns(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(it(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Mg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ns(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);g4(r,o),Cd(t,a,r),v4(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ns(r)+" in addition to actual children.")}},Z3=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Xa(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Mg(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(p4);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&en(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},eF=function(t,e,n,r){const s=fd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];it(e,(o,a)=>{const l=new Ee(o);if(Cd(s,a,Ue(n,l)),hg(l)===".priority"&&!J3(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),Z3(s,i)},zS=function(t,e,n,r){if(!HS(n))throw new Error(fd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zS(t,e,n)},VS=function(t,e){if(re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Mg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!X3(n))throw new Error(fd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sd(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!pg(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function GS(t,e,n){Sd(t,n),YS(t,r=>pg(r,e))}function sn(t,e,n){Sd(t,n),YS(t,r=>en(r,e)||en(e,r))}function YS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(sF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();_a&&nt("event: "+n.toString()),Do(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="repo_interrupt",oF=25;class aF{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eu(),this.transactionQueueTree_=new Og,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lF(t,e,n){if(t.stats_=dg(t.repoInfo_),t.forceRestClient_||$L())t.server_=new Su(t.repoInfo_,(r,s,i,o)=>{a_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>l_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new sr(t.repoInfo_,e,(r,s,i,o)=>{a_(t,r,s,i,o)},r=>{l_(t,r)},r=>{cF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zL(t.repoInfo_,()=>new B4(t.stats_,t.server_)),t.infoData_=new F4,t.infoSyncTree_=new i_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Nl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),jg(t,"connected",!1),t.serverSyncTree_=new i_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);sn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function KS(t){const n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ed(t){return B3({timestamp:KS(t)})}function a_(t,e,n,r,s){t.dataUpdateCount++;const i=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=hu(n,c=>Ke(c));o=L3(t.serverSyncTree_,i,l,s)}else{const l=Ke(n);o=OS(t.serverSyncTree_,i,l,s)}else if(r){const l=hu(n,c=>Ke(c));o=D3(t.serverSyncTree_,i,l)}else{const l=Ke(n);o=Nl(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=vo(t,i)),sn(t.eventQueue_,a,o)}function l_(t,e){jg(t,"connected",e),e===!1&&hF(t)}function cF(t,e){it(e,(n,r)=>{jg(t,n,r)})}function jg(t,e,n){const r=new Ee("/.info/"+e),s=Ke(n);t.infoData_.updateSnapshot(r,s);const i=Nl(t.infoSyncTree_,r,s);sn(t.eventQueue_,r,i)}function Lg(t){return t.nextWriteId_++}function uF(t,e,n){const r=F3(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ke(s).withIndex(e._queryParams.getIndex());gp(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Nl(t.serverSyncTree_,e._path,i);else{const a=nl(t.serverSyncTree_,e);o=OS(t.serverSyncTree_,e._path,i,a)}return sn(t.eventQueue_,e._path,o),Ou(t.serverSyncTree_,e,n,null,!0),i},s=>(Tl(t,"get for query "+qe(e)+" failed: "+s),Promise.reject(new Error(s))))}function dF(t,e,n,r,s){Tl(t,"set",{path:e.toString(),value:n,priority:r});const i=Ed(t),o=Ke(n,r),a=Ng(t.serverSyncTree_,e),l=FS(o,a,i),c=Lg(t),d=AS(t.serverSyncTree_,e,l,c,!0);Sd(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,v)=>{const _=h==="ok";_||bt("set at "+e+" failed: "+h);const g=Hr(t.serverSyncTree_,c,!_);sn(t.eventQueue_,e,g),yp(t,s,h,v)});const f=$g(t,e);vo(t,f),sn(t.eventQueue_,f,[])}function fF(t,e,n,r){Tl(t,"update",{path:e.toString(),value:n});let s=!0;const i=Ed(t),o={};if(it(n,(a,l)=>{s=!1,o[a]=LS(Ue(e,a),Ke(l),t.serverSyncTree_,i)}),s)nt("update() called with empty data.  Don't do anything."),yp(t,r,"ok",void 0);else{const a=Lg(t),l=O3(t.serverSyncTree_,e,o,a);Sd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const f=c==="ok";f||bt("update at "+e+" failed: "+c);const h=Hr(t.serverSyncTree_,a,!f),v=h.length>0?vo(t,e):e;sn(t.eventQueue_,v,h),yp(t,r,c,d)}),it(n,c=>{const d=$g(t,Ue(e,c));vo(t,d)}),sn(t.eventQueue_,e,[])}}function hF(t){Tl(t,"onDisconnectEvents");const e=Ed(t),n=Eu();up(t.onDisconnect_,he(),(s,i)=>{const o=LS(s,i,t.serverSyncTree_,e);vS(n,s,o)});let r=[];up(n,he(),(s,i)=>{r=r.concat(Nl(t.serverSyncTree_,s,i));const o=$g(t,s);vo(t,o)}),t.onDisconnect_=Eu(),sn(t.eventQueue_,he(),r)}function pF(t,e,n){let r;re(e._path)===".info"?r=gp(t.infoSyncTree_,e,n):r=gp(t.serverSyncTree_,e,n),GS(t.eventQueue_,e._path,r)}function c_(t,e,n){let r;re(e._path)===".info"?r=Ou(t.infoSyncTree_,e,n):r=Ou(t.serverSyncTree_,e,n),GS(t.eventQueue_,e._path,r)}function mF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(iF)}function Tl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function yp(t,e,n,r){e&&Do(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function qS(t,e,n){return Ng(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function Fg(t,e=t.transactionQueueTree_){if(e||Nd(t,e),jo(e)){const n=XS(t,e);L(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&gF(t,kl(e),n)}else WS(e)&&bd(e,n=>{Fg(t,n)})}function gF(t,e,n){const r=n.map(c=>c.currentWriteId),s=qS(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];L(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=_t(e,d.path);i=i.updateChild(f,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Tl(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Hr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Nd(t,Dg(t.transactionQueueTree_,e)),Fg(t,t.transactionQueueTree_),sn(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Do(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{bt("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}vo(t,e)}},o)}function vo(t,e){const n=QS(t,e),r=kl(n),s=XS(t,n);return vF(t,s,r),r}function vF(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=_t(n,l.path);let d=!1,f;if(L(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,s=s.concat(Hr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=oF)d=!0,f="maxretry",s=s.concat(Hr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=qS(t,l.path,o);l.currentInputSnapshot=h;const v=e[a].update(h.val());if(v!==void 0){Cd("transaction failed: Data returned ",v,l.path);let _=Ke(v);typeof v=="object"&&v!=null&&Bn(v,".priority")||(_=_.updatePriority(h.getPriority()));const x=l.currentWriteId,y=Ed(t),p=FS(_,h,y);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=p,l.currentWriteId=Lg(t),o.splice(o.indexOf(x),1),s=s.concat(AS(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(Hr(t.serverSyncTree_,x,!0))}else d=!0,f="nodata",s=s.concat(Hr(t.serverSyncTree_,l.currentWriteId,!0))}sn(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Nd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Do(r[a]);Fg(t,t.transactionQueueTree_)}function QS(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);n!==null&&jo(r)===void 0;)r=Dg(r,n),e=ke(e),n=re(e);return r}function XS(t,e){const n=[];return JS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function JS(t,e,n){const r=jo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);bd(e,s=>{JS(t,s,n)})}function Nd(t,e){const n=jo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$S(e,n.length>0?n:void 0)}bd(e,r=>{Nd(t,r)})}function $g(t,e){const n=kl(QS(t,e)),r=Dg(t.transactionQueueTree_,e);return Y3(r,s=>{Of(t,s)}),Of(t,r),US(r,s=>{Of(t,s)}),n}function Of(t,e){const n=jo(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(L(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(L(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Hr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?$S(e,void 0):n.length=i+1,sn(t.eventQueue_,kl(e),s);for(let o=0;o<r.length;o++)Do(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function wF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bt(`Invalid query segment '${n}' in query '${t}'`)}return e}const u_=function(t,e){const n=_F(t),r=n.namespace;n.domain==="firebase.com"&&hr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&hr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||IL();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new eS(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ee(n.pathString)}},_F=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(s=yF(t.substring(d,f)));const h=wF(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xF=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=d_.charAt(n%64),n=Math.floor(n/64);L(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=d_.charAt(e[s]);return L(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class CF{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ae(this._path)?null:hg(this._path)}get ref(){return new gr(this._repo,this._path)}get _queryIdentifier(){const e=qw(this._queryParams),n=cg(e);return n==="{}"?"default":n}get _queryObject(){return qw(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof Wg))return!1;const n=this._repo===e._repo,r=pg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+h4(this._path)}}class gr extends Wg{constructor(e,n){super(e,n,new yg,!1)}get parent(){const e=cS(this._path);return e===null?null:new gr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class rl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ee(e),r=sl(this.ref,e);return new rl(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new rl(s,sl(this.ref,r),He)))}hasChild(e){const n=new Ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Be(t,e){return t=mt(t),t._checkNotDeleted("ref"),e!==void 0?sl(t._root,e):t._root}function sl(t,e){return t=mt(t),re(t._path)===null?tF("child","path",e):zS("child","path",e),new gr(t._repo,Ue(t._path,e))}function f_(t,e){t=mt(t),VS("push",t._path),BS("push",e,t._path,!0);const n=KS(t._repo),r=xF(n),s=sl(t,r),i=sl(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Du(t,e){t=mt(t),VS("set",t._path),BS("set",e,t._path,!1);const n=new vl;return dF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Yt(t,e){eF("update",e,t._path);const n=new vl;return fF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function wp(t){t=mt(t);const e=new ZS(()=>{}),n=new kd(e);return uF(t._repo,t,n).then(r=>new rl(r,new gr(t._repo,t._path),t._queryParams.getIndex()))}class kd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new bF("value",this,new rl(e.snapshotNode,new gr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CF(this,e,n):null}matches(e){return e instanceof kd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function SF(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,f)=>{c_(t._repo,t,a),l(d,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new ZS(n,i||void 0),a=new kd(o);return pF(t._repo,t,a),()=>c_(t._repo,t,a)}function oc(t,e,n,r){return SF(t,"value",e,n,r)}E3(gr);I3(gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="FIREBASE_DATABASE_EMULATOR_HOST",_p={};let NF=!1;function kF(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=Io(i);t.repoInfo_=new eS(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function TF(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||hr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=u_(i,s),a=o.repoInfo,l;typeof process<"u"&&Rw&&(l=Rw[EF]),l?(i=`http://${l}?ns=${a.namespace}`,o=u_(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new UL(t.name,t.options,e);nF("Invalid Firebase Database URL",o),ae(o.path)||hr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=IF(a,t,c,new WL(t,n));return new RF(d,t)}function PF(t,e){const n=_p[e];(!n||n[t.key]!==t)&&hr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mF(t),delete n[t.key]}function IF(t,e,n,r){let s=_p[e.name];s||(s={},_p[e.name]=s);let i=s[t.toURLString()];return i&&hr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new aF(t,NF,n,r),s[t.toURLString()]=i,i}class RF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gr(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hr("Cannot call "+e+" on a deleted database.")}}function AF(t=r1(),e){const n=Zm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=OD("database");r&&OF(n,...r)}return n}function OF(t,e,n,r={}){t=mt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Gs(r,i.repoInfo_.emulatorOptions))return;hr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&hr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ac(Ac.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:DD(r.mockUserToken,t.app.options.projectId);o=new Ac(a)}Io(e)&&(qC(e),QC("Database",!0)),kF(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){SL(Ao),uo(new Ys("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return TF(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Zr(Aw,Ow,t),Zr(Aw,Ow,"esm2020")}sr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};sr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DF();const MF={apiKey:"AIzaSyCEtbJ-KR_UV9LAlYlnvgoxliRs5FkSdXk",authDomain:"kicked-in-the-disc.firebaseapp.com",databaseURL:"https://kicked-in-the-disc-default-rtdb.firebaseio.com",projectId:"kicked-in-the-disc",storageBucket:"kicked-in-the-disc.firebasestorage.app",appId:"1:987543051729:web:c258be8a9deaa79a52d4f0"},eE=n1(MF),ac=bL(eE),ze=AF(eE);function ys(){const[t,e]=m.useState(null),[n,r]=m.useState(!0),{toast:s}=ii();return m.useEffect(()=>ac.onAuthStateChanged(async c=>{if(e(c),c)try{const d=Be(ze,`users/${c.uid}`);(await wp(d)).exists()?console.log(" User database record already exists for:",c.uid):(console.log(" Creating database record for user:",c.uid,c.displayName),await Du(d,{id:c.uid,email:c.email||"",displayName:c.displayName||"Unknown User",hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log(" User database record created successfully"))}catch(d){console.error("Error checking/creating user record:",d)}r(!1)}),[]),{user:t,loading:n,signUp:async(l,c,d)=>{try{const f=await i2(ac,l,c);await l2(f.user,{displayName:d}),console.log(" Creating database record for new user:",f.user.uid,d);const h=Be(ze,`users/${f.user.uid}`);return await Du(h,{id:f.user.uid,email:l,displayName:d,hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log(" New user database record created successfully"),s({title:"Account created successfully!",description:"Welcome to Kicked in the Disc"}),f}catch(f){throw s({title:"Error creating account",description:f.message,variant:"destructive"}),f}},signIn:async(l,c)=>{try{const d=await o2(ac,l,c);return s({title:"Signed in successfully!",description:"Welcome back"}),d}catch(d){throw s({title:"Error signing in",description:d.message,variant:"destructive"}),d}},logout:async()=>{try{await d2(ac),s({title:"Signed out successfully"})}catch(l){s({title:"Error signing out",description:l.message,variant:"destructive"})}}}}const te=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("rounded-2xl border-3 border-logo-dark bg-card text-card-foreground cartoon-shadow card-hover",t),...e}));te.displayName="Card";const jF=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("flex flex-col space-y-1.5 p-6",t),...e}));jF.displayName="CardHeader";const LF=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("text-2xl font-bold font-logo leading-none tracking-tight text-logo-dark",t),...e}));LF.displayName="CardTitle";const FF=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("text-sm text-muted-foreground",t),...e}));FF.displayName="CardDescription";const ne=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("p-6 pt-0",t),...e}));ne.displayName="CardContent";const $F=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("flex items-center p-6 pt-0",t),...e}));$F.displayName="CardFooter";const gn=m.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));gn.displayName="Input";const il=Am("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium font-logo ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"cartoon-button text-white font-semibold",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border-2 border-logo-dark",outline:"border-3 border-logo-dark bg-white hover:bg-logo-green/20 hover:text-logo-dark font-semibold cartoon-shadow",secondary:"bg-brand-secondary text-white hover:bg-brand-secondary/80 border-2 border-logo-dark font-semibold",ghost:"hover:bg-white/20 hover:text-logo-dark font-medium",link:"text-brand-primary underline-offset-4 hover:underline font-medium",cartoon:"bg-brand-accent text-logo-dark hover:bg-brand-accent/90 border-3 border-logo-dark cartoon-shadow font-bold",gradient:"bg-text-gradient text-white border-2 border-logo-dark cartoon-shadow font-bold"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-lg px-4",lg:"h-14 rounded-xl px-10 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),G=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?lR:"button";return u.jsx(o,{className:X(il({variant:e,size:n,className:t})),ref:i,...s})});G.displayName="Button";var WF="Label",tE=m.forwardRef((t,e)=>u.jsx(ue.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tE.displayName=WF;var nE=tE;const UF=Am("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ft=m.forwardRef(({className:t,...e},n)=>u.jsx(nE,{ref:n,className:X(UF(),t),...e}));Ft.displayName=nE.displayName;function HF(){const[t,e]=m.useState(!0),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),{signIn:d,signUp:f}=ys(),h=async v=>{if(v.preventDefault(),t)await d(n,s);else{if(s!==l)return;await f(n,s,o)}};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-6 floating-animation",children:""}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-white/80 mb-8",children:t?"Sign in to track your disc golf games":"Join the disc golf community"}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),u.jsx(gn,{type:"email",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter your email",required:!0})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-2",children:"Display Name"}),u.jsx(gn,{type:"text",value:o,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Choose a display name",required:!0})]}),u.jsxs("div",{className:"text-left",children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),u.jsx(gn,{type:"password",value:s,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:t?"Enter your password":"Minimum 6 characters",required:!0,minLength:6})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),u.jsx(gn,{type:"password",value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Confirm your password",required:!0})]}),u.jsx(G,{type:"submit",className:"w-full bg-white text-brand-primary font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:t?"Sign In":"Create Account"}),u.jsx(G,{type:"button",onClick:()=>e(!t),className:"w-full bg-transparent border border-white/30 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors",children:t?"Create Account":"Back to Sign In"})]})]})})})}function Df({title:t,description:e,icon:n,onClick:r,disabled:s,className:i}){return u.jsx(te,{className:X("p-6 card-hover cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95",s&&"opacity-50 cursor-not-allowed hover:scale-100",i),onClick:s?void 0:r,children:u.jsxs(ne,{className:"p-0 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-brand-primary/20 rounded-2xl flex items-center justify-center cartoon-shadow border-2 border-logo-dark",children:n}),u.jsx("h3",{className:"font-logo font-bold text-lg mb-2 text-logo-dark",children:t}),u.jsx("p",{className:"text-muted-foreground font-medium",children:e})]})})}const BF=[{id:"stranger",name:"The Stranger",category:"Before Throw",description:"Make an opponent throw their next throw with their offhand.",copies:4,effect:"force_offhand"},{id:"shrink_ray",name:"Shrink Ray",category:"Before Throw",description:"Make an opponent throw a mini on their next throw.",copies:4,effect:"force_mini"},{id:"because_i_said_so",name:"Because I Said So",category:"Before Throw",description:"Make a mando all other players must make. (mando must be on current hole)",copies:4,effect:"force_mando"},{id:"im_you_silly",name:"I'm You Silly",category:"Before Throw",description:"Take an opponent's throw for them.",copies:4,effect:"take_throw"},{id:"is_that_what_youre_throwing",name:"Is That What You're Throwing",category:"Before Throw",description:"Make an opponent throw a disc of your choosing from yours or their bag.",copies:4,effect:"force_disc_choice"},{id:"gremlins",name:"Gremlins",category:"After Throw",description:"Move an opponent's disc 10 paces in any direction.",copies:4,effect:"move_opponent_disc"},{id:"thats_my_disc",name:"That's My Disc",category:"After Throw",description:"Swap lies with an opponent.",copies:4,effect:"swap_lies"},{id:"merely_a_flesh_wound",name:"Merely a Flesh Wound",category:"After Throw",description:"Make all opponents throw from their knees (both knees must be touching the ground).",copies:4,effect:"force_knees"},{id:"thats_not_fair",name:"That's Not Fair",category:"After Throw",description:"Make an opponent rethrow last throw and take worst lie.",copies:4,effect:"force_rethrow_worst"},{id:"instant_replay",name:"Instant Replay",category:"After Throw",description:"Make all opponents rethrow last throw and take the worst lie.",copies:4,effect:"force_all_rethrow_worst"},{id:"im_rubber_you_glue",name:"I'm Rubber You Glue",category:"Self",description:"Reflects a card played on you back at the person who played it.",copies:4,effect:"reflect_card"},{id:"i_reject_your_reality",name:"I Reject Your Reality",category:"Self",description:"Redirects a card played on you to another opponent.",copies:4,effect:"redirect_card"},{id:"it_was_here_i_swear",name:"It Was Here I Swear",category:"Self",description:"Move your disc 10 paces in any direction.",copies:4,effect:"move_own_disc"},{id:"mulligan",name:"Mulligan",category:"Self",description:"Rethrow last throw and take best lie.",copies:4,effect:"rethrow_best"},{id:"seeing_double",name:"Seeing Double",category:"Self",description:"Putt twice take the best lie.",copies:4,effect:"double_putt_best"},{id:"jealousy",name:"Jealousy",category:"Wild",description:"Change scorecards with an opponent of your choosing. If reflected back, trade with last place or +3 if you're last.",copies:1,effect:"swap_scorecards"},{id:"i_need_some_space",name:"I Need Some Space",category:"Wild",description:"Move your disc 10 paces closer to the basket and all other players must move theirs 10 further away.",copies:1,effect:"move_closer_others_further"},{id:"hear_it_ring",name:"Hear It Ring",category:"Wild",description:"If your disc hits metal it counts as in the basket.",copies:1,effect:"metal_counts_in"},{id:"whats_par_again",name:"What's Par Again",category:"Wild",description:"Add +1 to par for you and -1 to par for all opponents on this hole.",copies:1,effect:"adjust_par"},{id:"ace_run",name:"Ace Run",category:"Wild",description:"Next throw counts as an ace.",copies:1,effect:"next_throw_ace"}];function ws(){const[t,e]=m.useState(null),[n,r]=m.useState(!1),{user:s}=ys(),{toast:i}=ii();m.useEffect(()=>{if(s){const E=Be(ze,`users/${s.uid}`);return oc(E,I=>{const R=I.val();r((R==null?void 0:R.hasHostingPrivilege)||!1)})}},[s]);const o=()=>Math.random().toString(36).substring(2,8).toUpperCase(),a=()=>{const E=[];BF.forEach(N=>{for(let I=0;I<N.copies;I++)E.push({...N,id:`${N.id}_${I}`})});for(let N=E.length-1;N>0;N--){const I=Math.floor(Math.random()*(N+1));[E[N],E[I]]=[E[I],E[N]]}return E},l=(E,N)=>{const I={...E},R=[...N];return Object.keys(I).forEach($=>{const D=[];for(let W=0;W<5;W++)R.length>0&&D.push(R.pop());I[$].hand=D}),{players:I,remainingDeck:R}},c=async(E,N)=>{if(!s||!n){i({title:"Cannot create game",description:"You need hosting privileges to create a game",variant:"destructive"});return}try{const I=o(),R=f_(Be(ze,"games")),$={id:s.uid,name:s.displayName||s.email,isHost:!0,isReady:!0,strokes:[],scores:[],totalScore:0,hand:[]},D={id:R.key,gameCode:I,hostId:s.uid,gameName:N,totalHoles:E,currentHole:1,currentPar:3,pars:Array.from({length:E},()=>3),parsSet:Array.from({length:E},()=>!1),gamePhase:"lobby",players:{[s.uid]:$},gameActivity:[`${s.displayName||s.email} created the game`],deck:[],discardPile:[],gameRound:"before_throw"};return await Du(R,D),i({title:"Game created!",description:`Game code: ${I}`}),I}catch(I){i({title:"Error creating game",description:I.message,variant:"destructive"})}},d=async E=>{if(s)try{const N=Be(ze,"games");oc(N,I=>{const R=I.val(),$=Object.entries(R||{}).find(([,S])=>S.gameCode===E.toUpperCase());if(!$){i({title:"Game not found",description:"Please check the game code and try again",variant:"destructive"});return}const[D,W]=$;if(Object.keys(W.players).length>=6){i({title:"Game is full",description:"This game already has 6 players",variant:"destructive"});return}const F={id:s.uid,name:s.displayName||s.email,isHost:!1,isReady:!1,strokes:[],scores:[],totalScore:0,hand:[]},A={[`games/${D}/players/${s.uid}`]:F,[`games/${D}/gameActivity`]:[...W.gameActivity||[],`${s.displayName||s.email} joined the game`]};Yt(Be(ze),A),i({title:"Joined game!",description:`Welcome to ${W.gameName||"the game"}`})},{onlyOnce:!0})}catch(N){i({title:"Error joining game",description:N.message,variant:"destructive"})}},f=E=>{const N=Be(ze,`games/${E}`);return oc(N,I=>{const R=I.val();R&&e({...R,id:E})})},h=async E=>{if(s)try{const N=Be(ze,"games");return new Promise((I,R)=>{oc(N,$=>{const D=$.val(),W=Object.entries(D||{}).find(([,F])=>F.gameCode===E.toUpperCase());if(W){const[F,A]=W;e({...A,id:F}),I(A)}else R(new Error("Game not found"))},{onlyOnce:!0})})}catch(N){throw i({title:"Error finding game",description:N.message,variant:"destructive"}),N}},v=async E=>{if(!(!s||!t))try{const N=a(),{players:I,remainingDeck:R}=l(t.players,N),$=Be(ze,`games/${E}`);await Yt($,{gamePhase:"playing",players:I,deck:R,currentPlayerTurn:null,gameRound:"scoring",gameActivity:[...t.gameActivity||[],`${s.displayName||s.email} started the game`,"Cards have been dealt to all players!"]}),i({title:"Game started!",description:"Cards have been dealt to all players"})}catch(N){i({title:"Error starting game",description:N.message,variant:"destructive"})}},_=async(E,N,I)=>{var R;if(!(!s||!t))try{const $=t.players[s.uid];if(!$){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const D=$.hand.findIndex(B=>B.id===N);if(D===-1){i({title:"Error",description:"Card not found in hand",variant:"destructive"});return}const W=$.hand[D],F=[...$.hand];F.splice(D,1);const A=[...t.discardPile||[],W],S={[`games/${E}/players/${s.uid}/hand`]:F,[`games/${E}/discardPile`]:A},M=W.name.toLowerCase().includes("ace run");if(I&&I.length>0){const ce={id:`${N}_${Date.now()}`,card:W,playedBy:s.uid,playedByName:s.displayName||s.email,timestamp:Date.now()};let ee=I;M&&I.includes(s.uid)&&(ee=Object.keys(t.players).filter(ie=>ie!==s.uid)),ee.forEach(ie=>{const Le=t.players[ie];if(Le){const oe=Le.pendingAcknowledgments||[];S[`games/${E}/players/${ie}/pendingAcknowledgments`]=[...oe,ce]}})}let U=`${s.displayName||s.email} played ${W.name}`;if(I&&I.length>0)if(M&&I.includes(s.uid))U+=" on themselves";else if(I.length===1){const B=(R=t.players[I[0]])==null?void 0:R.name;U+=` on ${B}`}else U+=` on ${I.length} players`;S[`games/${E}/gameActivity`]=[...t.gameActivity||[],U],await Yt(Be(ze),S),i({title:"Card played!",description:`${W.name} has been played`})}catch($){i({title:"Error playing card",description:$.message,variant:"destructive"})}},g=async(E,N)=>{if(!(!s||!t))try{const I=t.players[s.uid];if(!(I!=null&&I.pendingAcknowledgments))return;const R=I.pendingAcknowledgments.filter($=>$.id!==N);await Yt(Be(ze),{[`games/${E}/players/${s.uid}/pendingAcknowledgments`]:R}),i({title:"Card acknowledged",description:"You have acknowledged the card effect"})}catch(I){i({title:"Error acknowledging card",description:I.message,variant:"destructive"})}},x=async(E,N,I)=>{var R,$;if(!(!s||!t))try{if(!Number.isInteger(I)||I<1||I>30){i({title:"Invalid score",description:"Score must be a whole number between 1 and 30 strokes",variant:"destructive"});return}if(!(((R=t.parsSet)==null?void 0:R[N])??!1)){i({title:"Cannot submit score",description:"The host must set par for this hole first",variant:"destructive"});return}const W=t.players[s.uid];if(!W){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const F=[...W.strokes||[]];F[N]=I;const A=(($=t.pars)==null?void 0:$[N])??t.currentPar??3,S=I-A,M=[...W.scores||[]];M[N]=S;const U=M.reduce((ie,Le)=>ie+(Le||0),0),B={[`games/${E}/players/${s.uid}/strokes`]:F,[`games/${E}/players/${s.uid}/scores`]:M,[`games/${E}/players/${s.uid}/totalScore`]:U};await Yt(Be(ze),B);const ce=S>0?`+${S}`:S.toString();i({title:"Score submitted!",description:`Hole ${N+1}: ${I} strokes (${ce})`}),(()=>{var V;if(!t)return;const ie=t.currentHole-1;if(!(((V=t.parsSet)==null?void 0:V[ie])??!1))return;Object.values(t.players).every(ge=>{var Fe;return ge.id===s.uid?typeof M[ie]=="number":typeof((Fe=ge.scores)==null?void 0:Fe[ie])=="number"})&&setTimeout(()=>{p(E)},1500)})()}catch(D){i({title:"Error submitting score",description:D.message,variant:"destructive"})}},y=async(E,N)=>{if(!s||!t||s.uid!==t.hostId)return;const I=[...t.pars||Array.from({length:t.totalHoles},()=>3)];I[t.currentHole-1]=N;const R=[...t.parsSet||Array.from({length:t.totalHoles},()=>!1)];R[t.currentHole-1]=!0;const $={currentPar:N,pars:I,parsSet:R,gameActivity:[...t.gameActivity||[],`Par set to ${N} for hole ${t.currentHole}`]};await Yt(Be(ze,`games/${E}`),$)},p=async E=>{var R,$,D;if(!s||!t)return;const N=t.currentHole+1;if(N>t.totalHoles){console.log(" Game finishing! nextHole:",N,"totalHoles:",t.totalHoles),await Yt(Be(ze,`games/${E}`),{gamePhase:"finished",gameActivity:[...t.gameActivity||[],"Game finished!"]}),console.log(" Game phase set to finished in Firebase"),i({title:"Round complete!",description:"Game has been finished."});return}let I={[`games/${E}/currentHole`]:N,[`games/${E}/gameActivity`]:[...t.gameActivity||[],`Advanced to hole ${N}`]};if((R=t.parsSet)!=null&&R[N-1]?I[`games/${E}/currentPar`]=(($=t.pars)==null?void 0:$[N-1])??3:I[`games/${E}/currentPar`]=3,(N-1)%3===0){const F=Object.values(t.players).sort((A,S)=>(S.totalScore||0)-(A.totalScore||0))[0];if(F){const A=[...t.deck||[]];if(A.length>0){const S=A.pop();if(S){const M=[...((D=t.players[F.id])==null?void 0:D.hand)||[]];M.push(S),I={...I,[`games/${E}/deck`]:A,[`games/${E}/players/${F.id}/hand`]:M,[`games/${E}/gameActivity`]:[...I[`games/${E}/gameActivity`]||[],`${F.name} received a bonus card for being in last place`]}}}else I[`games/${E}/gameActivity`]=[...I[`games/${E}/gameActivity`]||[],`No bonus card available for ${F.name} (deck empty)`]}}await Yt(Be(ze),I)};return{currentGame:t,hasHostingPrivilege:n,createGame:c,joinGame:d,listenToGame:f,findGameByCode:h,startGame:v,playCard:_,acknowledgeCard:g,submitScore:x,setParForHole:y,advanceToNextHole:p,purchaseHosting:async()=>{if(s)try{const E=Be(ze,`users/${s.uid}`);await Yt(E,{hasHostingPrivilege:!0}),i({title:"Purchase successful!",description:"You can now host games"})}catch(E){i({title:"Purchase failed",description:E.message,variant:"destructive"})}},scheduleGame:async(E,N,I,R)=>{if(!s||!n){i({title:"Cannot schedule game",description:"You need hosting privileges to schedule games",variant:"destructive"});return}try{const $=f_(Be(ze,"scheduledGames")),D={id:$.key,hostId:s.uid,gameName:E,scheduledDate:N.toISOString(),scheduledTime:I,notes:R,status:"scheduled",createdAt:new Date().toISOString()};return await Du($,D),i({title:"Game Scheduled",description:"Share the game link with your friends!"}),D.id}catch($){console.error("Error scheduling game:",$),i({title:"Error",description:$.message,variant:"destructive"})}},getScheduledGames:async()=>{if(!s)return[];try{const E=Be(ze,"scheduledGames"),N=await wp(E);return N.exists()?Object.values(N.val()).filter(R=>R.hostId===s.uid):[]}catch(E){return console.error("Error fetching scheduled games:",E),[]}},cancelScheduledGame:async E=>{if(s)try{const N=Be(ze,`scheduledGames/${E}`),I=await wp(N);if(!I.exists()){i({title:"Error",description:"Game not found",variant:"destructive"});return}if(I.val().hostId!==s.uid){i({title:"Error",description:"Only the host can cancel a scheduled game",variant:"destructive"});return}await Yt(N,{status:"cancelled"}),i({title:"Game Cancelled",description:"Players will be notified"})}catch(N){i({title:"Error",description:N.message,variant:"destructive"})}},leaveGame:async E=>{if(!(!s||!t))try{const N={[`games/${E}/players/${s.uid}`]:null,[`games/${E}/gameActivity`]:[...t.gameActivity||[],`${s.displayName||s.email} left the game`]};if(t.hostId===s.uid){const I=Object.values(t.players).filter(R=>R.id!==s.uid);if(I.length>0){const R=I[0];N[`games/${E}/hostId`]=R.id,N[`games/${E}/gameActivity`]=[...N[`games/${E}/gameActivity`]||[],`${R.name} is now the host`]}else N[`games/${E}`]=null}return await Yt(Be(ze),N),e(null),i({title:"Left Game",description:"You have successfully left the game"}),!0}catch(N){return i({title:"Error",description:N.message||"Failed to leave game",variant:"destructive"}),!1}},reactToCard:async(E,N,I,R)=>{var $,D;if(!(!s||!t))try{const W=t.players[s.uid];if(!W)return;const F=($=W.pendingAcknowledgments)==null?void 0:$.find(ee=>ee.id===N);if(!F)return;let A=null,S=-1;if(I==="reflect"?S=W.hand.findIndex(ee=>ee.name.toLowerCase().includes("rubber")&&ee.name.toLowerCase().includes("glue")):I==="redirect"&&(S=W.hand.findIndex(ee=>ee.name.toLowerCase().includes("reject")&&ee.name.toLowerCase().includes("reality"))),S===-1){i({title:"Card not found",description:"You don't have the required reactive card",variant:"destructive"});return}A=W.hand[S];const M=[...W.hand];M.splice(S,1);const U=[...t.discardPile||[],A],B={[`games/${E}/players/${s.uid}/hand`]:M,[`games/${E}/discardPile`]:U},ce=((D=W.pendingAcknowledgments)==null?void 0:D.filter(ee=>ee.id!==N))||[];if(B[`games/${E}/players/${s.uid}/pendingAcknowledgments`]=ce,I==="reflect"){const ee=F.playedBy,ie=t.players[ee];if(ie){const Le={id:`${F.card.id}_reflected_${Date.now()}`,card:F.card,playedBy:s.uid,playedByName:s.displayName||s.email,timestamp:Date.now()},oe=ie.pendingAcknowledgments||[];B[`games/${E}/players/${ee}/pendingAcknowledgments`]=[...oe,Le],B[`games/${E}/gameActivity`]=[...t.gameActivity||[],`${s.displayName||s.email} reflected ${F.card.name} back to ${F.playedByName} using ${A.name}`]}}else if(I==="redirect"&&R){const ee=t.players[R];if(ee){const ie={id:`${F.card.id}_redirected_${Date.now()}`,card:F.card,playedBy:s.uid,playedByName:s.displayName||s.email,timestamp:Date.now()},Le=ee.pendingAcknowledgments||[];B[`games/${E}/players/${R}/pendingAcknowledgments`]=[...Le,ie],B[`games/${E}/gameActivity`]=[...t.gameActivity||[],`${s.displayName||s.email} redirected ${F.card.name} to ${ee.name} using ${A.name}`]}}await Yt(Be(ze),B),i({title:"Card reaction successful!",description:`You used ${A.name} to ${I} the incoming card`})}catch(W){i({title:"Error",description:W.message,variant:"destructive"})}}}}function zF(){var s;const{user:t,logout:e}=ys(),{hasHostingPrivilege:n}=ws(),[,r]=hs();return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"glass-card p-4 m-4 rounded-2xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"text-4xl floating-animation",children:""}),u.jsx("h1",{className:"text-2xl font-logo font-bold text-gradient text-outline",children:"KICKED IN THE DISC"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-white/80 text-sm",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),u.jsx(G,{onClick:e,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",size:"sm",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:u.jsx(ne,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["Welcome, ",((s=t==null?void 0:t.displayName)==null?void 0:s.split(" ")[0])||"Player","!"]}),u.jsx("p",{className:"text-white/70",children:"Ready to play some disc golf?"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-white/70 text-sm",children:"Hosting Privilege:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:n?" Purchased":" Not Purchased"})]})})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(Sc,{href:"/host",children:u.jsx(Df,{title:"Host Game",description:"Create a new game for up to 6 players",disabled:!n,icon:u.jsx(dA,{className:"w-8 h-8 text-brand-accent"}),className:n?"":"opacity-50"})}),u.jsx(Sc,{href:"/join",children:u.jsx(Df,{title:"Join Game",description:"Enter a game code to join an existing game",icon:u.jsx(tC,{className:"w-8 h-8 text-blue-400"})})}),u.jsx(Sc,{href:"/store",children:u.jsx(Df,{title:"Store",description:"Purchase hosting privileges and upgrades",icon:u.jsx(hA,{className:"w-8 h-8 text-purple-400"})})})]}),u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"More Ways to Play"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(G,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>r("/schedule"),children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:u.jsx(qb,{className:"w-6 h-6 text-purple-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Schedule Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Plan a future game with friends"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(By,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]}),u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-green-500/20 to-teal-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(G,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:u.jsx(XR,{className:"w-6 h-6 text-green-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Solo Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Play against 1-4 AI bots"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(By,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx(G,{className:"w-full p-4 bg-white/5 hover:bg-white/10 border-2 border-white/10 rounded-xl transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(JR,{className:"w-5 h-5 text-red-300"}),u.jsx("span",{className:"text-white",children:"Report a Bug"})]})})})]})})]})]})}function VF(){const{hasHostingPrivilege:t,purchaseHosting:e}=ws();return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Store"}),u.jsx("p",{className:"text-white/70",children:"Enhance your disc golf experience"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-brand-accent/20 rounded-3xl flex items-center justify-center",children:u.jsx(eC,{className:"w-10 h-10 text-brand-accent"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Hosting Privilege"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Unlock the ability to host games for up to 6 players with custom hole counts"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$9.99"}),u.jsx(G,{onClick:e,disabled:t,className:`w-full font-semibold py-3 rounded-xl transition-colors ${t?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-brand-accent text-white hover:bg-brand-accent/90"}`,children:t?"Purchased ":"Purchase Now"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"One-time purchase  Lifetime access"})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(pA,{className:"w-10 h-10 text-purple-400"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Premium Features"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Advanced statistics, custom scoring rules, and exclusive themes"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$4.99"}),u.jsx(G,{disabled:!0,className:"w-full bg-purple-500/20 text-purple-300 font-semibold py-3 rounded-xl opacity-50 cursor-not-allowed",children:"Coming Soon"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"Monthly subscription"})]})})]}),u.jsx("div",{className:"text-center",children:u.jsx(Sc,{href:"/",children:u.jsx(G,{className:"bg-white/10 text-white px-8 py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})})})]})}function GF(){const[t,e]=m.useState(18),[n,r]=m.useState(""),{createGame:s}=ws(),[,i]=hs(),o=async()=>{const l=await s(t,n||void 0);l&&i(`/lobby/${l}`)},a=[9,18,24];return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Host New Game"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-3",children:"Number of Holes"}),u.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:a.map(l=>u.jsxs(G,{onClick:()=>e(l),className:`p-4 rounded-xl font-semibold transition-colors border ${t===l?"bg-white/20 border-white/40 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[l," Holes"]},l))}),u.jsxs("div",{className:"mt-3",children:[u.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:l=>e(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),u.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-1",children:[u.jsx("span",{children:"1"}),u.jsxs("span",{children:["Custom: ",t," holes"]}),u.jsx("span",{children:"24"})]})]})]}),u.jsxs("div",{children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Mode"}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"p-4 bg-white/20 rounded-xl border-2 border-white/40 cursor-pointer",children:[u.jsx("div",{className:"text-white font-semibold",children:"Standard Stroke Play"}),u.jsx("div",{className:"text-white/70 text-sm",children:"Traditional scoring - lowest score wins"})]})})]}),u.jsxs("div",{children:[u.jsx(Ft,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Name (Optional)"}),u.jsx(gn,{type:"text",value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter game name"})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-8",children:[u.jsx(G,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Create Game"}),u.jsx(G,{onClick:()=>i("/"),className:"px-8 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})}function YF(){const[t,e]=m.useState(""),{joinGame:n}=ws(),[,r]=hs(),s=async()=>{t.length===6&&(await n(t),r(`/lobby/${t.toUpperCase()}`))};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(iA,{className:"w-10 h-10 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Game"}),u.jsx("p",{className:"text-white/70 mb-8",children:"Enter the game code provided by the host"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(gn,{type:"text",value:t,onChange:i=>e(i.target.value.toUpperCase()),className:"w-full px-4 py-4 text-center text-2xl font-mono rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40 uppercase tracking-wider",placeholder:"ABC123",maxLength:6}),u.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Game codes are 6 characters long"})]}),u.jsx(G,{onClick:s,disabled:t.length!==6,className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50",children:"Join Game"}),u.jsx(G,{onClick:()=>r("/"),className:"w-full bg-white/10 text-white font-semibold py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})]})]})})})}function rE({player:t,position:e,showScore:n}){var o;const r=(a,l=0)=>a<l?"text-green-400":a===l?"text-white":"text-red-400",s=a=>a===1?"bg-yellow-500":a===2?"bg-gray-400":a===3?"bg-orange-600":"bg-white/20",i=(t.strokes||[]).reduce((a,l)=>a+(l||0),0);return u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all duration-200 ${t.isHost?"bg-brand-gradient":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[e&&u.jsx("div",{className:`w-8 h-8 ${s(e)} rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white font-bold text-sm",children:e})}),u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-semibold",children:t.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white font-semibold flex items-center",children:t.name}),u.jsxs("div",{className:"text-white/70 text-sm",children:[t.isHost?" Host":"Player",!n&&(t.isReady?"  Ready ":"  Waiting..."),n&&`  ${((o=t.hand)==null?void 0:o.length)||0} cards`]})]})]}),n&&u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`text-2xl font-bold ${r(t.totalScore)}`,children:[t.totalScore>0?"+":"",t.totalScore]}),u.jsxs("div",{className:"text-white/70 text-sm",children:[i," strokes"]})]})]})}function KF(){const[t,e]=Nm("/lobby/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,startGame:i,setParForHole:o}=ws(),{user:a}=ys(),[,l]=hs(),{toast:c}=ii(),[d,f]=m.useState(!1),[h,v]=m.useState(!0),[_,g]=m.useState("");m.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(v(!0),s(e.gameCode).then(()=>{v(!1)}).catch(P=>{console.error("Error finding game:",P),v(!1),c({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),l("/")}))},[t,e==null?void 0:e.gameCode,n,s,l,c]),m.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),m.useEffect(()=>{n&&g(n.currentPar??"")},[n==null?void 0:n.currentPar]),m.useEffect(()=>{(n==null?void 0:n.gamePhase)==="playing"&&(c({title:"Game starting!",description:"Redirecting to game..."}),l(`/game/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,l,c]);const x=async()=>{if(n!=null&&n.gameCode)try{await navigator.clipboard.writeText(n.gameCode),f(!0),c({title:"Game code copied!",description:"Share this code with your friends to join the game."}),setTimeout(()=>f(!1),2e3)}catch{c({title:"Failed to copy",description:"Please copy the game code manually.",variant:"destructive"})}},y=async()=>{if(n!=null&&n.gameCode){const P=`${window.location.origin}/join`,E=`Join my disc golf game! 

Game Code: ${n.gameCode}

Sign up and join here: ${P}`;if(navigator.share)try{await navigator.share({title:"Join my Disc Golf Game",text:E,url:P})}catch{}else try{await navigator.clipboard.writeText(E),c({title:"Game link copied!",description:"Share this message with your friends to invite them."})}catch{c({title:"Failed to copy",description:"Please share the game code manually.",variant:"destructive"})}}},p=()=>{if(n!=null&&n.gameCode){const P=`${window.location.origin}/join`,E=`Join my disc golf game! 

Game Code: ${n.gameCode}

Sign up and join here: ${P}`,N=`sms:?body=${encodeURIComponent(E)}`;window.open(N,"_blank")}};if(h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Looking for game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we find your game"})]})})});if(!n||!a)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(G,{onClick:()=>l("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const w=n.hostId===a.uid,b=Object.values(n.players),C=async()=>{n!=null&&n.id&&(await i(n.id),l(`/game/${n.gameCode}`))},k=async()=>{!(n!=null&&n.id)||_===""||(await o(n.id,Number(_)),c({title:"Par set",description:`Par set to ${_} for hole 1`}))},T=()=>{l("/")};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:n.gameName||"Disc Golf Game"}),u.jsxs("p",{className:"text-white/70",children:[n.totalHoles," holes  Standard Stroke Play"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-3xl font-mono font-bold text-brand-accent",children:n.gameCode}),u.jsx("div",{className:"text-white/70 text-sm",children:"Game Code"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/70 text-sm",children:["Players: ",u.jsx("span",{className:"text-white font-semibold",children:b.length}),"/6"]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Status: ",u.jsx("span",{className:"text-yellow-400 font-semibold",children:"Waiting for players"})]})]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Share Game Code"}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx("div",{className:"flex-1 bg-white/10 rounded-xl p-4 border border-white/20",children:u.jsx("div",{className:"text-2xl font-mono font-bold text-brand-accent text-center",children:n.gameCode})}),u.jsx(G,{onClick:x,className:`px-4 py-4 rounded-xl transition-colors ${d?"bg-green-500/20 text-green-300 border-green-400/40":"bg-white/10 text-white hover:bg-white/20 border-white/20"}`,children:d?u.jsx(Om,{className:"w-5 h-5"}):u.jsx(Jb,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs(G,{onClick:y,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-xl hover:bg-brand-primary/90 transition-colors",children:[u.jsx(Zb,{className:"w-4 h-4 mr-2"}),"Share Link"]}),u.jsxs(G,{onClick:p,className:"flex-1 bg-brand-secondary text-white font-semibold py-3 rounded-xl hover:bg-brand-secondary/90 transition-colors",children:[u.jsx(lA,{className:"w-4 h-4 mr-2"}),"Send Text"]})]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:b.map(P=>u.jsx(rE,{player:P},P.id))})]})}),w&&u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Host Controls"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white/80 text-sm mb-1",children:"Par for hole 1"}),u.jsx(gn,{type:"number",min:1,value:_,onChange:P=>g(P.target.value===""?"":Number(P.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Par"})]}),u.jsx(G,{onClick:k,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"}),u.jsx(G,{onClick:C,disabled:b.length<1,className:"flex-1 bg-brand-accent text-white font-semibold py-3 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}),u.jsx(G,{onClick:T,className:"px-8 bg-red-500/20 text-red-300 font-semibold py-3 rounded-xl hover:bg-red-500/30 transition-colors",children:"Cancel Game"})]})]})}),!w&&u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsx(ne,{className:"p-0 text-center",children:u.jsx(G,{onClick:T,className:"bg-red-500/20 text-red-300 font-semibold py-3 px-8 rounded-xl hover:bg-red-500/30 transition-colors",children:"Leave Game"})})})]})}var Mf="focusScope.autoFocusOnMount",jf="focusScope.autoFocusOnUnmount",h_={bubbles:!1,cancelable:!0},qF="FocusScope",Td=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Bt(s),d=Bt(i),f=m.useRef(null),h=be(e,g=>l(g)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(w){if(v.paused||!a)return;const b=w.target;a.contains(b)?f.current=b:Nr(f.current,{select:!0})},x=function(w){if(v.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||Nr(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&Nr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const p=new MutationObserver(y);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),p.disconnect()}}},[r,a,v.paused]),m.useEffect(()=>{if(a){m_.add(v);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(Mf,h_);a.addEventListener(Mf,c),a.dispatchEvent(y),y.defaultPrevented||(QF(t6(sE(a)),{select:!0}),document.activeElement===g&&Nr(a))}return()=>{a.removeEventListener(Mf,c),setTimeout(()=>{const y=new CustomEvent(jf,h_);a.addEventListener(jf,d),a.dispatchEvent(y),y.defaultPrevented||Nr(g??document.body,{select:!0}),a.removeEventListener(jf,d),m_.remove(v)},0)}}},[a,c,d,v]);const _=m.useCallback(g=>{if(!n&&!r||v.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const p=g.currentTarget,[w,b]=XF(p);w&&b?!g.shiftKey&&y===b?(g.preventDefault(),n&&Nr(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&Nr(b,{select:!0})):y===p&&g.preventDefault()}},[n,r,v.paused]);return u.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});Td.displayName=qF;function QF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Nr(r,{select:e}),document.activeElement!==n)return}function XF(t){const e=sE(t),n=p_(e,t),r=p_(e.reverse(),t);return[n,r]}function sE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function p_(t,e){for(const n of t)if(!JF(n,{upTo:e}))return n}function JF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZF(t){return t instanceof HTMLInputElement&&"select"in t}function Nr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZF(t)&&e&&t.select()}}var m_=e6();function e6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=g_(t,e),t.unshift(e)},remove(e){var n;t=g_(t,e),(n=t[0])==null||n.resume()}}}function g_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function t6(t){return t.filter(e=>e.tagName!=="A")}var Lf=0;function Ug(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??v_()),document.body.insertAdjacentElement("beforeend",t[1]??v_()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lf--}},[])}function v_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var On=function(){return On=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},On.apply(this,arguments)};function iE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function n6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Oc="right-scroll-bar-position",Dc="width-before-scroll-bar",r6="with-scroll-bars-hidden",s6="--removed-body-scroll-bar-size";function Ff(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function i6(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var o6=typeof window<"u"?m.useLayoutEffect:m.useEffect,y_=new WeakMap;function a6(t,e){var n=i6(null,function(r){return t.forEach(function(s){return Ff(s,r)})});return o6(function(){var r=y_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ff(a,null)}),i.forEach(function(a){s.has(a)||Ff(a,o)})}y_.set(n,t)},[t]),n}function l6(t){return t}function c6(t,e){e===void 0&&(e=l6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function u6(t){t===void 0&&(t={});var e=c6(null);return e.options=On({async:!0,ssr:!1},t),e}var oE=function(t){var e=t.sideCar,n=iE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,On({},n))};oE.isSideCarExport=!0;function d6(t,e){return t.useMedium(e),oE}var aE=u6(),$f=function(){},Pd=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:$f,onWheelCapture:$f,onTouchMoveCapture:$f}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,v=t.noIsolation,_=t.inert,g=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,p=t.gapMode,w=iE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,C=a6([n,e]),k=On(On({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(b,{sideCar:aE,removeScrollBar:c,shards:f,noIsolation:v,inert:_,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:p}),o?m.cloneElement(m.Children.only(a),On(On({},k),{ref:C})):m.createElement(y,On({},k,{className:l,ref:C}),a))});Pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pd.classNames={fullWidth:Dc,zeroRight:Oc};var f6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=f6();return e&&t.setAttribute("nonce",e),t}function p6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function m6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var g6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=h6())&&(p6(e,n),m6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},v6=function(){var t=g6();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lE=function(){var t=v6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},y6={left:0,top:0,right:0,gap:0},Wf=function(t){return parseInt(t||"",10)||0},w6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wf(n),Wf(r),Wf(s)]},_6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return y6;var e=w6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},x6=lE(),Hi="data-scroll-locked",b6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(r6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dc," .").concat(Dc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(s6,": ").concat(a,`px;
  }
`)},w_=function(){var t=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(t)?t:0},C6=function(){m.useEffect(function(){return document.body.setAttribute(Hi,(w_()+1).toString()),function(){var t=w_()-1;t<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,t.toString())}},[])},S6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;C6();var i=m.useMemo(function(){return _6(s)},[s]);return m.createElement(x6,{styles:b6(i,!e,s,n?"":"!important")})},xp=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return xp=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{xp=!1}var di=xp?{passive:!1}:!1,E6=function(t){return t.tagName==="TEXTAREA"},cE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!E6(t)&&n[e]==="visible")},N6=function(t){return cE(t,"overflowY")},k6=function(t){return cE(t,"overflowX")},__=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uE(t,r);if(s){var i=dE(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},T6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},P6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uE=function(t,e){return t==="v"?N6(e):k6(e)},dE=function(t,e){return t==="v"?T6(e):P6(e)},I6=function(t,e){return t==="h"&&e==="rtl"?-1:1},R6=function(t,e,n,r,s){var i=I6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var v=dE(t,a),_=v[0],g=v[1],x=v[2],y=g-x-i*_;(_||y)&&uE(t,a)&&(f+=y,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},cc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},x_=function(t){return[t.deltaX,t.deltaY]},b_=function(t){return t&&"current"in t?t.current:t},A6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},O6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},D6=0,fi=[];function M6(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(D6++)[0],i=m.useState(lE)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=n6([t.lockRef.current],(t.shards||[]).map(b_),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=cc(g),p=n.current,w="deltaX"in g?g.deltaX:p[0]-y[0],b="deltaY"in g?g.deltaY:p[1]-y[1],C,k=g.target,T=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&T==="h"&&k.type==="range")return!1;var P=__(T,k);if(!P)return!0;if(P?C=T:(C=T==="v"?"h":"v",P=__(T,k)),!P)return!1;if(!r.current&&"changedTouches"in g&&(w||b)&&(r.current=C),!C)return!0;var E=r.current||C;return R6(E,x,g,E==="h"?w:b,!0)},[]),l=m.useCallback(function(g){var x=g;if(!(!fi.length||fi[fi.length-1]!==i)){var y="deltaY"in x?x_(x):cc(x),p=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&A6(C.delta,y)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(b_).filter(Boolean).filter(function(C){return C.contains(x.target)}),b=w.length>0?a(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(g,x,y,p){var w={name:g,delta:x,target:y,should:p,shadowParent:j6(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(b){return b!==w})},1)},[]),d=m.useCallback(function(g){n.current=cc(g),r.current=void 0},[]),f=m.useCallback(function(g){c(g.type,x_(g),g.target,a(g,t.lockRef.current))},[]),h=m.useCallback(function(g){c(g.type,cc(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return fi.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,di),document.addEventListener("touchmove",l,di),document.addEventListener("touchstart",d,di),function(){fi=fi.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,di),document.removeEventListener("touchmove",l,di),document.removeEventListener("touchstart",d,di)}},[]);var v=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(i,{styles:O6(s)}):null,v?m.createElement(S6,{gapMode:t.gapMode}):null)}function j6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const L6=d6(aE,M6);var Id=m.forwardRef(function(t,e){return m.createElement(Pd,On({},t,{ref:e,sideCar:L6}))});Id.classNames=Pd.classNames;var F6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hi=new WeakMap,uc=new WeakMap,dc={},Uf=0,fE=function(t){return t&&(t.host||fE(t.parentNode))},$6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=fE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},W6=function(t,e,n,r){var s=$6(e,Array.isArray(t)?t:[t]);dc[n]||(dc[n]=new WeakMap);var i=dc[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(r),_=v!==null&&v!=="false",g=(hi.get(h)||0)+1,x=(i.get(h)||0)+1;hi.set(h,g),i.set(h,x),o.push(h),g===1&&_&&uc.set(h,!0),x===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),Uf++,function(){o.forEach(function(f){var h=hi.get(f)-1,v=i.get(f)-1;hi.set(f,h),i.set(f,v),h||(uc.has(f)||f.removeAttribute(r),uc.delete(f)),v||f.removeAttribute(n)}),Uf--,Uf||(hi=new WeakMap,hi=new WeakMap,uc=new WeakMap,dc={})}},Hg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=F6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),W6(r,s,n,"aria-hidden")):function(){return null}},Bg="Dialog",[hE,pE]=ps(Bg),[U6,Nn]=hE(Bg),mE=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=za({prop:r,defaultProp:s,onChange:i});return u.jsx(U6,{scope:e,triggerRef:a,contentRef:l,contentId:Fs(),titleId:Fs(),descriptionId:Fs(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};mE.displayName=Bg;var gE="DialogTrigger",vE=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(gE,n),i=be(e,s.triggerRef);return u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gg(s.open),...r,ref:i,onClick:Q(t.onClick,s.onOpenToggle)})});vE.displayName=gE;var zg="DialogPortal",[H6,yE]=hE(zg,{forceMount:void 0}),wE=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Nn(zg,e);return u.jsx(H6,{scope:e,forceMount:n,children:m.Children.map(r,o=>u.jsx(ms,{present:n||i.open,children:u.jsx(pl,{asChild:!0,container:s,children:o})}))})};wE.displayName=zg;var Mu="DialogOverlay",_E=m.forwardRef((t,e)=>{const n=yE(Mu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nn(Mu,t.__scopeDialog);return i.modal?u.jsx(ms,{present:r||i.open,children:u.jsx(z6,{...s,ref:e})}):null});_E.displayName=Mu;var B6=zs("DialogOverlay.RemoveScroll"),z6=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(Mu,n);return u.jsx(Id,{as:B6,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ue.div,{"data-state":Gg(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zs="DialogContent",xE=m.forwardRef((t,e)=>{const n=yE(Zs,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nn(Zs,t.__scopeDialog);return u.jsx(ms,{present:r||i.open,children:i.modal?u.jsx(V6,{...s,ref:e}):u.jsx(G6,{...s,ref:e})})});xE.displayName=Zs;var V6=m.forwardRef((t,e)=>{const n=Nn(Zs,t.__scopeDialog),r=m.useRef(null),s=be(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Hg(i)},[]),u.jsx(bE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,i=>i.preventDefault())})}),G6=m.forwardRef((t,e)=>{const n=Nn(Zs,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return u.jsx(bE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bE=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Nn(Zs,n),l=m.useRef(null),c=be(e,l);return Ug(),u.jsxs(u.Fragment,{children:[u.jsx(Td,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(So,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(K6,{titleId:a.titleId}),u.jsx(Q6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Vg="DialogTitle",CE=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(Vg,n);return u.jsx(ue.h2,{id:s.titleId,...r,ref:e})});CE.displayName=Vg;var SE="DialogDescription",EE=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(SE,n);return u.jsx(ue.p,{id:s.descriptionId,...r,ref:e})});EE.displayName=SE;var NE="DialogClose",kE=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(NE,n);return u.jsx(ue.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});kE.displayName=NE;function Gg(t){return t?"open":"closed"}var TE="DialogTitleWarning",[Y6,PE]=oR(TE,{contentName:Zs,titleName:Vg,docsSlug:"dialog"}),K6=({titleId:t})=>{const e=PE(TE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},q6="DialogDescriptionWarning",Q6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PE(q6).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IE=mE,X6=vE,RE=wE,Yg=_E,Kg=xE,qg=CE,Qg=EE,Xg=kE,AE="AlertDialog",[J6,uU]=ps(AE,[pE]),vr=pE(),OE=t=>{const{__scopeAlertDialog:e,...n}=t,r=vr(e);return u.jsx(IE,{...r,...n,modal:!0})};OE.displayName=AE;var Z6="AlertDialogTrigger",DE=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=vr(n);return u.jsx(X6,{...s,...r,ref:e})});DE.displayName=Z6;var e5="AlertDialogPortal",ME=t=>{const{__scopeAlertDialog:e,...n}=t,r=vr(e);return u.jsx(RE,{...r,...n})};ME.displayName=e5;var t5="AlertDialogOverlay",jE=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=vr(n);return u.jsx(Yg,{...s,...r,ref:e})});jE.displayName=t5;var Bi="AlertDialogContent",[n5,r5]=J6(Bi),s5=xb("AlertDialogContent"),LE=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=vr(n),o=m.useRef(null),a=be(e,o),l=m.useRef(null);return u.jsx(Y6,{contentName:Bi,titleName:FE,docsSlug:"alert-dialog",children:u.jsx(n5,{scope:n,cancelRef:l,children:u.jsxs(Kg,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Q(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(s5,{children:r}),u.jsx(o5,{contentRef:o})]})})})});LE.displayName=Bi;var FE="AlertDialogTitle",$E=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=vr(n);return u.jsx(qg,{...s,...r,ref:e})});$E.displayName=FE;var WE="AlertDialogDescription",UE=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=vr(n);return u.jsx(Qg,{...s,...r,ref:e})});UE.displayName=WE;var i5="AlertDialogAction",HE=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=vr(n);return u.jsx(Xg,{...s,...r,ref:e})});HE.displayName=i5;var BE="AlertDialogCancel",zE=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=r5(BE,n),i=vr(n),o=be(e,s);return u.jsx(Xg,{...i,...r,ref:o})});zE.displayName=BE;var o5=({contentRef:t})=>{const e=`\`${Bi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bi}\` by passing a \`${WE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},a5=OE,l5=DE,c5=ME,VE=jE,GE=LE,YE=HE,KE=zE,qE=$E,QE=UE;const u5=a5,d5=l5,f5=c5,XE=m.forwardRef(({className:t,...e},n)=>u.jsx(VE,{className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));XE.displayName=VE.displayName;const JE=m.forwardRef(({className:t,...e},n)=>u.jsxs(f5,{children:[u.jsx(XE,{}),u.jsx(GE,{ref:n,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));JE.displayName=GE.displayName;const ZE=({className:t,...e})=>u.jsx("div",{className:X("flex flex-col space-y-2 text-center sm:text-left",t),...e});ZE.displayName="AlertDialogHeader";const eN=({className:t,...e})=>u.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eN.displayName="AlertDialogFooter";const tN=m.forwardRef(({className:t,...e},n)=>u.jsx(qE,{ref:n,className:X("text-lg font-semibold",t),...e}));tN.displayName=qE.displayName;const nN=m.forwardRef(({className:t,...e},n)=>u.jsx(QE,{ref:n,className:X("text-sm text-muted-foreground",t),...e}));nN.displayName=QE.displayName;const rN=m.forwardRef(({className:t,...e},n)=>u.jsx(YE,{ref:n,className:X(il(),t),...e}));rN.displayName=YE.displayName;const sN=m.forwardRef(({className:t,...e},n)=>u.jsx(KE,{ref:n,className:X(il({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));sN.displayName=KE.displayName;const Jg=IE,h5=RE,iN=m.forwardRef(({className:t,...e},n)=>u.jsx(Yg,{ref:n,className:X("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iN.displayName=Yg.displayName;const Rd=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(h5,{children:[u.jsx(iN,{}),u.jsxs(Kg,{ref:r,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Xg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(nC,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rd.displayName=Kg.displayName;const Ad=({className:t,...e})=>u.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ad.displayName="DialogHeader";const Od=m.forwardRef(({className:t,...e},n)=>u.jsx(qg,{ref:n,className:X("text-lg font-semibold leading-none tracking-tight",t),...e}));Od.displayName=qg.displayName;const p5=m.forwardRef(({className:t,...e},n)=>u.jsx(Qg,{ref:n,className:X("text-sm text-muted-foreground",t),...e}));p5.displayName=Qg.displayName;function m5({isOpen:t,onClose:e,card:n,players:r,currentUserId:s,onPlayCard:i}){const[o,a]=m.useState([]);if(!n)return null;const c=(g=>{const x=g.description.toLowerCase(),y=g.effect.toLowerCase();return g.category==="Self"?"self":x.includes("all opponents")||x.includes("all other players")||y.includes("all")||g.effect==="force_all_rethrow_worst"||g.effect==="force_knees"||g.effect==="force_mando"||g.effect==="move_closer_others_further"?"all_opponents":(x.includes("an opponent")||x.includes("opponent's")||y.includes("opponent")||g.effect==="swap_scorecards","single_opponent")})(n),d=Object.values(r).filter(g=>g.id!==s),f=g=>{if(c==="single_opponent")a([g]);else if(c==="all_opponents")return},h=()=>{let g=[];c==="all_opponents"?g=d.map(x=>x.id):c==="single_opponent"&&(g=o),i(n,g.length>0?g:void 0),a([]),e()},v=()=>c==="self"||c==="all_opponents"?!0:c==="single_opponent"?o.length===1:!1,_=g=>{switch(g){case"Before Throw":return"bg-blue-500/20 border-blue-500/30";case"After Throw":return"bg-red-500/20 border-red-500/30";case"Self":return"bg-green-500/20 border-green-500/30";case"Wild":return"bg-purple-500/20 border-purple-500/30";default:return"bg-white/10 border-white/20"}};return u.jsx(Jg,{open:t,onOpenChange:e,children:u.jsxs(Rd,{className:"max-w-2xl bg-gradient-to-br from-slate-900/95 to-slate-800/95 border-white/20",children:[u.jsx(Ad,{children:u.jsx(Od,{className:"text-white text-xl font-bold",children:"Play Card"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(te,{className:`${_(n.category)} border-2`,children:u.jsx(ne,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:n.category}),u.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:n.name}),u.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:n.description})]})})}),u.jsxs("div",{className:"space-y-4",children:[c==="self"&&u.jsxs("div",{className:"text-center p-4 bg-green-500/10 rounded-xl border border-green-500/20",children:[u.jsx(Dm,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),u.jsx("p",{className:"text-white font-medium",children:"This card affects only you"}),u.jsx("p",{className:"text-white/60 text-sm",children:"No targeting required"})]}),c==="all_opponents"&&u.jsxs("div",{className:"text-center p-4 bg-red-500/10 rounded-xl border border-red-500/20",children:[u.jsx(tC,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),u.jsx("p",{className:"text-white font-medium",children:"This card affects all opponents"}),u.jsx("p",{className:"text-white/60 text-sm",children:"All other players will be targeted automatically"}),u.jsx("div",{className:"mt-3 space-y-2",children:d.map(g=>u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-white/80",children:[u.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-xs",children:g.name.charAt(0).toUpperCase()}),u.jsx("span",{children:g.name}),u.jsx(va,{className:"w-4 h-4 text-red-400"})]},g.id))})]}),c==="single_opponent"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"text-center p-3 bg-yellow-500/10 rounded-xl border border-yellow-500/20",children:[u.jsx(va,{className:"w-6 h-6 text-yellow-400 mx-auto mb-1"}),u.jsx("p",{className:"text-white font-medium text-sm",children:"Choose one player to target"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:d.map(g=>{var x;return u.jsx(G,{onClick:()=>f(g.id),className:`w-full p-4 rounded-xl transition-all ${o.includes(g.id)?"bg-brand-accent border-2 border-brand-accent text-white":"bg-white/5 hover:bg-white/10 border-2 border-white/10 text-white"}`,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:g.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:g.name}),u.jsxs("div",{className:"text-xs opacity-70",children:[g.isHost?" Host":"Player","  ",((x=g.hand)==null?void 0:x.length)||0," cards"]})]}),o.includes(g.id)&&u.jsx(va,{className:"w-5 h-5 ml-auto"})]})},g.id)})})]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(G,{onClick:e,className:"flex-1 bg-white/10 hover:bg-white/20 text-white border border-white/20",children:"Cancel"}),u.jsx(G,{onClick:h,disabled:!v(),className:"flex-1 bg-brand-accent hover:bg-brand-accent/90 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Play Card"})]})]})]})})}function g5({isOpen:t,onAcknowledge:e,onReflect:n,onRedirect:r,card:s,playedBy:i,playerHand:o=[]}){if(!s)return null;const a=o.some(f=>f.name.toLowerCase().includes("rubber")&&f.name.toLowerCase().includes("glue")),l=o.some(f=>f.name.toLowerCase().includes("reject")&&f.name.toLowerCase().includes("reality")),c=f=>{switch(f){case"Before Throw":return"bg-blue-500/20 border-blue-500/30";case"After Throw":return"bg-red-500/20 border-red-500/30";case"Self":return"bg-green-500/20 border-green-500/30";case"Wild":return"bg-purple-500/20 border-purple-500/30";default:return"bg-white/10 border-white/20"}},d=f=>{switch(f){case"Before Throw":return"";case"After Throw":return"";case"Self":return"";case"Wild":return"";default:return""}};return u.jsx(Jg,{open:t,onOpenChange:()=>{},children:u.jsxs(Rd,{className:"max-w-md bg-gradient-to-br from-slate-900/95 to-slate-800/95 border-white/20",hideCloseButton:!0,children:[u.jsx(Ad,{children:u.jsx(Od,{className:"text-white text-xl font-bold text-center",children:"Card Played On You!"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center p-3 bg-white/5 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx(Dm,{className:"w-5 h-5 text-white/70"}),u.jsx("span",{className:"text-white font-medium",children:i})]}),u.jsx("p",{className:"text-white/60 text-sm",children:"played a card on you"})]}),u.jsx(te,{className:`${c(s.category)} border-2 transform hover:scale-105 transition-transform`,children:u.jsx(ne,{className:"p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-3",children:d(s.category)}),u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-2",children:s.category}),u.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:s.name}),u.jsx("p",{className:"text-white/80 text-sm leading-relaxed mb-4",children:s.description}),u.jsx("div",{className:"p-3 bg-white/10 rounded-lg",children:u.jsx("p",{className:"text-white/90 text-xs font-medium",children:"This card effect is now active for you. Follow the instructions above during your next action."})})]})})}),u.jsxs("div",{className:"space-y-3",children:[(a||l)&&u.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-xl",children:[u.jsxs("p",{className:"text-yellow-200 text-sm font-medium mb-3 text-center",children:[u.jsx(eC,{className:"w-4 h-4 inline mr-1"}),"You can react with these cards:"]}),u.jsxs("div",{className:"space-y-2",children:[a&&n&&u.jsxs(G,{onClick:n,className:"w-full bg-red-600/20 border border-red-500/40 text-white hover:bg-red-600/30 transition-colors",children:[u.jsx(fA,{className:"w-4 h-4 mr-2"}),`Reflect with "I'm rubber your glue"`]}),l&&r&&u.jsxs(G,{onClick:r,className:"w-full bg-purple-600/20 border border-purple-500/40 text-white hover:bg-purple-600/30 transition-colors",children:[u.jsx(va,{className:"w-4 h-4 mr-2"}),'Redirect with "I reject your reality"']})]})]}),u.jsxs(G,{onClick:e,className:"w-full bg-brand-accent hover:bg-brand-accent/90 text-white font-semibold py-3 rounded-xl transition-colors",children:[u.jsx(nA,{className:"w-5 h-5 mr-2"}),"Accept Card Effect"]})]})]})]})})}function v5({isOpen:t,onCancel:e,onRedirect:n,availablePlayers:r,currentPlayerId:s}){const i=r.filter(o=>o.id!==s);return u.jsx("div",{style:{zIndex:60},className:"relative",children:u.jsx(Jg,{open:t,onOpenChange:()=>{},children:u.jsxs(Rd,{className:"max-w-md bg-gradient-to-br from-slate-900/95 to-slate-800/95 border-white/20",hideCloseButton:!0,children:[u.jsx(Ad,{children:u.jsxs(Od,{className:"text-white text-xl font-bold text-center",children:[u.jsx(va,{className:"w-6 h-6 inline mr-2"}),"Choose Target Player"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-white/70 text-center text-sm",children:"Select which player should receive the redirected card:"}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:i.map(o=>{var a;return u.jsx(te,{className:"bg-white/5 border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>n(o.id),children:u.jsx(ne,{className:"p-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"bg-brand-accent/20 p-2 rounded-full",children:u.jsx(Dm,{className:"w-4 h-4 text-brand-accent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-white font-medium",children:o.name}),u.jsxs("p",{className:"text-white/60 text-sm",children:["Score: ",o.totalScore||0," | Cards: ",((a=o.hand)==null?void 0:a.length)||0]})]})]})})},o.id)})}),u.jsx(G,{onClick:e,variant:"outline",className:"w-full bg-gray-700/50 border-gray-600 text-white hover:bg-gray-600/50",children:"Cancel Redirect"})]})]})})})}function y5(){var pe,me,ot;const[t,e]=Nm("/game/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,playCard:i,acknowledgeCard:o,submitScore:a,setParForHole:l,advanceToNextHole:c,leaveGame:d,reactToCard:f}=ws(),{user:h}=ys(),[,v]=hs(),{toast:_}=ii(),[g,x]=m.useState(!0),[y,p]=m.useState(!0),[w,b]=m.useState(""),[C,k]=m.useState(""),[T,P]=m.useState({isOpen:!1,card:null}),[E,N]=m.useState({isOpen:!1,acknowledgment:null}),[I,R]=m.useState({isOpen:!1,acknowledgment:null});m.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(x(!0),s(e.gameCode).then(()=>{x(!1)}).catch(z=>{console.error("Error finding game:",z),x(!1),v("/")}))},[t,e==null?void 0:e.gameCode,n,s,v]),m.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),m.useEffect(()=>{(n==null?void 0:n.gamePhase)==="finished"&&(console.log(" Game phase is finished, redirecting to results:",`/results/${n.gameCode}`),v(`/results/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,v]),m.useEffect(()=>{if(!h||!n)return;const z=n.players[h.uid],Ce=(z==null?void 0:z.pendingAcknowledgments)||[];if(Ce.length>0&&!E.isOpen){const at=Ce.sort((Nt,zn)=>Nt.timestamp-zn.timestamp)[0];N({isOpen:!0,acknowledgment:at})}},[n==null?void 0:n.players,h==null?void 0:h.uid,E.isOpen]),m.useEffect(()=>{var at,Nt;if(!n||!h)return;b(n.currentPar??"");const z=n.currentHole-1,Ce=(Nt=(at=n.players[h.uid])==null?void 0:at.strokes)==null?void 0:Nt[z];k(typeof Ce=="number"?Ce:"")},[n==null?void 0:n.currentHole,n==null?void 0:n.currentPar,n==null?void 0:n.id,h==null?void 0:h.uid]);const $=z=>{P({isOpen:!0,card:z})},D=async(z,Ce)=>{n!=null&&n.id&&(await i(n.id,z.id,Ce),P({isOpen:!1,card:null}))},W=async z=>{n!=null&&n.id&&(await o(n.id,z),N({isOpen:!1,acknowledgment:null}))},F=async()=>{if(!(n!=null&&n.id)||!h||C==="")return;const z=Number(C);if(z<1||z>30){_({title:"Invalid score",description:"Please enter a score between 1 and 30 strokes",variant:"destructive"});return}const Ce=n.currentHole-1;await a(n.id,Ce,z)},A=async()=>{!(n!=null&&n.id)||w===""||await l(n.id,Number(w))},S=()=>{var at;if(!n)return!1;const z=n.currentHole-1;return(((at=n.parsSet)==null?void 0:at[z])??!1)&&Object.values(n.players).every(Nt=>{var zn;return typeof((zn=Nt.scores)==null?void 0:zn[z])=="number"})},M=async()=>{n!=null&&n.id&&await c(n.id)},U=async()=>{if(!(n!=null&&n.id))return;await d(n.id)&&v("/")},B=async()=>{!(n!=null&&n.id)||!E.acknowledgment||(await f(n.id,E.acknowledgment.id,"reflect"),N({isOpen:!1,acknowledgment:null}))},ce=()=>{if(!E.acknowledgment)return;const z=E.acknowledgment;N({isOpen:!1,acknowledgment:null}),setTimeout(()=>{R({isOpen:!0,acknowledgment:z})},100)},ee=async z=>{!(n!=null&&n.id)||!I.acknowledgment||(await f(n.id,I.acknowledgment.id,"redirect",z),R({isOpen:!1,acknowledgment:null}))},ie=()=>{const z=I.acknowledgment;R({isOpen:!1,acknowledgment:null}),setTimeout(()=>{N({isOpen:!0,acknowledgment:z})},100)},Le=z=>{switch(z){case"Before Throw":return"bg-blue-500/20 border-blue-400/40";case"After Throw":return"bg-red-500/20 border-red-400/40";case"Self":return"bg-green-500/20 border-green-400/40";case"Wild":return"bg-purple-500/20 border-purple-400/40";default:return"bg-white/10 border-white/20"}};if(g)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load your game"})]})})});if(!n||!h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(G,{onClick:()=>v("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});if(n.gamePhase!=="playing")return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not started"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The host hasn't started the game yet. Please wait in the lobby."}),u.jsx(G,{onClick:()=>v(`/lobby/${n.gameCode}`),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Lobby"})]})})});const oe=n.players[h.uid];if(!oe)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Player not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You are not a player in this game."})]})})});const ge=Object.values(n.players).sort((z,Ce)=>(z.totalScore||0)-(Ce.totalScore||0)),Fe=n.currentHole/n.totalHoles*100,ve=n.hostId===h.uid;return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hole ",n.currentHole," of ",n.totalHoles]}),u.jsx("p",{className:"text-white/70",children:n.gameName||"Disc Golf Game"}),ve&&u.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[u.jsx(gn,{type:"number",min:1,value:w,onChange:z=>b(z.target.value===""?"":Number(z.target.value)),className:"w-24 bg-white/10 border-white/20 text-white",placeholder:"Par"}),u.jsx(G,{onClick:A,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-white/70 text-sm",children:"Par"}),u.jsx("div",{className:"text-3xl font-bold text-white",children:n.currentPar})]})]}),u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-500",style:{width:`${Fe}%`}})}),u.jsxs("div",{className:"text-white/70 text-sm mt-2 text-center",children:[Math.round(Fe),"% Complete"]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(ne,{className:"p-0",children:(()=>{var at;const z=n.currentHole-1,Ce=((at=n.parsSet)==null?void 0:at[z])??!1;return u.jsxs("div",{className:"flex items-end space-x-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-white/80 text-sm mb-1",children:["Your strokes for hole ",n.currentHole," (Par ",n.currentPar,")"]}),u.jsx(gn,{type:"number",min:1,max:30,value:C,onChange:Nt=>{const zn=Nt.target.value;if(zn==="")k("");else{const yr=Number(zn);yr>=1&&yr<=30&&k(yr)}},className:"bg-white/10 border-white/20 text-white",placeholder:Ce?"Enter strokes (1-30)":"Waiting for host to set par...",disabled:!Ce}),Ce?C!==""&&typeof C=="number"?u.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["Golf score: ",C-(n.currentPar||3)>0?"+":"",C-(n.currentPar||3),(C<1||C>30)&&u.jsx("span",{className:"text-red-400 ml-2",children:" Score must be 1-30"})]}):Ce?u.jsx("div",{className:"text-white/40 text-xs mt-1",children:"Valid range: 1-30 strokes"}):null:u.jsx("div",{className:"text-yellow-400 text-xs mt-1",children:" Host must set par before you can submit your score"})]}),u.jsx(G,{onClick:F,disabled:!Ce||C===""||typeof C!="number"||C<1||C>30,className:"bg-brand-accent text-white h-10 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Score"})]})})()})}),oe&&u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:["Your Hand (",((pe=oe.hand)==null?void 0:pe.length)||0," cards)"]}),u.jsxs(G,{onClick:()=>p(!y),variant:"ghost",className:"text-white hover:bg-white/10",children:[y?u.jsx(rA,{className:"w-4 h-4"}):u.jsx(sA,{className:"w-4 h-4"}),y?"Hide":"Show"," Hand"]})]}),y&&oe.hand&&Array.isArray(oe.hand)&&oe.hand.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.hand.map(z=>u.jsx(te,{className:`${Le(z.category)} border-2 transition-all duration-200 hover:scale-105`,children:u.jsx(ne,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:z.category}),u.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:z.name}),u.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:z.description}),u.jsxs(G,{onClick:()=>$(z),className:"w-full bg-brand-accent text-white font-semibold py-2 rounded-xl hover:bg-brand-accent/90 transition-colors",children:[u.jsx(uA,{className:"w-4 h-4 mr-2"}),"Play Card"]})]})})},z.id))}):y?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-white/70",children:"No cards in hand"})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-white/70",children:"Hand is hidden"})]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:ge.map((z,Ce)=>u.jsx(rE,{player:z,position:Ce+1,showScore:!0},z.id))})]})}),ve&&u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(ne,{className:"p-0",children:S()?u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:""}),u.jsx("div",{className:"text-sm",children:"Auto-advancing to next hole..."})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/80 text-sm",children:["Waiting for all players to submit scores for hole ",n.currentHole]}),u.jsx(G,{onClick:M,disabled:!S(),className:"bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Manual Advance"})]})})}),!ve&&S()&&u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(ne,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:""}),u.jsx("div",{className:"text-sm",children:"Advancing to next hole..."})]})})}),n.gameActivity&&n.gameActivity.length>0&&u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Game Activity"}),u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.gameActivity.slice(-10).map((z,Ce)=>u.jsx("div",{className:"text-white/70 text-sm p-2 bg-white/5 rounded-lg",children:z},Ce))})]})}),u.jsx(m5,{isOpen:T.isOpen,onClose:()=>P({isOpen:!1,card:null}),card:T.card,players:(n==null?void 0:n.players)||{},currentUserId:(h==null?void 0:h.uid)||"",onPlayCard:D}),u.jsx(g5,{isOpen:E.isOpen,onAcknowledge:()=>{E.acknowledgment&&W(E.acknowledgment.id)},onReflect:B,onRedirect:ce,card:((me=E.acknowledgment)==null?void 0:me.card)||null,playedBy:((ot=E.acknowledgment)==null?void 0:ot.playedByName)||"",playerHand:(oe==null?void 0:oe.hand)||[]}),u.jsx(v5,{isOpen:I.isOpen,onCancel:ie,onRedirect:ee,availablePlayers:Object.values((n==null?void 0:n.players)||{}),currentPlayerId:(h==null?void 0:h.uid)||""}),(oe==null?void 0:oe.pendingAcknowledgments)&&oe.pendingAcknowledgments.length>0&&u.jsx("div",{className:"fixed top-4 right-4 z-40",children:u.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[u.jsx(Xb,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm font-medium",children:[oe.pendingAcknowledgments.length," card",oe.pendingAcknowledgments.length>1?"s":""," pending"]})]})}),u.jsx("div",{className:"mt-8 flex justify-center",children:u.jsxs(u5,{children:[u.jsx(d5,{asChild:!0,children:u.jsxs(G,{variant:"destructive",className:"bg-red-600/20 border border-red-500/40 text-white hover:bg-red-600/30 transition-colors",children:[u.jsx(oA,{className:"w-4 h-4 mr-2"}),"Leave Game"]})}),u.jsxs(JE,{className:"glass-card border border-white/10",children:[u.jsxs(ZE,{children:[u.jsx(tN,{className:"text-white",children:"Leave Game?"}),u.jsxs(nN,{className:"text-white/70",children:["Are you sure you want to leave this game? This action cannot be undone.",n.hostId===h.uid&&Object.keys(n.players).length>1&&u.jsx("span",{className:"block mt-2 text-amber-300 font-medium",children:"As the host, another player will become the new host."}),n.hostId===h.uid&&Object.keys(n.players).length===1&&u.jsx("span",{className:"block mt-2 text-red-300 font-medium",children:"As the only player, leaving will delete this game."})]})]}),u.jsxs(eN,{children:[u.jsx(sN,{className:"bg-gray-700 text-white border-gray-600 hover:bg-gray-600",children:"Cancel"}),u.jsx(rN,{onClick:U,className:"bg-red-600 text-white hover:bg-red-700",children:"Leave Game"})]})]})]})})]})}function w5(){const[t,e]=Nm("/results/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s}=ws(),{user:i}=ys(),[,o]=hs(),{toast:a}=ii(),[l,c]=m.useState(!0);if(m.useEffect(()=>{console.log(" GameResults useEffect - match:",t,"gameCode:",e==null?void 0:e.gameCode,"currentGame:",!!n),t&&(e!=null&&e.gameCode)&&!n?(c(!0),console.log(" GameResults finding game by code:",e.gameCode),s(e.gameCode).then(()=>{console.log(" GameResults game found successfully"),c(!1)}).catch(p=>{console.error(" GameResults error finding game:",p),c(!1),a({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),o("/")})):n&&(console.log(" GameResults currentGame already exists, gamePhase:",n.gamePhase),c(!1))},[t,e==null?void 0:e.gameCode,n,s,o,a]),m.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),l)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading Results..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load the game results"})]})})});if(!n||!i)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(G,{onClick:()=>o("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const d=Object.values(n.players),f=d.sort((p,w)=>p.totalScore-w.totalScore),h=f[0],v=d.map(p=>({...p,birdieCount:(p.scores||[]).filter(w=>w===-1).length})),_=v.reduce((p,w)=>w.birdieCount>p.birdieCount?w:p,v[0]),g=()=>{o("/host")},x=()=>{o("/")},y=()=>{const p=window.location.href,w=f.map((C,k)=>`${k+1}. ${C.name}: ${C.totalScore>0?"+":""}${C.totalScore}`).join(`
`),b=` Just finished a game of Kicked in the Disc! 

 WINNER: ${h.name} (${h.totalScore>0?"+":""}${h.totalScore})

 Final Leaderboard:
${w}

${n.totalHoles} holes played in ${n.gameName||"our game"}

Play with us: ${p}`;navigator.share?navigator.share({title:"Kicked in the Disc - Game Results",text:b,url:p}).catch(console.error):navigator.clipboard.writeText(b).then(()=>{a({title:"Results copied!",description:"Game results copied to clipboard. Paste and share!"})}).catch(()=>{a({title:"Share manually",description:"Copy the results from the game activity to share",variant:"destructive"})})};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"animate-bounce text-8xl mb-4",children:""}),u.jsx("div",{className:"animate-pulse text-yellow-400 text-2xl mb-2",children:" CHAMPION "}),u.jsx("h1",{className:"text-7xl md:text-8xl font-black text-transparent bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text drop-shadow-lg mb-4 animate-pulse",children:h.name.toUpperCase()}),u.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:" WINS THE GAME! "}),u.jsxs("div",{className:"inline-block bg-gradient-to-r from-green-400 to-blue-500 text-white text-xl font-bold px-6 py-3 rounded-full transform rotate-2 shadow-lg",children:["Final Score: ",h.totalScore>0?"+":"",h.totalScore," strokes"]})]}),u.jsx(te,{className:"glass-card rounded-3xl p-4 text-center mb-8 border-2 border-yellow-400/50 bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:u.jsx(ne,{className:"p-0",children:u.jsxs("div",{className:"text-white/90 text-lg",children:[" ",n.totalHoles," holes completed in ",u.jsx("span",{className:"font-bold text-yellow-300",children:n.gameName||"this game"})]})})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-8 border-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:" FINAL LEADERBOARD "}),u.jsx("div",{className:"text-lg text-white/80",children:"Who came out on top?"})]}),u.jsx("div",{className:"space-y-4",children:f.map((p,w)=>{const b=w===0,C=w===1,k=w===2;return u.jsx("div",{className:`
                    relative rounded-2xl p-4 border-2 transition-all transform hover:scale-105
                    ${b?"bg-gradient-to-r from-yellow-400/30 to-yellow-600/30 border-yellow-400 animate-pulse":C?"bg-gradient-to-r from-gray-300/30 to-gray-500/30 border-gray-400":k?"bg-gradient-to-r from-orange-400/30 to-orange-600/30 border-orange-400":"bg-white/10 border-white/20"}
                  `,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`
                        text-3xl font-black w-12 h-12 rounded-full flex items-center justify-center
                        ${b?"bg-yellow-400 text-yellow-900":C?"bg-gray-400 text-gray-900":k?"bg-orange-400 text-orange-900":"bg-white/20 text-white"}
                      `,children:b?"":C?"":k?"":w+1}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-xl font-bold ${b?"text-yellow-100":"text-white"}`,children:[p.name,b&&u.jsx("span",{className:"ml-2 text-yellow-300",children:""})]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Total strokes: ",(p.strokes||[]).reduce((T,P)=>T+(P||0),0)]})]})]}),u.jsxs("div",{className:`text-2xl font-bold ${p.totalScore<0?"text-green-400":p.totalScore>0?"text-red-400":"text-white"}`,children:[p.totalScore>0?"+":"",p.totalScore]})]})},p.id)})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(G,{onClick:y,className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white font-bold py-4 rounded-xl hover:from-pink-600 hover:to-violet-600 transition-all transform hover:scale-105 shadow-lg",children:" Share Results"}),u.jsx(G,{onClick:g,className:"bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold py-4 rounded-xl hover:from-green-600 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg",children:" Play Again"}),u.jsx(G,{onClick:x,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white font-bold py-4 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-lg",children:" Main Menu"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Game Duration"}),u.jsx("div",{className:"text-white font-bold",children:"Epic!"})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Players"}),u.jsx("div",{className:"text-white font-bold",children:d.length})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Birdie King"}),_.birdieCount>0?u.jsxs("div",{className:"text-green-400 font-bold text-xs",children:[_.name,u.jsxs("div",{className:"text-white/70 text-xs mt-1",children:[_.birdieCount," ",_.birdieCount===1?"birdie":"birdies"]})]}):u.jsxs("div",{className:"text-white/70 text-xs",children:["No birdies",u.jsx("div",{className:"text-white/50 text-xs mt-1",children:"Try harder!"})]})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Holes"}),u.jsx("div",{className:"text-white font-bold",children:n.totalHoles})]})]})]})}function fe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function zt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function yt(t,e){const n=fe(t);return isNaN(e)?zt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Sn(t,e){const n=fe(t);if(isNaN(e))return zt(t,NaN);if(!e)return n;const r=n.getDate(),s=zt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Zg=6048e5,_5=864e5;let x5={};function Pl(){return x5}function Un(t,e){var a,l,c,d;const n=Pl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=fe(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ei(t){return Un(t,{weekStartsOn:1})}function oN(t){const e=fe(t),n=e.getFullYear(),r=zt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ei(r),i=zt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=ei(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function yo(t){const e=fe(t);return e.setHours(0,0,0,0),e}function ju(t){const e=fe(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Dn(t,e){const n=yo(t),r=yo(e),s=+n-ju(n),i=+r-ju(r);return Math.round((s-i)/_5)}function b5(t){const e=oN(t),n=zt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ei(n)}function bp(t,e){const n=e*7;return yt(t,n)}function C5(t,e){return Sn(t,e*12)}function S5(t){let e;return t.forEach(function(n){const r=fe(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function E5(t){let e;return t.forEach(n=>{const r=fe(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function It(t,e){const n=yo(t),r=yo(e);return+n==+r}function ev(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function N5(t){if(!ev(t)&&typeof t!="number")return!1;const e=fe(t);return!isNaN(Number(e))}function ol(t,e){const n=fe(t),r=fe(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function k5(t,e,n){const r=Un(t,n),s=Un(e,n),i=+r-ju(r),o=+s-ju(s);return Math.round((i-o)/Zg)}function tv(t){const e=fe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Dt(t){const e=fe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function aN(t){const e=fe(t),n=zt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function nv(t,e){var a,l,c,d;const n=Pl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=fe(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function lN(t){return nv(t,{weekStartsOn:1})}const T5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P5=(t,e,n)=>{let r;const s=T5[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const I5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O5={date:Hf({formats:I5,defaultWidth:"full"}),time:Hf({formats:R5,defaultWidth:"full"}),dateTime:Hf({formats:A5,defaultWidth:"full"})},D5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M5=(t,e,n,r)=>D5[t];function Jo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const j5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},B5={ordinalNumber:H5,era:Jo({values:j5,defaultWidth:"wide"}),quarter:Jo({values:L5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jo({values:F5,defaultWidth:"wide"}),day:Jo({values:$5,defaultWidth:"wide"}),dayPeriod:Jo({values:W5,defaultWidth:"wide",formattingValues:U5,defaultFormattingWidth:"wide"})};function Zo(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?V5(a,f=>f.test(o)):z5(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function z5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function V5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function G5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Y5=/^(\d+)(th|st|nd|rd)?/i,K5=/\d+/i,q5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q5={any:[/^b/i,/^(a|c)/i]},X5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J5={any:[/1/i,/2/i,/3/i,/4/i]},Z5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},n8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i8={ordinalNumber:G5({matchPattern:Y5,parsePattern:K5,valueCallback:t=>parseInt(t,10)}),era:Zo({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:Q5,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:X5,defaultMatchWidth:"wide",parsePatterns:J5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zo({matchPatterns:Z5,defaultMatchWidth:"wide",parsePatterns:e8,defaultParseWidth:"any"}),day:Zo({matchPatterns:t8,defaultMatchWidth:"wide",parsePatterns:n8,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:r8,defaultMatchWidth:"any",parsePatterns:s8,defaultParseWidth:"any"})},cN={code:"en-US",formatDistance:P5,formatLong:O5,formatRelative:M5,localize:B5,match:i8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o8(t){const e=fe(t);return Dn(e,aN(e))+1}function uN(t){const e=fe(t),n=+ei(e)-+b5(e);return Math.round(n/Zg)+1}function dN(t,e){var d,f,h,v;const n=fe(t),r=n.getFullYear(),s=Pl(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,o=zt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Un(o,e),l=zt(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Un(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function a8(t,e){var a,l,c,d;const n=Pl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=dN(t,e),i=zt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Un(i,e)}function fN(t,e){const n=fe(t),r=+Un(n,e)-+a8(n,e);return Math.round(r/Zg)+1}function _e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Cr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return _e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_e(n+1,2)},d(t,e){return _e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _e(t.getHours()%12||12,e.length)},H(t,e){return _e(t.getHours(),e.length)},m(t,e){return _e(t.getMinutes(),e.length)},s(t,e){return _e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return _e(s,e.length)}},pi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Cr.y(t,e)},Y:function(t,e,n,r){const s=dN(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return _e(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):_e(i,e.length)},R:function(t,e){const n=oN(t);return _e(n,e.length)},u:function(t,e){const n=t.getFullYear();return _e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Cr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return _e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=fN(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):_e(s,e.length)},I:function(t,e,n){const r=uN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Cr.d(t,e)},D:function(t,e,n){const r=o8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return _e(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return _e(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return _e(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=pi.noon:r===0?s=pi.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=pi.evening:r>=12?s=pi.afternoon:r>=4?s=pi.morning:s=pi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Cr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Cr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Cr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Cr.s(t,e)},S:function(t,e){return Cr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return E_(r);case"XXXX":case"XX":return ks(r);case"XXXXX":case"XXX":default:return ks(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return E_(r);case"xxxx":case"xx":return ks(r);case"xxxxx":case"xxx":default:return ks(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+S_(r,":");case"OOOO":default:return"GMT"+ks(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+S_(r,":");case"zzzz":default:return"GMT"+ks(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return _e(r,e.length)},T:function(t,e,n){const r=t.getTime();return _e(r,e.length)}};function S_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+_e(i,2)}function E_(t,e){return t%60===0?(t>0?"-":"+")+_e(Math.abs(t)/60,2):ks(t,e)}function ks(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=_e(Math.trunc(r/60),2),i=_e(r%60,2);return n+s+e+i}const N_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},l8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return N_(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",N_(r,e)).replace("{{time}}",hN(s,e))},c8={p:hN,P:l8},u8=/^D+$/,d8=/^Y+$/,f8=["D","DD","YY","YYYY"];function h8(t){return u8.test(t)}function p8(t){return d8.test(t)}function m8(t,e,n){const r=g8(t,e,n);if(console.warn(r),f8.includes(t))throw new RangeError(r)}function g8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const v8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w8=/^'([^]*?)'?$/,_8=/''/g,x8=/[a-zA-Z]/;function Jt(t,e,n){var d,f,h,v,_,g,x,y;const r=Pl(),s=(n==null?void 0:n.locale)??r.locale??cN,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(h=r.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,a=fe(t);if(!N5(a))throw new RangeError("Invalid time value");let l=e.match(y8).map(p=>{const w=p[0];if(w==="p"||w==="P"){const b=c8[w];return b(p,s.formatLong)}return p}).join("").match(v8).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const w=p[0];if(w==="'")return{isToken:!1,value:b8(p)};if(C_[w])return{isToken:!0,value:p};if(w.match(x8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const w=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&p8(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&h8(w))&&m8(w,e,String(t));const b=C_[w[0]];return b(a,w,s.localize,c)}).join("")}function b8(t){const e=t.match(w8);return e?e[1].replace(_8,"'"):t}function C8(t){const e=fe(t),n=e.getFullYear(),r=e.getMonth(),s=zt(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function S8(t){return Math.trunc(+fe(t)/1e3)}function E8(t){const e=fe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function N8(t,e){return k5(E8(t),Dt(t),e)+1}function Cp(t,e){const n=fe(t),r=fe(e);return n.getTime()>r.getTime()}function pN(t,e){const n=fe(t),r=fe(e);return+n<+r}function rv(t,e){const n=fe(t),r=fe(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function k8(t,e){const n=fe(t),r=fe(e);return n.getFullYear()===r.getFullYear()}function Bf(t,e){return yt(t,-e)}function zf(t,e){const n=fe(t),r=n.getFullYear(),s=n.getDate(),i=zt(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=C8(i);return n.setMonth(e,Math.min(s,o)),n}function k_(t,e){const n=fe(t);return isNaN(+n)?zt(t,NaN):(n.setFullYear(e),n)}var q=function(){return q=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q.apply(this,arguments)};function T8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function mN(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Il(t){return t.mode==="multiple"}function Rl(t){return t.mode==="range"}function Dd(t){return t.mode==="single"}var P8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function I8(t,e){return Jt(t,"LLLL y",e)}function R8(t,e){return Jt(t,"d",e)}function A8(t,e){return Jt(t,"LLLL",e)}function O8(t){return"".concat(t)}function D8(t,e){return Jt(t,"cccccc",e)}function M8(t,e){return Jt(t,"yyyy",e)}var j8=Object.freeze({__proto__:null,formatCaption:I8,formatDay:R8,formatMonthCaption:A8,formatWeekNumber:O8,formatWeekdayName:D8,formatYearCaption:M8}),L8=function(t,e,n){return Jt(t,"do MMMM (EEEE)",n)},F8=function(){return"Month: "},$8=function(){return"Go to next month"},W8=function(){return"Go to previous month"},U8=function(t,e){return Jt(t,"cccc",e)},H8=function(t){return"Week n. ".concat(t)},B8=function(){return"Year: "},z8=Object.freeze({__proto__:null,labelDay:L8,labelMonthDropdown:F8,labelNext:$8,labelPrevious:W8,labelWeekNumber:H8,labelWeekday:U8,labelYearDropdown:B8});function V8(){var t="buttons",e=P8,n=cN,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:j8,labels:z8,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function G8(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Dt(r):e&&(i=new Date(e,0,1)),s?o=tv(s):n&&(o=new Date(n,11,31)),{fromDate:i?yo(i):void 0,toDate:o?yo(o):void 0}}var gN=m.createContext(void 0);function Y8(t){var e,n=t.initialProps,r=V8(),s=G8(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(Dd(n)||Il(n)||Rl(n))&&(l=n.onSelect);var c=q(q(q({},r),n),{captionLayout:a,classNames:q(q({},r.classNames),n.classNames),components:q({},n.components),formatters:q(q({},r.formatters),n.formatters),fromDate:i,labels:q(q({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:q(q({},r.modifiers),n.modifiers),modifiersClassNames:q(q({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:q(q({},r.styles),n.styles),toDate:o});return u.jsx(gN.Provider,{value:c,children:t.children})}function Pe(){var t=m.useContext(gN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function vN(t){var e=Pe(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function K8(t){return u.jsx("svg",q({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yN(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=Pe(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:K8;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function q8(t){var e,n=Pe(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});var f=[];if(k8(r,s))for(var h=Dt(r),v=r.getMonth();v<=s.getMonth();v++)f.push(zf(h,v));else for(var h=Dt(new Date),v=0;v<=11;v++)f.push(zf(h,v));var _=function(x){var y=Number(x.target.value),p=zf(Dt(t.displayMonth),y);t.onChange(p)},g=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:yN;return u.jsx(g,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(x){return u.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function Q8(t){var e,n=t.displayMonth,r=Pe(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});for(var v=s.getFullYear(),_=i.getFullYear(),g=v;g<=_;g++)h.push(k_(aN(new Date),g));var x=function(p){var w=k_(Dt(n),Number(p.target.value));t.onChange(w)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:yN;return u.jsx(y,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(p){return u.jsx("option",{value:p.getFullYear(),children:d(p,{locale:o})},p.getFullYear())})})}function X8(t,e){var n=m.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function J8(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&ol(i,s)<0){var c=-1*(l-1);s=Sn(i,c)}return o&&ol(s,o)<0&&(s=o),Dt(s)}function Z8(){var t=Pe(),e=J8(t),n=X8(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=Dt(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function e$(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Dt(t),i=Dt(Sn(s,r)),o=ol(i,s),a=[],l=0;l<o;l++){var c=Sn(s,l);a.push(c)}return n&&(a=a.reverse()),a}function t$(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Dt(t);if(!n)return Sn(a,o);var l=ol(n,t);if(!(l<i))return Sn(a,o)}}function n$(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Dt(t);if(!n)return Sn(a,-o);var l=ol(a,n);if(!(l<=0))return Sn(a,-o)}}var wN=m.createContext(void 0);function r$(t){var e=Pe(),n=Z8(),r=n[0],s=n[1],i=e$(r,e),o=t$(r,e),a=n$(r,e),l=function(f){return i.some(function(h){return rv(f,h)})},c=function(f,h){l(f)||(h&&pN(f,h)?s(Sn(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return u.jsx(wN.Provider,{value:d,children:t.children})}function Al(){var t=m.useContext(wN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function T_(t){var e,n=Pe(),r=n.classNames,s=n.styles,i=n.components,o=Al().goToMonth,a=function(d){o(Sn(d,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:vN,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(q8,{onChange:a,displayMonth:t.displayMonth}),u.jsx(Q8,{onChange:a,displayMonth:t.displayMonth})]})}function s$(t){return u.jsx("svg",q({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function i$(t){return u.jsx("svg",q({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Lu=m.forwardRef(function(t,e){var n=Pe(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=q(q({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),u.jsx("button",q({},t,{ref:e,type:"button",className:o,style:a}))});function o$(t){var e,n,r=Pe(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var h=c(t.previousMonth,{locale:i}),v=[o.nav_button,o.nav_button_previous].join(" "),_=d(t.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),x=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:i$,y=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:s$;return u.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(Lu,{name:"previous-month","aria-label":h,className:v,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?u.jsx(x,{className:o.nav_icon,style:a.nav_icon}):u.jsx(y,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(Lu,{name:"next-month","aria-label":_,className:g,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?u.jsx(y,{className:o.nav_icon,style:a.nav_icon}):u.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function P_(t){var e=Pe().numberOfMonths,n=Al(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(_){return rv(t.displayMonth,_)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&i(r)},v=function(){s&&i(s)};return u.jsx(o$,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:v})}function a$(t){var e,n=Pe(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:vN,c;return s?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(T_,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(T_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(P_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(P_,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:i.caption,children:c})}function l$(t){var e=Pe(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?u.jsx("tfoot",{className:s,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function c$(t,e,n){for(var r=n?ei(new Date):Un(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=yt(r,i);s.push(o)}return s}function u$(){var t=Pe(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=c$(s,i,o);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,f){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function d$(){var t,e=Pe(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:u$;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(i,{})})}function f$(t){var e=Pe(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var sv=m.createContext(void 0);function h$(t){if(!Il(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(sv.Provider,{value:e,children:t.children})}return u.jsx(p$,{initialProps:t.initialProps,children:t.children})}function p$(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,d,f){var h,v;(h=e.onDayClick)===null||h===void 0||h.call(e,c,d,f);var _=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!_){var g=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var x=r?mN([],r):[];if(d.selected){var y=x.findIndex(function(p){return It(c,p)});x.splice(y,1)}else x.push(c);(v=e.onSelect)===null||v===void 0||v.call(e,x,c,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=i&&r.length>i-1,f=r.some(function(h){return It(h,c)});return!!(d&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return u.jsx(sv.Provider,{value:l,children:n})}function iv(){var t=m.useContext(sv);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function m$(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?It(s,t)&&It(r,t)?void 0:It(s,t)?{from:s,to:void 0}:It(r,t)?void 0:Cp(r,t)?{from:t,to:s}:{from:r,to:t}:s?Cp(t,s)?{from:s,to:t}:{from:t,to:s}:r?pN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var ov=m.createContext(void 0);function g$(t){if(!Rl(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(ov.Provider,{value:e,children:t.children})}return u.jsx(v$,{initialProps:t.initialProps,children:t.children})}function v$(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(v,_,g){var x,y;(x=e.onDayClick)===null||x===void 0||x.call(e,v,_,g);var p=m$(v,r);(y=e.onSelect)===null||y===void 0||y.call(e,p,v,_,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],It(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:Bf(i,a-1),before:yt(i,a-1)}),i&&o&&d.disabled.push({after:i,before:yt(i,a-1)}),!i&&o&&d.disabled.push({after:Bf(o,a-1),before:yt(o,a-1)})),l){if(i&&!o&&(d.disabled.push({before:yt(i,-l+1)}),d.disabled.push({after:yt(i,l-1)})),i&&o){var f=Dn(o,i)+1,h=l-f;d.disabled.push({before:Bf(i,h)}),d.disabled.push({after:yt(o,h)})}!i&&o&&(d.disabled.push({before:yt(o,-l+1)}),d.disabled.push({after:yt(o,l-1)}))}return u.jsx(ov.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function av(){var t=m.useContext(ov);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Mc(t){return Array.isArray(t)?mN([],t):t!==void 0?[t]:[]}function y$(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Mc(s)}),e}var En;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(En||(En={}));var w$=En.Selected,Yn=En.Disabled,_$=En.Hidden,x$=En.Today,Vf=En.RangeEnd,Gf=En.RangeMiddle,Yf=En.RangeStart,b$=En.Outside;function C$(t,e,n){var r,s=(r={},r[w$]=Mc(t.selected),r[Yn]=Mc(t.disabled),r[_$]=Mc(t.hidden),r[x$]=[t.today],r[Vf]=[],r[Gf]=[],r[Yf]=[],r[b$]=[],r);return t.fromDate&&s[Yn].push({before:t.fromDate}),t.toDate&&s[Yn].push({after:t.toDate}),Il(t)?s[Yn]=s[Yn].concat(e.modifiers[Yn]):Rl(t)&&(s[Yn]=s[Yn].concat(n.modifiers[Yn]),s[Yf]=n.modifiers[Yf],s[Gf]=n.modifiers[Gf],s[Vf]=n.modifiers[Vf]),s}var _N=m.createContext(void 0);function S$(t){var e=Pe(),n=iv(),r=av(),s=C$(e,n,r),i=y$(e.modifiers),o=q(q({},s),i);return u.jsx(_N.Provider,{value:o,children:t.children})}function xN(){var t=m.useContext(_N);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function E$(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function N$(t){return!!(t&&typeof t=="object"&&"from"in t)}function k$(t){return!!(t&&typeof t=="object"&&"after"in t)}function T$(t){return!!(t&&typeof t=="object"&&"before"in t)}function P$(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function I$(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Dn(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Dn(t,r)>=0&&Dn(s,t)>=0;return o}return s?It(s,t):r?It(r,t):!1}function R$(t){return ev(t)}function A$(t){return Array.isArray(t)&&t.every(ev)}function O$(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(R$(n))return It(t,n);if(A$(n))return n.includes(t);if(N$(n))return I$(t,n);if(P$(n))return n.dayOfWeek.includes(t.getDay());if(E$(n)){var r=Dn(n.before,t),s=Dn(n.after,t),i=r>0,o=s<0,a=Cp(n.before,n.after);return a?o&&i:i||o}return k$(n)?Dn(t,n.after)>0:T$(n)?Dn(n.before,t)>0:typeof n=="function"?n(t):!1})}function lv(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return O$(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!rv(t,n)&&(s.outside=!0),s}function D$(t,e){for(var n=Dt(t[0]),r=tv(t[t.length-1]),s,i,o=n;o<=r;){var a=lv(o,e),l=!a.disabled&&!a.hidden;if(!l){o=yt(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=yt(o,1)}return i||s}var M$=365;function bN(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,d=s.toDate,f=s.locale,h={day:yt,week:bp,month:Sn,year:C5,startOfWeek:function(x){return s.ISOWeek?ei(x):Un(x,{locale:f,weekStartsOn:l})},endOfWeek:function(x){return s.ISOWeek?lN(x):nv(x,{locale:f,weekStartsOn:l})}},v=h[n](t,r==="after"?1:-1);r==="before"&&c?v=S5([c,v]):r==="after"&&d&&(v=E5([d,v]));var _=!0;if(i){var g=lv(v,i);_=!g.disabled&&!g.hidden}return _?v:a.count>M$?a.lastFocused:bN(v,{moveBy:n,direction:r,context:s,modifiers:i,retry:q(q({},a),{count:a.count+1})})}var CN=m.createContext(void 0);function j$(t){var e=Al(),n=xN(),r=m.useState(),s=r[0],i=r[1],o=m.useState(),a=o[0],l=o[1],c=D$(e.displayMonths,n),d=s??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(s),i(void 0)},h=function(x){i(x)},v=Pe(),_=function(x,y){if(s){var p=bN(s,{moveBy:x,direction:y,context:v,modifiers:n});It(s,p)||(e.goToDate(p,s),h(p))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return u.jsx(CN.Provider,{value:g,children:t.children})}function cv(){var t=m.useContext(CN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function L$(t,e){var n=xN(),r=lv(t,n,e);return r}var uv=m.createContext(void 0);function F$(t){if(!Dd(t.initialProps)){var e={selected:void 0};return u.jsx(uv.Provider,{value:e,children:t.children})}return u.jsx($$,{initialProps:t.initialProps,children:t.children})}function $$(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return u.jsx(uv.Provider,{value:s,children:n})}function SN(){var t=m.useContext(uv);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function W$(t,e){var n=Pe(),r=SN(),s=iv(),i=av(),o=cv(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,v=o.focusMonthBefore,_=o.focusMonthAfter,g=o.focusYearBefore,x=o.focusYearAfter,y=o.focusStartOfWeek,p=o.focusEndOfWeek,w=function(A){var S,M,U,B;Dd(n)?(S=r.onDayClick)===null||S===void 0||S.call(r,t,e,A):Il(n)?(M=s.onDayClick)===null||M===void 0||M.call(s,t,e,A):Rl(n)?(U=i.onDayClick)===null||U===void 0||U.call(i,t,e,A):(B=n.onDayClick)===null||B===void 0||B.call(n,t,e,A)},b=function(A){var S;h(t),(S=n.onDayFocus)===null||S===void 0||S.call(n,t,e,A)},C=function(A){var S;f(),(S=n.onDayBlur)===null||S===void 0||S.call(n,t,e,A)},k=function(A){var S;(S=n.onDayMouseEnter)===null||S===void 0||S.call(n,t,e,A)},T=function(A){var S;(S=n.onDayMouseLeave)===null||S===void 0||S.call(n,t,e,A)},P=function(A){var S;(S=n.onDayPointerEnter)===null||S===void 0||S.call(n,t,e,A)},E=function(A){var S;(S=n.onDayPointerLeave)===null||S===void 0||S.call(n,t,e,A)},N=function(A){var S;(S=n.onDayTouchCancel)===null||S===void 0||S.call(n,t,e,A)},I=function(A){var S;(S=n.onDayTouchEnd)===null||S===void 0||S.call(n,t,e,A)},R=function(A){var S;(S=n.onDayTouchMove)===null||S===void 0||S.call(n,t,e,A)},$=function(A){var S;(S=n.onDayTouchStart)===null||S===void 0||S.call(n,t,e,A)},D=function(A){var S;(S=n.onDayKeyUp)===null||S===void 0||S.call(n,t,e,A)},W=function(A){var S;switch(A.key){case"ArrowLeft":A.preventDefault(),A.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":A.preventDefault(),A.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":A.preventDefault(),A.stopPropagation(),c();break;case"ArrowUp":A.preventDefault(),A.stopPropagation(),d();break;case"PageUp":A.preventDefault(),A.stopPropagation(),A.shiftKey?g():v();break;case"PageDown":A.preventDefault(),A.stopPropagation(),A.shiftKey?x():_();break;case"Home":A.preventDefault(),A.stopPropagation(),y();break;case"End":A.preventDefault(),A.stopPropagation(),p();break}(S=n.onDayKeyDown)===null||S===void 0||S.call(n,t,e,A)},F={onClick:w,onFocus:b,onBlur:C,onKeyDown:W,onKeyUp:D,onMouseEnter:k,onMouseLeave:T,onPointerEnter:P,onPointerLeave:E,onTouchCancel:N,onTouchEnd:I,onTouchMove:R,onTouchStart:$};return F}function U$(){var t=Pe(),e=SN(),n=iv(),r=av(),s=Dd(t)?e.selected:Il(t)?n.selected:Rl(t)?r.selected:void 0;return s}function H$(t){return Object.values(En).includes(t)}function B$(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(H$(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function z$(t,e){var n=q({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=q(q({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function V$(t,e,n){var r,s,i,o=Pe(),a=cv(),l=L$(t,e),c=W$(t,l),d=U$(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var k;l.outside||a.focusedDay&&f&&It(a.focusedDay,t)&&((k=n.current)===null||k===void 0||k.focus())},[a.focusedDay,t,n,f,l.outside]);var h=B$(o,l).join(" "),v=z$(o,l),_=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:f$,x=u.jsx(g,{date:t,displayMonth:e,activeModifiers:l}),y={style:v,className:h,children:x,role:"gridcell"},p=a.focusTarget&&It(a.focusTarget,t)&&!l.outside,w=a.focusedDay&&It(a.focusedDay,t),b=q(q(q({},y),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=w||p?0:-1,r)),c),C={isButton:f,isHidden:_,activeModifiers:l,selectedDays:d,buttonProps:b,divProps:y};return C}function G$(t){var e=m.useRef(null),n=V$(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(Lu,q({name:"day",ref:e},n.buttonProps)):u.jsx("div",q({},n.divProps))}function Y$(t){var e=t.number,n=t.dates,r=Pe(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!s)return u.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(e),{locale:a}),h=function(v){s(e,n,v)};return u.jsx(Lu,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function K$(t){var e,n,r=Pe(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:G$,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:Y$,d;return o&&(d=u.jsx("td",{className:i.cell,style:s.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return u.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:f})},S8(f))})]})}function I_(t,e,n){for(var r=n!=null&&n.ISOWeek?lN(e):nv(e,n),s=n!=null&&n.ISOWeek?ei(t):Un(t,n),i=Dn(r,s),o=[],a=0;a<=i;a++)o.push(yt(s,a));var l=o.reduce(function(c,d){var f=n!=null&&n.ISOWeek?uN(d):fN(d,n),h=c.find(function(v){return v.weekNumber===f});return h?(h.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return l}function q$(t,e){var n=I_(Dt(t),tv(t),e);if(e!=null&&e.useFixedWeeks){var r=N8(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=bp(i,6-r),a=I_(bp(i,1),o,e);n.push.apply(n,a)}}return n}function Q$(t){var e,n,r,s=Pe(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,v=s.ISOWeek,_=q$(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:v,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:d$,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:K$,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:l$;return u.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(g,{}),u.jsx("tbody",{className:o.tbody,style:a.tbody,children:_.map(function(p){return u.jsx(x,{displayMonth:t.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),u.jsx(y,{displayMonth:t.displayMonth})]})}function X$(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var J$=X$()?m.useLayoutEffect:m.useEffect,Kf=!1,Z$=0;function R_(){return"react-day-picker-".concat(++Z$)}function eW(t){var e,n=t??(Kf?R_():null),r=m.useState(n),s=r[0],i=r[1];return J$(function(){s===null&&i(R_())},[]),m.useEffect(function(){Kf===!1&&(Kf=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function tW(t){var e,n,r=Pe(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=Al().displayMonths,c=eW(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],h=o.month,v=t.displayIndex===0,_=t.displayIndex===l.length-1,g=!v&&!_;s==="rtl"&&(e=[v,_],_=e[0],v=e[1]),v&&(f.push(i.caption_start),h=q(q({},h),o.caption_start)),_&&(f.push(i.caption_end),h=q(q({},h),o.caption_end)),g&&(f.push(i.caption_between),h=q(q({},h),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:a$;return u.jsxs("div",{className:f.join(" "),style:h,children:[u.jsx(x,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(Q$,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function nW(t){var e=Pe(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function rW(t){var e,n,r=t.initialProps,s=Pe(),i=cv(),o=Al(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=q(q({},s.styles.root),s.style),h=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,g){var x;return q(q({},_),(x={},x[g]=r[g],x))},{}),v=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:nW;return u.jsx("div",q({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:u.jsx(v,{children:o.displayMonths.map(function(_,g){return u.jsx(tW,{displayIndex:g,displayMonth:_},g)})})}))}function sW(t){var e=t.children,n=T8(t,["children"]);return u.jsx(Y8,{initialProps:n,children:u.jsx(r$,{children:u.jsx(F$,{initialProps:n,children:u.jsx(h$,{initialProps:n,children:u.jsx(g$,{initialProps:n,children:u.jsx(S$,{children:u.jsx(j$,{children:e})})})})})})})}function iW(t){return u.jsx(sW,q({},t,{children:u.jsx(rW,{initialProps:t})}))}function EN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(iW,{showOutsideDays:n,className:X("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:X(il({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:X(il({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...i})=>u.jsx(ZR,{className:X("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>u.jsx(eA,{className:X("h-4 w-4",s),...i})},...r})}EN.displayName="Calendar";var dv="Popover",[NN,dU]=ps(dv,[To]),Ol=To(),[oW,_s]=NN(dv),kN=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Ol(e),l=m.useRef(null),[c,d]=m.useState(!1),[f=!1,h]=za({prop:r,defaultProp:s,onChange:i});return u.jsx(OC,{...a,children:u.jsx(oW,{scope:e,contentId:Fs(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(v=>!v),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:n})})};kN.displayName=dv;var TN="PopoverAnchor",aW=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=_s(TN,n),i=Ol(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(cd,{...i,...r,ref:e})});aW.displayName=TN;var PN="PopoverTrigger",IN=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=_s(PN,n),i=Ol(n),o=be(e,s.triggerRef),a=u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":MN(s.open),...r,ref:o,onClick:Q(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(cd,{asChild:!0,...i,children:a})});IN.displayName=PN;var fv="PopoverPortal",[lW,cW]=NN(fv,{forceMount:void 0}),RN=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=_s(fv,e);return u.jsx(lW,{scope:e,forceMount:n,children:u.jsx(ms,{present:n||i.open,children:u.jsx(pl,{asChild:!0,container:s,children:r})})})};RN.displayName=fv;var wo="PopoverContent",AN=m.forwardRef((t,e)=>{const n=cW(wo,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=_s(wo,t.__scopePopover);return u.jsx(ms,{present:r||i.open,children:i.modal?u.jsx(dW,{...s,ref:e}):u.jsx(fW,{...s,ref:e})})});AN.displayName=wo;var uW=zs("PopoverContent.RemoveScroll"),dW=m.forwardRef((t,e)=>{const n=_s(wo,t.__scopePopover),r=m.useRef(null),s=be(e,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return Hg(o)},[]),u.jsx(Id,{as:uW,allowPinchZoom:!0,children:u.jsx(ON,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),fW=m.forwardRef((t,e)=>{const n=_s(wo,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return u.jsx(ON,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ON=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,h=_s(wo,n),v=Ol(n);return Ug(),u.jsx(Td,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(So,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(Vm,{"data-state":MN(h.open),role:"dialog",id:h.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DN="PopoverClose",hW=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=_s(DN,n);return u.jsx(ue.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});hW.displayName=DN;var pW="PopoverArrow",mW=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ol(n);return u.jsx(Gm,{...s,...r,ref:e})});mW.displayName=pW;function MN(t){return t?"open":"closed"}var gW=kN,vW=IN,yW=RN,jN=AN;const wW=gW,_W=vW,LN=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(yW,{children:u.jsx(jN,{ref:s,align:e,sideOffset:n,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));LN.displayName=jN.displayName;function A_(t,[e,n]){return Math.min(n,Math.max(e,t))}var xW=m.createContext(void 0);function bW(t){const e=m.useContext(xW);return t||e||"ltr"}function CW(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SW=[" ","Enter","ArrowUp","ArrowDown"],EW=[" ","Enter"],Dl="Select",[Md,jd,NW]=bb(Dl),[Lo,fU]=ps(Dl,[NW,To]),Ld=To(),[kW,xs]=Lo(Dl),[TW,PW]=Lo(Dl),FN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:v,form:_}=t,g=Ld(e),[x,y]=m.useState(null),[p,w]=m.useState(null),[b,C]=m.useState(!1),k=bW(c),[T=!1,P]=za({prop:r,defaultProp:s,onChange:i}),[E,N]=za({prop:o,defaultProp:a,onChange:l}),I=m.useRef(null),R=x?_||!!x.closest("form"):!0,[$,D]=m.useState(new Set),W=Array.from($).map(F=>F.props.value).join(";");return u.jsx(OC,{...g,children:u.jsxs(kW,{required:v,scope:e,trigger:x,onTriggerChange:y,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:Fs(),value:E,onValueChange:N,open:T,onOpenChange:P,dir:k,triggerPointerDownPosRef:I,disabled:h,children:[u.jsx(Md.Provider,{scope:e,children:u.jsx(TW,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(F=>{D(A=>new Set(A).add(F))},[]),onNativeOptionRemove:m.useCallback(F=>{D(A=>{const S=new Set(A);return S.delete(F),S})},[]),children:n})}),R?u.jsxs(ck,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:F=>N(F.target.value),disabled:h,form:_,children:[E===void 0?u.jsx("option",{value:""}):null,Array.from($)]},W):null]})})};FN.displayName=Dl;var $N="SelectTrigger",WN=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ld(n),o=xs($N,n),a=o.disabled||r,l=be(e,o.onTriggerChange),c=jd(n),d=m.useRef("touch"),[f,h,v]=uk(g=>{const x=c().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),p=dk(x,g,y);p!==void 0&&o.onValueChange(p.value)}),_=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(cd,{asChild:!0,...i,children:u.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":lk(o.value)?"":void 0,...s,ref:l,onClick:Q(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&_(g)}),onPointerDown:Q(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(_(g),g.preventDefault())}),onKeyDown:Q(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&SW.includes(g.key)&&(_(),g.preventDefault())})})})});WN.displayName=$N;var UN="SelectValue",HN=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=xs(UN,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=be(e,l.onValueNodeChange);return pt(()=>{c(d)},[c,d]),u.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:lk(l.value)?u.jsx(u.Fragment,{children:o}):i})});HN.displayName=UN;var IW="SelectIcon",BN=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(ue.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});BN.displayName=IW;var RW="SelectPortal",zN=t=>u.jsx(pl,{asChild:!0,...t});zN.displayName=RW;var ti="SelectContent",VN=m.forwardRef((t,e)=>{const n=xs(ti,t.__scopeSelect),[r,s]=m.useState();if(pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?si.createPortal(u.jsx(GN,{scope:t.__scopeSelect,children:u.jsx(Md.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(YN,{...t,ref:e})});VN.displayName=ti;var an=10,[GN,bs]=Lo(ti),AW="SelectContentImpl",OW=zs("SelectContent.RemoveScroll"),YN=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:x,...y}=t,p=xs(ti,n),[w,b]=m.useState(null),[C,k]=m.useState(null),T=be(e,V=>b(V)),[P,E]=m.useState(null),[N,I]=m.useState(null),R=jd(n),[$,D]=m.useState(!1),W=m.useRef(!1);m.useEffect(()=>{if(w)return Hg(w)},[w]),Ug();const F=m.useCallback(V=>{const[ge,...Fe]=R().map(me=>me.ref.current),[ve]=Fe.slice(-1),pe=document.activeElement;for(const me of V)if(me===pe||(me==null||me.scrollIntoView({block:"nearest"}),me===ge&&C&&(C.scrollTop=0),me===ve&&C&&(C.scrollTop=C.scrollHeight),me==null||me.focus(),document.activeElement!==pe))return},[R,C]),A=m.useCallback(()=>F([P,w]),[F,P,w]);m.useEffect(()=>{$&&A()},[$,A]);const{onOpenChange:S,triggerPointerDownPosRef:M}=p;m.useEffect(()=>{if(w){let V={x:0,y:0};const ge=ve=>{var pe,me;V={x:Math.abs(Math.round(ve.pageX)-(((pe=M.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((me=M.current)==null?void 0:me.y)??0))}},Fe=ve=>{V.x<=10&&V.y<=10?ve.preventDefault():w.contains(ve.target)||S(!1),document.removeEventListener("pointermove",ge),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[w,S,M]),m.useEffect(()=>{const V=()=>S(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[S]);const[U,B]=uk(V=>{const ge=R().filter(pe=>!pe.disabled),Fe=ge.find(pe=>pe.ref.current===document.activeElement),ve=dk(ge,V,Fe);ve&&setTimeout(()=>ve.ref.current.focus())}),ce=m.useCallback((V,ge,Fe)=>{const ve=!W.current&&!Fe;(p.value!==void 0&&p.value===ge||ve)&&(E(V),ve&&(W.current=!0))},[p.value]),ee=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ie=m.useCallback((V,ge,Fe)=>{const ve=!W.current&&!Fe;(p.value!==void 0&&p.value===ge||ve)&&I(V)},[p.value]),Le=r==="popper"?Sp:KN,oe=Le===Sp?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:x}:{};return u.jsx(GN,{scope:n,content:w,viewport:C,onViewportChange:k,itemRefCallback:ce,selectedItem:P,onItemLeave:ee,itemTextRefCallback:ie,focusSelectedItem:A,selectedItemText:N,position:r,isPositioned:$,searchRef:U,children:u.jsx(Id,{as:OW,allowPinchZoom:!0,children:u.jsx(Td,{asChild:!0,trapped:p.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Q(s,V=>{var ge;(ge=p.trigger)==null||ge.focus({preventScroll:!0}),V.preventDefault()}),children:u.jsx(So,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:u.jsx(Le,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:V=>V.preventDefault(),...y,...oe,onPlaced:()=>D(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,V=>{const ge=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ge&&V.key.length===1&&B(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ve=R().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const pe=V.target,me=ve.indexOf(pe);ve=ve.slice(me+1)}setTimeout(()=>F(ve)),V.preventDefault()}})})})})})})});YN.displayName=AW;var DW="SelectItemAlignedPosition",KN=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=xs(ti,n),o=bs(ti,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=be(e,T=>d(T)),h=jd(n),v=m.useRef(!1),_=m.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:p}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&x&&y){const T=i.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),N=y.getBoundingClientRect();if(i.dir!=="rtl"){const pe=N.left-P.left,me=E.left-pe,ot=T.left-me,z=T.width+ot,Ce=Math.max(z,P.width),at=window.innerWidth-an,Nt=A_(me,[an,Math.max(an,at-Ce)]);a.style.minWidth=z+"px",a.style.left=Nt+"px"}else{const pe=P.right-N.right,me=window.innerWidth-E.right-pe,ot=window.innerWidth-T.right-me,z=T.width+ot,Ce=Math.max(z,P.width),at=window.innerWidth-an,Nt=A_(me,[an,Math.max(an,at-Ce)]);a.style.minWidth=z+"px",a.style.right=Nt+"px"}const I=h(),R=window.innerHeight-an*2,$=g.scrollHeight,D=window.getComputedStyle(c),W=parseInt(D.borderTopWidth,10),F=parseInt(D.paddingTop,10),A=parseInt(D.borderBottomWidth,10),S=parseInt(D.paddingBottom,10),M=W+F+$+S+A,U=Math.min(x.offsetHeight*5,M),B=window.getComputedStyle(g),ce=parseInt(B.paddingTop,10),ee=parseInt(B.paddingBottom,10),ie=T.top+T.height/2-an,Le=R-ie,oe=x.offsetHeight/2,V=x.offsetTop+oe,ge=W+F+V,Fe=M-ge;if(ge<=ie){const pe=I.length>0&&x===I[I.length-1].ref.current;a.style.bottom="0px";const me=c.clientHeight-g.offsetTop-g.offsetHeight,ot=Math.max(Le,oe+(pe?ee:0)+me+A),z=ge+ot;a.style.height=z+"px"}else{const pe=I.length>0&&x===I[0].ref.current;a.style.top="0px";const ot=Math.max(ie,W+g.offsetTop+(pe?ce:0)+oe)+Fe;a.style.height=ot+"px",g.scrollTop=ge-ie+g.offsetTop}a.style.margin=`${an}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,i.trigger,i.valueNode,a,c,g,x,y,i.dir,r]);pt(()=>w(),[w]);const[b,C]=m.useState();pt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const k=m.useCallback(T=>{T&&_.current===!0&&(w(),p==null||p(),_.current=!1)},[w,p]);return u.jsx(jW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});KN.displayName=DW;var MW="SelectPopperPosition",Sp=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=an,...i}=t,o=Ld(n);return u.jsx(Vm,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sp.displayName=MW;var[jW,hv]=Lo(ti,{}),Ep="SelectViewport",qN=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=bs(Ep,n),o=hv(Ep,n),a=be(e,i.onViewportChange),l=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Md.Slot,{scope:n,children:u.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const v=Math.abs(l.current-d.scrollTop);if(v>0){const _=window.innerHeight-an*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(g,x);if(y<_){const p=y+v,w=Math.min(_,p),b=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});qN.displayName=Ep;var QN="SelectGroup",[LW,FW]=Lo(QN),$W=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fs();return u.jsx(LW,{scope:n,id:s,children:u.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:e})})});$W.displayName=QN;var XN="SelectLabel",JN=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=FW(XN,n);return u.jsx(ue.div,{id:s.id,...r,ref:e})});JN.displayName=XN;var Fu="SelectItem",[WW,ZN]=Lo(Fu),ek=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=xs(Fu,n),l=bs(Fu,n),c=a.value===r,[d,f]=m.useState(i??""),[h,v]=m.useState(!1),_=be(e,p=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,p,r,s)}),g=Fs(),x=m.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(WW,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:m.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:u.jsx(Md.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(ue.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:Q(o.onFocus,()=>v(!0)),onBlur:Q(o.onBlur,()=>v(!1)),onClick:Q(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Q(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Q(o.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:Q(o.onPointerMove,p=>{var w;x.current=p.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Q(o.onKeyDown,p=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(EW.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});ek.displayName=Fu;var oa="SelectItemText",tk=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=xs(oa,n),a=bs(oa,n),l=ZN(oa,n),c=PW(oa,n),[d,f]=m.useState(null),h=be(e,y=>f(y),l.onItemTextChange,y=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,y,l.value,l.disabled)}),v=d==null?void 0:d.textContent,_=m.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return pt(()=>(g(_),()=>x(_)),[g,x,_]),u.jsxs(u.Fragment,{children:[u.jsx(ue.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?si.createPortal(i.children,o.valueNode):null]})});tk.displayName=oa;var nk="SelectItemIndicator",rk=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZN(nk,n).isSelected?u.jsx(ue.span,{"aria-hidden":!0,...r,ref:e}):null});rk.displayName=nk;var Np="SelectScrollUpButton",sk=m.forwardRef((t,e)=>{const n=bs(Np,t.__scopeSelect),r=hv(Np,t.__scopeSelect),[s,i]=m.useState(!1),o=be(e,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(ok,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});sk.displayName=Np;var kp="SelectScrollDownButton",ik=m.forwardRef((t,e)=>{const n=bs(kp,t.__scopeSelect),r=hv(kp,t.__scopeSelect),[s,i]=m.useState(!1),o=be(e,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(ok,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ik.displayName=kp;var ok=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=bs("SelectScrollButton",n),o=m.useRef(null),a=jd(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),pt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(ue.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Q(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{l()})})}),UW="SelectSeparator",ak=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ue.div,{"aria-hidden":!0,...r,ref:e})});ak.displayName=UW;var Tp="SelectArrow",HW=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ld(n),i=xs(Tp,n),o=bs(Tp,n);return i.open&&o.position==="popper"?u.jsx(Gm,{...s,...r,ref:e}):null});HW.displayName=Tp;function lk(t){return t===""||t===void 0}var ck=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=be(e,s),o=CW(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(ml,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});ck.displayName="BubbleSelect";function uk(t){const e=Bt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function dk(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=BW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function BW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zW=FN,fk=WN,VW=HN,GW=BN,YW=zN,hk=VN,KW=qN,pk=JN,mk=ek,qW=tk,QW=rk,gk=sk,vk=ik,yk=ak;const XW=zW,JW=VW,wk=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(fk,{ref:r,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(GW,{asChild:!0,children:u.jsx(Qb,{className:"h-4 w-4 opacity-50"})})]}));wk.displayName=fk.displayName;const _k=m.forwardRef(({className:t,...e},n)=>u.jsx(gk,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(tA,{className:"h-4 w-4"})}));_k.displayName=gk.displayName;const xk=m.forwardRef(({className:t,...e},n)=>u.jsx(vk,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Qb,{className:"h-4 w-4"})}));xk.displayName=vk.displayName;const bk=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(YW,{children:u.jsxs(hk,{ref:s,className:X("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(_k,{}),u.jsx(KW,{className:X("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(xk,{})]})}));bk.displayName=hk.displayName;const ZW=m.forwardRef(({className:t,...e},n)=>u.jsx(pk,{ref:n,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ZW.displayName=pk.displayName;const Ck=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(mk,{ref:r,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(QW,{children:u.jsx(Om,{className:"h-4 w-4"})})}),u.jsx(qW,{children:e})]}));Ck.displayName=mk.displayName;const eU=m.forwardRef(({className:t,...e},n)=>u.jsx(yk,{ref:n,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));eU.displayName=yk.displayName;const Sk=m.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Sk.displayName="Textarea";function tU(){ys();const{hasHostingPrivilege:t,scheduleGame:e}=ws(),[,n]=hs(),{toast:r}=ii(),[s,i]=m.useState(""),[o,a]=m.useState(),[l,c]=m.useState(""),[d,f]=m.useState(""),[h,v]=m.useState(""),[_,g]=m.useState(!1),x=Array.from({length:24*4},(p,w)=>{const b=Math.floor(w/4),C=w%4*15;return Jt(new Date().setHours(b,C),"hh:mm a")}),y=async p=>{if(p.preventDefault(),!t){r({title:"Hosting Privilege Required",description:"You need hosting privileges to schedule games",variant:"destructive"});return}if(!s||!o||!l){r({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}try{const w=await e(s,o,l,d);v(w||""),r({title:"Game Scheduled!",description:"You can now share the game with players"})}catch{r({title:"Error",description:"Failed to schedule game. Please try again.",variant:"destructive"})}};return t?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Schedule a Game"}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Ft,{className:"text-white/80",children:"Game Name"}),u.jsx(gn,{value:s,onChange:p=>i(p.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Enter a name for your game"})]}),u.jsxs("div",{children:[u.jsx(Ft,{className:"text-white/80",children:"Date"}),u.jsxs(wW,{children:[u.jsx(_W,{asChild:!0,children:u.jsxs(G,{variant:"outline",className:X("w-full mt-2 bg-white/10 border-white/20 text-white justify-start text-left font-normal",!o&&"text-white/50"),children:[u.jsx(qb,{className:"mr-2 h-4 w-4"}),o?Jt(o,"PPP"):"Select a date"]})}),u.jsx(LN,{className:"w-auto p-0",children:u.jsx(EN,{mode:"single",selected:o,onSelect:a,initialFocus:!0,disabled:p=>p<new Date})})]})]}),u.jsxs("div",{children:[u.jsx(Ft,{className:"text-white/80",children:"Time"}),u.jsxs(XW,{value:l,onValueChange:c,children:[u.jsx(wk,{className:"w-full mt-2 bg-white/10 border-white/20 text-white",children:u.jsx(JW,{placeholder:"Select a time"})}),u.jsx(bk,{children:x.map(p=>u.jsx(Ck,{value:p,children:p},p))})]})]}),h&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ft,{className:"text-white/80",children:"Share Game"}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs(G,{type:"button",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const p=`${window.location.origin}/join/${h}`,w=encodeURIComponent(`Join my Disc Golf game: ${s}`),b=encodeURIComponent(`Join my scheduled Disc Golf game!

Game: ${s}
Date: ${Jt(o,"PPP")}
Time: ${l}

Join here: ${p}`);window.location.href=`mailto:?subject=${w}&body=${b}`},children:[u.jsx(aA,{className:"w-5 h-5"}),u.jsx("span",{children:"Share via Email"})]}),u.jsxs(G,{type:"button",className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const p=`${window.location.origin}/join/${h}`,w=encodeURIComponent(`Join my Disc Golf game!

Game: ${s}
Date: ${Jt(o,"PPP")}
Time: ${l}

Join here: ${p}`);window.location.href=`sms:?body=${w}`},children:[u.jsx(cA,{className:"w-5 h-5"}),u.jsx("span",{children:"Share via SMS"})]}),u.jsxs(G,{type:"button",className:"w-full bg-purple-500 hover:bg-purple-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const p=`${window.location.origin}/join/${h}`;if(navigator.share)try{await navigator.share({title:`Join my Disc Golf game: ${s}`,text:`Join my scheduled Disc Golf game!

Game: ${s}
Date: ${Jt(o,"PPP")}
Time: ${l}`,url:p})}catch{}else await navigator.clipboard.writeText(p),g(!0),setTimeout(()=>g(!1),2e3)},children:[u.jsx(Zb,{className:"w-5 h-5"}),u.jsx("span",{children:"Share..."})]}),u.jsx(G,{type:"button",className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const p=`${window.location.origin}/join/${h}`;await navigator.clipboard.writeText(p),g(!0),setTimeout(()=>g(!1),2e3)},children:_?u.jsxs(u.Fragment,{children:[u.jsx(Om,{className:"w-5 h-5"}),u.jsx("span",{children:"Copied!"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Jb,{className:"w-5 h-5"}),u.jsx("span",{children:"Copy Link"})]})})]})]}),u.jsxs("div",{children:[u.jsx(Ft,{className:"text-white/80",children:"Additional Notes"}),u.jsx(Sk,{value:d,onChange:p=>f(p.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Add any additional notes for players"})]}),u.jsx("div",{className:"flex space-x-4",children:h?u.jsx(G,{type:"button",onClick:()=>n("/"),className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Return to Main Menu"}):u.jsxs(u.Fragment,{children:[u.jsx(G,{type:"submit",className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Schedule Game"}),u.jsx(G,{type:"button",onClick:()=>n("/"),className:"bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})})]})]})})}):u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Hosting Privilege Required"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You need hosting privileges to schedule games."}),u.jsx(G,{onClick:()=>n("/store"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Purchase Hosting Privilege"})]})})})}function nU(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(te,{className:"w-full max-w-md mx-4",children:u.jsxs(ne,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(Xb,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function rU(){const{user:t,loading:e}=ys();return e?u.jsx("div",{className:"min-h-screen bg-brand-gradient flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"floating-animation text-8xl mb-6",children:""}),u.jsx("h1",{className:"font-logo text-5xl font-bold mb-4 text-gradient text-outline",children:"KICKED IN THE DISC"}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl mx-auto max-w-sm",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-logo-cyan border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-logo-dark font-medium",children:"Loading awesome disc golf action..."})]})]})}):t?u.jsxs(kI,{children:[u.jsx(Vn,{path:"/",component:zF}),u.jsx(Vn,{path:"/store",component:VF}),u.jsx(Vn,{path:"/host",component:GF}),u.jsx(Vn,{path:"/join",component:YF}),u.jsx(Vn,{path:"/lobby/:gameCode",component:KF}),u.jsx(Vn,{path:"/game/:gameCode",component:y5}),u.jsx(Vn,{path:"/results/:gameCode",component:w5}),u.jsx(Vn,{path:"/schedule",component:tU}),u.jsx(Vn,{component:nU})]}):u.jsx(HF,{})}function sU(){return u.jsx(XI,{client:eR,children:u.jsx(bD,{children:u.jsxs("div",{className:"min-h-screen bg-brand-gradient bg-pattern-dots",children:[u.jsx(QA,{}),u.jsx(rU,{})]})})})}tb(document.getElementById("root")).render(u.jsx(sU,{}));
