var Kg=t=>{throw TypeError(t)};var Ed=(t,e,n)=>e.has(t)||Kg("Cannot "+n);var R=(t,e,n)=>(Ed(t,e,"read from private field"),n?n.call(t):e.get(t)),ce=(t,e,n)=>e.has(t)?Kg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),X=(t,e,n,r)=>(Ed(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rt=(t,e,n)=>(Ed(t,e,"access private method"),n);var El=(t,e,n,r)=>({set _(s){X(t,e,s,n)},get _(){return R(t,e,r)}});function cN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function x_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b_={exports:{}},Pu={},C_={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),uN=Symbol.for("react.portal"),dN=Symbol.for("react.fragment"),fN=Symbol.for("react.strict_mode"),hN=Symbol.for("react.profiler"),pN=Symbol.for("react.provider"),mN=Symbol.for("react.context"),gN=Symbol.for("react.forward_ref"),vN=Symbol.for("react.suspense"),yN=Symbol.for("react.memo"),wN=Symbol.for("react.lazy"),qg=Symbol.iterator;function _N(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var S_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,N_={};function ao(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||S_}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k_(){}k_.prototype=ao.prototype;function vp(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||S_}var yp=vp.prototype=new k_;yp.constructor=vp;E_(yp,ao.prototype);yp.isPureReactComponent=!0;var Qg=Array.isArray,T_=Object.prototype.hasOwnProperty,wp={current:null},P_={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)T_.call(e,r)&&!P_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xa,type:t,key:i,ref:o,props:s,_owner:wp.current}}function xN(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _p(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function bN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xg=/\/+/g;function Nd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bN(""+t.key):e.toString(36)}function nc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xa:case uN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Nd(o,0):r,Qg(s)?(n="",t!=null&&(n=t.replace(Xg,"$&/")+"/"),nc(s,e,n,"",function(c){return c})):s!=null&&(_p(s)&&(s=xN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Qg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Nd(i,a);o+=nc(i,e,n,l,s)}else if(l=_N(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Nd(i,a++),o+=nc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nl(t,e,n){if(t==null)return t;var r=[],s=0;return nc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},rc={transition:null},SN={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:rc,ReactCurrentOwner:wp};function R_(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Nl,forEach:function(t,e,n){Nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nl(t,function(){e++}),e},toArray:function(t){return Nl(t,function(e){return e})||[]},only:function(t){if(!_p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=ao;ne.Fragment=dN;ne.Profiler=hN;ne.PureComponent=vp;ne.StrictMode=fN;ne.Suspense=vN;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SN;ne.act=R_;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=wp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)T_.call(e,l)&&!P_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xa,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:mN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pN,_context:t},t.Consumer=t};ne.createElement=I_;ne.createFactory=function(t){var e=I_.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:gN,render:t}};ne.isValidElement=_p;ne.lazy=function(t){return{$$typeof:wN,_payload:{_status:-1,_result:t},_init:CN}};ne.memo=function(t,e){return{$$typeof:yN,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=rc.transition;rc.transition={};try{t()}finally{rc.transition=e}};ne.unstable_act=R_;ne.useCallback=function(t,e){return wt.current.useCallback(t,e)};ne.useContext=function(t){return wt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return wt.current.useEffect(t,e)};ne.useId=function(){return wt.current.useId()};ne.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return wt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};ne.useRef=function(t){return wt.current.useRef(t)};ne.useState=function(t){return wt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return wt.current.useTransition()};ne.version="18.3.1";C_.exports=ne;var v=C_.exports;const vr=x_(v),A_=cN({__proto__:null,default:vr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=v,NN=Symbol.for("react.element"),kN=Symbol.for("react.fragment"),TN=Object.prototype.hasOwnProperty,PN=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IN={key:!0,ref:!0,__self:!0,__source:!0};function O_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TN.call(e,r)&&!IN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:NN,type:t,key:i,ref:o,props:s,_owner:PN.current}}Pu.Fragment=kN;Pu.jsx=O_;Pu.jsxs=O_;b_.exports=Pu;var u=b_.exports,M_={exports:{}},$t={},D_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,I){var F=S.length;S.push(I);e:for(;0<F;){var H=F-1>>>1,ee=S[H];if(0<s(ee,I))S[H]=I,S[F]=ee,F=H;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var I=S[0],F=S.pop();if(F!==I){S[0]=F;e:for(var H=0,ee=S.length,Fe=ee>>>1;H<Fe;){var Ae=2*(H+1)-1,Pt=S[Ae],ze=Ae+1,z=S[ze];if(0>s(Pt,F))ze<ee&&0>s(z,Pt)?(S[H]=z,S[ze]=F,H=ze):(S[H]=Pt,S[Ae]=F,H=Ae);else if(ze<ee&&0>s(z,F))S[H]=z,S[ze]=F,H=ze;else break e}}return I}function s(S,I){var F=S.sortIndex-I.sortIndex;return F!==0?F:S.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,g=!1,_=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=S)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function b(S){if(m=!1,w(S),!_)if(n(l)!==null)_=!0,W(k);else{var I=n(c);I!==null&&O(b,I.startTime-S)}}function k(S,I){_=!1,m&&(m=!1,y(N),N=-1),g=!0;var F=h;try{for(w(I),f=n(l);f!==null&&(!(f.expirationTime>I)||S&&!L());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var ee=H(f.expirationTime<=I);I=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),w(I)}else r(l);f=n(l)}if(f!==null)var Fe=!0;else{var Ae=n(c);Ae!==null&&O(b,Ae.startTime-I),Fe=!1}return Fe}finally{f=null,h=F,g=!1}}var E=!1,C=null,N=-1,T=5,P=-1;function L(){return!(t.unstable_now()-P<T)}function A(){if(C!==null){var S=t.unstable_now();P=S;var I=!0;try{I=C(!0,S)}finally{I?$():(E=!1,C=null)}}else E=!1}var $;if(typeof p=="function")$=function(){p(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=A,$=function(){B.postMessage(null)}}else $=function(){x(A,0)};function W(S){C=S,E||(E=!0,$())}function O(S,I){N=x(function(){S(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,W(k))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var F=h;h=I;try{return S()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,I){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var F=h;h=S;try{return I()}finally{h=F}},t.unstable_scheduleCallback=function(S,I,F){var H=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,S){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,S={id:d++,callback:I,priorityLevel:S,startTime:F,expirationTime:ee,sortIndex:-1},F>H?(S.sortIndex=F,e(c,S),n(l)===null&&S===n(c)&&(m?(y(N),N=-1):m=!0,O(b,F-H))):(S.sortIndex=ee,e(l,S),_||g||(_=!0,W(k))),S},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(S){var I=h;return function(){var F=h;h=I;try{return S.apply(this,arguments)}finally{h=F}}}})(j_);D_.exports=j_;var RN=D_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN=v,Ft=RN;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L_=new Set,ma={};function zs(t,e){Ui(t,e),Ui(t+"Capture",e)}function Ui(t,e){for(ma[t]=e,t=0;t<e.length;t++)L_.add(e[t])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,ON=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jg={},Zg={};function MN(t){return jf.call(Zg,t)?!0:jf.call(Jg,t)?!1:ON.test(t)?Zg[t]=!0:(Jg[t]=!0,!1)}function DN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jN(t,e,n,r){if(e===null||typeof e>"u"||DN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var xp=/[\-:]([a-z])/g;function bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xp,bp);et[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xp,bp);et[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xp,bp);et[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cp(t,e,n,r){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jN(e,n,s,r)&&(n=null),r||s===null?MN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cr=AN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),ri=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),F_=Symbol.for("react.provider"),W_=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),U_=Symbol.for("react.offscreen"),ev=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,kd;function Vo(t){if(kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kd=e&&e[1]||""}return`
`+kd+t}var Td=!1;function Pd(t,e){if(!t||Td)return"";Td=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Td=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function LN(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=Pd(t.type,!1),t;case 11:return t=Pd(t.type.render,!1),t;case 1:return t=Pd(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ri:return"Portal";case Lf:return"Profiler";case Sp:return"StrictMode";case Ff:return"Suspense";case Wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W_:return(t.displayName||"Context")+".Consumer";case F_:return(t._context.displayName||"Context")+".Provider";case Ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Np:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function FN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===Sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WN(t){var e=$_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tl(t){t._valueTracker||(t._valueTracker=WN(t))}function H_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B_(t,e){e=e.checked,e!=null&&Cp(t,"checked",e,!1)}function Hf(t,e){B_(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||Nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function vi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Go(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function z_(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pl,G_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UN=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){UN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jo[e]=Jo[t]})});function Y_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+e).trim():e+"px"}function K_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Y_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $N=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gf(t,e){if(e){if($N[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Yf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=null;function kp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qf=null,yi=null,wi=null;function iv(t){if(t=el(t)){if(typeof qf!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Mu(e),qf(t.stateNode,t.type,e))}}function q_(t){yi?wi?wi.push(t):wi=[t]:yi=t}function Q_(){if(yi){var t=yi,e=wi;if(wi=yi=null,iv(t),e)for(t=0;t<e.length;t++)iv(e[t])}}function X_(t,e){return t(e)}function J_(){}var Id=!1;function Z_(t,e,n){if(Id)return t(e,n);Id=!0;try{return X_(t,e,n)}finally{Id=!1,(yi!==null||wi!==null)&&(J_(),Q_())}}function va(t,e){var n=t.stateNode;if(n===null)return null;var r=Mu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Qf=!1;if(er)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Qf=!1}function HN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zo=!1,kc=null,Tc=!1,Xf=null,BN={onError:function(t){Zo=!0,kc=t}};function zN(t,e,n,r,s,i,o,a,l){Zo=!1,kc=null,HN.apply(BN,arguments)}function VN(t,e,n,r,s,i,o,a,l){if(zN.apply(this,arguments),Zo){if(Zo){var c=kc;Zo=!1,kc=null}else throw Error(D(198));Tc||(Tc=!0,Xf=c)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ex(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ov(t){if(Vs(t)!==t)throw Error(D(188))}function GN(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ov(s),t;if(i===r)return ov(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function tx(t){return t=GN(t),t!==null?nx(t):null}function nx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nx(t);if(e!==null)return e;t=t.sibling}return null}var rx=Ft.unstable_scheduleCallback,av=Ft.unstable_cancelCallback,YN=Ft.unstable_shouldYield,KN=Ft.unstable_requestPaint,Le=Ft.unstable_now,qN=Ft.unstable_getCurrentPriorityLevel,Tp=Ft.unstable_ImmediatePriority,sx=Ft.unstable_UserBlockingPriority,Pc=Ft.unstable_NormalPriority,QN=Ft.unstable_LowPriority,ix=Ft.unstable_IdlePriority,Iu=null,In=null;function XN(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Iu,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:ek,JN=Math.log,ZN=Math.LN2;function ek(t){return t>>>=0,t===0?32:31-(JN(t)/ZN|0)|0}var Il=64,Rl=4194304;function Yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Yo(a):(i&=o,i!==0&&(r=Yo(i)))}else o=n&~s,o!==0?r=Yo(o):i!==0&&(r=Yo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function tk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=tk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ox(){var t=Il;return Il<<=1,!(Il&4194240)&&(Il=64),t}function Rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ja(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function rk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function ax(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lx,Ip,cx,ux,dx,Zf=!1,Al=[],jr=null,Lr=null,Fr=null,ya=new Map,wa=new Map,br=[],sk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(e.pointerId)}}function Ro(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=el(e),e!==null&&Ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ik(t,e,n,r,s){switch(e){case"focusin":return jr=Ro(jr,t,e,n,r,s),!0;case"dragenter":return Lr=Ro(Lr,t,e,n,r,s),!0;case"mouseover":return Fr=Ro(Fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ya.set(i,Ro(ya.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wa.set(i,Ro(wa.get(i)||null,t,e,n,r,s)),!0}return!1}function fx(t){var e=ws(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=ex(n),e!==null){t.blockedOn=e,dx(t.priority,function(){cx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kf=r,n.target.dispatchEvent(r),Kf=null}else return e=el(n),e!==null&&Ip(e),t.blockedOn=n,!1;e.shift()}return!0}function cv(t,e,n){sc(t)&&n.delete(e)}function ok(){Zf=!1,jr!==null&&sc(jr)&&(jr=null),Lr!==null&&sc(Lr)&&(Lr=null),Fr!==null&&sc(Fr)&&(Fr=null),ya.forEach(cv),wa.forEach(cv)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,Zf||(Zf=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,ok)))}function _a(t){function e(s){return Ao(s,t)}if(0<Al.length){Ao(Al[0],t);for(var n=1;n<Al.length;n++){var r=Al[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&Ao(jr,t),Lr!==null&&Ao(Lr,t),Fr!==null&&Ao(Fr,t),ya.forEach(e),wa.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)fx(n),n.blockedOn===null&&br.shift()}var _i=cr.ReactCurrentBatchConfig,Rc=!0;function ak(t,e,n,r){var s=fe,i=_i.transition;_i.transition=null;try{fe=1,Rp(t,e,n,r)}finally{fe=s,_i.transition=i}}function lk(t,e,n,r){var s=fe,i=_i.transition;_i.transition=null;try{fe=4,Rp(t,e,n,r)}finally{fe=s,_i.transition=i}}function Rp(t,e,n,r){if(Rc){var s=eh(t,e,n,r);if(s===null)$d(t,e,r,Ac,n),lv(t,r);else if(ik(s,t,e,n,r))r.stopPropagation();else if(lv(t,r),e&4&&-1<sk.indexOf(t)){for(;s!==null;){var i=el(s);if(i!==null&&lx(i),i=eh(t,e,n,r),i===null&&$d(t,e,r,Ac,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $d(t,e,r,null,n)}}var Ac=null;function eh(t,e,n,r){if(Ac=null,t=kp(r),t=ws(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ex(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ac=t,null}function hx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qN()){case Tp:return 1;case sx:return 4;case Pc:case QN:return 16;case ix:return 536870912;default:return 16}default:return 16}}var Or=null,Ap=null,ic=null;function px(){if(ic)return ic;var t,e=Ap,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ic=s.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function uv(){return!1}function Ht(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ol:uv,this.isPropagationStopped=uv,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=Ht(lo),Za=Re({},lo,{view:0,detail:0}),ck=Ht(Za),Ad,Od,Oo,Ru=Re({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(Ad=t.screenX-Oo.screenX,Od=t.screenY-Oo.screenY):Od=Ad=0,Oo=t),Ad)},movementY:function(t){return"movementY"in t?t.movementY:Od}}),dv=Ht(Ru),uk=Re({},Ru,{dataTransfer:0}),dk=Ht(uk),fk=Re({},Za,{relatedTarget:0}),Md=Ht(fk),hk=Re({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),pk=Ht(hk),mk=Re({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gk=Ht(mk),vk=Re({},lo,{data:0}),fv=Ht(vk),yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_k={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_k[t])?!!e[t]:!1}function Mp(){return xk}var bk=Re({},Za,{key:function(t){if(t.key){var e=yk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ck=Ht(bk),Sk=Re({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=Ht(Sk),Ek=Re({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),Nk=Ht(Ek),kk=Re({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tk=Ht(kk),Pk=Re({},Ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ik=Ht(Pk),Rk=[9,13,27,32],Dp=er&&"CompositionEvent"in window,ea=null;er&&"documentMode"in document&&(ea=document.documentMode);var Ak=er&&"TextEvent"in window&&!ea,mx=er&&(!Dp||ea&&8<ea&&11>=ea),pv=" ",mv=!1;function gx(t,e){switch(t){case"keyup":return Rk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function Ok(t,e){switch(t){case"compositionend":return vx(e);case"keypress":return e.which!==32?null:(mv=!0,pv);case"textInput":return t=e.data,t===pv&&mv?null:t;default:return null}}function Mk(t,e){if(ii)return t==="compositionend"||!Dp&&gx(t,e)?(t=px(),ic=Ap=Or=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mx&&e.locale!=="ko"?null:e.data;default:return null}}var Dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dk[t.type]:e==="textarea"}function yx(t,e,n,r){q_(r),e=Oc(e,"onChange"),0<e.length&&(n=new Op("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ta=null,xa=null;function jk(t){Px(t,0)}function Au(t){var e=li(t);if(H_(e))return t}function Lk(t,e){if(t==="change")return e}var wx=!1;if(er){var Dd;if(er){var jd="oninput"in document;if(!jd){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),jd=typeof vv.oninput=="function"}Dd=jd}else Dd=!1;wx=Dd&&(!document.documentMode||9<document.documentMode)}function yv(){ta&&(ta.detachEvent("onpropertychange",_x),xa=ta=null)}function _x(t){if(t.propertyName==="value"&&Au(xa)){var e=[];yx(e,xa,t,kp(t)),Z_(jk,e)}}function Fk(t,e,n){t==="focusin"?(yv(),ta=e,xa=n,ta.attachEvent("onpropertychange",_x)):t==="focusout"&&yv()}function Wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(xa)}function Uk(t,e){if(t==="click")return Au(e)}function $k(t,e){if(t==="input"||t==="change")return Au(e)}function Hk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:Hk;function ba(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jf.call(e,s)||!mn(t[s],e[s]))return!1}return!0}function wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _v(t,e){var n=wv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function xx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bx(){for(var t=window,e=Nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nc(t.document)}return e}function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bk(t){var e=bx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xx(n.ownerDocument.documentElement,n)){if(r!==null&&jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_v(n,i);var o=_v(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zk=er&&"documentMode"in document&&11>=document.documentMode,oi=null,th=null,na=null,nh=!1;function xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nh||oi==null||oi!==Nc(r)||(r=oi,"selectionStart"in r&&jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&ba(na,r)||(na=r,r=Oc(th,"onSelect"),0<r.length&&(e=new Op("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oi)))}function Ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ai={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Ld={},Cx={};er&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Ou(t){if(Ld[t])return Ld[t];if(!ai[t])return t;var e=ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cx)return Ld[t]=e[n];return t}var Sx=Ou("animationend"),Ex=Ou("animationiteration"),Nx=Ou("animationstart"),kx=Ou("transitionend"),Tx=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){Tx.set(t,e),zs(e,[t])}for(var Fd=0;Fd<bv.length;Fd++){var Wd=bv[Fd],Vk=Wd.toLowerCase(),Gk=Wd[0].toUpperCase()+Wd.slice(1);rs(Vk,"on"+Gk)}rs(Sx,"onAnimationEnd");rs(Ex,"onAnimationIteration");rs(Nx,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(kx,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function Cv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VN(r,e,void 0,t),t.currentTarget=null}function Px(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Cv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Cv(s,a,c),i=l}}}if(Tc)throw t=Xf,Tc=!1,Xf=null,t}function Se(t,e){var n=e[ah];n===void 0&&(n=e[ah]=new Set);var r=t+"__bubble";n.has(r)||(Ix(e,t,2,!1),n.add(r))}function Ud(t,e,n){var r=0;e&&(r|=4),Ix(n,t,r,e)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Ca(t){if(!t[Dl]){t[Dl]=!0,L_.forEach(function(n){n!=="selectionchange"&&(Yk.has(n)||Ud(n,!1,t),Ud(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dl]||(e[Dl]=!0,Ud("selectionchange",!1,e))}}function Ix(t,e,n,r){switch(hx(e)){case 1:var s=ak;break;case 4:s=lk;break;default:s=Rp}n=s.bind(null,e,n,t),s=void 0,!Qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $d(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Z_(function(){var c=i,d=kp(n),f=[];e:{var h=Tx.get(t);if(h!==void 0){var g=Op,_=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":g=Ck;break;case"focusin":_="focus",g=Md;break;case"focusout":_="blur",g=Md;break;case"beforeblur":case"afterblur":g=Md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Nk;break;case Sx:case Ex:case Nx:g=pk;break;case kx:g=Tk;break;case"scroll":g=ck;break;case"wheel":g=Ik;break;case"copy":case"cut":case"paste":g=gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hv}var m=(e&4)!==0,x=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var p=c,w;p!==null;){w=p;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=va(p,y),b!=null&&m.push(Sa(p,b,w)))),x)break;p=p.return}0<m.length&&(h=new g(h,_,null,n,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Kf&&(_=n.relatedTarget||n.fromElement)&&(ws(_)||_[tr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?ws(_):null,_!==null&&(x=Vs(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(m=dv,b="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(m=hv,b="onPointerLeave",y="onPointerEnter",p="pointer"),x=g==null?h:li(g),w=_==null?h:li(_),h=new m(b,p+"leave",g,n,d),h.target=x,h.relatedTarget=w,b=null,ws(d)===c&&(m=new m(y,p+"enter",_,n,d),m.target=w,m.relatedTarget=x,b=m),x=b,g&&_)t:{for(m=g,y=_,p=0,w=m;w;w=Xs(w))p++;for(w=0,b=y;b;b=Xs(b))w++;for(;0<p-w;)m=Xs(m),p--;for(;0<w-p;)y=Xs(y),w--;for(;p--;){if(m===y||y!==null&&m===y.alternate)break t;m=Xs(m),y=Xs(y)}m=null}else m=null;g!==null&&Sv(f,h,g,m,!1),_!==null&&x!==null&&Sv(f,x,_,m,!0)}}e:{if(h=c?li(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=Lk;else if(gv(h))if(wx)k=$k;else{k=Wk;var E=Fk}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Uk);if(k&&(k=k(t,c))){yx(f,k,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Bf(h,"number",h.value)}switch(E=c?li(c):window,t){case"focusin":(gv(E)||E.contentEditable==="true")&&(oi=E,th=c,na=null);break;case"focusout":na=th=oi=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,xv(f,n,d);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":xv(f,n,d)}var C;if(Dp)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ii?gx(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(mx&&n.locale!=="ko"&&(ii||N!=="onCompositionStart"?N==="onCompositionEnd"&&ii&&(C=px()):(Or=d,Ap="value"in Or?Or.value:Or.textContent,ii=!0)),E=Oc(c,N),0<E.length&&(N=new fv(N,t,null,n,d),f.push({event:N,listeners:E}),C?N.data=C:(C=vx(n),C!==null&&(N.data=C)))),(C=Ak?Ok(t,n):Mk(t,n))&&(c=Oc(c,"onBeforeInput"),0<c.length&&(d=new fv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}Px(f,e)})}function Sa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=va(t,n),i!=null&&r.unshift(Sa(t,i,s)),i=va(t,e),i!=null&&r.push(Sa(t,i,s))),t=t.return}return r}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=va(n,i),l!=null&&o.unshift(Sa(n,l,a))):s||(l=va(n,i),l!=null&&o.push(Sa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(Kk,`
`).replace(qk,"")}function jl(t,e,n){if(e=Ev(e),Ev(t)!==e&&n)throw Error(D(425))}function Mc(){}var rh=null,sh=null;function ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,Qk=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,Xk=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(Jk)}:oh;function Jk(t){setTimeout(function(){throw t})}function Hd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_a(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),kn="__reactFiber$"+co,Ea="__reactProps$"+co,tr="__reactContainer$"+co,ah="__reactEvents$"+co,Zk="__reactListeners$"+co,eT="__reactHandles$"+co;function ws(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tr]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kv(t);t!==null;){if(n=t[kn])return n;t=kv(t)}return e}t=n,n=t.parentNode}return null}function el(t){return t=t[kn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Mu(t){return t[Ea]||null}var lh=[],ci=-1;function ss(t){return{current:t}}function Ee(t){0>ci||(t.current=lh[ci],lh[ci]=null,ci--)}function _e(t,e){ci++,lh[ci]=t.current,t.current=e}var Qr={},lt=ss(Qr),Et=ss(!1),Ps=Qr;function $i(t,e){var n=t.type.contextTypes;if(!n)return Qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(t){return t=t.childContextTypes,t!=null}function Dc(){Ee(Et),Ee(lt)}function Tv(t,e,n){if(lt.current!==Qr)throw Error(D(168));_e(lt,e),_e(Et,n)}function Rx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,FN(t)||"Unknown",s));return Re({},n,r)}function jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,Ps=lt.current,_e(lt,t),_e(Et,Et.current),!0}function Pv(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Rx(t,e,Ps),r.__reactInternalMemoizedMergedChildContext=t,Ee(Et),Ee(lt),_e(lt,t)):Ee(Et),_e(Et,n)}var Vn=null,Du=!1,Bd=!1;function Ax(t){Vn===null?Vn=[t]:Vn.push(t)}function tT(t){Du=!0,Ax(t)}function is(){if(!Bd&&Vn!==null){Bd=!0;var t=0,e=fe;try{var n=Vn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vn=null,Du=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(t+1)),rx(Tp,is),s}finally{fe=e,Bd=!1}}return null}var ui=[],di=0,Lc=null,Fc=0,zt=[],Vt=0,Is=null,Gn=1,Yn="";function ps(t,e){ui[di++]=Fc,ui[di++]=Lc,Lc=t,Fc=e}function Ox(t,e,n){zt[Vt++]=Gn,zt[Vt++]=Yn,zt[Vt++]=Is,Is=t;var r=Gn;t=Yn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gn=1<<32-fn(e)+s|n<<s|r,Yn=i+t}else Gn=1<<i|n<<s|r,Yn=t}function Lp(t){t.return!==null&&(ps(t,1),Ox(t,1,0))}function Fp(t){for(;t===Lc;)Lc=ui[--di],ui[di]=null,Fc=ui[--di],ui[di]=null;for(;t===Is;)Is=zt[--Vt],zt[Vt]=null,Yn=zt[--Vt],zt[Vt]=null,Gn=zt[--Vt],zt[Vt]=null}var jt=null,Dt=null,ke=!1,an=null;function Mx(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Dt=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Is!==null?{id:Gn,overflow:Yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Dt=null,!0):!1;default:return!1}}function ch(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uh(t){if(ke){var e=Dt;if(e){var n=e;if(!Iv(t,e)){if(ch(t))throw Error(D(418));e=Wr(n.nextSibling);var r=jt;e&&Iv(t,e)?Mx(r,n):(t.flags=t.flags&-4097|2,ke=!1,jt=t)}}else{if(ch(t))throw Error(D(418));t.flags=t.flags&-4097|2,ke=!1,jt=t}}}function Rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ll(t){if(t!==jt)return!1;if(!ke)return Rv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ih(t.type,t.memoizedProps)),e&&(e=Dt)){if(ch(t))throw Dx(),Error(D(418));for(;e;)Mx(t,e),e=Wr(e.nextSibling)}if(Rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=jt?Wr(t.stateNode.nextSibling):null;return!0}function Dx(){for(var t=Dt;t;)t=Wr(t.nextSibling)}function Hi(){Dt=jt=null,ke=!1}function Wp(t){an===null?an=[t]:an.push(t)}var nT=cr.ReactCurrentBatchConfig;function Mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Fl(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Av(t){var e=t._init;return e(t._payload)}function jx(t){function e(y,p){if(t){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Br(y,p),y.index=0,y.sibling=null,y}function i(y,p,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=2,p):w):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,w,b){return p===null||p.tag!==6?(p=Qd(w,y.mode,b),p.return=y,p):(p=s(p,w),p.return=y,p)}function l(y,p,w,b){var k=w.type;return k===si?d(y,p,w.props.children,b,w.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_r&&Av(k)===p.type)?(b=s(p,w.props),b.ref=Mo(y,p,w),b.return=y,b):(b=hc(w.type,w.key,w.props,null,y.mode,b),b.ref=Mo(y,p,w),b.return=y,b)}function c(y,p,w,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Xd(w,y.mode,b),p.return=y,p):(p=s(p,w.children||[]),p.return=y,p)}function d(y,p,w,b,k){return p===null||p.tag!==7?(p=Ts(w,y.mode,b,k),p.return=y,p):(p=s(p,w),p.return=y,p)}function f(y,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qd(""+p,y.mode,w),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case kl:return w=hc(p.type,p.key,p.props,null,y.mode,w),w.ref=Mo(y,null,p),w.return=y,w;case ri:return p=Xd(p,y.mode,w),p.return=y,p;case _r:var b=p._init;return f(y,b(p._payload),w)}if(Go(p)||Po(p))return p=Ts(p,y.mode,w,null),p.return=y,p;Fl(y,p)}return null}function h(y,p,w,b){var k=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(y,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return w.key===k?l(y,p,w,b):null;case ri:return w.key===k?c(y,p,w,b):null;case _r:return k=w._init,h(y,p,k(w._payload),b)}if(Go(w)||Po(w))return k!==null?null:d(y,p,w,b,null);Fl(y,w)}return null}function g(y,p,w,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,a(p,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kl:return y=y.get(b.key===null?w:b.key)||null,l(p,y,b,k);case ri:return y=y.get(b.key===null?w:b.key)||null,c(p,y,b,k);case _r:var E=b._init;return g(y,p,w,E(b._payload),k)}if(Go(b)||Po(b))return y=y.get(w)||null,d(p,y,b,k,null);Fl(p,b)}return null}function _(y,p,w,b){for(var k=null,E=null,C=p,N=p=0,T=null;C!==null&&N<w.length;N++){C.index>N?(T=C,C=null):T=C.sibling;var P=h(y,C,w[N],b);if(P===null){C===null&&(C=T);break}t&&C&&P.alternate===null&&e(y,C),p=i(P,p,N),E===null?k=P:E.sibling=P,E=P,C=T}if(N===w.length)return n(y,C),ke&&ps(y,N),k;if(C===null){for(;N<w.length;N++)C=f(y,w[N],b),C!==null&&(p=i(C,p,N),E===null?k=C:E.sibling=C,E=C);return ke&&ps(y,N),k}for(C=r(y,C);N<w.length;N++)T=g(C,y,N,w[N],b),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?N:T.key),p=i(T,p,N),E===null?k=T:E.sibling=T,E=T);return t&&C.forEach(function(L){return e(y,L)}),ke&&ps(y,N),k}function m(y,p,w,b){var k=Po(w);if(typeof k!="function")throw Error(D(150));if(w=k.call(w),w==null)throw Error(D(151));for(var E=k=null,C=p,N=p=0,T=null,P=w.next();C!==null&&!P.done;N++,P=w.next()){C.index>N?(T=C,C=null):T=C.sibling;var L=h(y,C,P.value,b);if(L===null){C===null&&(C=T);break}t&&C&&L.alternate===null&&e(y,C),p=i(L,p,N),E===null?k=L:E.sibling=L,E=L,C=T}if(P.done)return n(y,C),ke&&ps(y,N),k;if(C===null){for(;!P.done;N++,P=w.next())P=f(y,P.value,b),P!==null&&(p=i(P,p,N),E===null?k=P:E.sibling=P,E=P);return ke&&ps(y,N),k}for(C=r(y,C);!P.done;N++,P=w.next())P=g(C,y,N,P.value,b),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?N:P.key),p=i(P,p,N),E===null?k=P:E.sibling=P,E=P);return t&&C.forEach(function(A){return e(y,A)}),ke&&ps(y,N),k}function x(y,p,w,b){if(typeof w=="object"&&w!==null&&w.type===si&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:e:{for(var k=w.key,E=p;E!==null;){if(E.key===k){if(k=w.type,k===si){if(E.tag===7){n(y,E.sibling),p=s(E,w.props.children),p.return=y,y=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_r&&Av(k)===E.type){n(y,E.sibling),p=s(E,w.props),p.ref=Mo(y,E,w),p.return=y,y=p;break e}n(y,E);break}else e(y,E);E=E.sibling}w.type===si?(p=Ts(w.props.children,y.mode,b,w.key),p.return=y,y=p):(b=hc(w.type,w.key,w.props,null,y.mode,b),b.ref=Mo(y,p,w),b.return=y,y=b)}return o(y);case ri:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(y,p.sibling),p=s(p,w.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Xd(w,y.mode,b),p.return=y,y=p}return o(y);case _r:return E=w._init,x(y,p,E(w._payload),b)}if(Go(w))return _(y,p,w,b);if(Po(w))return m(y,p,w,b);Fl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,w),p.return=y,y=p):(n(y,p),p=Qd(w,y.mode,b),p.return=y,y=p),o(y)):n(y,p)}return x}var Bi=jx(!0),Lx=jx(!1),Wc=ss(null),Uc=null,fi=null,Up=null;function $p(){Up=fi=Uc=null}function Hp(t){var e=Wc.current;Ee(Wc),t._currentValue=e}function dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xi(t,e){Uc=t,Up=fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(Up!==t)if(t={context:t,memoizedValue:e,next:null},fi===null){if(Uc===null)throw Error(D(308));fi=t,Uc.dependencies={lanes:0,firstContext:t}}else fi=fi.next=t;return e}var _s=null;function Bp(t){_s===null?_s=[t]:_s.push(t)}function Fx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Bp(e)):(n.next=s.next,s.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,nr(t,n)}return s=r.interleaved,s===null?(e.next=e,Bp(r)):(e.next=s.next,s.next=e),r.interleaved=e,nr(t,n)}function ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function Ov(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $c(t,e,n,r){var s=t.updateQueue;xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,m=a;switch(h=e,g=n,m.tag){case 1:if(_=m.payload,typeof _=="function"){f=_.call(g,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=m.payload,h=typeof _=="function"?_.call(g,f,h):_,h==null)break e;f=Re({},f,h);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);As|=o,t.lanes=o,t.memoizedState=f}}function Mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var tl={},Rn=ss(tl),Na=ss(tl),ka=ss(tl);function xs(t){if(t===tl)throw Error(D(174));return t}function Vp(t,e){switch(_e(ka,e),_e(Na,t),_e(Rn,tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}Ee(Rn),_e(Rn,e)}function zi(){Ee(Rn),Ee(Na),Ee(ka)}function Ux(t){xs(ka.current);var e=xs(Rn.current),n=Vf(e,t.type);e!==n&&(_e(Na,t),_e(Rn,n))}function Gp(t){Na.current===t&&(Ee(Rn),Ee(Na))}var Pe=ss(0);function Hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zd=[];function Yp(){for(var t=0;t<zd.length;t++)zd[t]._workInProgressVersionPrimary=null;zd.length=0}var lc=cr.ReactCurrentDispatcher,Vd=cr.ReactCurrentBatchConfig,Rs=0,Ie=null,Ue=null,Ke=null,Bc=!1,ra=!1,Ta=0,rT=0;function st(){throw Error(D(321))}function Kp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function qp(t,e,n,r,s,i){if(Rs=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lc.current=t===null||t.memoizedState===null?aT:lT,t=n(r,s),ra){i=0;do{if(ra=!1,Ta=0,25<=i)throw Error(D(301));i+=1,Ke=Ue=null,e.updateQueue=null,lc.current=cT,t=n(r,s)}while(ra)}if(lc.current=zc,e=Ue!==null&&Ue.next!==null,Rs=0,Ke=Ue=Ie=null,Bc=!1,e)throw Error(D(300));return t}function Qp(){var t=Ta!==0;return Ta=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ie.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Jt(){if(Ue===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ke===null?Ie.memoizedState:Ke.next;if(e!==null)Ke=e,Ue=t;else{if(t===null)throw Error(D(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Ie.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Pa(t,e){return typeof e=="function"?e(t):e}function Gd(t){var e=Jt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Rs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ie.lanes|=d,As|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,mn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ie.lanes|=i,As|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yd(t){var e=Jt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mn(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $x(){}function Hx(t,e){var n=Ie,r=Jt(),s=e(),i=!mn(r.memoizedState,s);if(i&&(r.memoizedState=s,bt=!0),r=r.queue,Xp(Vx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ia(9,zx.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(D(349));Rs&30||Bx(n,e,s)}return s}function Bx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zx(t,e,n,r){e.value=n,e.getSnapshot=r,Gx(e)&&Yx(t)}function Vx(t,e,n){return n(function(){Gx(e)&&Yx(t)})}function Gx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function Yx(t){var e=nr(t,1);e!==null&&hn(e,t,1,-1)}function Dv(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},e.queue=t,t=t.dispatch=oT.bind(null,Ie,t),[e.memoizedState,t]}function Ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kx(){return Jt().memoizedState}function cc(t,e,n,r){var s=Cn();Ie.flags|=t,s.memoizedState=Ia(1|e,n,void 0,r===void 0?null:r)}function ju(t,e,n,r){var s=Jt();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&Kp(r,o.deps)){s.memoizedState=Ia(e,n,i,r);return}}Ie.flags|=t,s.memoizedState=Ia(1|e,n,i,r)}function jv(t,e){return cc(8390656,8,t,e)}function Xp(t,e){return ju(2048,8,t,e)}function qx(t,e){return ju(4,2,t,e)}function Qx(t,e){return ju(4,4,t,e)}function Xx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jx(t,e,n){return n=n!=null?n.concat([t]):null,ju(4,4,Xx.bind(null,e,t),n)}function Jp(){}function Zx(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e0(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t0(t,e,n){return Rs&21?(mn(n,e)||(n=ox(),Ie.lanes|=n,As|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function sT(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Vd.transition;Vd.transition={};try{t(!1),e()}finally{fe=n,Vd.transition=r}}function n0(){return Jt().memoizedState}function iT(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r0(t))s0(e,n);else if(n=Fx(t,e,n,r),n!==null){var s=gt();hn(n,t,r,s),i0(n,e,r)}}function oT(t,e,n){var r=Hr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r0(t))s0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mn(a,o)){var l=e.interleaved;l===null?(s.next=s,Bp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Fx(t,e,s,r),n!==null&&(s=gt(),hn(n,t,r,s),i0(n,e,r))}}function r0(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function s0(t,e){ra=Bc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var zc={readContext:Xt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},aT={readContext:Xt,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:jv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cc(4194308,4,Xx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return cc(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iT.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:Dv,useDebugValue:Jp,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=Dv(!1),e=t[0];return t=sT.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,s=Cn();if(ke){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Qe===null)throw Error(D(349));Rs&30||Bx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jv(Vx.bind(null,r,i,t),[t]),r.flags|=2048,Ia(9,zx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cn(),e=Qe.identifierPrefix;if(ke){var n=Yn,r=Gn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lT={readContext:Xt,useCallback:Zx,useContext:Xt,useEffect:Xp,useImperativeHandle:Jx,useInsertionEffect:qx,useLayoutEffect:Qx,useMemo:e0,useReducer:Gd,useRef:Kx,useState:function(){return Gd(Pa)},useDebugValue:Jp,useDeferredValue:function(t){var e=Jt();return t0(e,Ue.memoizedState,t)},useTransition:function(){var t=Gd(Pa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:Hx,useId:n0,unstable_isNewReconciler:!1},cT={readContext:Xt,useCallback:Zx,useContext:Xt,useEffect:Xp,useImperativeHandle:Jx,useInsertionEffect:qx,useLayoutEffect:Qx,useMemo:e0,useReducer:Yd,useRef:Kx,useState:function(){return Yd(Pa)},useDebugValue:Jp,useDeferredValue:function(t){var e=Jt();return Ue===null?e.memoizedState=t:t0(e,Ue.memoizedState,t)},useTransition:function(){var t=Yd(Pa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:Hx,useId:n0,unstable_isNewReconciler:!1};function nn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lu={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),s=Hr(t),i=Xn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(hn(e,t,s,r),ac(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),s=Hr(t),i=Xn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(hn(e,t,s,r),ac(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=Hr(t),s=Xn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ur(t,s,r),e!==null&&(hn(e,t,r,n),ac(e,t,r))}};function Lv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ba(n,r)||!ba(s,i):!0}function o0(t,e,n){var r=!1,s=Qr,i=e.contextType;return typeof i=="object"&&i!==null?i=Xt(i):(s=Nt(e)?Ps:lt.current,r=e.contextTypes,i=(r=r!=null)?$i(t,s):Qr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lu.enqueueReplaceState(e,e.state,null)}function hh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},zp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xt(i):(i=Nt(e)?Ps:lt.current,s.context=$i(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Lu.enqueueReplaceState(s,s.state,null),$c(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vi(t,e){try{var n="",r=e;do n+=LN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uT=typeof WeakMap=="function"?WeakMap:Map;function a0(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gc||(Gc=!0,Sh=r),ph(t,e)},n}function l0(t,e,n){n=Xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ph(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ph(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ST.bind(null,t,e,n),e.then(t,t))}function Uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var dT=cr.ReactCurrentOwner,bt=!1;function ft(t,e,n,r){e.child=t===null?Lx(e,null,n,r):Bi(e,t.child,n,r)}function Hv(t,e,n,r,s){n=n.render;var i=e.ref;return xi(e,s),r=qp(t,e,n,r,i,s),n=Qp(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):(ke&&n&&Lp(e),e.flags|=1,ft(t,e,r,s),e.child)}function Bv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!om(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,c0(t,e,i,r,s)):(t=hc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(o,r)&&t.ref===e.ref)return rr(t,e,s)}return e.flags|=1,t=Br(i,r),t.ref=e.ref,t.return=e,e.child=t}function c0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ba(i,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,rr(t,e,s)}return mh(t,e,n,r,s)}function u0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(pi,At),At|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(pi,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(pi,At),At|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_e(pi,At),At|=r;return ft(t,e,s,n),e.child}function d0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mh(t,e,n,r,s){var i=Nt(n)?Ps:lt.current;return i=$i(e,i),xi(e,s),n=qp(t,e,n,r,i,s),r=Qp(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):(ke&&r&&Lp(e),e.flags|=1,ft(t,e,n,s),e.child)}function zv(t,e,n,r,s){if(Nt(n)){var i=!0;jc(e)}else i=!1;if(xi(e,s),e.stateNode===null)uc(t,e),o0(e,n,r),hh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xt(c):(c=Nt(n)?Ps:lt.current,c=$i(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Fv(e,o,r,c),xr=!1;var h=e.memoizedState;o.state=h,$c(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Et.current||xr?(typeof d=="function"&&(fh(e,n,d,r),l=e.memoizedState),(a=xr||Lv(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:nn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Nt(n)?Ps:lt.current,l=$i(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Fv(e,o,r,l),xr=!1,h=e.memoizedState,o.state=h,$c(e,r,o,s);var _=e.memoizedState;a!==f||h!==_||Et.current||xr?(typeof g=="function"&&(fh(e,n,g,r),_=e.memoizedState),(c=xr||Lv(e,n,c,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return gh(t,e,n,r,i,s)}function gh(t,e,n,r,s,i){d0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Pv(e,n,!1),rr(t,e,i);r=e.stateNode,dT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bi(e,t.child,null,i),e.child=Bi(e,null,a,i)):ft(t,e,a,i),e.memoizedState=r.state,s&&Pv(e,n,!0),e.child}function f0(t){var e=t.stateNode;e.pendingContext?Tv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tv(t,e.context,!1),Vp(t,e.containerInfo)}function Vv(t,e,n,r,s){return Hi(),Wp(s),e.flags|=256,ft(t,e,n,r),e.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function yh(t){return{baseLanes:t,cachePool:null,transitions:null}}function h0(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(Pe,s&1),t===null)return uh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Uu(o,r,0,null),t=Ts(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yh(n),e.memoizedState=vh,t):Zp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Br(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Br(a,i):(i=Ts(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vh,r}return i=t.child,t=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zp(t,e){return e=Uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wl(t,e,n,r){return r!==null&&Wp(r),Bi(e,t.child,null,n),t=Zp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kd(Error(D(422))),Wl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Uu({mode:"visible",children:r.children},s,0,null),i=Ts(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bi(e,t.child,null,o),e.child.memoizedState=yh(o),e.memoizedState=vh,i);if(!(e.mode&1))return Wl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Kd(i,r,void 0),Wl(t,e,o,r)}if(a=(o&t.childLanes)!==0,bt||a){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nr(t,s),hn(r,t,s,-1))}return im(),r=Kd(Error(D(421))),Wl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ET.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dt=Wr(s.nextSibling),jt=e,ke=!0,an=null,t!==null&&(zt[Vt++]=Gn,zt[Vt++]=Yn,zt[Vt++]=Is,Gn=t.id,Yn=t.overflow,Is=e),e=Zp(e,r.children),e.flags|=4096,e)}function Gv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dh(t.return,e,n)}function qd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function p0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ft(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gv(t,n,e);else if(t.tag===19)Gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qd(e,!0,n,null,i);break;case"together":qd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hT(t,e,n){switch(e.tag){case 3:f0(e),Hi();break;case 5:Ux(e);break;case 1:Nt(e.type)&&jc(e);break;case 4:Vp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_e(Wc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?h0(t,e,n):(_e(Pe,Pe.current&1),t=rr(t,e,n),t!==null?t.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return p0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return rr(t,e,n)}var m0,wh,g0,v0;m0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wh=function(){};g0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xs(Rn.current);var i=null;switch(n){case"input":s=$f(t,s),r=$f(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=zf(t,s),r=zf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}Gf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ma.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ma.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};v0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pT(t,e,n){var r=e.pendingProps;switch(Fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return Nt(e.type)&&Dc(),it(e),null;case 3:return r=e.stateNode,zi(),Ee(Et),Ee(lt),Yp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(kh(an),an=null))),wh(t,e),it(e),null;case 5:Gp(e);var s=xs(ka.current);if(n=e.type,t!==null&&e.stateNode!=null)g0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return it(e),null}if(t=xs(Rn.current),Ll(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kn]=e,r[Ea]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<Ko.length;s++)Se(Ko[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":tv(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":rv(r,i),Se("invalid",r)}Gf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),s=["children",""+a]):ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Tl(r),nv(r,i,!0);break;case"textarea":Tl(r),sv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kn]=e,t[Ea]=r,m0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ko.length;s++)Se(Ko[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":tv(t,r),s=$f(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),Se("invalid",t);break;case"textarea":rv(t,r),s=zf(t,r),Se("invalid",t);break;default:s=r}Gf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?K_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ga(t,l):typeof l=="number"&&ga(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ma.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&Cp(t,i,l,o))}switch(n){case"input":Tl(t),nv(t,r,!1);break;case"textarea":Tl(t),sv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vi(t,!!r.multiple,i,!1):r.defaultValue!=null&&vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)v0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=xs(ka.current),xs(Rn.current),Ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return it(e),null;case 13:if(Ee(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Dt!==null&&e.mode&1&&!(e.flags&128))Dx(),Hi(),e.flags|=98560,i=!1;else if(i=Ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[kn]=e}else Hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),i=!1}else an!==null&&(kh(an),an=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Be===0&&(Be=3):im())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return zi(),wh(t,e),t===null&&Ca(e.stateNode.containerInfo),it(e),null;case 10:return Hp(e.type._context),it(e),null;case 17:return Nt(e.type)&&Dc(),it(e),null;case 19:if(Ee(Pe),i=e.memoizedState,i===null)return it(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Do(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hc(t),o!==null){for(e.flags|=128,Do(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Le()>Gi&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return it(e),null}else 2*Le()-i.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Pe.current,_e(Pe,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return sm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function mT(t,e){switch(Fp(e),e.tag){case 1:return Nt(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),Ee(Et),Ee(lt),Yp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gp(e),null;case 13:if(Ee(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Pe),null;case 4:return zi(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var Ul=!1,at=!1,gT=typeof WeakSet=="function"?WeakSet:Set,U=null;function hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function _h(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Yv=!1;function vT(t,e){if(rh=Rc,t=bx(),jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sh={focusedElem:t,selectionRange:n},Rc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var m=_.memoizedProps,x=_.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:nn(e.type,m),x);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){Me(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return _=Yv,Yv=!1,_}function sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_h(e,n,i)}s=s.next}while(s!==r)}}function Fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function y0(t){var e=t.alternate;e!==null&&(t.alternate=null,y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ea],delete e[ah],delete e[Zk],delete e[eT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w0(t){return t.tag===5||t.tag===3||t.tag===4}function Kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(bh(t,e,n),t=t.sibling;t!==null;)bh(t,e,n),t=t.sibling}function Ch(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ch(t,e,n),t=t.sibling;t!==null;)Ch(t,e,n),t=t.sibling}var Xe=null,on=!1;function fr(t,e,n){for(n=n.child;n!==null;)_0(t,e,n),n=n.sibling}function _0(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Iu,n)}catch{}switch(n.tag){case 5:at||hi(n,e);case 6:var r=Xe,s=on;Xe=null,fr(t,e,n),Xe=r,on=s,Xe!==null&&(on?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(on?(t=Xe,n=n.stateNode,t.nodeType===8?Hd(t.parentNode,n):t.nodeType===1&&Hd(t,n),_a(t)):Hd(Xe,n.stateNode));break;case 4:r=Xe,s=on,Xe=n.stateNode.containerInfo,on=!0,fr(t,e,n),Xe=r,on=s;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_h(n,e,o),s=s.next}while(s!==r)}fr(t,e,n);break;case 1:if(!at&&(hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}fr(t,e,n);break;case 21:fr(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,fr(t,e,n),at=r):fr(t,e,n);break;default:fr(t,e,n)}}function qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gT),e.forEach(function(r){var s=NT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,on=!1;break e;case 3:Xe=a.stateNode.containerInfo,on=!0;break e;case 4:Xe=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(Xe===null)throw Error(D(160));_0(i,o,s),Xe=null,on=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x0(e,t),e=e.sibling}function x0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),bn(t),r&4){try{sa(3,t,t.return),Fu(3,t)}catch(m){Me(t,t.return,m)}try{sa(5,t,t.return)}catch(m){Me(t,t.return,m)}}break;case 1:en(e,t),bn(t),r&512&&n!==null&&hi(n,n.return);break;case 5:if(en(e,t),bn(t),r&512&&n!==null&&hi(n,n.return),t.flags&32){var s=t.stateNode;try{ga(s,"")}catch(m){Me(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&B_(s,i),Yf(a,o);var c=Yf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?K_(s,f):d==="dangerouslySetInnerHTML"?G_(s,f):d==="children"?ga(s,f):Cp(s,d,f,c)}switch(a){case"input":Hf(s,i);break;case"textarea":z_(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?vi(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?vi(s,!!i.multiple,i.defaultValue,!0):vi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ea]=i}catch(m){Me(t,t.return,m)}}break;case 6:if(en(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Me(t,t.return,m)}}break;case 3:if(en(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_a(e.containerInfo)}catch(m){Me(t,t.return,m)}break;case 4:en(e,t),bn(t);break;case 13:en(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nm=Le())),r&4&&qv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||d,en(e,t),at=c):en(e,t),bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(f=U=d;U!==null;){switch(h=U,g=h.child,h.tag){case 0:case 11:case 14:case 15:sa(4,h,h.return);break;case 1:hi(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(m){Me(r,n,m)}}break;case 5:hi(h,h.return);break;case 22:if(h.memoizedState!==null){Xv(f);continue}}g!==null?(g.return=h,U=g):Xv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Y_("display",o))}catch(m){Me(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Me(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(e,t),bn(t),r&4&&qv(t);break;case 21:break;default:en(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w0(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ga(s,""),r.flags&=-33);var i=Kv(t);Ch(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Kv(t);bh(t,a,o);break;default:throw Error(D(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yT(t,e,n){U=t,b0(t)}function b0(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ul;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||at;a=Ul;var c=at;if(Ul=o,(at=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Jv(s):l!==null?(l.return=o,U=l):Jv(s);for(;i!==null;)U=i,b0(i),i=i.sibling;U=s,Ul=a,at=c}Qv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Qv(t)}}function Qv(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||Fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_a(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}at||e.flags&512&&xh(e)}catch(h){Me(e,e.return,h)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Xv(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Jv(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fu(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{xh(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{xh(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var wT=Math.ceil,Vc=cr.ReactCurrentDispatcher,em=cr.ReactCurrentOwner,Qt=cr.ReactCurrentBatchConfig,ie=0,Qe=null,We=null,Ze=0,At=0,pi=ss(0),Be=0,Ra=null,As=0,Wu=0,tm=0,ia=null,xt=null,nm=0,Gi=1/0,zn=null,Gc=!1,Sh=null,$r=null,$l=!1,Mr=null,Yc=0,oa=0,Eh=null,dc=-1,fc=0;function gt(){return ie&6?Le():dc!==-1?dc:dc=Le()}function Hr(t){return t.mode&1?ie&2&&Ze!==0?Ze&-Ze:nT.transition!==null?(fc===0&&(fc=ox()),fc):(t=fe,t!==0||(t=window.event,t=t===void 0?16:hx(t.type)),t):1}function hn(t,e,n,r){if(50<oa)throw oa=0,Eh=null,Error(D(185));Ja(t,n,r),(!(ie&2)||t!==Qe)&&(t===Qe&&(!(ie&2)&&(Wu|=n),Be===4&&Cr(t,Ze)),kt(t,r),n===1&&ie===0&&!(e.mode&1)&&(Gi=Le()+500,Du&&is()))}function kt(t,e){var n=t.callbackNode;nk(t,e);var r=Ic(t,t===Qe?Ze:0);if(r===0)n!==null&&av(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&av(n),e===1)t.tag===0?tT(Zv.bind(null,t)):Ax(Zv.bind(null,t)),Xk(function(){!(ie&6)&&is()}),n=null;else{switch(ax(r)){case 1:n=Tp;break;case 4:n=sx;break;case 16:n=Pc;break;case 536870912:n=ix;break;default:n=Pc}n=I0(n,C0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C0(t,e){if(dc=-1,fc=0,ie&6)throw Error(D(327));var n=t.callbackNode;if(bi()&&t.callbackNode!==n)return null;var r=Ic(t,t===Qe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kc(t,r);else{e=r;var s=ie;ie|=2;var i=E0();(Qe!==t||Ze!==e)&&(zn=null,Gi=Le()+500,ks(t,e));do try{bT();break}catch(a){S0(t,a)}while(!0);$p(),Vc.current=i,ie=s,We!==null?e=0:(Qe=null,Ze=0,e=Be)}if(e!==0){if(e===2&&(s=Jf(t),s!==0&&(r=s,e=Nh(t,s))),e===1)throw n=Ra,ks(t,0),Cr(t,r),kt(t,Le()),n;if(e===6)Cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!_T(s)&&(e=Kc(t,r),e===2&&(i=Jf(t),i!==0&&(r=i,e=Nh(t,i))),e===1))throw n=Ra,ks(t,0),Cr(t,r),kt(t,Le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ms(t,xt,zn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=nm+500-Le(),10<e)){if(Ic(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=oh(ms.bind(null,t,xt,zn),e);break}ms(t,xt,zn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wT(r/1960))-r,10<r){t.timeoutHandle=oh(ms.bind(null,t,xt,zn),r);break}ms(t,xt,zn);break;case 5:ms(t,xt,zn);break;default:throw Error(D(329))}}}return kt(t,Le()),t.callbackNode===n?C0.bind(null,t):null}function Nh(t,e){var n=ia;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=Kc(t,e),t!==2&&(e=xt,xt=n,e!==null&&kh(e)),t}function kh(t){xt===null?xt=t:xt.push.apply(xt,t)}function _T(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~tm,e&=~Wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Zv(t){if(ie&6)throw Error(D(327));bi();var e=Ic(t,0);if(!(e&1))return kt(t,Le()),null;var n=Kc(t,e);if(t.tag!==0&&n===2){var r=Jf(t);r!==0&&(e=r,n=Nh(t,r))}if(n===1)throw n=Ra,ks(t,0),Cr(t,e),kt(t,Le()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,xt,zn),kt(t,Le()),null}function rm(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Gi=Le()+500,Du&&is())}}function Os(t){Mr!==null&&Mr.tag===0&&!(ie&6)&&bi();var e=ie;ie|=1;var n=Qt.transition,r=fe;try{if(Qt.transition=null,fe=1,t)return t()}finally{fe=r,Qt.transition=n,ie=e,!(ie&6)&&is()}}function sm(){At=pi.current,Ee(pi)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Qk(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dc();break;case 3:zi(),Ee(Et),Ee(lt),Yp();break;case 5:Gp(r);break;case 4:zi();break;case 13:Ee(Pe);break;case 19:Ee(Pe);break;case 10:Hp(r.type._context);break;case 22:case 23:sm()}n=n.return}if(Qe=t,We=t=Br(t.current,null),Ze=At=e,Be=0,Ra=null,tm=Wu=As=0,xt=ia=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_s=null}return t}function S0(t,e){do{var n=We;try{if($p(),lc.current=zc,Bc){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bc=!1}if(Rs=0,Ke=Ue=Ie=null,ra=!1,Ta=0,em.current=null,n===null||n.return===null){Be=1,Ra=e,We=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Uv(o);if(g!==null){g.flags&=-257,$v(g,o,a,i,e),g.mode&1&&Wv(i,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var m=new Set;m.add(l),e.updateQueue=m}else _.add(l);break e}else{if(!(e&1)){Wv(i,c,e),im();break e}l=Error(D(426))}}else if(ke&&a.mode&1){var x=Uv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$v(x,o,a,i,e),Wp(Vi(l,a));break e}}i=l=Vi(l,a),Be!==4&&(Be=2),ia===null?ia=[i]:ia.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=a0(i,l,e);Ov(i,y);break e;case 1:a=l;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($r===null||!$r.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=l0(i,a,e);Ov(i,b);break e}}i=i.return}while(i!==null)}k0(n)}catch(k){e=k,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function E0(){var t=Vc.current;return Vc.current=zc,t===null?zc:t}function im(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(As&268435455)&&!(Wu&268435455)||Cr(Qe,Ze)}function Kc(t,e){var n=ie;ie|=2;var r=E0();(Qe!==t||Ze!==e)&&(zn=null,ks(t,e));do try{xT();break}catch(s){S0(t,s)}while(!0);if($p(),ie=n,Vc.current=r,We!==null)throw Error(D(261));return Qe=null,Ze=0,Be}function xT(){for(;We!==null;)N0(We)}function bT(){for(;We!==null&&!YN();)N0(We)}function N0(t){var e=P0(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?k0(t):We=e,em.current=null}function k0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mT(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,We=null;return}}else if(n=pT(n,e,At),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Be===0&&(Be=5)}function ms(t,e,n){var r=fe,s=Qt.transition;try{Qt.transition=null,fe=1,CT(t,e,n,r)}finally{Qt.transition=s,fe=r}return null}function CT(t,e,n,r){do bi();while(Mr!==null);if(ie&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rk(t,i),t===Qe&&(We=Qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,I0(Pc,function(){return bi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qt.transition,Qt.transition=null;var o=fe;fe=1;var a=ie;ie|=4,em.current=null,vT(t,n),x0(n,t),Bk(sh),Rc=!!rh,sh=rh=null,t.current=n,yT(n),KN(),ie=a,fe=o,Qt.transition=i}else t.current=n;if($l&&($l=!1,Mr=t,Yc=s),i=t.pendingLanes,i===0&&($r=null),XN(n.stateNode),kt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gc)throw Gc=!1,t=Sh,Sh=null,t;return Yc&1&&t.tag!==0&&bi(),i=t.pendingLanes,i&1?t===Eh?oa++:(oa=0,Eh=t):oa=0,is(),null}function bi(){if(Mr!==null){var t=ax(Yc),e=Qt.transition,n=fe;try{if(Qt.transition=null,fe=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,Yc=0,ie&6)throw Error(D(331));var s=ie;for(ie|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:sa(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var h=d.sibling,g=d.return;if(y0(d),d===c){U=null;break}if(h!==null){h.return=g,U=h;break}U=g}}}var _=i.alternate;if(_!==null){var m=_.child;if(m!==null){_.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sa(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,U=y;break e}U=i.return}}var p=t.current;for(U=p;U!==null;){o=U;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,U=w;else e:for(o=p;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fu(9,a)}}catch(k){Me(a,a.return,k)}if(a===o){U=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,U=b;break e}U=a.return}}if(ie=s,is(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Iu,t)}catch{}r=!0}return r}finally{fe=n,Qt.transition=e}}return!1}function ey(t,e,n){e=Vi(n,e),e=a0(t,e,1),t=Ur(t,e,1),e=gt(),t!==null&&(Ja(t,1,e),kt(t,e))}function Me(t,e,n){if(t.tag===3)ey(t,t,n);else for(;e!==null;){if(e.tag===3){ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Vi(n,t),t=l0(e,t,1),e=Ur(e,t,1),t=gt(),e!==null&&(Ja(e,1,t),kt(e,t));break}}e=e.return}}function ST(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Ze&n)===n&&(Be===4||Be===3&&(Ze&130023424)===Ze&&500>Le()-nm?ks(t,0):tm|=n),kt(t,e)}function T0(t,e){e===0&&(t.mode&1?(e=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):e=1);var n=gt();t=nr(t,e),t!==null&&(Ja(t,e,n),kt(t,n))}function ET(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T0(t,n)}function NT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),T0(t,n)}var P0;P0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,hT(t,e,n);bt=!!(t.flags&131072)}else bt=!1,ke&&e.flags&1048576&&Ox(e,Fc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var s=$i(e,lt.current);xi(e,n),s=qp(null,e,r,t,s,n);var i=Qp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(i=!0,jc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zp(e),s.updater=Lu,e.stateNode=s,s._reactInternals=e,hh(e,r,t,n),e=gh(null,e,r,!0,i,n)):(e.tag=0,ke&&i&&Lp(e),ft(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=TT(r),t=nn(r,t),s){case 0:e=mh(null,e,r,t,n);break e;case 1:e=zv(null,e,r,t,n);break e;case 11:e=Hv(null,e,r,t,n);break e;case 14:e=Bv(null,e,r,nn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),mh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),zv(t,e,r,s,n);case 3:e:{if(f0(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Wx(t,e),$c(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vi(Error(D(423)),e),e=Vv(t,e,r,n,s);break e}else if(r!==s){s=Vi(Error(D(424)),e),e=Vv(t,e,r,n,s);break e}else for(Dt=Wr(e.stateNode.containerInfo.firstChild),jt=e,ke=!0,an=null,n=Lx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===s){e=rr(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return Ux(e),t===null&&uh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ih(r,s)?o=null:i!==null&&ih(r,i)&&(e.flags|=32),d0(t,e),ft(t,e,o,n),e.child;case 6:return t===null&&uh(e),null;case 13:return h0(t,e,n);case 4:return Vp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bi(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),Hv(t,e,r,s,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_e(Wc,r._currentValue),r._currentValue=o,i!==null)if(mn(i.value,o)){if(i.children===s.children&&!Et.current){e=rr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Xn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),dh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xi(e,n),s=Xt(s),r=r(s),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,s=nn(r,e.pendingProps),s=nn(r.type,s),Bv(t,e,r,s,n);case 15:return c0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),uc(t,e),e.tag=1,Nt(r)?(t=!0,jc(e)):t=!1,xi(e,n),o0(e,r,s),hh(e,r,s,n),gh(null,e,r,!0,t,n);case 19:return p0(t,e,n);case 22:return u0(t,e,n)}throw Error(D(156,e.tag))};function I0(t,e){return rx(t,e)}function kT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new kT(t,e,n,r)}function om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TT(t){if(typeof t=="function")return om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ep)return 11;if(t===Np)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case si:return Ts(n.children,s,i,e);case Sp:o=8,s|=8;break;case Lf:return t=Kt(12,n,e,s|2),t.elementType=Lf,t.lanes=i,t;case Ff:return t=Kt(13,n,e,s),t.elementType=Ff,t.lanes=i,t;case Wf:return t=Kt(19,n,e,s),t.elementType=Wf,t.lanes=i,t;case U_:return Uu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F_:o=10;break e;case W_:o=9;break e;case Ep:o=11;break e;case Np:o=14;break e;case _r:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ts(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Uu(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=U_,t.lanes=n,t.stateNode={isHidden:!1},t}function Qd(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Xd(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function am(t,e,n,r,s,i,o,a,l){return t=new PT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(i),t}function IT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function R0(t){if(!t)return Qr;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Nt(n))return Rx(t,n,e)}return e}function A0(t,e,n,r,s,i,o,a,l){return t=am(n,r,!0,t,s,i,o,a,l),t.context=R0(null),n=t.current,r=gt(),s=Hr(n),i=Xn(r,s),i.callback=e??null,Ur(n,i,s),t.current.lanes=s,Ja(t,s,r),kt(t,r),t}function $u(t,e,n,r){var s=e.current,i=gt(),o=Hr(s);return n=R0(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(s,e,o),t!==null&&(hn(t,s,o,i),ac(t,s,o)),o}function qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lm(t,e){ty(t,e),(t=t.alternate)&&ty(t,e)}function RT(){return null}var O0=typeof reportError=="function"?reportError:function(t){console.error(t)};function cm(t){this._internalRoot=t}Hu.prototype.render=cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));$u(t,e,null,null)};Hu.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){$u(null,t,null,null)}),e[tr]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ux();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&fx(t)}};function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ny(){}function AT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=qc(o);i.call(c)}}var o=A0(e,r,t,0,null,!1,!1,"",ny);return t._reactRootContainer=o,t[tr]=o.current,Ca(t.nodeType===8?t.parentNode:t),Os(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=qc(l);a.call(c)}}var l=am(t,0,!1,null,null,!1,!1,"",ny);return t._reactRootContainer=l,t[tr]=l.current,Ca(t.nodeType===8?t.parentNode:t),Os(function(){$u(e,l,n,r)}),l}function zu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qc(o);a.call(l)}}$u(e,o,t,s)}else o=AT(n,e,t,s,r);return qc(o)}lx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yo(e.pendingLanes);n!==0&&(Pp(e,n|1),kt(e,Le()),!(ie&6)&&(Gi=Le()+500,is()))}break;case 13:Os(function(){var r=nr(t,1);if(r!==null){var s=gt();hn(r,t,1,s)}}),lm(t,1)}};Ip=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=gt();hn(e,t,134217728,n)}lm(t,134217728)}};cx=function(t){if(t.tag===13){var e=Hr(t),n=nr(t,e);if(n!==null){var r=gt();hn(n,t,e,r)}lm(t,e)}};ux=function(){return fe};dx=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};qf=function(t,e,n){switch(e){case"input":if(Hf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Mu(r);if(!s)throw Error(D(90));H_(r),Hf(r,s)}}}break;case"textarea":z_(t,n);break;case"select":e=n.value,e!=null&&vi(t,!!n.multiple,e,!1)}};X_=rm;J_=Os;var OT={usingClientEntryPoint:!1,Events:[el,li,Mu,q_,Q_,rm]},jo={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tx(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||RT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Iu=Hl.inject(MT),In=Hl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OT;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(e))throw Error(D(200));return IT(t,e,null,n)};$t.createRoot=function(t,e){if(!um(t))throw Error(D(299));var n=!1,r="",s=O0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=am(t,1,!1,null,null,n,!1,r,s),t[tr]=e.current,Ca(t.nodeType===8?t.parentNode:t),new cm(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=tx(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Os(t)};$t.hydrate=function(t,e,n){if(!Bu(e))throw Error(D(200));return zu(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!um(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=O0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=A0(e,null,t,1,n??null,s,!1,i,o),t[tr]=e.current,Ca(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hu(e)};$t.render=function(t,e,n){if(!Bu(e))throw Error(D(200));return zu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!Bu(t))throw Error(D(40));return t._reactRootContainer?(Os(function(){zu(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1};$t.unstable_batchedUpdates=rm;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bu(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return zu(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function M0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M0)}catch(t){console.error(t)}}M0(),M_.exports=$t;var Gs=M_.exports;const DT=x_(Gs);var D0,ry=Gs;D0=ry.createRoot,ry.hydrateRoot;function jT(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var j0={exports:{}},L0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=v;function LT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FT=typeof Object.is=="function"?Object.is:LT,WT=Yi.useState,UT=Yi.useEffect,$T=Yi.useLayoutEffect,HT=Yi.useDebugValue;function BT(t,e){var n=e(),r=WT({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return $T(function(){s.value=n,s.getSnapshot=e,Jd(s)&&i({inst:s})},[t,n,e]),UT(function(){return Jd(s)&&i({inst:s}),t(function(){Jd(s)&&i({inst:s})})},[t]),HT(n),n}function Jd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!FT(t,n)}catch{return!0}}function zT(t,e){return e()}var VT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zT:BT;L0.useSyncExternalStore=Yi.useSyncExternalStore!==void 0?Yi.useSyncExternalStore:VT;j0.exports=L0;var GT=j0.exports;const YT=A_.useInsertionEffect,KT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qT=KT?v.useLayoutEffect:v.useEffect,QT=YT||qT,F0=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return QT(()=>{e[0]=t}),e[1]},XT="popstate",dm="pushState",fm="replaceState",JT="hashchange",sy=[XT,dm,fm,JT],ZT=t=>{for(const e of sy)addEventListener(e,t);return()=>{for(const e of sy)removeEventListener(e,t)}},W0=(t,e)=>GT.useSyncExternalStore(ZT,t,e),eP=()=>location.search,tP=({ssrSearch:t=""}={})=>W0(eP,()=>t),iy=()=>location.pathname,nP=({ssrPath:t}={})=>W0(iy,t?()=>t:iy),rP=(t,{replace:e=!1,state:n=null}={})=>history[e?fm:dm](n,"",t),sP=(t={})=>[nP(t),rP],oy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[oy]>"u"){for(const t of[dm,fm]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,oy,{value:!0})}const iP=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",U0=(t="")=>t==="/"?"":t,oP=(t,e)=>t[0]==="~"?t.slice(1):U0(e)+t,aP=(t="",e)=>iP(ay(U0(t)),ay(e)),ay=t=>{try{return decodeURI(t)}catch{return t}},$0={hook:sP,searchHook:tP,parser:jT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},H0=v.createContext($0),uo=()=>v.useContext(H0),B0={},z0=v.createContext(B0),lP=()=>v.useContext(z0),Vu=t=>{const[e,n]=t.hook(t);return[aP(t.base,e),F0((r,s)=>n(oP(r,t.base),s))]},os=()=>Vu(uo()),hm=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},pm=t=>hm(uo().parser,t,os()[0]),cP=({children:t,...e})=>{var d,f;const n=uo(),r=e.hook?$0:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=v.useRef({}),l=a.current,c=l;for(let h in r){const g=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&g!==c[h]&&(a.current=c={...c}),c[h]=g,g!==r[h]&&(s=c)}return v.createElement(H0.Provider,{value:s,children:t})},ly=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,uP=t=>{let e=v.useRef(B0),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Wn=({path:t,nest:e,match:n,...r})=>{const s=uo(),[i]=Vu(s),[o,a,l]=n??hm(s.parser,t,i,e),c=uP({...lP(),...a});if(!o)return null;const d=l?v.createElement(cP,{base:l},ly(r,c)):ly(r,c);return v.createElement(z0.Provider,{value:c,children:d})},pc=v.forwardRef((t,e)=>{const n=uo(),[r,s]=Vu(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...g}=t,_=F0(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,t)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&v.isValidElement(c)?v.cloneElement(c,{onClick:_,href:m}):v.createElement("a",{...g,onClick:_,href:m,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),V0=t=>Array.isArray(t)?t.flatMap(e=>V0(e&&e.type===v.Fragment?e.props.children:e)):[t],dP=({children:t,location:e})=>{const n=uo(),[r]=Vu(n);for(const s of V0(t)){let i=0;if(v.isValidElement(s)&&(i=hm(n.parser,s.props.path,e||r,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var Gu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yu=typeof window>"u"||"Deno"in globalThis;function rn(){}function fP(t,e){return typeof t=="function"?t(e):t}function hP(t){return typeof t=="number"&&t>=0&&t!==1/0}function pP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cy(t,e){return typeof t=="function"?t(e):t}function mP(t,e){return typeof t=="function"?t(e):t}function uy(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==mm(o,e.options))return!1}else if(!Oa(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function dy(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Aa(e.options.mutationKey)!==Aa(i))return!1}else if(!Oa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function mm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Aa)(t)}function Aa(t){return JSON.stringify(t,(e,n)=>Th(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Oa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Oa(t[n],e[n])):!1}function G0(t,e){if(t===e)return t;const n=fy(t)&&fy(e);if(n||Th(t)&&Th(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=G0(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function fy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Th(t){if(!hy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hy(t){return Object.prototype.toString.call(t)==="[object Object]"}function gP(t){return new Promise(e=>{setTimeout(e,t)})}function vP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?G0(t,e):e}function yP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var gm=Symbol();function Y0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Cs,Tr,Ri,h_,_P=(h_=class extends Gu{constructor(){super();ce(this,Cs);ce(this,Tr);ce(this,Ri);X(this,Ri,e=>{if(!Yu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,Tr)||this.setEventListener(R(this,Ri))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Tr))==null||e.call(this),X(this,Tr,void 0))}setEventListener(e){var n;X(this,Ri,e),(n=R(this,Tr))==null||n.call(this),X(this,Tr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){R(this,Cs)!==e&&(X(this,Cs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,Cs)=="boolean"?R(this,Cs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cs=new WeakMap,Tr=new WeakMap,Ri=new WeakMap,h_),K0=new _P,Ai,Pr,Oi,p_,xP=(p_=class extends Gu{constructor(){super();ce(this,Ai,!0);ce(this,Pr);ce(this,Oi);X(this,Oi,e=>{if(!Yu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Pr)||this.setEventListener(R(this,Oi))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Pr))==null||e.call(this),X(this,Pr,void 0))}setEventListener(e){var n;X(this,Oi,e),(n=R(this,Pr))==null||n.call(this),X(this,Pr,e(this.setOnline.bind(this)))}setOnline(e){R(this,Ai)!==e&&(X(this,Ai,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return R(this,Ai)}},Ai=new WeakMap,Pr=new WeakMap,Oi=new WeakMap,p_),Qc=new xP;function bP(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function CP(t){return Math.min(1e3*2**t,3e4)}function q0(t){return(t??"online")==="online"?Qc.isOnline():!0}var Q0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zd(t){return t instanceof Q0}function X0(t){let e=!1,n=0,r=!1,s;const i=bP(),o=m=>{var x;r||(h(new Q0(m)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>K0.isFocused()&&(t.networkMode==="always"||Qc.isOnline())&&t.canRun(),d=()=>q0(t.networkMode)&&t.canRun(),f=m=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,m),s==null||s(),i.reject(m))},g=()=>new Promise(m=>{var x;s=y=>{(r||c())&&m(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),_=()=>{if(r)return;let m;const x=n===0?t.initialPromise:void 0;try{m=x??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var E;if(r)return;const p=t.retry??(Yu?0:3),w=t.retryDelay??CP,b=typeof w=="function"?w(n,y):w,k=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,y);if(e||!k){h(y);return}n++,(E=t.onFail)==null||E.call(t,n,y),gP(b).then(()=>c()?void 0:g()).then(()=>{e?h(y):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():g().then(_),i)}}function SP(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var pt=SP(),Ss,m_,J0=(m_=class{constructor(){ce(this,Ss)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hP(this.gcTime)&&X(this,Ss,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yu?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ss)&&(clearTimeout(R(this,Ss)),X(this,Ss,void 0))}},Ss=new WeakMap,m_),Mi,Di,Bt,ot,qa,Es,sn,Bn,g_,EP=(g_=class extends J0{constructor(e){super();ce(this,sn);ce(this,Mi);ce(this,Di);ce(this,Bt);ce(this,ot);ce(this,qa);ce(this,Es);X(this,Es,!1),X(this,qa,e.defaultOptions),this.setOptions(e.options),this.observers=[],X(this,Bt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,X(this,Mi,kP(this.options)),this.state=e.state??R(this,Mi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,ot))==null?void 0:e.promise}setOptions(e){this.options={...R(this,qa),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Bt).remove(this)}setData(e,n){const r=vP(this.state.data,e,this.options);return rt(this,sn,Bn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){rt(this,sn,Bn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=R(this,ot))==null?void 0:r.promise;return(s=R(this,ot))==null||s.cancel(e),n?n.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Mi))}isActive(){return this.observers.some(e=>mP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!pP(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,ot))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,ot))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Bt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(R(this,ot)&&(R(this,Es)?R(this,ot).cancel({revert:!0}):R(this,ot).cancelRetry()),this.scheduleGc()),R(this,Bt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,sn,Bn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,ot))return R(this,ot).continueRetry(),R(this,ot).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(X(this,Es,!0),r.signal)})},i=()=>{const f=Y0(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),X(this,Es,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),X(this,Di,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&rt(this,sn,Bn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,g,_,m;Zd(f)&&f.silent||rt(this,sn,Bn).call(this,{type:"error",error:f}),Zd(f)||((g=(h=R(this,Bt).config).onError)==null||g.call(h,f,this),(m=(_=R(this,Bt).config).onSettled)==null||m.call(_,this.state.data,f,this)),this.scheduleGc()};return X(this,ot,X0({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,_,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(g=(h=R(this,Bt).config).onSuccess)==null||g.call(h,f,this),(m=(_=R(this,Bt).config).onSettled)==null||m.call(_,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{rt(this,sn,Bn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{rt(this,sn,Bn).call(this,{type:"pause"})},onContinue:()=>{rt(this,sn,Bn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),R(this,ot).start()}},Mi=new WeakMap,Di=new WeakMap,Bt=new WeakMap,ot=new WeakMap,qa=new WeakMap,Es=new WeakMap,sn=new WeakSet,Bn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NP(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Zd(s)&&s.revert&&R(this,Di)?{...R(this,Di),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),pt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Bt).notify({query:this,type:"updated",action:e})})},g_);function NP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sn,v_,TP=(v_=class extends Gu{constructor(e={}){super();ce(this,Sn);this.config=e,X(this,Sn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??mm(s,n);let o=this.get(i);return o||(o=new EP({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){R(this,Sn).has(e.queryHash)||(R(this,Sn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,Sn).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,Sn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Sn).get(e)}getAll(){return[...R(this,Sn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uy(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uy(e,r)):n}notify(e){pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sn=new WeakMap,v_),En,dt,Ns,Nn,yr,y_,PP=(y_=class extends J0{constructor(e){super();ce(this,Nn);ce(this,En);ce(this,dt);ce(this,Ns);this.mutationId=e.mutationId,X(this,dt,e.mutationCache),X(this,En,[]),this.state=e.state||IP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,En).includes(e)||(R(this,En).push(e),this.clearGcTimeout(),R(this,dt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){X(this,En,R(this,En).filter(n=>n!==e)),this.scheduleGc(),R(this,dt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,En).length||(this.state.status==="pending"?this.scheduleGc():R(this,dt).remove(this))}continue(){var e;return((e=R(this,Ns))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,f,h,g,_,m,x,y,p,w,b,k,E,C;X(this,Ns,X0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,T)=>{rt(this,Nn,yr).call(this,{type:"failed",failureCount:N,error:T})},onPause:()=>{rt(this,Nn,yr).call(this,{type:"pause"})},onContinue:()=>{rt(this,Nn,yr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,dt).canRun(this)}));const n=this.state.status==="pending",r=!R(this,Ns).canStart();try{if(!n){rt(this,Nn,yr).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=R(this,dt).config).onMutate)==null?void 0:i.call(s,e,this));const T=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));T!==this.state.context&&rt(this,Nn,yr).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const N=await R(this,Ns).start();return await((c=(l=R(this,dt).config).onSuccess)==null?void 0:c.call(l,N,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,e,this.state.context)),await((g=(h=R(this,dt).config).onSettled)==null?void 0:g.call(h,N,null,this.state.variables,this.state.context,this)),await((m=(_=this.options).onSettled)==null?void 0:m.call(_,N,null,e,this.state.context)),rt(this,Nn,yr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(x=R(this,dt).config).onError)==null?void 0:y.call(x,N,e,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,N,e,this.state.context)),await((k=(b=R(this,dt).config).onSettled)==null?void 0:k.call(b,void 0,N,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,N,e,this.state.context)),N}finally{rt(this,Nn,yr).call(this,{type:"error",error:N})}}finally{R(this,dt).runNext(this)}}},En=new WeakMap,dt=new WeakMap,Ns=new WeakMap,Nn=new WeakSet,yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pt.batch(()=>{R(this,En).forEach(r=>{r.onMutationUpdate(e)}),R(this,dt).notify({mutation:this,type:"updated",action:e})})},y_);function IP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rt,Qa,w_,RP=(w_=class extends Gu{constructor(e={}){super();ce(this,Rt);ce(this,Qa);this.config=e,X(this,Rt,new Map),X(this,Qa,Date.now())}build(e,n,r){const s=new PP({mutationCache:this,mutationId:++El(this,Qa)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Bl(e),r=R(this,Rt).get(n)??[];r.push(e),R(this,Rt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Bl(e);if(R(this,Rt).has(n)){const s=(r=R(this,Rt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?R(this,Rt).delete(n):R(this,Rt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=R(this,Rt).get(Bl(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=R(this,Rt).get(Bl(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...R(this,Rt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dy(n,r))}findAll(e={}){return this.getAll().filter(n=>dy(e,n))}notify(e){pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return pt.batch(()=>Promise.all(e.map(n=>n.continue().catch(rn))))}},Rt=new WeakMap,Qa=new WeakMap,w_);function Bl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function py(t){return{onFetch:(e,n)=>{var d,f,h,g,_;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=Y0(e.options,e.fetchOptions),p=async(w,b,k)=>{if(m)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:e.queryKey,pageParam:b,direction:k?"backward":"forward",meta:e.options.meta};x(E);const C=await y(E),{maxPages:N}=e.options,T=k?wP:yP;return{pages:T(w.pages,C,N),pageParams:T(w.pageParams,b,N)}};if(s&&i.length){const w=s==="backward",b=w?AP:my,k={pages:i,pageParams:o},E=b(r,k);a=await p(k,E,w)}else{const w=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:my(r,a);if(l>0&&b==null)break;a=await p(a,b),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var m,x;return(x=(m=e.options).persister)==null?void 0:x.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function my(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function AP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Oe,Ir,Rr,ji,Li,Ar,Fi,Wi,__,OP=(__=class{constructor(t={}){ce(this,Oe);ce(this,Ir);ce(this,Rr);ce(this,ji);ce(this,Li);ce(this,Ar);ce(this,Fi);ce(this,Wi);X(this,Oe,t.queryCache||new TP),X(this,Ir,t.mutationCache||new RP),X(this,Rr,t.defaultOptions||{}),X(this,ji,new Map),X(this,Li,new Map),X(this,Ar,0)}mount(){El(this,Ar)._++,R(this,Ar)===1&&(X(this,Fi,K0.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Oe).onFocus())})),X(this,Wi,Qc.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Oe).onOnline())})))}unmount(){var t,e;El(this,Ar)._--,R(this,Ar)===0&&((t=R(this,Fi))==null||t.call(this),X(this,Fi,void 0),(e=R(this,Wi))==null||e.call(this),X(this,Wi,void 0))}isFetching(t){return R(this,Oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Ir).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Oe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=R(this,Oe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(cy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return R(this,Oe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=R(this,Oe).get(r.queryHash),i=s==null?void 0:s.state.data,o=fP(e,i);if(o!==void 0)return R(this,Oe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return pt.batch(()=>R(this,Oe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Oe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,Oe);pt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,Oe),r={type:"active",...t};return pt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=pt.batch(()=>R(this,Oe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(t={},e={}){return pt.batch(()=>{if(R(this,Oe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=pt.batch(()=>R(this,Oe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,Oe).build(this,e);return n.isStaleByTime(cy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rn).catch(rn)}fetchInfiniteQuery(t){return t.behavior=py(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rn).catch(rn)}ensureInfiniteQueryData(t){return t.behavior=py(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qc.isOnline()?R(this,Ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Oe)}getMutationCache(){return R(this,Ir)}getDefaultOptions(){return R(this,Rr)}setDefaultOptions(t){X(this,Rr,t)}setQueryDefaults(t,e){R(this,ji).set(Aa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,ji).values()];let n={};return e.forEach(r=>{Oa(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){R(this,Li).set(Aa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Li).values()];let n={};return e.forEach(r=>{Oa(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Rr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===gm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Rr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Oe).clear(),R(this,Ir).clear()}},Oe=new WeakMap,Ir=new WeakMap,Rr=new WeakMap,ji=new WeakMap,Li=new WeakMap,Ar=new WeakMap,Fi=new WeakMap,Wi=new WeakMap,__),MP=v.createContext(void 0),DP=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(MP.Provider,{value:t,children:e}));async function jP(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const LP=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await jP(n),await n.json())},FP=new OP({defaultOptions:{queries:{queryFn:LP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),WP=1,UP=1e6;let ef=0;function $P(){return ef=(ef+1)%Number.MAX_SAFE_INTEGER,ef.toString()}const tf=new Map,gy=t=>{if(tf.has(t))return;const e=setTimeout(()=>{tf.delete(t),aa({type:"REMOVE_TOAST",toastId:t})},UP);tf.set(t,e)},HP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,WP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gy(n):t.toasts.forEach(r=>{gy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},mc=[];let gc={toasts:[]};function aa(t){gc=HP(gc,t),mc.forEach(e=>{e(gc)})}function BP({...t}){const e=$P(),n=s=>aa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>aa({type:"DISMISS_TOAST",toastId:e});return aa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ys(){const[t,e]=v.useState(gc);return v.useEffect(()=>(mc.push(e),()=>{const n=mc.indexOf(e);n>-1&&mc.splice(n,1)}),[t]),{...t,toast:BP,dismiss:n=>aa({type:"DISMISS_TOAST",toastId:n})}}function Q(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Z0(...t){return e=>{let n=!1;const r=t.map(s=>{const i=vy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():vy(t[s],null)}}}}function Te(...t){return v.useCallback(Z0(...t),t)}function fo(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:h,children:g,..._}=f,m=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,x=v.useMemo(()=>_,Object.values(_));return u.jsx(m.Provider,{value:x,children:g})};c.displayName=i+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,_=v.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zP(s,...e)]}function zP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ki(t){const e=GP(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(KP);if(l){const c=l.props.children,d=a.map(f=>f===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var VP=Ki("Slot");function GP(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=QP(s),a=qP(i,s.props);return s.type!==v.Fragment&&(a.ref=r?Z0(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eb=Symbol("radix.slottable");function YP(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eb,e}function KP(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eb}function qP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function QP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tb(t){const e=t+"CollectionProvider",[n,r]=fo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:y}=m,p=vr.useRef(null),w=vr.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:w,collectionRef:p,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Ki(a),c=vr.forwardRef((m,x)=>{const{scope:y,children:p}=m,w=i(a,y),b=Te(x,w.collectionRef);return u.jsx(l,{ref:b,children:p})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ki(d),g=vr.forwardRef((m,x)=>{const{scope:y,children:p,...w}=m,b=vr.useRef(null),k=Te(x,b),E=i(d,y);return vr.useEffect(()=>(E.itemMap.set(b,{ref:b,...w}),()=>void E.itemMap.delete(b))),u.jsx(h,{[f]:"",ref:k,children:p})});g.displayName=d;function _(m){const x=i(t+"CollectionConsumer",m);return vr.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},_,r]}var XP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=XP.reduce((t,e)=>{const n=Ki(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function nb(t,e){t&&Gs.flushSync(()=>t.dispatchEvent(e))}function Wt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function JP(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZP="DismissableLayer",Ph="dismissableLayer.update",eI="dismissableLayer.pointerDownOutside",tI="dismissableLayer.focusOutside",yy,rb=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nl=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(rb),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),_=Te(e,C=>f(C)),m=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(x),p=d?m.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,b=p>=y,k=rI(C=>{const N=C.target,T=[...c.branches].some(P=>P.contains(N));!b||T||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),E=sI(C=>{const N=C.target;[...c.branches].some(P=>P.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return JP(C=>{p===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),wy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yy)}},[d,h,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),wy())},[d,c]),v.useEffect(()=>{const C=()=>g({});return document.addEventListener(Ph,C),()=>document.removeEventListener(Ph,C)},[]),u.jsx(ue.div,{...l,ref:_,style:{pointerEvents:w?b?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,k.onPointerDownCapture)})});nl.displayName=ZP;var nI="DismissableLayerBranch",sb=v.forwardRef((t,e)=>{const n=v.useContext(rb),r=v.useRef(null),s=Te(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ue.div,{...t,ref:s})});sb.displayName=nI;function rI(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ib(eI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sI(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&ib(tI,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wy(){const t=new CustomEvent(Ph);document.dispatchEvent(t)}function ib(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?nb(s,i):s.dispatchEvent(i)}var iI=nl,oI=sb,ct=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},aI="Portal",Ku=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);ct(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?DT.createPortal(u.jsx(ue.div,{...r,ref:e}),o):null});Ku.displayName=aI;function lI(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var rl=t=>{const{present:e,children:n}=t,r=cI(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Te(r.ref,uI(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};rl.displayName="Presence";function cI(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=zl(r.current);i.current=a==="mounted"?c:"none"},[a]),ct(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,g=zl(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ct(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const m=zl(r.current).includes(g.animationName);if(g.target===e&&m&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=g=>{g.target===e&&(i.current=zl(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function zl(t){return(t==null?void 0:t.animationName)||"none"}function uI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=dI({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Wt(n),l=v.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function dI({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Wt(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var fI="VisuallyHidden",sl=v.forwardRef((t,e)=>u.jsx(ue.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));sl.displayName=fI;var hI=sl,vm="ToastProvider",[ym,pI,mI]=tb("Toast"),[ob,fW]=fo("Toast",[mI]),[gI,qu]=ob(vm),ab=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vm}\`. Expected non-empty \`string\`.`),u.jsx(ym.Provider,{scope:e,children:u.jsx(gI,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};ab.displayName=vm;var lb="ToastViewport",vI=["F8"],Ih="toast.viewportPause",Rh="toast.viewportResume",cb=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=vI,label:s="Notifications ({hotkey})",...i}=t,o=qu(lb,n),a=pI(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Te(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;v.useEffect(()=>{const x=y=>{var w;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,y=f.current;if(_&&x&&y){const p=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Ih);y.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Rh);y.dispatchEvent(E),o.isClosePausedRef.current=!1}},b=E=>{!x.contains(E.relatedTarget)&&w()},k=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",p),x.addEventListener("focusout",b),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",k),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[_,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:x})=>{const p=a().map(w=>{const b=w.ref.current,k=[b,...II(b)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?p.reverse():p).flat()},[a]);return v.useEffect(()=>{const x=f.current;if(x){const y=p=>{var k,E,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const N=document.activeElement,T=p.shiftKey;if(p.target===x&&T){(k=c.current)==null||k.focus();return}const A=m({tabbingDirection:T?"backwards":"forwards"}),$=A.findIndex(M=>M===N);nf(A.slice($+1))?p.preventDefault():T?(E=c.current)==null||E.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,m]),u.jsxs(oI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&u.jsx(Ah,{ref:c,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});nf(x)}}),u.jsx(ym.Slot,{scope:n,children:u.jsx(ue.ol,{tabIndex:-1,...i,ref:h})}),_&&u.jsx(Ah,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});nf(x)}})]})});cb.displayName=lb;var ub="ToastFocusProxy",Ah=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=qu(ub,n);return u.jsx(sl,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Ah.displayName=ub;var Qu="Toast",yI="toast.swipeStart",wI="toast.swipeMove",_I="toast.swipeCancel",xI="toast.swipeEnd",db=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Xc({prop:r,defaultProp:s,onChange:i});return u.jsx(rl,{present:n||a,children:u.jsx(SI,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:Q(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});db.displayName=Qu;var[bI,CI]=ob(Qu,{onClose(){}}),SI=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,..._}=t,m=qu(Qu,n),[x,y]=v.useState(null),p=Te(e,M=>y(M)),w=v.useRef(null),b=v.useRef(null),k=s||m.duration,E=v.useRef(0),C=v.useRef(k),N=v.useRef(0),{onToastAdd:T,onToastRemove:P}=m,L=Wt(()=>{var B;(x==null?void 0:x.contains(document.activeElement))&&((B=m.viewport)==null||B.focus()),o()}),A=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(L,M))},[L]);v.useEffect(()=>{const M=m.viewport;if(M){const B=()=>{A(C.current),c==null||c()},W=()=>{const O=new Date().getTime()-E.current;C.current=C.current-O,window.clearTimeout(N.current),l==null||l()};return M.addEventListener(Ih,W),M.addEventListener(Rh,B),()=>{M.removeEventListener(Ih,W),M.removeEventListener(Rh,B)}}},[m.viewport,k,l,c,A]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&A(k)},[i,k,m.isClosePausedRef,A]),v.useEffect(()=>(T(),()=>P()),[T,P]);const $=v.useMemo(()=>x?yb(x):null,[x]);return m.viewport?u.jsxs(u.Fragment,{children:[$&&u.jsx(EI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),u.jsx(bI,{scope:n,onClose:L,children:Gs.createPortal(u.jsx(ym.ItemSlot,{scope:n,children:u.jsx(iI,{asChild:!0,onEscapeKeyDown:Q(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,..._,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Q(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Q(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:Q(t.onPointerMove,M=>{if(!w.current)return;const B=M.clientX-w.current.x,W=M.clientY-w.current.y,O=!!b.current,S=["left","right"].includes(m.swipeDirection),I=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,F=S?I(0,B):0,H=S?0:I(0,W),ee=M.pointerType==="touch"?10:2,Fe={x:F,y:H},Ae={originalEvent:M,delta:Fe};O?(b.current=Fe,Vl(wI,f,Ae,{discrete:!1})):_y(Fe,m.swipeDirection,ee)?(b.current=Fe,Vl(yI,d,Ae,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(B)>ee||Math.abs(W)>ee)&&(w.current=null)}),onPointerUp:Q(t.onPointerUp,M=>{const B=b.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),b.current=null,w.current=null,B){const O=M.currentTarget,S={originalEvent:M,delta:B};_y(B,m.swipeDirection,m.swipeThreshold)?Vl(xI,g,S,{discrete:!0}):Vl(_I,h,S,{discrete:!0}),O.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),EI=t=>{const{__scopeToast:e,children:n,...r}=t,s=qu(Qu,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return TI(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Ku,{asChild:!0,children:u.jsx(sl,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},NI="ToastTitle",fb=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ue.div,{...r,ref:e})});fb.displayName=NI;var kI="ToastDescription",hb=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ue.div,{...r,ref:e})});hb.displayName=kI;var pb="ToastAction",mb=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(vb,{altText:n,asChild:!0,children:u.jsx(wm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pb}\`. Expected non-empty \`string\`.`),null)});mb.displayName=pb;var gb="ToastClose",wm=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=CI(gb,n);return u.jsx(vb,{asChild:!0,children:u.jsx(ue.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,s.onClose)})})});wm.displayName=gb;var vb=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function yb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),PI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yb(r))}}),e}function Vl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?nb(s,i):s.dispatchEvent(i)}var _y=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function TI(t=()=>{}){const e=Wt(t);ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function PI(t){return t.nodeType===t.ELEMENT_NODE}function II(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var RI=ab,wb=cb,_b=db,xb=fb,bb=hb,Cb=mb,Sb=wm;function Eb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Eb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Eb(t))&&(r&&(r+=" "),r+=e);return r}const xy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,by=Nb,_m=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return by(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const h=xy(d)||xy(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(_=>{let[m,x]=_;return Array.isArray(x)?x.includes({...i,...a}[m]):{...i,...a}[m]===x})?[...c,f,h]:c},[]);return by(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...OI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kb("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(MI,{ref:i,iconNode:e,className:kb(`lucide-${AI(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ne("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bm="-",eR=t=>{const e=nR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(bm);return a[0]===""&&a.length!==1&&a.shift(),Ab(a,e)||tR(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ab=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Ab(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Sy=/^\[(.+)\]$/,tR=t=>{if(Sy.test(t)){const e=Sy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return sR(Object.entries(t.classGroups),n).forEach(([i,o])=>{Oh(o,r,i,e)}),r},Oh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ey(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(rR(s)){Oh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Oh(o,Ey(e,i),n,r)})})},Ey=(t,e)=>{let n=t;return e.split(bm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rR=t=>t.isThemeGetter,sR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,iR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Ob="!",oR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(d),g=h.startsWith(Ob),_=g?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},aR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},lR=t=>({cache:iR(t.cacheSize),parseClassName:oR(t),...eR(t)}),cR=/\s+/,uR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(cR);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(c);let _=!!g,m=r(_?h.substring(0,g):h);if(!m){if(!_){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}_=!1}const x=aR(d).join(":"),y=f?x+Ob:x,p=y+m;if(i.includes(p))continue;i.push(p);const w=s(m,_);for(let b=0;b<w.length;++b){const k=w[b];i.push(y+k)}a=c+(a.length>0?" "+a:a)}return a};function dR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Mb(e))&&(r&&(r+=" "),r+=n);return r}const Mb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Mb(t[r]))&&(n&&(n+=" "),n+=e);return n};function fR(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=lR(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=uR(l,n);return s(l,d),d}return function(){return i(dR.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Db=/^\[(?:([a-z-]+):)?(.+)\]$/i,hR=/^\d+\/\d+$/,pR=new Set(["px","full","screen"]),mR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Un=t=>Ci(t)||pR.has(t)||hR.test(t),hr=t=>ho(t,"length",kR),Ci=t=>!!t&&!Number.isNaN(Number(t)),rf=t=>ho(t,"number",Ci),Lo=t=>!!t&&Number.isInteger(Number(t)),_R=t=>t.endsWith("%")&&Ci(t.slice(0,-1)),q=t=>Db.test(t),pr=t=>mR.test(t),xR=new Set(["length","size","percentage"]),bR=t=>ho(t,xR,jb),CR=t=>ho(t,"position",jb),SR=new Set(["image","url"]),ER=t=>ho(t,SR,PR),NR=t=>ho(t,"",TR),Fo=()=>!0,ho=(t,e,n)=>{const r=Db.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},kR=t=>gR.test(t)&&!vR.test(t),jb=()=>!1,TR=t=>yR.test(t),PR=t=>wR.test(t),IR=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),l=Ce("contrast"),c=Ce("grayscale"),d=Ce("hueRotate"),f=Ce("invert"),h=Ce("gap"),g=Ce("gradientColorStops"),_=Ce("gradientColorStopPositions"),m=Ce("inset"),x=Ce("margin"),y=Ce("opacity"),p=Ce("padding"),w=Ce("saturate"),b=Ce("scale"),k=Ce("sepia"),E=Ce("skew"),C=Ce("space"),N=Ce("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",q,e],A=()=>[q,e],$=()=>["",Un,hr],M=()=>["auto",Ci,q],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",q],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ci,q];return{cacheSize:500,separator:":",theme:{colors:[Fo],spacing:[Un,hr],blur:["none","",pr,q],brightness:H(),borderColor:[t],borderRadius:["none","","full",pr,q],borderSpacing:A(),borderWidth:$(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[_R,hr],inset:L(),margin:L(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[pr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),q]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lo,q]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Lo,q]}],"grid-cols":[{"grid-cols":[Fo]}],"col-start-end":[{col:["auto",{span:["full",Lo,q]},q]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Fo]}],"row-start-end":[{row:["auto",{span:[Lo,q]},q]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[pr]},pr]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rf]}],"font-family":[{font:[Fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",Ci,rf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,hr]}],"underline-offset":[{"underline-offset":["auto",Un,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),CR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ER]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Un,q]}],"outline-w":[{outline:[Un,hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Un,hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pr,NR]}],"shadow-color":[{shadow:[Fo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pr,q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Lo,q]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Un,hr,rf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RR=fR(IR);function oe(...t){return RR(Nb(t))}const AR=RI,Lb=v.forwardRef(({className:t,...e},n)=>u.jsx(wb,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Lb.displayName=wb.displayName;const OR=_m("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fb=v.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(_b,{ref:r,className:oe(OR({variant:e}),t),...n}));Fb.displayName=_b.displayName;const MR=v.forwardRef(({className:t,...e},n)=>u.jsx(Cb,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));MR.displayName=Cb.displayName;const Wb=v.forwardRef(({className:t,...e},n)=>u.jsx(Sb,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(ZI,{className:"h-4 w-4"})}));Wb.displayName=Sb.displayName;const Ub=v.forwardRef(({className:t,...e},n)=>u.jsx(xb,{ref:n,className:oe("text-sm font-semibold",t),...e}));Ub.displayName=xb.displayName;const $b=v.forwardRef(({className:t,...e},n)=>u.jsx(bb,{ref:n,className:oe("text-sm opacity-90",t),...e}));$b.displayName=bb.displayName;function DR(){const{toasts:t}=Ys();return u.jsxs(AR,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Fb,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Ub,{children:n}),r&&u.jsx($b,{children:r})]}),s,u.jsx(Wb,{})]},e)}),u.jsx(Lb,{})]})}var jR=A_[" useId ".trim().toString()]||(()=>{}),LR=0;function Xu(t){const[e,n]=v.useState(jR());return ct(()=>{n(r=>r??String(LR++))},[t]),e?`radix-${e}`:""}const FR=["top","right","bottom","left"],Xr=Math.min,Ot=Math.max,Jc=Math.round,Gl=Math.floor,An=t=>({x:t,y:t}),WR={left:"right",right:"left",bottom:"top",top:"bottom"},UR={start:"end",end:"start"};function Mh(t,e,n){return Ot(t,Xr(e,n))}function sr(t,e){return typeof t=="function"?t(e):t}function ir(t){return t.split("-")[0]}function po(t){return t.split("-")[1]}function Cm(t){return t==="x"?"y":"x"}function Sm(t){return t==="y"?"height":"width"}function Jr(t){return["top","bottom"].includes(ir(t))?"y":"x"}function Em(t){return Cm(Jr(t))}function $R(t,e,n){n===void 0&&(n=!1);const r=po(t),s=Em(t),i=Sm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Zc(o)),[o,Zc(o)]}function HR(t){const e=Zc(t);return[Dh(t),e,Dh(e)]}function Dh(t){return t.replace(/start|end/g,e=>UR[e])}function BR(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function zR(t,e,n,r){const s=po(t);let i=BR(ir(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dh)))),i}function Zc(t){return t.replace(/left|right|bottom|top/g,e=>WR[e])}function VR(t){return{top:0,right:0,bottom:0,left:0,...t}}function Hb(t){return typeof t!="number"?VR(t):{top:t,right:t,bottom:t,left:t}}function eu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ny(t,e,n){let{reference:r,floating:s}=t;const i=Jr(e),o=Em(e),a=Sm(o),l=ir(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(po(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1);break}return g}const GR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Ny(c,r,l),h=r,g={},_=0;for(let m=0;m<a.length;m++){const{name:x,fn:y}=a[m],{x:p,y:w,data:b,reset:k}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=p??d,f=w??f,g={...g,[x]:{...g[x],...b}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=Ny(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Ma(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=sr(e,t),_=Hb(g),x=a[h?f==="floating"?"reference":"floating":f],y=eu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),p=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},k=eu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:w,strategy:l}):p);return{top:(y.top-k.top+_.top)/b.y,bottom:(k.bottom-y.bottom+_.bottom)/b.y,left:(y.left-k.left+_.left)/b.x,right:(k.right-y.right+_.right)/b.x}}const YR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=sr(t,e)||{};if(c==null)return{};const f=Hb(d),h={x:n,y:r},g=Em(s),_=Sm(g),m=await o.getDimensions(c),x=g==="y",y=x?"top":"left",p=x?"bottom":"right",w=x?"clientHeight":"clientWidth",b=i.reference[_]+i.reference[g]-h[g]-i.floating[_],k=h[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[w]||i.floating[_]);const N=b/2-k/2,T=C/2-m[_]/2-1,P=Xr(f[y],T),L=Xr(f[p],T),A=P,$=C-m[_]-L,M=C/2-m[_]/2+N,B=Mh(A,M,$),W=!l.arrow&&po(s)!=null&&M!==B&&i.reference[_]/2-(M<A?P:L)-m[_]/2<0,O=W?M<A?M-A:M-$:0;return{[g]:h[g]+O,data:{[g]:B,centerOffset:M-B-O,...W&&{alignmentOffset:O}},reset:W}}}),KR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:m=!0,...x}=sr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ir(s),p=Jr(a),w=ir(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(w||!m?[Zc(a)]:HR(a)),E=_!=="none";!h&&E&&k.push(...zR(a,m,_,b));const C=[a,...k],N=await Ma(e,x),T=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[y]),f){const M=$R(s,o,b);T.push(N[M[0]],N[M[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(M=>M<=0)){var L,A;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,B=C[M];if(B)return{data:{index:M,overflows:P},reset:{placement:B}};let W=(A=P.filter(O=>O.overflows[0]<=0).sort((O,S)=>O.overflows[1]-S.overflows[1])[0])==null?void 0:A.placement;if(!W)switch(g){case"bestFit":{var $;const O=($=P.filter(S=>{if(E){const I=Jr(S.placement);return I===p||I==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(I=>I>0).reduce((I,F)=>I+F,0)]).sort((S,I)=>S[1]-I[1])[0])==null?void 0:$[0];O&&(W=O);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function ky(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ty(t){return FR.some(e=>t[e]>=0)}const qR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=sr(t,e);switch(r){case"referenceHidden":{const i=await Ma(e,{...s,elementContext:"reference"}),o=ky(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ty(o)}}}case"escaped":{const i=await Ma(e,{...s,altBoundary:!0}),o=ky(i,n.floating);return{data:{escapedOffsets:o,escaped:Ty(o)}}}default:return{}}}}};async function QR(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ir(n),a=po(n),l=Jr(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=sr(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:h*c}:{x:h*c,y:g*d}}const XR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await QR(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},JR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:p}=x;return{x:y,y:p}}},...l}=sr(t,e),c={x:n,y:r},d=await Ma(e,l),f=Jr(ir(s)),h=Cm(f);let g=c[h],_=c[f];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",p=g+d[x],w=g-d[y];g=Mh(p,g,w)}if(o){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=_+d[x],w=_-d[y];_=Mh(p,_,w)}const m=a.fn({...e,[h]:g,[f]:_});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[f]:o}}}}}},ZR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=sr(t,e),d={x:n,y:r},f=Jr(s),h=Cm(f);let g=d[h],_=d[f];const m=sr(a,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",b=i.reference[h]-i.floating[w]+x.mainAxis,k=i.reference[h]+i.reference[w]-x.mainAxis;g<b?g=b:g>k&&(g=k)}if(c){var y,p;const w=h==="y"?"width":"height",b=["top","left"].includes(ir(s)),k=i.reference[f]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[f])||0)+(b?0:x.crossAxis),E=i.reference[f]+i.reference[w]+(b?0:((p=o.offset)==null?void 0:p[f])||0)-(b?x.crossAxis:0);_<k?_=k:_>E&&(_=E)}return{[h]:g,[f]:_}}}},eA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=sr(t,e),d=await Ma(e,c),f=ir(s),h=po(s),g=Jr(s)==="y",{width:_,height:m}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const p=m-d.top-d.bottom,w=_-d.left-d.right,b=Xr(m-d[x],p),k=Xr(_-d[y],w),E=!e.middlewareData.shift;let C=b,N=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=p),E&&!h){const P=Ot(d.left,0),L=Ot(d.right,0),A=Ot(d.top,0),$=Ot(d.bottom,0);g?N=_-2*(P!==0||L!==0?P+L:Ot(d.left,d.right)):C=m-2*(A!==0||$!==0?A+$:Ot(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:C});const T=await o.getDimensions(a.floating);return _!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function Ju(){return typeof window<"u"}function mo(t){return Bb(t)?(t.nodeName||"").toLowerCase():"#document"}function Lt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ln(t){var e;return(e=(Bb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Bb(t){return Ju()?t instanceof Node||t instanceof Lt(t).Node:!1}function gn(t){return Ju()?t instanceof Element||t instanceof Lt(t).Element:!1}function Dn(t){return Ju()?t instanceof HTMLElement||t instanceof Lt(t).HTMLElement:!1}function Py(t){return!Ju()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Lt(t).ShadowRoot}function il(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function tA(t){return["table","td","th"].includes(mo(t))}function Zu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Nm(t){const e=km(),n=gn(t)?vn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nA(t){let e=Zr(t);for(;Dn(e)&&!qi(e);){if(Nm(e))return e;if(Zu(e))return null;e=Zr(e)}return null}function km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qi(t){return["html","body","#document"].includes(mo(t))}function vn(t){return Lt(t).getComputedStyle(t)}function ed(t){return gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zr(t){if(mo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Py(t)&&t.host||Ln(t);return Py(e)?e.host:e}function zb(t){const e=Zr(t);return qi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dn(e)&&il(e)?e:zb(e)}function Da(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=zb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Lt(s);if(i){const a=jh(o);return e.concat(o,o.visualViewport||[],il(s)?s:[],a&&n?Da(a):[])}return e.concat(s,Da(s,[],n))}function jh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vb(t){const e=vn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Dn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Jc(n)!==i||Jc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Tm(t){return gn(t)?t:t.contextElement}function Si(t){const e=Tm(t);if(!Dn(e))return An(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Vb(e);let o=(i?Jc(n.width):n.width)/r,a=(i?Jc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rA=An(0);function Gb(t){const e=Lt(t);return!km()||!e.visualViewport?rA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sA(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Lt(t)?!1:e}function Ms(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Tm(t);let o=An(1);e&&(r?gn(r)&&(o=Si(r)):o=Si(t));const a=sA(i,n,r)?Gb(i):An(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Lt(i),g=r&&gn(r)?Lt(r):r;let _=h,m=jh(_);for(;m&&r&&g!==_;){const x=Si(m),y=m.getBoundingClientRect(),p=vn(m),w=y.left+(m.clientLeft+parseFloat(p.paddingLeft))*x.x,b=y.top+(m.clientTop+parseFloat(p.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=w,c+=b,_=Lt(m),m=jh(_)}}return eu({width:d,height:f,x:l,y:c})}function Pm(t,e){const n=ed(t).scrollLeft;return e?e.left+n:Ms(Ln(t)).left+n}function Yb(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Pm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function iA(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ln(r),a=e?Zu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=An(1);const d=An(0),f=Dn(r);if((f||!f&&!i)&&((mo(r)!=="body"||il(o))&&(l=ed(r)),Dn(r))){const g=Ms(r);c=Si(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const h=o&&!f&&!i?Yb(o,l,!0):An(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function oA(t){return Array.from(t.getClientRects())}function aA(t){const e=Ln(t),n=ed(t),r=t.ownerDocument.body,s=Ot(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ot(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Pm(t);const a=-n.scrollTop;return vn(r).direction==="rtl"&&(o+=Ot(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lA(t,e){const n=Lt(t),r=Ln(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=km();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function cA(t,e){const n=Ms(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Dn(t)?Si(t):An(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Iy(t,e,n){let r;if(e==="viewport")r=lA(t,n);else if(e==="document")r=aA(Ln(t));else if(gn(e))r=cA(e,n);else{const s=Gb(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return eu(r)}function Kb(t,e){const n=Zr(t);return n===e||!gn(n)||qi(n)?!1:vn(n).position==="fixed"||Kb(n,e)}function uA(t,e){const n=e.get(t);if(n)return n;let r=Da(t,[],!1).filter(a=>gn(a)&&mo(a)!=="body"),s=null;const i=vn(t).position==="fixed";let o=i?Zr(t):t;for(;gn(o)&&!qi(o);){const a=vn(o),l=Nm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||il(o)&&!l&&Kb(t,o))?r=r.filter(d=>d!==o):s=a,o=Zr(o)}return e.set(t,r),r}function dA(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Zu(e)?[]:uA(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=Iy(e,d,s);return c.top=Ot(f.top,c.top),c.right=Xr(f.right,c.right),c.bottom=Xr(f.bottom,c.bottom),c.left=Ot(f.left,c.left),c},Iy(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fA(t){const{width:e,height:n}=Vb(t);return{width:e,height:n}}function hA(t,e,n){const r=Dn(e),s=Ln(e),i=n==="fixed",o=Ms(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=An(0);if(r||!r&&!i)if((mo(e)!=="body"||il(s))&&(a=ed(e)),r){const h=Ms(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=Pm(s));const c=s&&!r&&!i?Yb(s,a):An(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function sf(t){return vn(t).position==="static"}function Ry(t,e){if(!Dn(t)||vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ln(t)===n&&(n=n.ownerDocument.body),n}function qb(t,e){const n=Lt(t);if(Zu(t))return n;if(!Dn(t)){let s=Zr(t);for(;s&&!qi(s);){if(gn(s)&&!sf(s))return s;s=Zr(s)}return n}let r=Ry(t,e);for(;r&&tA(r)&&sf(r);)r=Ry(r,e);return r&&qi(r)&&sf(r)&&!Nm(r)?n:r||nA(t)||n}const pA=async function(t){const e=this.getOffsetParent||qb,n=this.getDimensions,r=await n(t.floating);return{reference:hA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mA(t){return vn(t).direction==="rtl"}const gA={convertOffsetParentRelativeRectToViewportRelativeRect:iA,getDocumentElement:Ln,getClippingRect:dA,getOffsetParent:qb,getElementRects:pA,getClientRects:oA,getDimensions:fA,getScale:Si,isElement:gn,isRTL:mA};function Qb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function vA(t,e){let n=null,r;const s=Ln(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const _=Gl(f),m=Gl(s.clientWidth-(d+h)),x=Gl(s.clientHeight-(f+g)),y=Gl(d),w={rootMargin:-_+"px "+-m+"px "+-x+"px "+-y+"px",threshold:Ot(0,Xr(1,l))||1};let b=!0;function k(E){const C=E[0].intersectionRatio;if(C!==l){if(!b)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Qb(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(k,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(t)}return o(!0),i}function yA(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Tm(t),d=s||i?[...c?Da(c):[],...Da(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=c&&a?vA(c,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(y=>{let[p]=y;p&&p.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let _,m=l?Ms(t):null;l&&x();function x(){const y=Ms(t);m&&!Qb(m,y)&&n(),m=y,_=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const wA=XR,_A=JR,xA=KR,bA=eA,CA=qR,Ay=YR,SA=ZR,EA=(t,e,n)=>{const r=new Map,s={platform:gA,...n},i={...s.platform,_c:r};return GR(t,e,{...s,platform:i})};var vc=typeof document<"u"?v.useLayoutEffect:v.useEffect;function tu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!tu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Xb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Oy(t,e){const n=Xb(t);return Math.round(e*n)/n}function of(t){const e=v.useRef(t);return vc(()=>{e.current=t}),e}function NA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=v.useState(r);tu(h,r)||g(r);const[_,m]=v.useState(null),[x,y]=v.useState(null),p=v.useCallback(S=>{S!==E.current&&(E.current=S,m(S))},[]),w=v.useCallback(S=>{S!==C.current&&(C.current=S,y(S))},[]),b=i||_,k=o||x,E=v.useRef(null),C=v.useRef(null),N=v.useRef(d),T=l!=null,P=of(l),L=of(s),A=of(c),$=v.useCallback(()=>{if(!E.current||!C.current)return;const S={placement:e,strategy:n,middleware:h};L.current&&(S.platform=L.current),EA(E.current,C.current,S).then(I=>{const F={...I,isPositioned:A.current!==!1};M.current&&!tu(N.current,F)&&(N.current=F,Gs.flushSync(()=>{f(F)}))})},[h,e,n,L,A]);vc(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[c]);const M=v.useRef(!1);vc(()=>(M.current=!0,()=>{M.current=!1}),[]),vc(()=>{if(b&&(E.current=b),k&&(C.current=k),b&&k){if(P.current)return P.current(b,k,$);$()}},[b,k,$,P,T]);const B=v.useMemo(()=>({reference:E,floating:C,setReference:p,setFloating:w}),[p,w]),W=v.useMemo(()=>({reference:b,floating:k}),[b,k]),O=v.useMemo(()=>{const S={position:n,left:0,top:0};if(!W.floating)return S;const I=Oy(W.floating,d.x),F=Oy(W.floating,d.y);return a?{...S,transform:"translate("+I+"px, "+F+"px)",...Xb(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:F}},[n,a,W.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:$,refs:B,elements:W,floatingStyles:O}),[d,$,B,W,O])}const kA=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ay({element:r.current,padding:s}).fn(n):{}:r?Ay({element:r,padding:s}).fn(n):{}}}},TA=(t,e)=>({...wA(t),options:[t,e]}),PA=(t,e)=>({..._A(t),options:[t,e]}),IA=(t,e)=>({...SA(t),options:[t,e]}),RA=(t,e)=>({...xA(t),options:[t,e]}),AA=(t,e)=>({...bA(t),options:[t,e]}),OA=(t,e)=>({...CA(t),options:[t,e]}),MA=(t,e)=>({...kA(t),options:[t,e]});var DA="Arrow",Jb=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ue.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jb.displayName=DA;var jA=Jb;function LA(t){const[e,n]=v.useState(void 0);return ct(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Im="Popper",[Zb,go]=fo(Im),[FA,eC]=Zb(Im),tC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return u.jsx(FA,{scope:e,anchor:r,onAnchorChange:s,children:n})};tC.displayName=Im;var nC="PopperAnchor",rC=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=eC(nC,n),o=v.useRef(null),a=Te(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ue.div,{...s,ref:a})});rC.displayName=nC;var Rm="PopperContent",[WA,UA]=Zb(Rm),sC=v.forwardRef((t,e)=>{var z,be,nt,ve,he,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:_,...m}=t,x=eC(Rm,n),[y,p]=v.useState(null),w=Te(e,It=>p(It)),[b,k]=v.useState(null),E=LA(b),C=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,T=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],A=L.length>0,$={padding:P,boundary:L.filter(HA),altBoundary:A},{refs:M,floatingStyles:B,placement:W,isPositioned:O,middlewareData:S}=NA({strategy:"fixed",placement:T,whileElementsMounted:(...It)=>yA(...It,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[TA({mainAxis:s+N,alignmentAxis:o}),l&&PA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?IA():void 0,...$}),l&&RA({...$}),AA({...$,apply:({elements:It,rects:xn,availableWidth:No,availableHeight:ko})=>{const{width:To,height:lN}=xn.reference,Sl=It.floating.style;Sl.setProperty("--radix-popper-available-width",`${No}px`),Sl.setProperty("--radix-popper-available-height",`${ko}px`),Sl.setProperty("--radix-popper-anchor-width",`${To}px`),Sl.setProperty("--radix-popper-anchor-height",`${lN}px`)}}),b&&MA({element:b,padding:a}),BA({arrowWidth:C,arrowHeight:N}),h&&OA({strategy:"referenceHidden",...$})]}),[I,F]=aC(W),H=Wt(_);ct(()=>{O&&(H==null||H())},[O,H]);const ee=(z=S.arrow)==null?void 0:z.x,Fe=(be=S.arrow)==null?void 0:be.y,Ae=((nt=S.arrow)==null?void 0:nt.centerOffset)!==0,[Pt,ze]=v.useState();return ct(()=>{y&&ze(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:O?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(ve=S.transformOrigin)==null?void 0:ve.x,(he=S.transformOrigin)==null?void 0:he.y].join(" "),...((pe=S.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(WA,{scope:n,placedSide:I,onArrowChange:k,arrowX:ee,arrowY:Fe,shouldHideArrow:Ae,children:u.jsx(ue.div,{"data-side":I,"data-align":F,...m,ref:w,style:{...m.style,animation:O?void 0:"none"}})})})});sC.displayName=Rm;var iC="PopperArrow",$A={top:"bottom",right:"left",bottom:"top",left:"right"},oC=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=UA(iC,r),o=$A[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(jA,{...s,ref:n,style:{...s.style,display:"block"}})})});oC.displayName=iC;function HA(t){return t!==null}var BA=t=>({name:"transformOrigin",options:t,fn(e){var x,y,p;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=aC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,g=(((p=s.arrow)==null?void 0:p.y)??0)+l/2;let _="",m="";return c==="bottom"?(_=o?f:`${h}px`,m=`${-l}px`):c==="top"?(_=o?f:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,m=o?f:`${g}px`):c==="left"&&(_=`${r.floating.width+l}px`,m=o?f:`${g}px`),{data:{x:_,y:m}}}});function aC(t){const[e,n="center"]=t.split("-");return[e,n]}var lC=tC,td=rC,Am=sC,Om=oC,[nd,hW]=fo("Tooltip",[go]),Mm=go(),cC="TooltipProvider",zA=700,My="tooltip.open",[VA,uC]=nd(cC),dC=t=>{const{__scopeTooltip:e,delayDuration:n=zA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(VA,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};dC.displayName=cC;var fC="Tooltip",[pW,rd]=nd(fC),Lh="TooltipTrigger",GA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rd(Lh,n),i=uC(Lh,n),o=Mm(n),a=v.useRef(null),l=Te(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(td,{asChild:!0,...o,children:u.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Q(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Q(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Q(t.onBlur,s.onClose),onClick:Q(t.onClick,s.onClose)})})});GA.displayName=Lh;var YA="TooltipPortal",[mW,KA]=nd(YA,{forceMount:void 0}),Qi="TooltipContent",hC=v.forwardRef((t,e)=>{const n=KA(Qi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=rd(Qi,t.__scopeTooltip);return u.jsx(rl,{present:r||o.open,children:o.disableHoverableContent?u.jsx(pC,{side:s,...i,ref:e}):u.jsx(qA,{side:s,...i,ref:e})})}),qA=v.forwardRef((t,e)=>{const n=rd(Qi,t.__scopeTooltip),r=uC(Qi,t.__scopeTooltip),s=v.useRef(null),i=Te(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),g=v.useCallback((_,m)=>{const x=_.currentTarget,y={x:_.clientX,y:_.clientY},p=eO(y,x.getBoundingClientRect()),w=tO(y,p),b=nO(m.getBoundingClientRect()),k=sO([...w,...b]);a(k),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const _=x=>g(x,d),m=x=>g(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",m)}}},[l,d,g,h]),v.useEffect(()=>{if(o){const _=m=>{const x=m.target,y={x:m.clientX,y:m.clientY},p=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),w=!rO(y,o);p?h():w&&(h(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,h]),u.jsx(pC,{...t,ref:i})}),[QA,XA]=nd(fC,{isInside:!1}),JA=YP("TooltipContent"),pC=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=rd(Qi,n),c=Mm(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(My,d),()=>document.removeEventListener(My,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Am,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(JA,{children:r}),u.jsx(QA,{scope:n,isInside:!0,children:u.jsx(hI,{id:l.contentId,role:"tooltip",children:s||r})})]})})});hC.displayName=Qi;var mC="TooltipArrow",ZA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Mm(n);return XA(mC,n).isInside?null:u.jsx(Om,{...s,...r,ref:e})});ZA.displayName=mC;function eO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function rO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function sO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iO(e)}function iO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oO=dC,gC=hC;const aO=oO,lO=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(gC,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));lO.displayName=gC.displayName;const cO=()=>{};var Dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw vo(e)},vo=function(t){return new Error("Firebase Database ("+vC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Dm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new dO;const h=i<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(t){const e=yC(t);return Dm.encodeByteArray(e,!0)},nu=function(t){return wC(t).replace(/\./g,"")},ru=function(t){try{return Dm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){return _C(void 0,t)}function _C(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hO(n)||(t[n]=_C(t[n],e[n]));return t}function hO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=()=>pO().__FIREBASE_DEFAULTS__,gO=()=>{if(typeof process>"u"||typeof Dy>"u")return;const t=Dy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ru(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return cO()||mO()||gO()||vO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xC=t=>{var e,n;return(n=(e=jm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yO=t=>{const e=xC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bC=()=>{var t;return(t=jm())==null?void 0:t.config},CC=t=>{var e;return(e=jm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nu(JSON.stringify(n)),nu(JSON.stringify(o)),""].join(".")}const la={};function _O(){const t={prod:[],emulator:[]};for(const e of Object.keys(la))la[e]?t.emulator.push(e):t.prod.push(e);return t}function xO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jy=!1;function EC(t,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||la[t]===e||la[t]||jy)return;la[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=_O().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{jy=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=xO(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),m=n("learnmore"),x=document.getElementById(m)||document.createElement("a"),y=n("preprendIcon"),p=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;a(w),d(x,m);const b=c();l(p,y),w.append(p,_,x,b),document.body.appendChild(w)}i?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function bO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SO(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kC(){return vC.NODE_ADMIN===!0}function EO(){try{return typeof indexedDB=="object"}catch{return!1}}function NO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?TO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new as(s,a,r)}}function TO(t,e){return t.replace(PO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ja(ru(i[0])||""),n=ja(ru(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},IO=function(t){const e=TC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RO=function(t){const e=TC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function su(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ly(i)&&Ly(o)){if(!Ds(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ly(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):f<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const h=(s<<5|s>>>27)+c+l+d+r[f]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function OO(t,e){const n=new MO(t,e);return n.subscribe.bind(n)}class MO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=af),s.error===void 0&&(s.error=af),s.complete===void 0&&(s.complete=af);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function af(){}function sd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},id=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WO(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FO(t){return t===gs?void 0:t}function WO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const $O={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},HO=me.INFO,BO={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},zO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=BO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=HO,this._logHandler=zO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const VO=(t,e)=>e.some(n=>t instanceof n);let Fy,Wy;function GO(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YO(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PC=new WeakMap,Wh=new WeakMap,IC=new WeakMap,lf=new WeakMap,Wm=new WeakMap;function KO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PC.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function qO(t){if(Wh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Wh.set(t,e)}let Uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QO(t){Uh=t(Uh)}function XO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cf(this),e,...n);return IC.set(r,e.sort?e.sort():[e]),zr(r)}:YO().includes(t)?function(...e){return t.apply(cf(this),e),zr(PC.get(this))}:function(...e){return zr(t.apply(cf(this),e))}}function JO(t){return typeof t=="function"?XO(t):(t instanceof IDBTransaction&&qO(t),VO(t,GO())?new Proxy(t,Uh):t)}function zr(t){if(t instanceof IDBRequest)return KO(t);if(lf.has(t))return lf.get(t);const e=JO(t);return e!==t&&(lf.set(t,e),Wm.set(e,t)),e}const cf=t=>Wm.get(t);function ZO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zr(o.result),l.oldVersion,l.newVersion,zr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eM=["get","getKey","getAll","getAllKeys","count"],tM=["put","add","delete","clear"],uf=new Map;function Uy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=tM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return uf.set(e,i),i}QO(t=>({...t,get:(e,n,r)=>Uy(e,n)||t.get(e,n,r),has:(e,n)=>!!Uy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $h="@firebase/app",$y="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Fm("@firebase/app"),sM="@firebase/app-compat",iM="@firebase/analytics-compat",oM="@firebase/analytics",aM="@firebase/app-check-compat",lM="@firebase/app-check",cM="@firebase/auth",uM="@firebase/auth-compat",dM="@firebase/database",fM="@firebase/data-connect",hM="@firebase/database-compat",pM="@firebase/functions",mM="@firebase/functions-compat",gM="@firebase/installations",vM="@firebase/installations-compat",yM="@firebase/messaging",wM="@firebase/messaging-compat",_M="@firebase/performance",xM="@firebase/performance-compat",bM="@firebase/remote-config",CM="@firebase/remote-config-compat",SM="@firebase/storage",EM="@firebase/storage-compat",NM="@firebase/firestore",kM="@firebase/ai",TM="@firebase/firestore-compat",PM="firebase",IM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="[DEFAULT]",RM={[$h]:"fire-core",[sM]:"fire-core-compat",[oM]:"fire-analytics",[iM]:"fire-analytics-compat",[lM]:"fire-app-check",[aM]:"fire-app-check-compat",[cM]:"fire-auth",[uM]:"fire-auth-compat",[dM]:"fire-rtdb",[fM]:"fire-data-connect",[hM]:"fire-rtdb-compat",[pM]:"fire-fn",[mM]:"fire-fn-compat",[gM]:"fire-iid",[vM]:"fire-iid-compat",[yM]:"fire-fcm",[wM]:"fire-fcm-compat",[_M]:"fire-perf",[xM]:"fire-perf-compat",[bM]:"fire-rc",[CM]:"fire-rc-compat",[SM]:"fire-gcs",[EM]:"fire-gcs-compat",[NM]:"fire-fst",[TM]:"fire-fst-compat",[kM]:"fire-vertex","fire-js":"fire-js",[PM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,AM=new Map,Bh=new Map;function Hy(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ji(t){const e=t.name;if(Bh.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const n of iu.values())Hy(n,t);for(const n of AM.values())Hy(n,t);return!0}function Um(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new al("app","Firebase",OM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=IM;function RC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Vr.create("bad-app-name",{appName:String(s)});if(n||(n=bC()),!n)throw Vr.create("no-options");const i=iu.get(s);if(i){if(Ds(n,i.options)&&Ds(r,i.config))return i;throw Vr.create("duplicate-app",{appName:s})}const o=new UO(s);for(const l of Bh.values())o.addComponent(l);const a=new MM(n,r,o);return iu.set(s,a),a}function AC(t=Hh){const e=iu.get(t);if(!e&&t===Hh&&bC())return RC();if(!e)throw Vr.create("no-app",{appName:t});return e}function Gr(t,e,n){let r=RM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(o.join(" "));return}Ji(new js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-heartbeat-database",jM=1,La="firebase-heartbeat-store";let df=null;function OC(){return df||(df=ZO(DM,jM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(La)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),df}async function LM(t){try{const n=(await OC()).transaction(La),r=await n.objectStore(La).get(MC(t));return await n.done,r}catch(e){if(e instanceof as)or.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function By(t,e){try{const r=(await OC()).transaction(La,"readwrite");await r.objectStore(La).put(e,MC(t)),await r.done}catch(n){if(n instanceof as)or.warn(n.message);else{const r=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(r.message)}}}function MC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=1024,WM=30;class UM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>WM){const o=BM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zy(),{heartbeatsToSend:r,unsentEntries:s}=$M(this._heartbeatsCache.heartbeats),i=nu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return or.warn(n),""}}}function zy(){return new Date().toISOString().substring(0,10)}function $M(t,e=FM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EO()?NO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vy(t){return nu(JSON.stringify({version:2,heartbeats:t})).length}function BM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){Ji(new js("platform-logger",e=>new nM(e),"PRIVATE")),Ji(new js("heartbeat",e=>new UM(e),"PRIVATE")),Gr($h,$y,t),Gr($h,$y,"esm2020"),Gr("fire-js","")}zM("");var VM="firebase",GM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(VM,GM,"app");function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YM=DC,jC=new al("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new Fm("@firebase/auth");function KM(t,...e){ou.logLevel<=me.WARN&&ou.warn(`Auth (${_o}): ${t}`,...e)}function yc(t,...e){ou.logLevel<=me.ERROR&&ou.error(`Auth (${_o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw $m(t,...e)}function On(t,...e){return $m(t,...e)}function LC(t,e,n){const r={...YM(),[e]:n};return new al("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return LC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jC.create(t,...e)}function V(t,e,...n){if(!t)throw $m(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yc(e),new Error(e)}function ar(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function qM(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qM()||CO()||"connection"in navigator)?navigator.onLine:!0}function XM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=Lm()||NC()}get(){return QM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new ll(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ur(t,e,n,r,s={}){return WC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=wo({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return bO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&yo(t.emulatorConfig.host)&&(c.credentials="include"),FC.fetch()(await UC(t,t.config.apiHost,n,a),c)})}async function WC(t,e,n){t._canInitEmulator=!1;const r={...JM,...e};try{const s=new nD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LC(t,d,c);yn(t,d)}}catch(s){if(s instanceof as)throw s;yn(t,"network-request-failed",{message:String(s)})}}async function cl(t,e,n,r,s={}){const i=await ur(t,e,n,r,s);return"mfaPendingCredential"in i&&yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function UC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Hm(t.config,s):`${t.config.apiScheme}://${s}`;return ZM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function tD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),eD.get())})}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=On(t,e,r);return s.customData._tokenResponse=n,s}function Yy(t){return t!==void 0&&t.enterprise!==void 0}class rD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sD(t,e){return ur(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return ur(t,"POST","/v1/accounts:delete",e)}async function au(t,e){return ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oD(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=Bm(r);V(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ca(ff(s.auth_time)),issuedAtTime:ca(ff(s.iat)),expirationTime:ca(ff(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function Bm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=ru(n);return s?JSON.parse(s):(yc("Failed to decode base64 JWT payload"),null)}catch(s){return yc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ky(t){const e=Bm(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&aD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Zi(t,au(e,{idToken:n}));V(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?$C(s.providerUserInfo):[],o=uD(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Vh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function cD(t){const e=ut(t);await lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){const n=await WC(t,{},async()=>{const r=wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await UC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&yo(t.emulatorConfig.host)&&(l.credentials="include"),FC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fD(t,e){return ur(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ky(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=Ky(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await dD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ei;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(V(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(V(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ei,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zi(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oD(this,e)}reload(){return cD(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Zi(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:_,stsTokenManager:m}=n;V(f&&m,e,"internal-error");const x=Ei.fromJSON(this.name,m);V(typeof f=="string",e,"internal-error"),mr(r,e.name),mr(s,e.name),V(typeof h=="boolean",e,"internal-error"),V(typeof g=="boolean",e,"internal-error"),mr(i,e.name),mr(o,e.name),mr(a,e.name),mr(l,e.name),mr(c,e.name),mr(d,e.name);const y=new cn({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(y.providerData=_.map(p=>({...p}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ei;s.updateFromServerResponse(n);const i=new cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];V(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$C(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ei;a.updateFromIdToken(r);const l=new cn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Vh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;function qn(t){ar(t instanceof Function,"Expected a class definition");let e=qy.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HC.type="NONE";const Qy=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ni{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wc(this.userKey,s.apiKey,i),this.fullPersistenceKey=wc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await au(this.auth,{idToken:e}).catch(()=>{});return n?cn._fromGetAccountInfoResponse(this.auth,n,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ni(qn(Qy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||qn(Qy);const o=wc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await au(e,{idToken:d}).catch(()=>{});if(!h)break;f=await cn._fromGetAccountInfoResponse(e,h,d)}else f=cn._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ni(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ni(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(qC(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||VC(e))&&!e.includes("edge/"))return"Chrome";if(YC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BC(t=yt()){return/firefox\//i.test(t)}function zC(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VC(t=yt()){return/crios\//i.test(t)}function GC(t=yt()){return/iemobile/i.test(t)}function YC(t=yt()){return/android/i.test(t)}function KC(t=yt()){return/blackberry/i.test(t)}function qC(t=yt()){return/webos/i.test(t)}function zm(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hD(t=yt()){var e;return zm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function pD(){return SO()&&document.documentMode===10}function QC(t=yt()){return zm(t)||YC(t)||qC(t)||KC(t)||/windows phone/i.test(t)||GC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e=[]){let n;switch(t){case"Browser":n=Xy(yt());break;case"Worker":n=`${Xy(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e={}){return ur(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6;class yD{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jy(this),this.idTokenSubscription=new Jy(this),this.beforeStateQueue=new mD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ni.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await au(this,{idToken:e}),r=await cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Gt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(Jn(this));const n=e?ut(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gD(this),n=new yD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Ni.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ks(t){return ut(t)}class Jy{constructor(e){this.auth=e,this.observer=null,this.addObserver=OO(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(t){od=t}function JC(t){return od.loadJS(t)}function xD(){return od.recaptchaEnterpriseScript}function bD(){return od.gapiScript}function CD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new ED}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ED{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ND="recaptcha-enterprise",ZC="NO_RECAPTCHA";class kD{constructor(e){this.type=ND,this.auth=Ks(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{sD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new rD(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Yy(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(ZC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Yy(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xD();l.length!==0&&(l+=a),JC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Zy(t,e,n,r=!1,s=!1){const i=new kD(t);let o;if(s)o=ZC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Zy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Zy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){const n=Um(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ds(i,e??{}))return s;yn(s,"already-initialized")}return n.initialize({options:e})}function PD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ID(t,e,n){const r=Ks(t);V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=e1(e),{host:o,port:a}=RD(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){V(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),V(Ds(c,r.config.emulator)&&Ds(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,yo(o)?(SC(`${i}//${o}${l}`),EC("Auth",!0)):AD()}function e1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RD(t){const e=e1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ew(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ew(o)}}}function ew(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function OD(t,e){return ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return cl(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function jD(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Vm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,n,"signInWithPassword",MD);case"emailLink":return DD(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,r,"signUpPassword",OD);case"emailLink":return jD(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ki(t,e){return cl(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="http://localhost";class Ls extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ls(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ki(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ki(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ki(e,n)}buildRequest(){const e={requestUri:LD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WD(t){const e=qo(Qo(t)).link,n=e?qo(Qo(e)).deep_link_id:null,r=qo(Qo(t)).deep_link_id;return(r?qo(Qo(r)).link:null)||r||n||e||t}class Gm{constructor(e){const n=qo(Qo(e)),r=n.apiKey??null,s=n.oobCode??null,i=FD(n.mode??null);V(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=WD(e);try{return new Gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return Fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gm.parseLink(n);return V(r,"argument-error"),Fa._fromEmailAndCode(e,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ul{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ls._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ul{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ul{constructor(){super("twitter.com")}static credential(e,n){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e){return cl(t,"POST","/v1/accounts:signUp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cn._fromIdTokenResponse(e,r,s),o=tw(r);return new Fs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=tw(r);return new Fs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function tw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends as{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new cu(e,n,r,s)}}function n1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cu._fromErrorAndOperation(t,i,e,r):i})}async function $D(t,e,n=!1){const r=await Zi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e,n=!1){const{auth:r}=t;if(Gt(r.app))return Promise.reject(Jn(r));const s="reauthenticate";try{const i=await Zi(t,n1(r,s,e,t),n);V(i.idToken,r,"internal-error");const o=Bm(i.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),Fs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e,n=!1){if(Gt(t.app))return Promise.reject(Jn(t));const r="signIn",s=await n1(t,r,e),i=await Fs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function BD(t,e){return r1(Ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zD(t,e,n){if(Gt(t.app))return Promise.reject(Jn(t));const r=Ks(t),o=await Gh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&s1(t),l}),a=await Fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function VD(t,e,n){return Gt(t.app)?Promise.reject(Jn(t)):BD(ut(t),xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){return ur(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ut(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Zi(r,GD(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function KD(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function qD(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function QD(t){return ut(t).signOut()}const uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1e3,JD=10;class o1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const ZD=o1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a1.type="SESSION";const l1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await e2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Ym("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function n2(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function r2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function i2(){return c1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebaseLocalStorageDb",o2=1,du="firebaseLocalStorage",d1="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([du],e?"readwrite":"readonly").objectStore(du)}function a2(){const t=indexedDB.deleteDatabase(u1);return new dl(t).toPromise()}function Yh(){const t=indexedDB.open(u1,o2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(du,{keyPath:d1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(du)?e(r):(r.close(),await a2(),e(await Yh()))})})}async function nw(t,e,n){const r=ld(t,!0).put({[d1]:e,value:n});return new dl(r).toPromise()}async function l2(t,e){const n=ld(t,!1).get(e),r=await new dl(n).toPromise();return r===void 0?null:r.value}function rw(t,e){const n=ld(t,!0).delete(e);return new dl(n).toPromise()}const c2=800,u2=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(i2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await r2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await nw(e,uu,"1"),await rw(e,uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ld(s,!1).getAll();return new dl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const d2=f1;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){return e?qn(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h2(t){return r1(t.auth,new Km(t),t.bypassAuthState)}function p2(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),HD(n,new Km(t),t.bypassAuthState)}async function m2(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),$D(n,new Km(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:yn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new ll(2e3,1e4);class mi extends h1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g2.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="pendingRedirect",_c=new Map;class y2 extends h1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_c.get(this.auth._key());if(!e){try{const r=await w2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(t,e){const n=b2(e),r=x2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _2(t,e){_c.set(t._key(),e)}function x2(t){return qn(t._redirectPersistence)}function b2(t){return wc(v2,t.config.apiKey,t.name)}async function C2(t,e,n=!1){if(Gt(t.app))return Promise.reject(Jn(t));const r=Ks(t),s=f2(r,e),o=await new y2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=10*60*1e3;class E2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(On(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(sw(e))}saveEventToCache(e){this.cachedEventUids.add(sw(e)),this.lastProcessedEventTime=Date.now()}}function sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e={}){return ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function I2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k2(t);for(const n of e)try{if(R2(n))return}catch{}yn(t,"unauthorized-domain")}function R2(t){const e=zh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P2.test(n))return!1;if(T2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new ll(3e4,6e4);function iw(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O2(t){return new Promise((e,n)=>{var s,i,o;function r(){iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iw(),n(On(t,"network-request-failed"))},timeout:A2.get()})}if((i=(s=Mn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)r();else{const a=CD("iframefcb");return Mn()[a]=()=>{gapi.load?r():n(On(t,"network-request-failed"))},JC(`${bD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xc=null,e})}let xc=null;function M2(t){return xc=xc||O2(t),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new ll(5e3,15e3),j2="__/auth/iframe",L2="emulator/auth/iframe",F2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U2(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hm(e,L2):`https://${t.config.authDomain}/${j2}`,r={apiKey:e.apiKey,appName:t.name,v:_o},s=W2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wo(r).slice(1)}`}async function $2(t){const e=await M2(t),n=Mn().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:U2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=On(t,"network-request-failed"),a=Mn().setTimeout(()=>{i(o)},D2.get());function l(){Mn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,z2=600,V2="_blank",G2="http://localhost";class ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y2(t,e,n,r=B2,s=z2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...H2,width:r.toString(),height:s.toString(),top:i,left:o},c=yt().toLowerCase();n&&(a=VC(c)?V2:n),BC(c)&&(e=e||G2,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(hD(c)&&a!=="_self")return K2(e||"",a),new ow(null);const f=window.open(e||"",a,d);V(f,t,"popup-blocked");try{f.focus()}catch{}return new ow(f)}function K2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__/auth/handler",Q2="emulator/auth/handler",X2=encodeURIComponent("fac");async function aw(t,e,n,r,s,i){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_o,eventId:s};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof ul){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${X2}=${encodeURIComponent(l)}`:"";return`${J2(t)}?${wo(a).slice(1)}${c}`}function J2({config:t}){return t.emulator?Hm(t,Q2):`https://${t.authDomain}/${q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class Z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=C2,this._overrideRedirectResult=_2}async _openPopup(e,n,r,s){var o;ar((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await aw(e,n,r,zh(),s);return Y2(e,i,Ym())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await aw(e,n,r,zh(),s);return n2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $2(e),r=new E2(e);return n.register("authEvent",s=>(V(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hf,{type:hf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[hf];i!==void 0&&n(!!i),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QC()||zC()||zm()}}const ej=Z2;var lw="@firebase/auth",cw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rj(t){Ji(new js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XC(t)},c=new wD(r,s,i,l);return PD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ji(new js("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(r=>new tj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(lw,cw,nj(t)),Gr(lw,cw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=5*60,ij=CC("authIdTokenMaxAge")||sj;let uw=null;const oj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ij)return;const s=n==null?void 0:n.token;uw!==s&&(uw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aj(t=AC()){const e=Um(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TD(t,{popupRedirectResolver:ej,persistence:[d2,ZD,l1]}),r=CC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oj(i.toString());qD(n,o,()=>o(n.currentUser)),KD(n,a=>o(a))}}const s=xC("auth");return s&&ID(n,`http://${s}`),n}function lj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}_D({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=On("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rj("Browser");var dw={};const fw="@firebase/database",hw="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1="";function cj(t){m1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ja(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Fn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uj(e)}}catch{}return new dj},bs=g1("localStorage"),fj=g1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Fm("@firebase/database"),hj=function(){let t=1;return function(){return t++}}(),v1=function(t){const e=jO(t),n=new AO;n.update(e);const r=n.digest();return Dm.encodeByteArray(r)},fl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fl.apply(null,r):typeof r=="object"?e+=He(r):e+=r,e+=" "}return e};let ua=null,pw=!0;const pj=function(t,e){j(!e,"Can't turn on custom loggers persistently."),Ti.logLevel=me.VERBOSE,ua=Ti.log.bind(Ti)},Je=function(...t){if(pw===!0&&(pw=!1,ua===null&&fj.get("logging_enabled")===!0&&pj()),ua){const e=fl.apply(null,t);ua(e)}},hl=function(t){return function(...e){Je(t,...e)}},Kh=function(...t){const e="FIREBASE INTERNAL ERROR: "+fl(...t);Ti.error(e)},lr=function(...t){const e=`FIREBASE FATAL ERROR: ${fl(...t)}`;throw Ti.error(e),new Error(e)},vt=function(...t){const e="FIREBASE WARNING: "+fl(...t);Ti.warn(e)},mj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},eo="[MIN_NAME]",Ws="[MAX_NAME]",qs=function(t,e){if(t===e)return 0;if(t===eo||e===Ws)return-1;if(e===eo||t===Ws)return 1;{const n=mw(t),r=mw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vj=function(t,e){return t===e?0:t<e?-1:1},Wo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},Qm=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=He(e[r]),n+=":",n+=Qm(t[e[r]]);return n+="}",n},y1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const w1=function(t){j(!qm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},yj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _j(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const xj=new RegExp("^-?(0*)\\d{1,10}$"),bj=-2147483648,Cj=2147483647,mw=function(t){if(xj.test(t)){const e=Number(t);if(e>=bj&&e<=Cj)return e}return null},bo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Sj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},da=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}class bc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="5",_1="v",x1="s",b1="r",C1="f",S1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E1="ls",N1="p",qh="ac",k1="websocket",T1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function I1(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let r;if(e===k1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===T1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kj(t)&&(n.ns=t.namespace);const s=[];return tt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.counters_={}}incrementCounter(e,n=1){Fn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return fO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf={},mf={};function Jm(t){const e=t.toString();return pf[e]||(pf[e]=new Tj),pf[e]}function Pj(t,e){const n=t.toString();return mf[n]||(mf[n]=e()),mf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&bo(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="start",Rj="close",Aj="pLPCommand",Oj="pRTLPCB",R1="id",A1="pw",O1="ser",Mj="cb",Dj="seg",jj="ts",Lj="d",Fj="dframe",M1=1870,D1=30,Wj=M1-D1,Uj=25e3,$j=3e4;class gi{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hl(e),this.stats_=Jm(n),this.urlFn=l=>(this.appCheckToken&&(l[qh]=this.appCheckToken),I1(n,T1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ij(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($j)),gj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zm((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===gw)this.id=a,this.password=l;else if(o===Rj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[gw]="t",r[O1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Mj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_1]=Xm,this.transportSessionId&&(r[x1]=this.transportSessionId),this.lastSessionId&&(r[E1]=this.lastSessionId),this.applicationId&&(r[N1]=this.applicationId),this.appCheckToken&&(r[qh]=this.appCheckToken),typeof location<"u"&&location.hostname&&S1.test(location.hostname)&&(r[b1]=C1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gi.forceAllow_=!0}static forceDisallow(){gi.forceDisallow_=!0}static isAvailable(){return gi.forceAllow_?!0:!gi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yj()&&!wj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wC(n),s=y1(r,Wj);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Fj]="t",r[R1]=e,r[A1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Zm{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hj(),window[Aj+this.uniqueCallbackIdentifier]=e,window[Oj+this.uniqueCallbackIdentifier]=n,this.myIFrame=Zm.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Je("frame writing exception"),a.stack&&Je(a.stack),Je(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[R1]=this.myID,e[A1]=this.myPW,e[O1]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+D1+r.length<=M1;){const o=this.pendingSegs.shift();r=r+"&"+Dj+s+"="+o.seg+"&"+jj+s+"="+o.ts+"&"+Lj+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Uj)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=16384,Bj=45e3;let fu=null;typeof MozWebSocket<"u"?fu=MozWebSocket:typeof WebSocket<"u"&&(fu=WebSocket);class ln{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hl(this.connId),this.stats_=Jm(n),this.connURL=ln.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[_1]=Xm,typeof location<"u"&&location.hostname&&S1.test(location.hostname)&&(o[b1]=C1),n&&(o[x1]=n),r&&(o[E1]=r),s&&(o[qh]=s),i&&(o[N1]=i),I1(e,k1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bs.set("previous_websocket_failure",!0);try{let r;kC(),this.mySock=new fu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&fu!==null&&!ln.forceDisallow_}static previouslyFailed(){return bs.isInMemoryStorage||bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ja(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=y1(n,Hj);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Bj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static get ALL_TRANSPORTS(){return[gi,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ln&&ln.isAvailable();let r=n&&!ln.previouslyFailed();if(e.webSocketOnly&&(n||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ln];else{const s=this.transports_=[];for(const i of Wa.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=6e4,Vj=5e3,Gj=10*1024,Yj=100*1024,gf="t",vw="d",Kj="s",yw="r",qj="e",ww="o",_w="a",xw="n",bw="p",Qj="h";class Xj{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hl("c:"+this.id+":"),this.transportManager_=new Wa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=da(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Yj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gf in e){const n=e[gf];n===_w?this.upgradeIfSecondaryHealthy_():n===yw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ww&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Wo("t",e),r=Wo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_w,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Wo("t",e),r=Wo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Wo(gf,e);if(vw in e){const r=e[vw];if(n===Qj){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===xw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Kj?this.onConnectionShutdown_(r):n===yw?this.onReset_(r):n===qj?Kh("Server Error: "+r):n===ww?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xm!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),da(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):da(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Vj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends L1{static getInstance(){return new hu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=32,Sw=768;class ge{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new ge("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function es(t){return t.pieces_.length-t.pieceNum_}function we(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ge(t.pieces_,e)}function eg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Jj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ua(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ge(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ge)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ge(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function mt(t,e){const n=J(t),r=J(e);if(n===null)return e;if(n===r)return mt(we(t),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Zj(t,e){const n=Ua(t,0),r=Ua(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=qs(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function tg(t,e){if(es(t)!==es(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function qt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(es(t)>es(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class eL{constructor(e,n){this.errorPrefix_=n,this.parts_=Ua(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=id(this.parts_[r]);W1(this)}}function tL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=id(e),W1(t)}function nL(t){const e=t.parts_.pop();t.byteLength_-=id(e),t.parts_.length>0&&(t.byteLength_-=1)}function W1(t){if(t.byteLength_>Sw)throw new Error(t.errorPrefix_+"has a key path longer than "+Sw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Cw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cw+") or object contains a cycle "+vs(t))}function vs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends L1{static getInstance(){return new ng}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=1e3,rL=60*5*1e3,Ew=30*1e3,sL=1.3,iL=3e4,oL="server_kill",Nw=3;class Zn extends j1{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Zn.nextPersistentConnectionId_++,this.log_=hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uo,this.maxReconnectDelay_=rL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!kC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ng.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(He(i)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ol,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Zn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Fn(e,"w")){const r=Xi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ew)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=IO(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Kh("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iL&&(this.reconnectDelay_=Uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Zn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(f){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new Xj(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{vt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(oL)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&vt(f),l())}}}interrupt(e){Je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fh(this.interruptReasons_)&&(this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Qm(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ge(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nw&&(this.reconnectDelay_=Ew,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+m1.replace(/\./g,"-")]=1,Lm()?e["framework.cordova"]=1:NC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hu.getInstance().currentlyOnline();return Fh(this.interruptReasons_)&&e}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(eo,e),s=new Z(eo,n);return this.compare(r,s)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;class U1 extends cd{static get __EMPTY_NODE(){return Kl}static set __EMPTY_NODE(e){Kl=e}compare(e,n){return qs(e.name,n.name)}isDefinedOn(e){throw vo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(Ws,Kl)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,Kl)}toString(){return".key"}}const Pi=new U1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qe.RED,this.left=s??Ct.EMPTY_NODE,this.right=i??Ct.EMPTY_NODE}copy(e,n,r,s,i){return new qe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0;qe.BLACK=!1;class aL{copy(e,n,r,s,i){return this}insert(e,n,r){return new qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,n=Ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ql(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ql(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ql(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ql(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new aL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e){return qs(t.name,e.name)}function rg(t,e){return qs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;function cL(t){Qh=t}const $1=function(t){return typeof t=="number"?"number:"+w1(t):"string:"+t},H1=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fn(e,".sv"),"Priority must be a string or number.")}else j(t===Qh||t.isEmpty(),"priority of unexpected type.");j(t===Qh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kw;class Ye{static set __childrenNodeConstructor(e){kw=e}static get __childrenNodeConstructor(){return kw}constructor(e,n=Ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:J(e)===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=J(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||es(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=w1(this.value_):e+=this.value_,this.lazyHash_=v1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ye.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ye.VALUE_TYPE_ORDER.indexOf(n),i=Ye.VALUE_TYPE_ORDER.indexOf(r);return j(s>=0,"Unknown leaf type: "+n),j(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1,z1;function uL(t){B1=t}function dL(t){z1=t}class fL extends cd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?qs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(Ws,new Ye("[PRIORITY-POST]",z1))}makePost(e,n){const r=B1(e);return new Z(n,new Ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const je=new fL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=Math.log(2);class pL{constructor(e){const n=i=>parseInt(Math.log(i)/hL,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pu=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let f,h;if(d===0)return null;if(d===1)return f=t[l],h=n?n(f):f,new qe(h,f.node,qe.BLACK,null,null);{const g=parseInt(d/2,10)+l,_=s(l,g),m=s(g+1,c);return f=t[g],h=n?n(f):f,new qe(h,f.node,qe.BLACK,_,m)}},i=function(l){let c=null,d=null,f=t.length;const h=function(_,m){const x=f-_,y=f;f-=_;const p=s(x+1,y),w=t[x],b=n?n(w):w;g(new qe(b,w.node,m,null,p))},g=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const m=l.nextBitIsOne(),x=Math.pow(2,l.count-(_+1));m?h(x,qe.BLACK):(h(x,qe.BLACK),h(x,qe.RED))}return d},o=new pL(t.length),a=i(o);return new Ct(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;const Js={};class Qn{static get Default(){return j(Js&&je,"ChildrenNode.ts has not been loaded"),vf=vf||new Qn({".priority":Js},{".priority":je}),vf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Xi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return Fn(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Z.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=pu(r,e.getCompare()):a=Js;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=a,new Qn(d,c)}addToIndexes(e,n){const r=su(this.indexes_,(s,i)=>{const o=Xi(this.indexSet_,i);if(j(o,"Missing index implementation for "+i),s===Js)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Z.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),pu(a,o.getCompare())}else return Js;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Z(e.name,a))),l.insert(e,e.node)}});return new Qn(r,this.indexSet_)}removeFromIndexes(e,n){const r=su(this.indexes_,s=>{if(s===Js)return s;{const i=n.get(e.name);return i?s.remove(new Z(e.name,i)):s}});return new Qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class G{static get EMPTY_NODE(){return $o||($o=new G(new Ct(rg),null,Qn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&H1(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$o:n}}getChild(e){const n=J(e);return n===null?this:this.getImmediateChild(n).getChild(we(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Z(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?$o:this.priorityNode_;return new G(s,o,i)}}updateChild(e,n){const r=J(e);if(r===null)return n;{j(J(e)!==".priority"||es(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(we(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(je,(o,a)=>{n[o]=a.val(e),r++,i&&G.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$1(this.getPriority().val())+":"),this.forEachChild(je,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":v1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Z(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pl?-1:0}withIndex(e){if(e===Pi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(je),s=n.getIterator(je);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Pi?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mL extends G{constructor(){super(new Ct(rg),G.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const pl=new mL;Object.defineProperties(Z,{MIN:{value:new Z(eo,G.EMPTY_NODE)},MAX:{value:new Z(Ws,pl)}});U1.__EMPTY_NODE=G.EMPTY_NODE;Ye.__childrenNodeConstructor=G;cL(pl);dL(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=!0;function $e(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ye(n,$e(e))}if(!(t instanceof Array)&&gL){const n=[];let r=!1;if(tt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=$e(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Z(o,l)))}}),n.length===0)return G.EMPTY_NODE;const i=pu(n,lL,o=>o.name,rg);if(r){const o=pu(n,je.getCompare());return new G(i,$e(e),new Qn({".priority":o},{".priority":je}))}else return new G(i,$e(e),Qn.Default)}else{let n=G.EMPTY_NODE;return tt(t,(r,s)=>{if(Fn(t,r)&&r.substring(0,1)!=="."){const i=$e(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority($e(e))}}uL($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL extends cd{constructor(e){super(),this.indexPath_=e,j(!te(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?qs(e.name,n.name):i}makePost(e,n){const r=$e(e),s=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,s)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,pl);return new Z(Ws,e)}toString(){return Ua(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL extends cd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?qs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=$e(e);return new Z(n,r)}toString(){return".value"}}const wL=new yL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return{type:"value",snapshotNode:t}}function to(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $a(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ha(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _L(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange($a(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(to(n,r)):o.trackChildChange(Ha(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(je,(s,i)=>{n.hasChild(s)||r.trackChildChange($a(s,i))}),n.isLeafNode()||n.forEachChild(je,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Ha(s,i,o))}else r.trackChildChange(to(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.indexedFilter_=new sg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ba.getStartPost_(e),this.endPost_=Ba.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Z(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(G.EMPTY_NODE);const i=this;return n.forEachChild(je,(o,a)=>{i.matches(new Z(o,a))||(s=s.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ba(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Z(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=G.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(G.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,g)=>f(g,h)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new Z(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,l);if(d&&!r.isEmpty()&&g>=0)return i!=null&&i.trackChildChange(Ha(n,r,f)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange($a(n,f));const m=a.updateImmediateChild(n,G.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(to(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange($a(c.name,c.node)),i.trackChildChange(to(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eo}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new ig;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bL(t){return t.loadsAllData()?new sg(t.getIndex()):t.hasLimit()?new xL(t):new Ba(t)}function Tw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===je?n="$priority":t.index_===wL?n="$value":t.index_===Pi?n="$key":(j(t.index_ instanceof vL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=He(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+He(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=He(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Pw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends j1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=hl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=mu.getListenId_(e,r),a={};this.listens_[o]=a;const l=Tw(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(i,f,!1,r),Xi(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=mu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Tw(e._queryParams),r=e._path.toString(),s=new ol;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ja(a.responseText)}catch{vt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&vt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(){return{value:null,children:new Map}}function G1(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=J(e);t.children.has(r)||t.children.set(r,gu());const s=t.children.get(r);e=we(e),G1(s,e,n)}}function Xh(t,e,n){t.value!==null?n(e,t.value):SL(t,(r,s)=>{const i=new ge(e.toString()+"/"+r);Xh(s,i,n)})}function SL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&tt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=10*1e3,NL=30*1e3,kL=5*60*1e3;class TL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new EL(e);const r=Iw+(NL-Iw)*Math.random();da(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;tt(e,(s,i)=>{i>0&&Fn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),da(this.reportStats_.bind(this),Math.floor(Math.random()*2*kL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(un||(un={}));function og(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ag(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=un.ACK_USER_WRITE,this.source=og()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ge(e));return new vu(le(),n,this.revert)}}else return j(J(this.path)===e,"operationForChild called for unrelated child."),new vu(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.source=e,this.path=n,this.type=un.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new za(this.source,le()):new za(this.source,we(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=un.OVERWRITE}operationForChild(e){return te(this.path)?new Us(this.source,le(),this.snap.getImmediateChild(e)):new Us(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=un.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new ge(e));return n.isEmpty()?null:n.value?new Us(this.source,le(),n.value):new no(this.source,le(),n)}else return j(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new no(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function IL(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(_L(o.childName,o.snapshotNode))}),Ho(t,s,"child_removed",e,r,n),Ho(t,s,"child_added",e,r,n),Ho(t,s,"child_moved",i,r,n),Ho(t,s,"child_changed",e,r,n),Ho(t,s,"value",e,r,n),s}function Ho(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>AL(t,a,l)),o.forEach(a=>{const l=RL(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function RL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function AL(t,e,n){if(e.childName==null||n.childName==null)throw vo("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),s=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e){return{eventCache:t,serverCache:e}}function fa(t,e,n,r){return ud(new ts(e,n,r),t.serverCache)}function Y1(t,e,n,r){return ud(t.eventCache,new ts(e,n,r))}function yu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $s(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;const OL=()=>(yf||(yf=new Ct(vj)),yf);class ye{static fromObject(e){let n=new ye(null);return tt(e,(r,s)=>{n=n.set(new ge(r),s)}),n}constructor(e,n=OL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(te(e))return null;{const r=J(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(we(e),n);return i!=null?{path:De(new ge(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=J(e),r=this.children.get(n);return r!==null?r.subtree(we(e)):new ye(null)}}set(e,n){if(te(e))return new ye(n,this.children);{const r=J(e),i=(this.children.get(r)||new ye(null)).set(we(e),n),o=this.children.insert(r,i);return new ye(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=J(e),r=this.children.get(n);if(r){const s=r.remove(we(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ye(null):new ye(this.value,i)}else return this}}get(e){if(te(e))return this.value;{const n=J(e),r=this.children.get(n);return r?r.get(we(e)):null}}setTree(e,n){if(te(e))return n;{const r=J(e),i=(this.children.get(r)||new ye(null)).setTree(we(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ye(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(De(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(te(e))return null;{const i=J(e),o=this.children.get(i);return o?o.findOnPath_(we(e),De(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const s=J(e),i=this.children.get(s);return i?i.foreachOnPath_(we(e),De(n,s),r):new ye(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.writeTree_=e}static empty(){return new pn(new ye(null))}}function ha(t,e,n){if(te(e))return new pn(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=mt(s,e);return i=i.updateChild(o,n),new pn(t.writeTree_.set(s,i))}else{const s=new ye(n),i=t.writeTree_.setTree(e,s);return new pn(i)}}}function Jh(t,e,n){let r=t;return tt(n,(s,i)=>{r=ha(r,De(e,s),i)}),r}function Rw(t,e){if(te(e))return pn.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new pn(n)}}function Zh(t,e){return Qs(t,e)!=null}function Qs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mt(n.path,e)):null}function Aw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(r,s)=>{e.push(new Z(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Z(r,s.value))}),e}function Yr(t,e){if(te(e))return t;{const n=Qs(t,e);return n!=null?new pn(new ye(n)):new pn(t.writeTree_.subtree(e))}}function ep(t){return t.writeTree_.isEmpty()}function ro(t,e){return K1(le(),t.writeTree_,e)}function K1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(j(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=K1(De(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){return J1(e,t)}function ML(t,e,n,r,s){j(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ha(t.visibleWrites,e,n)),t.lastWriteId=r}function DL(t,e,n,r){j(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Jh(t.visibleWrites,e,n),t.lastWriteId=r}function jL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function LL(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&FL(a,r.path)?s=!1:qt(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return WL(t),!0;if(r.snap)t.visibleWrites=Rw(t.visibleWrites,r.path);else{const a=r.children;tt(a,l=>{t.visibleWrites=Rw(t.visibleWrites,De(r.path,l))})}return!0}else return!1}function FL(t,e){if(t.snap)return qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qt(De(t.path,n),e))return!0;return!1}function WL(t){t.visibleWrites=q1(t.allWrites,UL,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function UL(t){return t.visible}function q1(t,e,n){let r=pn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)qt(n,o)?(a=mt(n,o),r=ha(r,a,i.snap)):qt(o,n)&&(a=mt(o,n),r=ha(r,le(),i.snap.getChild(a)));else if(i.children){if(qt(n,o))a=mt(n,o),r=Jh(r,a,i.children);else if(qt(o,n))if(a=mt(o,n),te(a))r=Jh(r,le(),i.children);else{const l=Xi(i.children,J(a));if(l){const c=l.getChild(we(a));r=ha(r,le(),c)}}}else throw vo("WriteRecord should have .snap or .children")}}return r}function Q1(t,e,n,r,s){if(!r&&!s){const i=Qs(t.visibleWrites,e);if(i!=null)return i;{const o=Yr(t.visibleWrites,e);if(ep(o))return n;if(n==null&&!Zh(o,le()))return null;{const a=n||G.EMPTY_NODE;return ro(o,a)}}}else{const i=Yr(t.visibleWrites,e);if(!s&&ep(i))return n;if(!s&&n==null&&!Zh(i,le()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(qt(c.path,e)||qt(e,c.path))},a=q1(t.allWrites,o,e),l=n||G.EMPTY_NODE;return ro(a,l)}}}function $L(t,e,n){let r=G.EMPTY_NODE;const s=Qs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(je,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Yr(t.visibleWrites,e);return n.forEachChild(je,(o,a)=>{const l=ro(Yr(i,new ge(o)),a);r=r.updateImmediateChild(o,l)}),Aw(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Yr(t.visibleWrites,e);return Aw(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function HL(t,e,n,r,s){j(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=De(e,n);if(Zh(t.visibleWrites,i))return null;{const o=Yr(t.visibleWrites,i);return ep(o)?s.getChild(n):ro(o,s.getChild(n))}}function BL(t,e,n,r){const s=De(e,n),i=Qs(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Yr(t.visibleWrites,s);return ro(o,r.getNode().getImmediateChild(n))}else return null}function zL(t,e){return Qs(t.visibleWrites,e)}function VL(t,e,n,r,s,i,o){let a;const l=Yr(t.visibleWrites,e),c=Qs(l,le());if(c!=null)a=c;else if(n!=null)a=ro(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=h.getNext();for(;g&&d.length<s;)f(g,r)!==0&&d.push(g),g=h.getNext();return d}else return[]}function GL(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function wu(t,e,n,r){return Q1(t.writeTree,t.treePath,e,n,r)}function cg(t,e){return $L(t.writeTree,t.treePath,e)}function Ow(t,e,n,r){return HL(t.writeTree,t.treePath,e,n,r)}function _u(t,e){return zL(t.writeTree,De(t.treePath,e))}function YL(t,e,n,r,s,i){return VL(t.writeTree,t.treePath,e,n,r,s,i)}function ug(t,e,n){return BL(t.writeTree,t.treePath,e,n)}function X1(t,e){return J1(De(t.treePath,e),t.writeTree)}function J1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Ha(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,$a(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,to(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Ha(r,e.snapshotNode,s.oldSnap));else throw vo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Z1=new qL;class dg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ug(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$s(this.viewCache_),i=YL(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return{filter:t}}function XL(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JL(t,e,n,r,s){const i=new KL;let o,a;if(n.type===un.OVERWRITE){const c=n;c.source.fromUser?o=tp(t,e,c.path,c.snap,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),o=xu(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===un.MERGE){const c=n;c.source.fromUser?o=e4(t,e,c.path,c.children,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=np(t,e,c.path,c.children,r,s,a,i))}else if(n.type===un.ACK_USER_WRITE){const c=n;c.revert?o=r4(t,e,c.path,r,s,i):o=t4(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===un.LISTEN_COMPLETE)o=n4(t,e,n.path,r,i);else throw vo("Unknown operation type: "+n.type);const l=i.getChanges();return ZL(e,o,l),{viewCache:o,changes:l}}function ZL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=yu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(V1(yu(e)))}}function eS(t,e,n,r,s,i){const o=e.eventCache;if(_u(r,n)!=null)return e;{let a,l;if(te(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=$s(e),d=c instanceof G?c:G.EMPTY_NODE,f=cg(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const c=wu(r,$s(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=J(n);if(c===".priority"){j(es(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=Ow(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=we(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Ow(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(c).updateChild(d,h):f=o.getNode().getImmediateChild(c)}else f=ug(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,d,s,i):a=o.getNode()}}return fa(e,a,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function xu(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(te(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{const g=J(n);if(!l.isCompleteForPath(n)&&es(n)>1)return e;const _=we(n),x=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),g,x,_,Z1,null)}const f=Y1(e,c,l.isFullyInitialized()||te(n),d.filtersNodes()),h=new dg(s,f,i);return eS(t,f,n,s,h,a)}function tp(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new dg(s,e,i);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fa(e,c,!0,t.filter.filtersNodes());else{const f=J(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=fa(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=we(n),g=a.getNode().getImmediateChild(f);let _;if(te(h))_=r;else{const m=d.getCompleteChild(f);m!=null?eg(h)===".priority"&&m.getChild(F1(h)).isEmpty()?_=m:_=m.updateChild(h,r):_=G.EMPTY_NODE}if(g.equals(_))l=e;else{const m=t.filter.updateChild(a.getNode(),f,_,h,d,o);l=fa(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Mw(t,e){return t.eventCache.isCompleteForChild(e)}function e4(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=De(n,l);Mw(e,J(d))&&(a=tp(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=De(n,l);Mw(e,J(d))||(a=tp(t,a,d,c,s,i,o))}),a}function Dw(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function np(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;te(n)?c=r:c=new ye(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),_=Dw(t,g,h);l=xu(t,l,new ge(f),_,s,i,o,a)}}),c.children.inorderTraversal((f,h)=>{const g=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!g){const _=e.serverCache.getNode().getImmediateChild(f),m=Dw(t,_,h);l=xu(t,l,new ge(f),m,s,i,o,a)}}),l}function t4(t,e,n,r,s,i,o){if(_u(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xu(t,e,n,l.getNode().getChild(n),s,i,a,o);if(te(n)){let c=new ye(null);return l.getNode().forEachChild(Pi,(d,f)=>{c=c.set(new ge(d),f)}),np(t,e,n,c,s,i,a,o)}else return e}else{let c=new ye(null);return r.foreach((d,f)=>{const h=De(n,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),np(t,e,n,c,s,i,a,o)}}function n4(t,e,n,r,s){const i=e.serverCache,o=Y1(e,i.getNode(),i.isFullyInitialized()||te(n),i.isFiltered());return eS(t,o,n,r,Z1,s)}function r4(t,e,n,r,s,i){let o;if(_u(r,n)!=null)return e;{const a=new dg(r,e,s),l=e.eventCache.getNode();let c;if(te(n)||J(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=wu(r,$s(e));else{const f=e.serverCache.getNode();j(f instanceof G,"serverChildren would be complete if leaf node"),d=cg(r,f)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=J(n);let f=ug(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?c=t.filter.updateChild(l,d,f,we(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,G.EMPTY_NODE,we(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wu(r,$s(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||_u(r,le())!=null,fa(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new sg(r.getIndex()),i=bL(r);this.processor_=QL(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(G.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(G.EMPTY_NODE,a.getNode(),null),d=new ts(l,o.isFullyInitialized(),s.filtersNodes()),f=new ts(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ud(f,d),this.eventGenerator_=new PL(this.query_)}get query(){return this.query_}}function i4(t){return t.viewCache_.serverCache.getNode()}function o4(t){return yu(t.viewCache_)}function a4(t,e){const n=$s(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function jw(t){return t.eventRegistrations_.length===0}function l4(t,e){t.eventRegistrations_.push(e)}function Lw(t,e,n){const r=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Fw(t,e,n,r){e.type===un.MERGE&&e.source.queryId!==null&&(j($s(t.viewCache_),"We should always have a full cache before handling merges"),j(yu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=JL(t.processor_,s,e,n,r);return XL(t.processor_,i.viewCache),j(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,tS(t,i.changes,i.viewCache.eventCache.getNode(),null)}function c4(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(i,o)=>{r.push(to(i,o))}),n.isFullyInitialized()&&r.push(V1(n.getNode())),tS(t,r,n.getNode(),e)}function tS(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return IL(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class nS{constructor(){this.views=new Map}}function u4(t){j(!bu,"__referenceConstructor has already been defined"),bu=t}function d4(){return j(bu,"Reference.ts has not been loaded"),bu}function f4(t){return t.views.size===0}function fg(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return j(i!=null,"SyncTree gave us an op for an invalid query."),Fw(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Fw(o,e,n,r));return i}}function rS(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=wu(n,s?r:null),l=!1;a?l=!0:r instanceof G?(a=cg(n,r),l=!1):(a=G.EMPTY_NODE,l=!1);const c=ud(new ts(a,l,!1),new ts(r,s,!1));return new s4(e,c)}return o}function h4(t,e,n,r,s,i){const o=rS(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),l4(o,n),c4(o,n)}function p4(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=ns(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Lw(c,n,r)),jw(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Lw(l,n,r)),jw(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!ns(t)&&i.push(new(d4())(e._repo,e._path)),{removed:i,events:o}}function sS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Kr(t,e){let n=null;for(const r of t.views.values())n=n||a4(r,e);return n}function iS(t,e){if(e._queryParams.loadsAllData())return fd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oS(t,e){return iS(t,e)!=null}function ns(t){return fd(t)!=null}function fd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;function m4(t){j(!Cu,"__referenceConstructor has already been defined"),Cu=t}function g4(){return j(Cu,"Reference.ts has not been loaded"),Cu}let v4=1;class Ww{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=GL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aS(t,e,n,r,s){return ML(t.pendingWriteTree_,e,n,r,s),s?Co(t,new Us(og(),e,n)):[]}function y4(t,e,n,r){DL(t.pendingWriteTree_,e,n,r);const s=ye.fromObject(n);return Co(t,new no(og(),e,s))}function Dr(t,e,n=!1){const r=jL(t.pendingWriteTree_,e);if(LL(t.pendingWriteTree_,e)){let i=new ye(null);return r.snap!=null?i=i.set(le(),!0):tt(r.children,o=>{i=i.set(new ge(o),!0)}),Co(t,new vu(r.path,i,n))}else return[]}function ml(t,e,n){return Co(t,new Us(ag(),e,n))}function w4(t,e,n){const r=ye.fromObject(n);return Co(t,new no(ag(),e,r))}function _4(t,e){return Co(t,new za(ag(),e))}function x4(t,e,n){const r=pg(t,n);if(r){const s=mg(r),i=s.path,o=s.queryId,a=mt(i,e),l=new za(lg(o),a);return gg(t,i,l)}else return[]}function Su(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||oS(o,e))){const l=p4(o,e,n,r);f4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(h,g)=>ns(g));if(d&&!f){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const g=S4(h);for(let _=0;_<g.length;++_){const m=g[_],x=m.query,y=dS(t,m);t.listenProvider_.startListening(pa(x),Va(t,x),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(pa(e),null):c.forEach(h=>{const g=t.queryToTagMap.get(hd(h));t.listenProvider_.stopListening(pa(h),g)}))}E4(t,c)}return a}function lS(t,e,n,r){const s=pg(t,r);if(s!=null){const i=mg(s),o=i.path,a=i.queryId,l=mt(o,e),c=new Us(lg(a),l,n);return gg(t,o,c)}else return[]}function b4(t,e,n,r){const s=pg(t,r);if(s){const i=mg(s),o=i.path,a=i.queryId,l=mt(o,e),c=ye.fromObject(n),d=new no(lg(a),l,c);return gg(t,o,d)}else return[]}function rp(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,g)=>{const _=mt(h,s);i=i||Kr(g,_),o=o||ns(g)});let a=t.syncPointTree_.get(s);a?(o=o||ns(a),i=i||Kr(a,le())):(a=new nS,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=G.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,_)=>{const m=Kr(_,le());m&&(i=i.updateImmediateChild(g,m))}));const c=oS(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=hd(e);j(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=N4();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const d=dd(t.pendingWriteTree_,s);let f=h4(a,e,n,d,i,l);if(!c&&!o&&!r){const h=iS(a,e);f=f.concat(k4(t,e,h))}return f}function hg(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=mt(o,e),c=Kr(a,l);if(c)return c});return Q1(s,e,i,n,!0)}function C4(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const f=mt(c,n);r=r||Kr(d,f)});let s=t.syncPointTree_.get(n);s?r=r||Kr(s,le()):(s=new nS,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new ts(r,!0,!1):null,a=dd(t.pendingWriteTree_,e._path),l=rS(s,e,a,i?o.getNode():G.EMPTY_NODE,i);return o4(l)}function Co(t,e){return cS(e,t.syncPointTree_,null,dd(t.pendingWriteTree_,le()))}function cS(t,e,n,r){if(te(t.path))return uS(t,e,n,r);{const s=e.get(le());n==null&&s!=null&&(n=Kr(s,le()));let i=[];const o=J(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=X1(r,o);i=i.concat(cS(a,l,c,d))}return s&&(i=i.concat(fg(s,t,r,n))),i}}function uS(t,e,n,r){const s=e.get(le());n==null&&s!=null&&(n=Kr(s,le()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=X1(r,o),d=t.operationForChild(o);d&&(i=i.concat(uS(d,a,l,c)))}),s&&(i=i.concat(fg(s,t,r,n))),i}function dS(t,e){const n=e.query,r=Va(t,n);return{hashFn:()=>(i4(e)||G.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?x4(t,n._path,r):_4(t,n._path);{const i=_j(s,n);return Su(t,n,null,i)}}}}function Va(t,e){const n=hd(e);return t.queryToTagMap.get(n)}function hd(t){return t._path.toString()+"$"+t._queryIdentifier}function pg(t,e){return t.tagToQueryMap.get(e)}function mg(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ge(t.substr(0,e))}}function gg(t,e,n){const r=t.syncPointTree_.get(e);j(r,"Missing sync point for query tag that we're tracking");const s=dd(t.pendingWriteTree_,e);return fg(r,n,s,null)}function S4(t){return t.fold((e,n,r)=>{if(n&&ns(n))return[fd(n)];{let s=[];return n&&(s=sS(n)),tt(r,(i,o)=>{s=s.concat(o)}),s}})}function pa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(g4())(t._repo,t._path):t}function E4(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=hd(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function N4(){return v4++}function k4(t,e,n){const r=e._path,s=Va(t,e),i=dS(t,n),o=t.listenProvider_.startListening(pa(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)j(!ns(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!te(c)&&d&&ns(d))return[fd(d).query];{let h=[];return d&&(h=h.concat(sS(d).map(g=>g.query))),tt(f,(g,_)=>{h=h.concat(_)}),h}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(pa(d),Va(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vg(n)}node(){return this.node_}}class yg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new yg(this.syncTree_,n)}node(){return hg(this.syncTree_,this.path_)}}const T4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Uw=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return P4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return I4(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},P4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},I4=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const s=e.node();if(j(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},fS=function(t,e,n,r){return wg(e,new yg(n,t),r)},hS=function(t,e,n){return wg(t,new vg(e),n)};function wg(t,e,n){const r=t.getPriority().val(),s=Uw(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=Uw(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ye(a,$e(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ye(s))),o.forEachChild(je,(a,l)=>{const c=wg(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function xg(t,e){let n=e instanceof ge?e:new ge(e),r=t,s=J(n);for(;s!==null;){const i=Xi(r.node.children,s)||{children:{},childCount:0};r=new _g(s,r,i),n=we(n),s=J(n)}return r}function So(t){return t.node.value}function pS(t,e){t.node.value=e,sp(t)}function mS(t){return t.node.childCount>0}function R4(t){return So(t)===void 0&&!mS(t)}function pd(t,e){tt(t.node.children,(n,r)=>{e(new _g(n,t,r))})}function gS(t,e,n,r){n&&!r&&e(t),pd(t,s=>{gS(s,e,!0,r)}),n&&r&&e(t)}function A4(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function gl(t){return new ge(t.parent===null?t.name:gl(t.parent)+"/"+t.name)}function sp(t){t.parent!==null&&O4(t.parent,t.name,t)}function O4(t,e,n){const r=R4(n),s=Fn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,sp(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,sp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/[\[\].#$\/\u0000-\u001F\u007F]/,D4=/[\[\].#$\u0000-\u001F\u007F]/,wf=10*1024*1024,bg=function(t){return typeof t=="string"&&t.length!==0&&!M4.test(t)},vS=function(t){return typeof t=="string"&&t.length!==0&&!D4.test(t)},j4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vS(t)},L4=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!qm(t)||t&&typeof t=="object"&&Fn(t,".sv")},yS=function(t,e,n,r){r&&e===void 0||md(sd(t,"value"),e,n)},md=function(t,e,n){const r=n instanceof ge?new eL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+vs(r));if(typeof e=="function")throw new Error(t+"contains a function "+vs(r)+" with contents = "+e.toString());if(qm(e))throw new Error(t+"contains "+e.toString()+" "+vs(r));if(typeof e=="string"&&e.length>wf/3&&id(e)>wf)throw new Error(t+"contains a string greater than "+wf+" utf8 bytes "+vs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(tt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!bg(o)))throw new Error(t+" contains an invalid key ("+o+") "+vs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tL(r,o),md(t,a,r),nL(r)}),s&&i)throw new Error(t+' contains ".value" child '+vs(r)+" in addition to actual children.")}},F4=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Ua(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!bg(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Zj);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&qt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},W4=function(t,e,n,r){const s=sd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];tt(e,(o,a)=>{const l=new ge(o);if(md(s,a,De(n,l)),eg(l)===".priority"&&!L4(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),F4(s,i)},wS=function(t,e,n,r){if(!vS(n))throw new Error(sd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},U4=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wS(t,e,n)},_S=function(t,e){if(J(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$4=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!j4(n))throw new Error(sd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gd(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!tg(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function xS(t,e,n){gd(t,n),bS(t,r=>tg(r,e))}function Zt(t,e,n){gd(t,n),bS(t,r=>qt(r,e)||qt(e,r))}function bS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(B4(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function B4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ua&&Je("event: "+n.toString()),bo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="repo_interrupt",V4=25;class G4{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gu(),this.transactionQueueTree_=new _g,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y4(t,e,n){if(t.stats_=Jm(t.repoInfo_),t.forceRestClient_||Sj())t.server_=new mu(t.repoInfo_,(r,s,i,o)=>{$w(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Hw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Zn(t.repoInfo_,e,(r,s,i,o)=>{$w(t,r,s,i,o)},r=>{Hw(t,r)},r=>{K4(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Pj(t.repoInfo_,()=>new TL(t.stats_,t.server_)),t.infoData_=new CL,t.infoSyncTree_=new Ww({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ml(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Cg(t,"connected",!1),t.serverSyncTree_=new Ww({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Zt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function CS(t){const n=t.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vd(t){return T4({timestamp:CS(t)})}function $w(t,e,n,r,s){t.dataUpdateCount++;const i=new ge(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=su(n,c=>$e(c));o=b4(t.serverSyncTree_,i,l,s)}else{const l=$e(n);o=lS(t.serverSyncTree_,i,l,s)}else if(r){const l=su(n,c=>$e(c));o=w4(t.serverSyncTree_,i,l)}else{const l=$e(n);o=ml(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=so(t,i)),Zt(t.eventQueue_,a,o)}function Hw(t,e){Cg(t,"connected",e),e===!1&&J4(t)}function K4(t,e){tt(e,(n,r)=>{Cg(t,n,r)})}function Cg(t,e,n){const r=new ge("/.info/"+e),s=$e(n);t.infoData_.updateSnapshot(r,s);const i=ml(t.infoSyncTree_,r,s);Zt(t.eventQueue_,r,i)}function Sg(t){return t.nextWriteId_++}function q4(t,e,n){const r=C4(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=$e(s).withIndex(e._queryParams.getIndex());rp(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ml(t.serverSyncTree_,e._path,i);else{const a=Va(t.serverSyncTree_,e);o=lS(t.serverSyncTree_,e._path,i,a)}return Zt(t.eventQueue_,e._path,o),Su(t.serverSyncTree_,e,n,null,!0),i},s=>(vl(t,"get for query "+He(e)+" failed: "+s),Promise.reject(new Error(s))))}function Q4(t,e,n,r,s){vl(t,"set",{path:e.toString(),value:n,priority:r});const i=vd(t),o=$e(n,r),a=hg(t.serverSyncTree_,e),l=hS(o,a,i),c=Sg(t),d=aS(t.serverSyncTree_,e,l,c,!0);gd(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const _=h==="ok";_||vt("set at "+e+" failed: "+h);const m=Dr(t.serverSyncTree_,c,!_);Zt(t.eventQueue_,e,m),ip(t,s,h,g)});const f=Ng(t,e);so(t,f),Zt(t.eventQueue_,f,[])}function X4(t,e,n,r){vl(t,"update",{path:e.toString(),value:n});let s=!0;const i=vd(t),o={};if(tt(n,(a,l)=>{s=!1,o[a]=fS(De(e,a),$e(l),t.serverSyncTree_,i)}),s)Je("update() called with empty data.  Don't do anything."),ip(t,r,"ok",void 0);else{const a=Sg(t),l=y4(t.serverSyncTree_,e,o,a);gd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const f=c==="ok";f||vt("update at "+e+" failed: "+c);const h=Dr(t.serverSyncTree_,a,!f),g=h.length>0?so(t,e):e;Zt(t.eventQueue_,g,h),ip(t,r,c,d)}),tt(n,c=>{const d=Ng(t,De(e,c));so(t,d)}),Zt(t.eventQueue_,e,[])}}function J4(t){vl(t,"onDisconnectEvents");const e=vd(t),n=gu();Xh(t.onDisconnect_,le(),(s,i)=>{const o=fS(s,i,t.serverSyncTree_,e);G1(n,s,o)});let r=[];Xh(n,le(),(s,i)=>{r=r.concat(ml(t.serverSyncTree_,s,i));const o=Ng(t,s);so(t,o)}),t.onDisconnect_=gu(),Zt(t.eventQueue_,le(),r)}function Z4(t,e,n){let r;J(e._path)===".info"?r=rp(t.infoSyncTree_,e,n):r=rp(t.serverSyncTree_,e,n),xS(t.eventQueue_,e._path,r)}function Bw(t,e,n){let r;J(e._path)===".info"?r=Su(t.infoSyncTree_,e,n):r=Su(t.serverSyncTree_,e,n),xS(t.eventQueue_,e._path,r)}function e3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(z4)}function vl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Je(n,...e)}function ip(t,e,n,r){e&&bo(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function SS(t,e,n){return hg(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function Eg(t,e=t.transactionQueueTree_){if(e||yd(t,e),So(e)){const n=NS(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&t3(t,gl(e),n)}else mS(e)&&pd(e,n=>{Eg(t,n)})}function t3(t,e,n){const r=n.map(c=>c.currentWriteId),s=SS(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];j(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=mt(e,d.path);i=i.updateChild(f,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{vl(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Dr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();yd(t,xg(t.transactionQueueTree_,e)),Eg(t,t.transactionQueueTree_),Zt(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)bo(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{vt("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}so(t,e)}},o)}function so(t,e){const n=ES(t,e),r=gl(n),s=NS(t,n);return n3(t,s,r),r}function n3(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=mt(n,l.path);let d=!1,f;if(j(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,s=s.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=V4)d=!0,f="maxretry",s=s.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=SS(t,l.path,o);l.currentInputSnapshot=h;const g=e[a].update(h.val());if(g!==void 0){md("transaction failed: Data returned ",g,l.path);let _=$e(g);typeof g=="object"&&g!=null&&Fn(g,".priority")||(_=_.updatePriority(h.getPriority()));const x=l.currentWriteId,y=vd(t),p=hS(_,h,y);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=p,l.currentWriteId=Sg(t),o.splice(o.indexOf(x),1),s=s.concat(aS(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(Dr(t.serverSyncTree_,x,!0))}else d=!0,f="nodata",s=s.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0))}Zt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}yd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bo(r[a]);Eg(t,t.transactionQueueTree_)}function ES(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);n!==null&&So(r)===void 0;)r=xg(r,n),e=we(e),n=J(e);return r}function NS(t,e){const n=[];return kS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function kS(t,e,n){const r=So(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);pd(e,s=>{kS(t,s,n)})}function yd(t,e){const n=So(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,pS(e,n.length>0?n:void 0)}pd(e,r=>{yd(t,r)})}function Ng(t,e){const n=gl(ES(t,e)),r=xg(t.transactionQueueTree_,e);return A4(r,s=>{_f(t,s)}),_f(t,r),gS(r,s=>{_f(t,s)}),n}function _f(t,e){const n=So(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Dr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?pS(e,void 0):n.length=i+1,Zt(t.eventQueue_,gl(e),s);for(let o=0;o<r.length;o++)bo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function s3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const zw=function(t,e){const n=i3(t),r=n.namespace;n.domain==="firebase.com"&&lr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&lr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mj();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new P1(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ge(n.pathString)}},i3=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(s=r3(t.substring(d,f)));const h=s3(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",o3=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Vw.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Vw.charAt(e[s]);return j(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class l3{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return te(this._path)?null:eg(this._path)}get ref(){return new dr(this._repo,this._path)}get _queryIdentifier(){const e=Pw(this._queryParams),n=Qm(e);return n==="{}"?"default":n}get _queryObject(){return Pw(this._queryParams)}isEqual(e){if(e=ut(e),!(e instanceof kg))return!1;const n=this._repo===e._repo,r=tg(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Jj(this._path)}}class dr extends kg{constructor(e,n){super(e,n,new ig,!1)}get parent(){const e=F1(this._path);return e===null?null:new dr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ga{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ge(e),r=Ya(this.ref,e);return new Ga(this._node.getChild(n),r,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ga(s,Ya(this.ref,r),je)))}hasChild(e){const n=new ge(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ve(t,e){return t=ut(t),t._checkNotDeleted("ref"),e!==void 0?Ya(t._root,e):t._root}function Ya(t,e){return t=ut(t),J(t._path)===null?U4("child","path",e):wS("child","path",e),new dr(t._repo,De(t._path,e))}function Gw(t,e){t=ut(t),_S("push",t._path),yS("push",e,t._path,!0);const n=CS(t._repo),r=o3(n),s=Ya(t,r),i=Ya(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Eu(t,e){t=ut(t),_S("set",t._path),yS("set",e,t._path,!1);const n=new ol;return Q4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function $n(t,e){W4("update",e,t._path);const n=new ol;return X4(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function op(t){t=ut(t);const e=new TS(()=>{}),n=new wd(e);return q4(t._repo,t,n).then(r=>new Ga(r,new dr(t._repo,t._path),t._queryParams.getIndex()))}class wd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new a3("value",this,new Ga(e.snapshotNode,new dr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new l3(this,e,n):null}matches(e){return e instanceof wd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function c3(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,f)=>{Bw(t._repo,t,a),l(d,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new TS(n,i||void 0),a=new wd(o);return Z4(t._repo,t,a),()=>Bw(t._repo,t,a)}function Ql(t,e,n,r){return c3(t,"value",e,n,r)}u4(dr);m4(dr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="FIREBASE_DATABASE_EMULATOR_HOST",ap={};let d3=!1;function f3(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=yo(i);t.repoInfo_=new P1(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function h3(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||lr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=zw(i,s),a=o.repoInfo,l;typeof process<"u"&&dw&&(l=dw[u3]),l?(i=`http://${l}?ns=${a.namespace}`,o=zw(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new Nj(t.name,t.options,e);$4("Invalid Firebase Database URL",o),te(o.path)||lr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=m3(a,t,c,new Ej(t,n));return new g3(d,t)}function p3(t,e){const n=ap[e];(!n||n[t.key]!==t)&&lr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),e3(t),delete n[t.key]}function m3(t,e,n,r){let s=ap[e.name];s||(s={},ap[e.name]=s);let i=s[t.toURLString()];return i&&lr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new G4(t,d3,n,r),s[t.toURLString()]=i,i}class g3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Y4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dr(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(p3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&lr("Cannot call "+e+" on a deleted database.")}}function v3(t=AC(),e){const n=Um(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yO("database");r&&y3(n,...r)}return n}function y3(t,e,n,r={}){t=ut(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ds(r,i.repoInfo_.emulatorOptions))return;lr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&lr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new bc(bc.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:wO(r.mockUserToken,t.app.options.projectId);o=new bc(a)}yo(e)&&(SC(e),EC("Database",!0)),f3(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){cj(_o),Ji(new js("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return h3(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Gr(fw,hw,t),Gr(fw,hw,"esm2020")}Zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};w3();const _3={apiKey:"AIzaSyCEtbJ-KR_UV9LAlYlnvgoxliRs5FkSdXk",authDomain:"kicked-in-the-disc.firebaseapp.com",databaseURL:"https://kicked-in-the-disc-default-rtdb.firebaseio.com",projectId:"kicked-in-the-disc",storageBucket:"kicked-in-the-disc.firebasestorage.app",appId:"1:987543051729:web:c258be8a9deaa79a52d4f0"},PS=RC(_3),Xl=aj(PS),Ge=v3(PS);function cs(){const[t,e]=v.useState(null),[n,r]=v.useState(!0),{toast:s}=Ys();return v.useEffect(()=>Xl.onAuthStateChanged(async c=>{if(e(c),c)try{const d=Ve(Ge,`users/${c.uid}`);(await op(d)).exists()?console.log(" User database record already exists for:",c.uid):(console.log(" Creating database record for user:",c.uid,c.displayName),await Eu(d,{id:c.uid,email:c.email||"",displayName:c.displayName||"Unknown User",hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log(" User database record created successfully"))}catch(d){console.error("Error checking/creating user record:",d)}r(!1)}),[]),{user:t,loading:n,signUp:async(l,c,d)=>{try{const f=await zD(Xl,l,c);await YD(f.user,{displayName:d}),console.log(" Creating database record for new user:",f.user.uid,d);const h=Ve(Ge,`users/${f.user.uid}`);return await Eu(h,{id:f.user.uid,email:l,displayName:d,hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log(" New user database record created successfully"),s({title:"Account created successfully!",description:"Welcome to Kicked in the Disc"}),f}catch(f){throw s({title:"Error creating account",description:f.message,variant:"destructive"}),f}},signIn:async(l,c)=>{try{const d=await VD(Xl,l,c);return s({title:"Signed in successfully!",description:"Welcome back"}),d}catch(d){throw s({title:"Error signing in",description:d.message,variant:"destructive"}),d}},logout:async()=>{try{await QD(Xl),s({title:"Signed out successfully"})}catch(l){s({title:"Error signing out",description:l.message,variant:"destructive"})}}}}const re=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("rounded-2xl border-3 border-logo-dark bg-card text-card-foreground cartoon-shadow card-hover",t),...e}));re.displayName="Card";const x3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));x3.displayName="CardHeader";const b3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("text-2xl font-bold font-logo leading-none tracking-tight text-logo-dark",t),...e}));b3.displayName="CardTitle";const C3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));C3.displayName="CardDescription";const se=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));se.displayName="CardContent";const S3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));S3.displayName="CardFooter";const dn=v.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));dn.displayName="Input";const lp=_m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium font-logo ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"cartoon-button text-white font-semibold",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border-2 border-logo-dark",outline:"border-3 border-logo-dark bg-white hover:bg-logo-green/20 hover:text-logo-dark font-semibold cartoon-shadow",secondary:"bg-brand-secondary text-white hover:bg-brand-secondary/80 border-2 border-logo-dark font-semibold",ghost:"hover:bg-white/20 hover:text-logo-dark font-medium",link:"text-brand-primary underline-offset-4 hover:underline font-medium",cartoon:"bg-brand-accent text-logo-dark hover:bg-brand-accent/90 border-3 border-logo-dark cartoon-shadow font-bold",gradient:"bg-text-gradient text-white border-2 border-logo-dark cartoon-shadow font-bold"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-lg px-4",lg:"h-14 rounded-xl px-10 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),K=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?VP:"button";return u.jsx(o,{className:oe(lp({variant:e,size:n,className:t})),ref:i,...s})});K.displayName="Button";var E3="Label",IS=v.forwardRef((t,e)=>u.jsx(ue.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IS.displayName=E3;var RS=IS;const N3=_m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mt=v.forwardRef(({className:t,...e},n)=>u.jsx(RS,{ref:n,className:oe(N3(),t),...e}));Mt.displayName=RS.displayName;function k3(){const[t,e]=v.useState(!0),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(""),{signIn:d,signUp:f}=cs(),h=async g=>{if(g.preventDefault(),t)await d(n,s);else{if(s!==l)return;await f(n,s,o)}};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-6 floating-animation",children:""}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-white/80 mb-8",children:t?"Sign in to track your disc golf games":"Join the disc golf community"}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),u.jsx(dn,{type:"email",value:n,onChange:g=>r(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter your email",required:!0})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Display Name"}),u.jsx(dn,{type:"text",value:o,onChange:g=>a(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Choose a display name",required:!0})]}),u.jsxs("div",{className:"text-left",children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),u.jsx(dn,{type:"password",value:s,onChange:g=>i(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:t?"Enter your password":"Minimum 6 characters",required:!0,minLength:6})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),u.jsx(dn,{type:"password",value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Confirm your password",required:!0})]}),u.jsx(K,{type:"submit",className:"w-full bg-white text-brand-primary font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:t?"Sign In":"Create Account"}),u.jsx(K,{type:"button",onClick:()=>e(!t),className:"w-full bg-transparent border border-white/30 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors",children:t?"Create Account":"Back to Sign In"})]})]})})})}function xf({title:t,description:e,icon:n,onClick:r,disabled:s,className:i}){return u.jsx(re,{className:oe("p-6 card-hover cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95",s&&"opacity-50 cursor-not-allowed hover:scale-100",i),onClick:s?void 0:r,children:u.jsxs(se,{className:"p-0 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-brand-primary/20 rounded-2xl flex items-center justify-center cartoon-shadow border-2 border-logo-dark",children:n}),u.jsx("h3",{className:"font-logo font-bold text-lg mb-2 text-logo-dark",children:t}),u.jsx("p",{className:"text-muted-foreground font-medium",children:e})]})})}const T3=[{id:"stranger",name:"The Stranger",category:"Before Throw",description:"Make an opponent throw their next throw with their offhand.",copies:4,effect:"force_offhand"},{id:"shrink_ray",name:"Shrink Ray",category:"Before Throw",description:"Make an opponent throw a mini on their next throw.",copies:4,effect:"force_mini"},{id:"because_i_said_so",name:"Because I Said So",category:"Before Throw",description:"Make a mando all other players must make. (mando must be on current hole)",copies:4,effect:"force_mando"},{id:"im_you_silly",name:"I'm You Silly",category:"Before Throw",description:"Take an opponent's throw for them.",copies:4,effect:"take_throw"},{id:"is_that_what_youre_throwing",name:"Is That What You're Throwing",category:"Before Throw",description:"Make an opponent throw a disc of your choosing from yours or their bag.",copies:4,effect:"force_disc_choice"},{id:"gremlins",name:"Gremlins",category:"After Throw",description:"Move an opponent's disc 10 paces in any direction.",copies:4,effect:"move_opponent_disc"},{id:"thats_my_disc",name:"That's My Disc",category:"After Throw",description:"Swap lies with an opponent.",copies:4,effect:"swap_lies"},{id:"merely_a_flesh_wound",name:"Merely a Flesh Wound",category:"After Throw",description:"Make all opponents throw from their knees (both knees must be touching the ground).",copies:4,effect:"force_knees"},{id:"thats_not_fair",name:"That's Not Fair",category:"After Throw",description:"Make an opponent rethrow last throw and take worst lie.",copies:4,effect:"force_rethrow_worst"},{id:"instant_replay",name:"Instant Replay",category:"After Throw",description:"Make all opponents rethrow last throw and take the worst lie.",copies:4,effect:"force_all_rethrow_worst"},{id:"im_rubber_you_glue",name:"I'm Rubber You Glue",category:"Self",description:"Reflects a card played on you back at the person who played it.",copies:4,effect:"reflect_card"},{id:"i_reject_your_reality",name:"I Reject Your Reality",category:"Self",description:"Redirects a card played on you to another opponent.",copies:4,effect:"redirect_card"},{id:"it_was_here_i_swear",name:"It Was Here I Swear",category:"Self",description:"Move your disc 10 paces in any direction.",copies:4,effect:"move_own_disc"},{id:"mulligan",name:"Mulligan",category:"Self",description:"Rethrow last throw and take best lie.",copies:4,effect:"rethrow_best"},{id:"seeing_double",name:"Seeing Double",category:"Self",description:"Putt twice take the best lie.",copies:4,effect:"double_putt_best"},{id:"jealousy",name:"Jealousy",category:"Wild",description:"Change scorecards with an opponent of your choosing. If reflected back, trade with last place or +3 if you're last.",copies:1,effect:"swap_scorecards"},{id:"i_need_some_space",name:"I Need Some Space",category:"Wild",description:"Move your disc 10 paces closer to the basket and all other players must move theirs 10 further away.",copies:1,effect:"move_closer_others_further"},{id:"hear_it_ring",name:"Hear It Ring",category:"Wild",description:"If your disc hits metal it counts as in the basket.",copies:1,effect:"metal_counts_in"},{id:"whats_par_again",name:"What's Par Again",category:"Wild",description:"Add +1 to par for you and -1 to par for all opponents on this hole.",copies:1,effect:"adjust_par"},{id:"ace_run",name:"Ace Run",category:"Wild",description:"Next throw counts as an ace.",copies:1,effect:"next_throw_ace"}];function us(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),{user:s}=cs(),{toast:i}=Ys();v.useEffect(()=>{if(s){const E=Ve(Ge,`users/${s.uid}`);return Ql(E,N=>{const T=N.val();r((T==null?void 0:T.hasHostingPrivilege)||!1)})}},[s]);const o=()=>Math.random().toString(36).substring(2,8).toUpperCase(),a=()=>{const E=[];T3.forEach(C=>{for(let N=0;N<C.copies;N++)E.push({...C,id:`${C.id}_${N}`})});for(let C=E.length-1;C>0;C--){const N=Math.floor(Math.random()*(C+1));[E[C],E[N]]=[E[N],E[C]]}return E},l=(E,C)=>{const N={...E},T=[...C];return Object.keys(N).forEach(P=>{const L=[];for(let A=0;A<5;A++)T.length>0&&L.push(T.pop());N[P].hand=L}),{players:N,remainingDeck:T}},c=async(E,C)=>{if(!s||!n){i({title:"Cannot create game",description:"You need hosting privileges to create a game",variant:"destructive"});return}try{const N=o(),T=Gw(Ve(Ge,"games")),P={id:s.uid,name:s.displayName||s.email,isHost:!0,isReady:!0,strokes:[],scores:[],totalScore:0,hand:[]},L={id:T.key,gameCode:N,hostId:s.uid,gameName:C,totalHoles:E,currentHole:1,currentPar:3,pars:Array.from({length:E},()=>3),parsSet:Array.from({length:E},()=>!1),gamePhase:"lobby",players:{[s.uid]:P},gameActivity:[`${s.displayName||s.email} created the game`],deck:[],discardPile:[],gameRound:"before_throw"};return await Eu(T,L),i({title:"Game created!",description:`Game code: ${N}`}),N}catch(N){i({title:"Error creating game",description:N.message,variant:"destructive"})}},d=async E=>{if(s)try{const C=Ve(Ge,"games");Ql(C,N=>{const T=N.val(),P=Object.entries(T||{}).find(([,B])=>B.gameCode===E.toUpperCase());if(!P){i({title:"Game not found",description:"Please check the game code and try again",variant:"destructive"});return}const[L,A]=P;if(Object.keys(A.players).length>=6){i({title:"Game is full",description:"This game already has 6 players",variant:"destructive"});return}const $={id:s.uid,name:s.displayName||s.email,isHost:!1,isReady:!1,strokes:[],scores:[],totalScore:0,hand:[]},M={[`games/${L}/players/${s.uid}`]:$,[`games/${L}/gameActivity`]:[...A.gameActivity||[],`${s.displayName||s.email} joined the game`]};$n(Ve(Ge),M),i({title:"Joined game!",description:`Welcome to ${A.gameName||"the game"}`})},{onlyOnce:!0})}catch(C){i({title:"Error joining game",description:C.message,variant:"destructive"})}},f=E=>{const C=Ve(Ge,`games/${E}`);return Ql(C,N=>{const T=N.val();T&&e(P=>({...T,id:E}))})},h=async E=>{if(s)try{const C=Ve(Ge,"games");return new Promise((N,T)=>{Ql(C,P=>{const L=P.val(),A=Object.entries(L||{}).find(([,$])=>$.gameCode===E.toUpperCase());if(A){const[$,M]=A;e({...M,id:$}),N(M)}else T(new Error("Game not found"))},{onlyOnce:!0})})}catch(C){throw i({title:"Error finding game",description:C.message,variant:"destructive"}),C}},g=async E=>{if(!(!s||!t))try{const C=a(),{players:N,remainingDeck:T}=l(t.players,C),P=Ve(Ge,`games/${E}`);await $n(P,{gamePhase:"playing",players:N,deck:T,currentPlayerTurn:null,gameRound:"scoring",gameActivity:[...t.gameActivity||[],`${s.displayName||s.email} started the game`,"Cards have been dealt to all players!"]}),i({title:"Game started!",description:"Cards have been dealt to all players"})}catch(C){i({title:"Error starting game",description:C.message,variant:"destructive"})}},_=async(E,C,N)=>{var T;if(!(!s||!t))try{const P=t.players[s.uid];if(!P){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const L=P.hand.findIndex(W=>W.id===C);if(L===-1){i({title:"Error",description:"Card not found in hand",variant:"destructive"});return}const A=P.hand[L],$=[...P.hand];$.splice(L,1);const M=[...t.discardPile||[],A],B={[`games/${E}/players/${s.uid}/hand`]:$,[`games/${E}/discardPile`]:M,[`games/${E}/gameActivity`]:[...t.gameActivity||[],`${s.displayName||s.email} played ${A.name}`+(N?` on ${((T=t.players[N])==null?void 0:T.name)||"a player"}`:"")]};await $n(Ve(Ge),B),i({title:"Card played!",description:`${A.name} has been played`})}catch(P){i({title:"Error playing card",description:P.message,variant:"destructive"})}},m=async(E,C,N)=>{var T,P;if(!(!s||!t))try{if(!Number.isInteger(N)||N<1||N>30){i({title:"Invalid score",description:"Score must be a whole number between 1 and 30 strokes",variant:"destructive"});return}if(!(((T=t.parsSet)==null?void 0:T[C])??!1)){i({title:"Cannot submit score",description:"The host must set par for this hole first",variant:"destructive"});return}const A=t.players[s.uid];if(!A){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const $=[...A.strokes||[]];$[C]=N;const M=((P=t.pars)==null?void 0:P[C])??t.currentPar??3,B=N-M,W=[...A.scores||[]];W[C]=B;const O=W.reduce((H,ee)=>H+(ee||0),0),S={[`games/${E}/players/${s.uid}/strokes`]:$,[`games/${E}/players/${s.uid}/scores`]:W,[`games/${E}/players/${s.uid}/totalScore`]:O};await $n(Ve(Ge),S);const I=B>0?`+${B}`:B.toString();i({title:"Score submitted!",description:`Hole ${C+1}: ${N} strokes (${I})`}),(()=>{var Ae;if(!t)return;const H=t.currentHole-1;if(!(((Ae=t.parsSet)==null?void 0:Ae[H])??!1))return;Object.values(t.players).every(Pt=>{var ze;return Pt.id===s.uid?typeof W[H]=="number":typeof((ze=Pt.scores)==null?void 0:ze[H])=="number"})&&setTimeout(()=>{y(E)},1500)})()}catch(L){i({title:"Error submitting score",description:L.message,variant:"destructive"})}},x=async(E,C)=>{if(!s||!t||s.uid!==t.hostId)return;const N=[...t.pars||Array.from({length:t.totalHoles},()=>3)];N[t.currentHole-1]=C;const T=[...t.parsSet||Array.from({length:t.totalHoles},()=>!1)];T[t.currentHole-1]=!0;const P={currentPar:C,pars:N,parsSet:T,gameActivity:[...t.gameActivity||[],`Par set to ${C} for hole ${t.currentHole}`]};await $n(Ve(Ge,`games/${E}`),P)},y=async E=>{var T,P,L;if(!s||!t)return;const C=t.currentHole+1;if(C>t.totalHoles){console.log(" Game finishing! nextHole:",C,"totalHoles:",t.totalHoles),await $n(Ve(Ge,`games/${E}`),{gamePhase:"finished",gameActivity:[...t.gameActivity||[],"Game finished!"]}),console.log(" Game phase set to finished in Firebase"),i({title:"Round complete!",description:"Game has been finished."});return}let N={[`games/${E}/currentHole`]:C,[`games/${E}/gameActivity`]:[...t.gameActivity||[],`Advanced to hole ${C}`]};if((T=t.parsSet)!=null&&T[C-1]?N[`games/${E}/currentPar`]=((P=t.pars)==null?void 0:P[C-1])??3:N[`games/${E}/currentPar`]=3,(C-1)%3===0){const $=Object.values(t.players).sort((M,B)=>(B.totalScore||0)-(M.totalScore||0))[0];if($){const M=[...t.deck||[]],B=M.pop();if(B){const W=[...((L=t.players[$.id])==null?void 0:L.hand)||[]];W.push(B),N={...N,[`games/${E}/deck`]:M,[`games/${E}/players/${$.id}/hand`]:W,[`games/${E}/gameActivity`]:[...N[`games/${E}/gameActivity`]||[],`${$.name} received a bonus card for being in last place`]}}}}await $n(Ve(Ge),N)};return{currentGame:t,hasHostingPrivilege:n,createGame:c,joinGame:d,listenToGame:f,findGameByCode:h,startGame:g,playCard:_,submitScore:m,setParForHole:x,advanceToNextHole:y,purchaseHosting:async()=>{if(s)try{const E=Ve(Ge,`users/${s.uid}`);await $n(E,{hasHostingPrivilege:!0}),i({title:"Purchase successful!",description:"You can now host games"})}catch(E){i({title:"Purchase failed",description:E.message,variant:"destructive"})}},scheduleGame:async(E,C,N,T,P)=>{if(!s||!n){i({title:"Cannot schedule game",description:"You need hosting privileges to schedule games",variant:"destructive"});return}try{const L=Gw(Ve(Ge,"scheduledGames")),A={id:L.key,hostId:s.uid,gameName:E,scheduledDate:C.toISOString(),scheduledTime:N,invitedPlayers:T,notes:P,status:"scheduled",createdAt:new Date().toISOString()};return await Eu(L,A),i({title:"Game Scheduled",description:"Players will be notified"}),A.id}catch(L){console.error("Error scheduling game:",L),i({title:"Error",description:L.message,variant:"destructive"})}},getScheduledGames:async()=>{if(!s)return[];try{const E=Ve(Ge,"scheduledGames"),C=await op(E);return C.exists()?Object.values(C.val()).filter(T=>{var P,L;return T.hostId===s.uid||((P=T.invitedPlayers.emails)==null?void 0:P.includes(s.email))||((L=T.invitedPlayers.phones)==null?void 0:L.some(A=>A===s.phoneNumber))}):[]}catch(E){return console.error("Error fetching scheduled games:",E),[]}},cancelScheduledGame:async E=>{if(s)try{const C=Ve(Ge,`scheduledGames/${E}`),N=await op(C);if(!N.exists()){i({title:"Error",description:"Game not found",variant:"destructive"});return}if(N.val().hostId!==s.uid){i({title:"Error",description:"Only the host can cancel a scheduled game",variant:"destructive"});return}await $n(C,{status:"cancelled"}),i({title:"Game Cancelled",description:"Players will be notified"})}catch(C){i({title:"Error",description:C.message,variant:"destructive"})}}}}function P3(){var s;const{user:t,logout:e}=cs(),{hasHostingPrivilege:n}=us(),[,r]=os();return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"glass-card p-4 m-4 rounded-2xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"text-4xl floating-animation",children:""}),u.jsx("h1",{className:"text-2xl font-logo font-bold text-gradient text-outline",children:"KICKED IN THE DISC"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-white/80 text-sm",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),u.jsx(K,{onClick:e,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",size:"sm",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:u.jsx(se,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["Welcome, ",((s=t==null?void 0:t.displayName)==null?void 0:s.split(" ")[0])||"Player","!"]}),u.jsx("p",{className:"text-white/70",children:"Ready to play some disc golf?"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-white/70 text-sm",children:"Hosting Privilege:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:n?" Purchased":" Not Purchased"})]})})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(pc,{href:"/host",children:u.jsx(xf,{title:"Host Game",description:"Create a new game for up to 6 players",disabled:!n,icon:u.jsx(KI,{className:"w-8 h-8 text-brand-accent"}),className:n?"":"opacity-50"})}),u.jsx(pc,{href:"/join",children:u.jsx(xf,{title:"Join Game",description:"Enter a game code to join an existing game",icon:u.jsx(JI,{className:"w-8 h-8 text-blue-400"})})}),u.jsx(pc,{href:"/store",children:u.jsx(xf,{title:"Store",description:"Purchase hosting privileges and upgrades",icon:u.jsx(QI,{className:"w-8 h-8 text-purple-400"})})})]}),u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"More Ways to Play"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(K,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>r("/schedule"),children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:u.jsx(Tb,{className:"w-6 h-6 text-purple-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Schedule Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Plan a future game with friends"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(Cy,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]}),u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-green-500/20 to-teal-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(K,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:u.jsx(DI,{className:"w-6 h-6 text-green-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Solo Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Play against 1-4 AI bots"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(Cy,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx(K,{className:"w-full p-4 bg-white/5 hover:bg-white/10 border-2 border-white/10 rounded-xl transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(jI,{className:"w-5 h-5 text-red-300"}),u.jsx("span",{className:"text-white",children:"Report a Bug"})]})})})]})})]})]})}function I3(){const{hasHostingPrivilege:t,purchaseHosting:e}=us();return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Store"}),u.jsx("p",{className:"text-white/70",children:"Enhance your disc golf experience"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-brand-accent/20 rounded-3xl flex items-center justify-center",children:u.jsx(qI,{className:"w-10 h-10 text-brand-accent"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Hosting Privilege"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Unlock the ability to host games for up to 6 players with custom hole counts"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$9.99"}),u.jsx(K,{onClick:e,disabled:t,className:`w-full font-semibold py-3 rounded-xl transition-colors ${t?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-brand-accent text-white hover:bg-brand-accent/90"}`,children:t?"Purchased ":"Purchase Now"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"One-time purchase  Lifetime access"})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(XI,{className:"w-10 h-10 text-purple-400"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Premium Features"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Advanced statistics, custom scoring rules, and exclusive themes"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$4.99"}),u.jsx(K,{disabled:!0,className:"w-full bg-purple-500/20 text-purple-300 font-semibold py-3 rounded-xl opacity-50 cursor-not-allowed",children:"Coming Soon"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"Monthly subscription"})]})})]}),u.jsx("div",{className:"text-center",children:u.jsx(pc,{href:"/",children:u.jsx(K,{className:"bg-white/10 text-white px-8 py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})})})]})}function R3(){const[t,e]=v.useState(18),[n,r]=v.useState(""),{createGame:s}=us(),[,i]=os(),o=async()=>{const l=await s(t,n||void 0);l&&i(`/lobby/${l}`)},a=[9,18,24];return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Host New Game"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-3",children:"Number of Holes"}),u.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:a.map(l=>u.jsxs(K,{onClick:()=>e(l),className:`p-4 rounded-xl font-semibold transition-colors border ${t===l?"bg-white/20 border-white/40 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[l," Holes"]},l))}),u.jsxs("div",{className:"mt-3",children:[u.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:l=>e(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),u.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-1",children:[u.jsx("span",{children:"1"}),u.jsxs("span",{children:["Custom: ",t," holes"]}),u.jsx("span",{children:"24"})]})]})]}),u.jsxs("div",{children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Mode"}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"p-4 bg-white/20 rounded-xl border-2 border-white/40 cursor-pointer",children:[u.jsx("div",{className:"text-white font-semibold",children:"Standard Stroke Play"}),u.jsx("div",{className:"text-white/70 text-sm",children:"Traditional scoring - lowest score wins"})]})})]}),u.jsxs("div",{children:[u.jsx(Mt,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Name (Optional)"}),u.jsx(dn,{type:"text",value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter game name"})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-8",children:[u.jsx(K,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Create Game"}),u.jsx(K,{onClick:()=>i("/"),className:"px-8 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})}function A3(){const[t,e]=v.useState(""),{joinGame:n}=us(),[,r]=os(),s=async()=>{t.length===6&&(await n(t),r(`/lobby/${t.toUpperCase()}`))};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(BI,{className:"w-10 h-10 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Game"}),u.jsx("p",{className:"text-white/70 mb-8",children:"Enter the game code provided by the host"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(dn,{type:"text",value:t,onChange:i=>e(i.target.value.toUpperCase()),className:"w-full px-4 py-4 text-center text-2xl font-mono rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40 uppercase tracking-wider",placeholder:"ABC123",maxLength:6}),u.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Game codes are 6 characters long"})]}),u.jsx(K,{onClick:s,disabled:t.length!==6,className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50",children:"Join Game"}),u.jsx(K,{onClick:()=>r("/"),className:"w-full bg-white/10 text-white font-semibold py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})]})]})})})}function AS({player:t,position:e,showScore:n}){var o;const r=(a,l=0)=>a<l?"text-green-400":a===l?"text-white":"text-red-400",s=a=>a===1?"bg-yellow-500":a===2?"bg-gray-400":a===3?"bg-orange-600":"bg-white/20",i=(t.strokes||[]).reduce((a,l)=>a+(l||0),0);return u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all duration-200 ${t.isHost?"bg-brand-gradient":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[e&&u.jsx("div",{className:`w-8 h-8 ${s(e)} rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white font-bold text-sm",children:e})}),u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-semibold",children:t.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white font-semibold flex items-center",children:t.name}),u.jsxs("div",{className:"text-white/70 text-sm",children:[t.isHost?" Host":"Player",!n&&(t.isReady?"  Ready ":"  Waiting..."),n&&`  ${((o=t.hand)==null?void 0:o.length)||0} cards`]})]})]}),n&&u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`text-2xl font-bold ${r(t.totalScore)}`,children:[t.totalScore>0?"+":"",t.totalScore]}),u.jsxs("div",{className:"text-white/70 text-sm",children:[i," strokes"]})]})]})}function O3(){const[t,e]=pm("/lobby/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,startGame:i,setParForHole:o}=us(),{user:a}=cs(),[,l]=os(),{toast:c}=Ys(),[d,f]=v.useState(!1),[h,g]=v.useState(!0),[_,m]=v.useState("");v.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(g(!0),s(e.gameCode).then(()=>{g(!1)}).catch(N=>{console.error("Error finding game:",N),g(!1),c({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),l("/")}))},[t,e==null?void 0:e.gameCode,n,s,l,c]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),v.useEffect(()=>{n&&m(n.currentPar??"")},[n==null?void 0:n.currentPar]),v.useEffect(()=>{(n==null?void 0:n.gamePhase)==="playing"&&(c({title:"Game starting!",description:"Redirecting to game..."}),l(`/game/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,l,c]);const x=async()=>{if(n!=null&&n.gameCode)try{await navigator.clipboard.writeText(n.gameCode),f(!0),c({title:"Game code copied!",description:"Share this code with your friends to join the game."}),setTimeout(()=>f(!1),2e3)}catch{c({title:"Failed to copy",description:"Please copy the game code manually.",variant:"destructive"})}},y=async()=>{if(n!=null&&n.gameCode){const N=`${window.location.origin}/join`,T=`Join my disc golf game! 

Game Code: ${n.gameCode}

Sign up and join here: ${N}`;if(navigator.share)try{await navigator.share({title:"Join my Disc Golf Game",text:T,url:N})}catch{}else try{await navigator.clipboard.writeText(T),c({title:"Game link copied!",description:"Share this message with your friends to invite them."})}catch{c({title:"Failed to copy",description:"Please share the game code manually.",variant:"destructive"})}}},p=()=>{if(n!=null&&n.gameCode){const N=`${window.location.origin}/join`,T=`Join my disc golf game! 

Game Code: ${n.gameCode}

Sign up and join here: ${N}`,P=`sms:?body=${encodeURIComponent(T)}`;window.open(P,"_blank")}};if(h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Looking for game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we find your game"})]})})});if(!n||!a)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(K,{onClick:()=>l("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const w=n.hostId===a.uid,b=Object.values(n.players),k=async()=>{n!=null&&n.id&&(await i(n.id),l(`/game/${n.gameCode}`))},E=async()=>{!(n!=null&&n.id)||_===""||(await o(n.id,Number(_)),c({title:"Par set",description:`Par set to ${_} for hole 1`}))},C=()=>{l("/")};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:n.gameName||"Disc Golf Game"}),u.jsxs("p",{className:"text-white/70",children:[n.totalHoles," holes  Standard Stroke Play"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-3xl font-mono font-bold text-brand-accent",children:n.gameCode}),u.jsx("div",{className:"text-white/70 text-sm",children:"Game Code"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/70 text-sm",children:["Players: ",u.jsx("span",{className:"text-white font-semibold",children:b.length}),"/6"]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Status: ",u.jsx("span",{className:"text-yellow-400 font-semibold",children:"Waiting for players"})]})]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Share Game Code"}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx("div",{className:"flex-1 bg-white/10 rounded-xl p-4 border border-white/20",children:u.jsx("div",{className:"text-2xl font-mono font-bold text-brand-accent text-center",children:n.gameCode})}),u.jsx(K,{onClick:x,className:`px-4 py-4 rounded-xl transition-colors ${d?"bg-green-500/20 text-green-300 border-green-400/40":"bg-white/10 text-white hover:bg-white/20 border-white/20"}`,children:d?u.jsx(xm,{className:"w-5 h-5"}):u.jsx(Ib,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs(K,{onClick:y,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-xl hover:bg-brand-primary/90 transition-colors",children:[u.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Share Link"]}),u.jsxs(K,{onClick:p,className:"flex-1 bg-brand-secondary text-white font-semibold py-3 rounded-xl hover:bg-brand-secondary/90 transition-colors",children:[u.jsx(VI,{className:"w-4 h-4 mr-2"}),"Send Text"]})]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:b.map(N=>u.jsx(AS,{player:N},N.id))})]})}),w&&u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Host Controls"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white/80 text-sm mb-1",children:"Par for hole 1"}),u.jsx(dn,{type:"number",min:1,value:_,onChange:N=>m(N.target.value===""?"":Number(N.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Par"})]}),u.jsx(K,{onClick:E,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"}),u.jsx(K,{onClick:k,disabled:b.length<1,className:"flex-1 bg-brand-accent text-white font-semibold py-3 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}),u.jsx(K,{onClick:C,className:"px-8 bg-red-500/20 text-red-300 font-semibold py-3 rounded-xl hover:bg-red-500/30 transition-colors",children:"Cancel Game"})]})]})}),!w&&u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsx(se,{className:"p-0 text-center",children:u.jsx(K,{onClick:C,className:"bg-red-500/20 text-red-300 font-semibold py-3 px-8 rounded-xl hover:bg-red-500/30 transition-colors",children:"Leave Game"})})})]})}function Yw(t,[e,n]){return Math.min(n,Math.max(e,t))}var M3=v.createContext(void 0);function D3(t){const e=v.useContext(M3);return t||e||"ltr"}var bf=0;function OS(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Kw()),document.body.insertAdjacentElement("beforeend",t[1]??Kw()),bf++,()=>{bf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bf--}},[])}function Kw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cf="focusScope.autoFocusOnMount",Sf="focusScope.autoFocusOnUnmount",qw={bubbles:!1,cancelable:!0},j3="FocusScope",Tg=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Wt(s),d=Wt(i),f=v.useRef(null),h=Te(e,m=>l(m)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let m=function(w){if(g.paused||!a)return;const b=w.target;a.contains(b)?f.current=b:wr(f.current,{select:!0})},x=function(w){if(g.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||wr(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&wr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const p=new MutationObserver(y);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),p.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){Xw.add(g);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Cf,qw);a.addEventListener(Cf,c),a.dispatchEvent(y),y.defaultPrevented||(L3(H3(MS(a)),{select:!0}),document.activeElement===m&&wr(a))}return()=>{a.removeEventListener(Cf,c),setTimeout(()=>{const y=new CustomEvent(Sf,qw);a.addEventListener(Sf,d),a.dispatchEvent(y),y.defaultPrevented||wr(m??document.body,{select:!0}),a.removeEventListener(Sf,d),Xw.remove(g)},0)}}},[a,c,d,g]);const _=v.useCallback(m=>{if(!n&&!r||g.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(x&&y){const p=m.currentTarget,[w,b]=F3(p);w&&b?!m.shiftKey&&y===b?(m.preventDefault(),n&&wr(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),n&&wr(b,{select:!0})):y===p&&m.preventDefault()}},[n,r,g.paused]);return u.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});Tg.displayName=j3;function L3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wr(r,{select:e}),document.activeElement!==n)return}function F3(t){const e=MS(t),n=Qw(e,t),r=Qw(e.reverse(),t);return[n,r]}function MS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qw(t,e){for(const n of t)if(!W3(n,{upTo:e}))return n}function W3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U3(t){return t instanceof HTMLInputElement&&"select"in t}function wr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U3(t)&&e&&t.select()}}var Xw=$3();function $3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Jw(t,e),t.unshift(e)},remove(e){var n;t=Jw(t,e),(n=t[0])==null||n.resume()}}}function Jw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function H3(t){return t.filter(e=>e.tagName!=="A")}function B3(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var z3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zs=new WeakMap,Jl=new WeakMap,Zl={},Ef=0,DS=function(t){return t&&(t.host||DS(t.parentNode))},V3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=DS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},G3=function(t,e,n,r){var s=V3(e,Array.isArray(t)?t:[t]);Zl[n]||(Zl[n]=new WeakMap);var i=Zl[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(r),_=g!==null&&g!=="false",m=(Zs.get(h)||0)+1,x=(i.get(h)||0)+1;Zs.set(h,m),i.set(h,x),o.push(h),m===1&&_&&Jl.set(h,!0),x===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),Ef++,function(){o.forEach(function(f){var h=Zs.get(f)-1,g=i.get(f)-1;Zs.set(f,h),i.set(f,g),h||(Jl.has(f)||f.removeAttribute(r),Jl.delete(f)),g||f.removeAttribute(n)}),Ef--,Ef||(Zs=new WeakMap,Zs=new WeakMap,Jl=new WeakMap,Zl={})}},jS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=z3(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),G3(r,s,n,"aria-hidden")):function(){return null}},Tn=function(){return Tn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tn.apply(this,arguments)};function LS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Y3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Cc="right-scroll-bar-position",Sc="width-before-scroll-bar",K3="with-scroll-bars-hidden",q3="--removed-body-scroll-bar-size";function Nf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Q3(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var X3=typeof window<"u"?v.useLayoutEffect:v.useEffect,Zw=new WeakMap;function J3(t,e){var n=Q3(null,function(r){return t.forEach(function(s){return Nf(s,r)})});return X3(function(){var r=Zw.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Nf(a,null)}),i.forEach(function(a){s.has(a)||Nf(a,o)})}Zw.set(n,t)},[t]),n}function Z3(t){return t}function eF(t,e){e===void 0&&(e=Z3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function tF(t){t===void 0&&(t={});var e=eF(null);return e.options=Tn({async:!0,ssr:!1},t),e}var FS=function(t){var e=t.sideCar,n=LS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Tn({},n))};FS.isSideCarExport=!0;function nF(t,e){return t.useMedium(e),FS}var WS=tF(),kf=function(){},_d=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,_=t.inert,m=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,p=t.gapMode,w=LS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,k=J3([n,e]),E=Tn(Tn({},w),s);return v.createElement(v.Fragment,null,d&&v.createElement(b,{sideCar:WS,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:p}),o?v.cloneElement(v.Children.only(a),Tn(Tn({},E),{ref:k})):v.createElement(y,Tn({},E,{className:l,ref:k}),a))});_d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_d.classNames={fullWidth:Sc,zeroRight:Cc};var rF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rF();return e&&t.setAttribute("nonce",e),t}function iF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sF())&&(iF(e,n),oF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lF=function(){var t=aF();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},US=function(){var t=lF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},cF={left:0,top:0,right:0,gap:0},Tf=function(t){return parseInt(t||"",10)||0},uF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tf(n),Tf(r),Tf(s)]},dF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cF;var e=uF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fF=US(),Ii="data-scroll-locked",hF=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(K3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ii,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ii,`] {
    `).concat(q3,": ").concat(a,`px;
  }
`)},e_=function(){var t=parseInt(document.body.getAttribute(Ii)||"0",10);return isFinite(t)?t:0},pF=function(){v.useEffect(function(){return document.body.setAttribute(Ii,(e_()+1).toString()),function(){var t=e_()-1;t<=0?document.body.removeAttribute(Ii):document.body.setAttribute(Ii,t.toString())}},[])},mF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;pF();var i=v.useMemo(function(){return dF(s)},[s]);return v.createElement(fF,{styles:hF(i,!e,s,n?"":"!important")})},cp=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return cp=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{cp=!1}var ei=cp?{passive:!1}:!1,gF=function(t){return t.tagName==="TEXTAREA"},$S=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gF(t)&&n[e]==="visible")},vF=function(t){return $S(t,"overflowY")},yF=function(t){return $S(t,"overflowX")},t_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=HS(t,r);if(s){var i=BS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_F=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HS=function(t,e){return t==="v"?vF(e):yF(e)},BS=function(t,e){return t==="v"?wF(e):_F(e)},xF=function(t,e){return t==="h"&&e==="rtl"?-1:1},bF=function(t,e,n,r,s){var i=xF(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var g=BS(t,a),_=g[0],m=g[1],x=g[2],y=m-x-i*_;(_||y)&&HS(t,a)&&(f+=y,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},tc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n_=function(t){return[t.deltaX,t.deltaY]},r_=function(t){return t&&"current"in t?t.current:t},CF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EF=0,ti=[];function NF(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(EF++)[0],i=v.useState(US)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Y3([t.lockRef.current],(t.shards||[]).map(r_),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=tc(m),p=n.current,w="deltaX"in m?m.deltaX:p[0]-y[0],b="deltaY"in m?m.deltaY:p[1]-y[1],k,E=m.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var N=t_(C,E);if(!N)return!0;if(N?k=C:(k=C==="v"?"h":"v",N=t_(C,E)),!N)return!1;if(!r.current&&"changedTouches"in m&&(w||b)&&(r.current=k),!k)return!0;var T=r.current||k;return bF(T,x,m,T==="h"?w:b,!0)},[]),l=v.useCallback(function(m){var x=m;if(!(!ti.length||ti[ti.length-1]!==i)){var y="deltaY"in x?n_(x):tc(x),p=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&CF(k.delta,y)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(r_).filter(Boolean).filter(function(k){return k.contains(x.target)}),b=w.length>0?a(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(m,x,y,p){var w={name:m,delta:x,target:y,should:p,shadowParent:kF(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(b){return b!==w})},1)},[]),d=v.useCallback(function(m){n.current=tc(m),r.current=void 0},[]),f=v.useCallback(function(m){c(m.type,n_(m),m.target,a(m,t.lockRef.current))},[]),h=v.useCallback(function(m){c(m.type,tc(m),m.target,a(m,t.lockRef.current))},[]);v.useEffect(function(){return ti.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ei),document.addEventListener("touchmove",l,ei),document.addEventListener("touchstart",d,ei),function(){ti=ti.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,ei),document.removeEventListener("touchmove",l,ei),document.removeEventListener("touchstart",d,ei)}},[]);var g=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(i,{styles:SF(s)}):null,g?v.createElement(mF,{gapMode:t.gapMode}):null)}function kF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TF=nF(WS,NF);var Pg=v.forwardRef(function(t,e){return v.createElement(_d,Tn({},t,{ref:e,sideCar:TF}))});Pg.classNames=_d.classNames;var PF=[" ","Enter","ArrowUp","ArrowDown"],IF=[" ","Enter"],yl="Select",[xd,bd,RF]=tb(yl),[Eo,gW]=fo(yl,[RF,go]),Cd=go(),[AF,ds]=Eo(yl),[OF,MF]=Eo(yl),zS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:g,form:_}=t,m=Cd(e),[x,y]=v.useState(null),[p,w]=v.useState(null),[b,k]=v.useState(!1),E=D3(c),[C=!1,N]=Xc({prop:r,defaultProp:s,onChange:i}),[T,P]=Xc({prop:o,defaultProp:a,onChange:l}),L=v.useRef(null),A=x?_||!!x.closest("form"):!0,[$,M]=v.useState(new Set),B=Array.from($).map(W=>W.props.value).join(";");return u.jsx(lC,{...m,children:u.jsxs(AF,{required:g,scope:e,trigger:x,onTriggerChange:y,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:k,contentId:Xu(),value:T,onValueChange:P,open:C,onOpenChange:N,dir:E,triggerPointerDownPosRef:L,disabled:h,children:[u.jsx(xd.Provider,{scope:e,children:u.jsx(OF,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(W=>{M(O=>new Set(O).add(W))},[]),onNativeOptionRemove:v.useCallback(W=>{M(O=>{const S=new Set(O);return S.delete(W),S})},[]),children:n})}),A?u.jsxs(mE,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:W=>P(W.target.value),disabled:h,form:_,children:[T===void 0?u.jsx("option",{value:""}):null,Array.from($)]},B):null]})})};zS.displayName=yl;var VS="SelectTrigger",GS=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Cd(n),o=ds(VS,n),a=o.disabled||r,l=Te(e,o.onTriggerChange),c=bd(n),d=v.useRef("touch"),[f,h,g]=gE(m=>{const x=c().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),p=vE(x,m,y);p!==void 0&&o.onValueChange(p.value)}),_=m=>{a||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(td,{asChild:!0,...i,children:u.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pE(o.value)?"":void 0,...s,ref:l,onClick:Q(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&_(m)}),onPointerDown:Q(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(_(m),m.preventDefault())}),onKeyDown:Q(s.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&PF.includes(m.key)&&(_(),m.preventDefault())})})})});GS.displayName=VS;var YS="SelectValue",KS=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ds(YS,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=Te(e,l.onValueNodeChange);return ct(()=>{c(d)},[c,d]),u.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:pE(l.value)?u.jsx(u.Fragment,{children:o}):i})});KS.displayName=YS;var DF="SelectIcon",qS=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(ue.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});qS.displayName=DF;var jF="SelectPortal",QS=t=>u.jsx(Ku,{asChild:!0,...t});QS.displayName=jF;var Hs="SelectContent",XS=v.forwardRef((t,e)=>{const n=ds(Hs,t.__scopeSelect),[r,s]=v.useState();if(ct(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Gs.createPortal(u.jsx(JS,{scope:t.__scopeSelect,children:u.jsx(xd.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(ZS,{...t,ref:e})});XS.displayName=Hs;var tn=10,[JS,fs]=Eo(Hs),LF="SelectContentImpl",FF=Ki("SelectContent.RemoveScroll"),ZS=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:m,avoidCollisions:x,...y}=t,p=ds(Hs,n),[w,b]=v.useState(null),[k,E]=v.useState(null),C=Te(e,z=>b(z)),[N,T]=v.useState(null),[P,L]=v.useState(null),A=bd(n),[$,M]=v.useState(!1),B=v.useRef(!1);v.useEffect(()=>{if(w)return jS(w)},[w]),OS();const W=v.useCallback(z=>{const[be,...nt]=A().map(pe=>pe.ref.current),[ve]=nt.slice(-1),he=document.activeElement;for(const pe of z)if(pe===he||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===be&&k&&(k.scrollTop=0),pe===ve&&k&&(k.scrollTop=k.scrollHeight),pe==null||pe.focus(),document.activeElement!==he))return},[A,k]),O=v.useCallback(()=>W([N,w]),[W,N,w]);v.useEffect(()=>{$&&O()},[$,O]);const{onOpenChange:S,triggerPointerDownPosRef:I}=p;v.useEffect(()=>{if(w){let z={x:0,y:0};const be=ve=>{var he,pe;z={x:Math.abs(Math.round(ve.pageX)-(((he=I.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((pe=I.current)==null?void 0:pe.y)??0))}},nt=ve=>{z.x<=10&&z.y<=10?ve.preventDefault():w.contains(ve.target)||S(!1),document.removeEventListener("pointermove",be),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",nt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",nt,{capture:!0})}}},[w,S,I]),v.useEffect(()=>{const z=()=>S(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[S]);const[F,H]=gE(z=>{const be=A().filter(he=>!he.disabled),nt=be.find(he=>he.ref.current===document.activeElement),ve=vE(be,z,nt);ve&&setTimeout(()=>ve.ref.current.focus())}),ee=v.useCallback((z,be,nt)=>{const ve=!B.current&&!nt;(p.value!==void 0&&p.value===be||ve)&&(T(z),ve&&(B.current=!0))},[p.value]),Fe=v.useCallback(()=>w==null?void 0:w.focus(),[w]),Ae=v.useCallback((z,be,nt)=>{const ve=!B.current&&!nt;(p.value!==void 0&&p.value===be||ve)&&L(z)},[p.value]),Pt=r==="popper"?up:eE,ze=Pt===up?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:m,avoidCollisions:x}:{};return u.jsx(JS,{scope:n,content:w,viewport:k,onViewportChange:E,itemRefCallback:ee,selectedItem:N,onItemLeave:Fe,itemTextRefCallback:Ae,focusSelectedItem:O,selectedItemText:P,position:r,isPositioned:$,searchRef:F,children:u.jsx(Pg,{as:FF,allowPinchZoom:!0,children:u.jsx(Tg,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Q(s,z=>{var be;(be=p.trigger)==null||be.focus({preventScroll:!0}),z.preventDefault()}),children:u.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:u.jsx(Pt,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...y,...ze,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,z=>{const be=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!be&&z.key.length===1&&H(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ve=A().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const he=z.target,pe=ve.indexOf(he);ve=ve.slice(pe+1)}setTimeout(()=>W(ve)),z.preventDefault()}})})})})})})});ZS.displayName=LF;var WF="SelectItemAlignedPosition",eE=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ds(Hs,n),o=fs(Hs,n),[a,l]=v.useState(null),[c,d]=v.useState(null),f=Te(e,C=>d(C)),h=bd(n),g=v.useRef(!1),_=v.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:y,focusSelectedItem:p}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&x&&y){const C=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const he=P.left-N.left,pe=T.left-he,It=C.left-pe,xn=C.width+It,No=Math.max(xn,N.width),ko=window.innerWidth-tn,To=Yw(pe,[tn,Math.max(tn,ko-No)]);a.style.minWidth=xn+"px",a.style.left=To+"px"}else{const he=N.right-P.right,pe=window.innerWidth-T.right-he,It=window.innerWidth-C.right-pe,xn=C.width+It,No=Math.max(xn,N.width),ko=window.innerWidth-tn,To=Yw(pe,[tn,Math.max(tn,ko-No)]);a.style.minWidth=xn+"px",a.style.right=To+"px"}const L=h(),A=window.innerHeight-tn*2,$=m.scrollHeight,M=window.getComputedStyle(c),B=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),O=parseInt(M.borderBottomWidth,10),S=parseInt(M.paddingBottom,10),I=B+W+$+S+O,F=Math.min(x.offsetHeight*5,I),H=window.getComputedStyle(m),ee=parseInt(H.paddingTop,10),Fe=parseInt(H.paddingBottom,10),Ae=C.top+C.height/2-tn,Pt=A-Ae,ze=x.offsetHeight/2,z=x.offsetTop+ze,be=B+W+z,nt=I-be;if(be<=Ae){const he=L.length>0&&x===L[L.length-1].ref.current;a.style.bottom="0px";const pe=c.clientHeight-m.offsetTop-m.offsetHeight,It=Math.max(Pt,ze+(he?Fe:0)+pe+O),xn=be+It;a.style.height=xn+"px"}else{const he=L.length>0&&x===L[0].ref.current;a.style.top="0px";const It=Math.max(Ae,B+m.offsetTop+(he?ee:0)+ze)+nt;a.style.height=It+"px",m.scrollTop=be-Ae+m.offsetTop}a.style.margin=`${tn}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,x,y,i.dir,r]);ct(()=>w(),[w]);const[b,k]=v.useState();ct(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const E=v.useCallback(C=>{C&&_.current===!0&&(w(),p==null||p(),_.current=!1)},[w,p]);return u.jsx($F,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eE.displayName=WF;var UF="SelectPopperPosition",up=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=tn,...i}=t,o=Cd(n);return u.jsx(Am,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});up.displayName=UF;var[$F,Ig]=Eo(Hs,{}),dp="SelectViewport",tE=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=fs(dp,n),o=Ig(dp,n),a=Te(e,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(xd.Slot,{scope:n,children:u.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const _=window.innerHeight-tn*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(m,x);if(y<_){const p=y+g,w=Math.min(_,p),b=p-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});tE.displayName=dp;var nE="SelectGroup",[HF,BF]=Eo(nE),zF=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xu();return u.jsx(HF,{scope:n,id:s,children:u.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:e})})});zF.displayName=nE;var rE="SelectLabel",sE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=BF(rE,n);return u.jsx(ue.div,{id:s.id,...r,ref:e})});sE.displayName=rE;var Nu="SelectItem",[VF,iE]=Eo(Nu),oE=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ds(Nu,n),l=fs(Nu,n),c=a.value===r,[d,f]=v.useState(i??""),[h,g]=v.useState(!1),_=Te(e,p=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,p,r,s)}),m=Xu(),x=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(VF,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:v.useCallback(p=>{f(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:u.jsx(xd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(ue.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:Q(o.onFocus,()=>g(!0)),onBlur:Q(o.onBlur,()=>g(!1)),onClick:Q(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Q(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Q(o.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:Q(o.onPointerMove,p=>{var w;x.current=p.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Q(o.onKeyDown,p=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(IF.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});oE.displayName=Nu;var Xo="SelectItemText",aE=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ds(Xo,n),a=fs(Xo,n),l=iE(Xo,n),c=MF(Xo,n),[d,f]=v.useState(null),h=Te(e,y=>f(y),l.onItemTextChange,y=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,y,l.value,l.disabled)}),g=d==null?void 0:d.textContent,_=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=c;return ct(()=>(m(_),()=>x(_)),[m,x,_]),u.jsxs(u.Fragment,{children:[u.jsx(ue.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gs.createPortal(i.children,o.valueNode):null]})});aE.displayName=Xo;var lE="SelectItemIndicator",cE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return iE(lE,n).isSelected?u.jsx(ue.span,{"aria-hidden":!0,...r,ref:e}):null});cE.displayName=lE;var fp="SelectScrollUpButton",uE=v.forwardRef((t,e)=>{const n=fs(fp,t.__scopeSelect),r=Ig(fp,t.__scopeSelect),[s,i]=v.useState(!1),o=Te(e,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(fE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});uE.displayName=fp;var hp="SelectScrollDownButton",dE=v.forwardRef((t,e)=>{const n=fs(hp,t.__scopeSelect),r=Ig(hp,t.__scopeSelect),[s,i]=v.useState(!1),o=Te(e,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(fE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});dE.displayName=hp;var fE=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=fs("SelectScrollButton",n),o=v.useRef(null),a=bd(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),ct(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(ue.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Q(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{l()})})}),GF="SelectSeparator",hE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ue.div,{"aria-hidden":!0,...r,ref:e})});hE.displayName=GF;var pp="SelectArrow",YF=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cd(n),i=ds(pp,n),o=fs(pp,n);return i.open&&o.position==="popper"?u.jsx(Om,{...s,...r,ref:e}):null});YF.displayName=pp;function pE(t){return t===""||t===void 0}var mE=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=Te(e,s),o=B3(n);return v.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(sl,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});mE.displayName="BubbleSelect";function gE(t){const e=Wt(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function vE(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=KF(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function KF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qF=zS,yE=GS,QF=KS,XF=qS,JF=QS,wE=XS,ZF=tE,_E=sE,xE=oE,e6=aE,t6=cE,bE=uE,CE=dE,SE=hE;const EE=qF,NE=QF,Rg=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(yE,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(XF,{asChild:!0,children:u.jsx(Pb,{className:"h-4 w-4 opacity-50"})})]}));Rg.displayName=yE.displayName;const kE=v.forwardRef(({className:t,...e},n)=>u.jsx(bE,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(WI,{className:"h-4 w-4"})}));kE.displayName=bE.displayName;const TE=v.forwardRef(({className:t,...e},n)=>u.jsx(CE,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Pb,{className:"h-4 w-4"})}));TE.displayName=CE.displayName;const Ag=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(JF,{children:u.jsxs(wE,{ref:s,className:oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(kE,{}),u.jsx(ZF,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(TE,{})]})}));Ag.displayName=wE.displayName;const n6=v.forwardRef(({className:t,...e},n)=>u.jsx(_E,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));n6.displayName=_E.displayName;const Og=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(xE,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(t6,{children:u.jsx(xm,{className:"h-4 w-4"})})}),u.jsx(e6,{children:e})]}));Og.displayName=xE.displayName;const r6=v.forwardRef(({className:t,...e},n)=>u.jsx(SE,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));r6.displayName=SE.displayName;function s6(){var O;const[t,e]=pm("/game/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,playCard:i,submitScore:o,setParForHole:a,advanceToNextHole:l}=us(),{user:c}=cs(),[,d]=os(),{toast:f}=Ys(),[h,g]=v.useState(!0),[_,m]=v.useState(!0),[x,y]=v.useState(""),[p,w]=v.useState(""),[b,k]=v.useState({});v.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(g(!0),s(e.gameCode).then(()=>{g(!1)}).catch(S=>{console.error("Error finding game:",S),g(!1),d("/")}))},[t,e==null?void 0:e.gameCode,n,s,d]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),v.useEffect(()=>{(n==null?void 0:n.gamePhase)==="finished"&&(console.log(" Game phase is finished, redirecting to results:",`/results/${n.gameCode}`),d(`/results/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,d]),v.useEffect(()=>{var F,H;if(!n||!c)return;y(n.currentPar??"");const S=n.currentHole-1,I=(H=(F=n.players[c.uid])==null?void 0:F.strokes)==null?void 0:H[S];w(typeof I=="number"?I:"")},[n==null?void 0:n.currentHole,n==null?void 0:n.currentPar,n==null?void 0:n.id,c==null?void 0:c.uid]);const E=async S=>{if(!(n!=null&&n.id))return;const I=b[S.id];await i(n.id,S.id,I)},C=async()=>{if(!(n!=null&&n.id)||!c||p==="")return;const S=Number(p);if(S<1||S>30){f({title:"Invalid score",description:"Please enter a score between 1 and 30 strokes",variant:"destructive"});return}const I=n.currentHole-1;await o(n.id,I,S)},N=async()=>{!(n!=null&&n.id)||x===""||await a(n.id,Number(x))},T=()=>{var F;if(!n)return!1;const S=n.currentHole-1;return(((F=n.parsSet)==null?void 0:F[S])??!1)&&Object.values(n.players).every(H=>{var ee;return typeof((ee=H.scores)==null?void 0:ee[S])=="number"})},P=async()=>{n!=null&&n.id&&await l(n.id)},L=S=>{switch(S){case"Before Throw":return"bg-blue-500/20 border-blue-400/40";case"After Throw":return"bg-red-500/20 border-red-400/40";case"Self":return"bg-green-500/20 border-green-400/40";case"Wild":return"bg-purple-500/20 border-purple-400/40";default:return"bg-white/10 border-white/20"}};if(h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load your game"})]})})});if(!n||!c)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(K,{onClick:()=>d("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});if(n.gamePhase!=="playing")return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not started"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The host hasn't started the game yet. Please wait in the lobby."}),u.jsx(K,{onClick:()=>d(`/lobby/${n.gameCode}`),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Lobby"})]})})});const A=n.players[c.uid];if(!A)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Player not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You are not a player in this game."})]})})});if(!A.hand||A.hand.length===0)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-spin",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Dealing cards..."}),u.jsx("p",{className:"text-white/70 mb-6",children:"Please wait while cards are being dealt to all players."})]})})});const M=Object.values(n.players).sort((S,I)=>(S.totalScore||0)-(I.totalScore||0)),B=n.currentHole/n.totalHoles*100,W=n.hostId===c.uid;return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hole ",n.currentHole," of ",n.totalHoles]}),u.jsx("p",{className:"text-white/70",children:n.gameName||"Disc Golf Game"}),W&&u.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[u.jsx(dn,{type:"number",min:1,value:x,onChange:S=>y(S.target.value===""?"":Number(S.target.value)),className:"w-24 bg-white/10 border-white/20 text-white",placeholder:"Par"}),u.jsx(K,{onClick:N,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-white/70 text-sm",children:"Par"}),u.jsx("div",{className:"text-3xl font-bold text-white",children:n.currentPar})]})]}),u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-500",style:{width:`${B}%`}})}),u.jsxs("div",{className:"text-white/70 text-sm mt-2 text-center",children:[Math.round(B),"% Complete"]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(se,{className:"p-0",children:(()=>{var F;const S=n.currentHole-1,I=((F=n.parsSet)==null?void 0:F[S])??!1;return u.jsxs("div",{className:"flex items-end space-x-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-white/80 text-sm mb-1",children:["Your strokes for hole ",n.currentHole," (Par ",n.currentPar,")"]}),u.jsx(dn,{type:"number",min:1,max:30,value:p,onChange:H=>{const ee=H.target.value;if(ee==="")w("");else{const Fe=Number(ee);Fe>=1&&Fe<=30&&w(Fe)}},className:"bg-white/10 border-white/20 text-white",placeholder:I?"Enter strokes (1-30)":"Waiting for host to set par...",disabled:!I}),I?p!==""&&typeof p=="number"?u.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["Golf score: ",p-(n.currentPar||3)>0?"+":"",p-(n.currentPar||3),(p<1||p>30)&&u.jsx("span",{className:"text-red-400 ml-2",children:" Score must be 1-30"})]}):I?u.jsx("div",{className:"text-white/40 text-xs mt-1",children:"Valid range: 1-30 strokes"}):null:u.jsx("div",{className:"text-yellow-400 text-xs mt-1",children:" Host must set par before you can submit your score"})]}),u.jsx(K,{onClick:C,disabled:!I||p===""||typeof p!="number"||p<1||p>30,className:"bg-brand-accent text-white h-10 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Score"})]})})()})}),A&&u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:["Your Hand (",((O=A.hand)==null?void 0:O.length)||0," cards)"]}),u.jsxs(K,{onClick:()=>m(!_),variant:"ghost",className:"text-white hover:bg-white/10",children:[_?u.jsx($I,{className:"w-4 h-4"}):u.jsx(HI,{className:"w-4 h-4"}),_?"Hide":"Show"," Hand"]})]}),_&&A.hand&&A.hand.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.hand.map(S=>u.jsx(re,{className:`${L(S.category)} border-2 transition-all duration-200 hover:scale-105`,children:u.jsx(se,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:S.category}),u.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:S.name}),u.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:S.description}),S.category!=="Self"&&u.jsx("div",{className:"mb-3",children:u.jsxs(EE,{value:b[S.id]||"",onValueChange:I=>k(F=>({...F,[S.id]:I})),children:[u.jsx(Rg,{className:"w-full bg-white/10 border-white/20 text-white",children:u.jsx(NE,{placeholder:"Target player (optional)"})}),u.jsx(Ag,{children:Object.values(n.players).filter(I=>I.id!==c.uid).map(I=>u.jsx(Og,{value:I.id,children:I.name},I.id))})]})}),u.jsxs(K,{onClick:()=>E(S),className:"w-full bg-brand-accent text-white font-semibold py-2 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(YI,{className:"w-4 h-4 mr-2"}),"Play Card"]})]})})},S.id))}):_?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-white/70",children:"No cards in hand"})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-white/70",children:"Hand is hidden"})]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:M.map((S,I)=>u.jsx(AS,{player:S,position:I+1,showScore:!0},S.id))})]})}),W&&u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(se,{className:"p-0",children:T()?u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:""}),u.jsx("div",{className:"text-sm",children:"Auto-advancing to next hole..."})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/80 text-sm",children:["Waiting for all players to submit scores for hole ",n.currentHole]}),u.jsx(K,{onClick:P,disabled:!T(),className:"bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Manual Advance"})]})})}),!W&&T()&&u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(se,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:""}),u.jsx("div",{className:"text-sm",children:"Advancing to next hole..."})]})})}),n.gameActivity&&n.gameActivity.length>0&&u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Game Activity"}),u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.gameActivity.slice(-10).map((S,I)=>u.jsx("div",{className:"text-white/70 text-sm p-2 bg-white/5 rounded-lg",children:S},I))})]})})]})}function i6(){const[t,e]=pm("/results/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s}=us(),{user:i}=cs(),[,o]=os(),{toast:a}=Ys(),[l,c]=v.useState(!0);if(v.useEffect(()=>{console.log(" GameResults useEffect - match:",t,"gameCode:",e==null?void 0:e.gameCode,"currentGame:",!!n),t&&(e!=null&&e.gameCode)&&!n?(c(!0),console.log(" GameResults finding game by code:",e.gameCode),s(e.gameCode).then(()=>{console.log(" GameResults game found successfully"),c(!1)}).catch(p=>{console.error(" GameResults error finding game:",p),c(!1),a({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),o("/")})):n&&(console.log(" GameResults currentGame already exists, gamePhase:",n.gamePhase),c(!1))},[t,e==null?void 0:e.gameCode,n,s,o,a]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),l)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading Results..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load the game results"})]})})});if(!n||!i)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(K,{onClick:()=>o("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const d=Object.values(n.players),f=d.sort((p,w)=>p.totalScore-w.totalScore),h=f[0],g=d.map(p=>({...p,birdieCount:(p.scores||[]).filter(w=>w===-1).length})),_=g.reduce((p,w)=>w.birdieCount>p.birdieCount?w:p,g[0]),m=()=>{o("/host")},x=()=>{o("/")},y=()=>{const p=window.location.href,w=f.map((k,E)=>`${E+1}. ${k.name}: ${k.totalScore>0?"+":""}${k.totalScore}`).join(`
`),b=` Just finished a game of Kicked in the Disc! 

 WINNER: ${h.name} (${h.totalScore>0?"+":""}${h.totalScore})

 Final Leaderboard:
${w}

${n.totalHoles} holes played in ${n.gameName||"our game"}

Play with us: ${p}`;navigator.share?navigator.share({title:"Kicked in the Disc - Game Results",text:b,url:p}).catch(console.error):navigator.clipboard.writeText(b).then(()=>{a({title:"Results copied!",description:"Game results copied to clipboard. Paste and share!"})}).catch(()=>{a({title:"Share manually",description:"Copy the results from the game activity to share",variant:"destructive"})})};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"animate-bounce text-8xl mb-4",children:""}),u.jsx("div",{className:"animate-pulse text-yellow-400 text-2xl mb-2",children:" CHAMPION "}),u.jsx("h1",{className:"text-7xl md:text-8xl font-black text-transparent bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text drop-shadow-lg mb-4 animate-pulse",children:h.name.toUpperCase()}),u.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:" WINS THE GAME! "}),u.jsxs("div",{className:"inline-block bg-gradient-to-r from-green-400 to-blue-500 text-white text-xl font-bold px-6 py-3 rounded-full transform rotate-2 shadow-lg",children:["Final Score: ",h.totalScore>0?"+":"",h.totalScore," strokes"]})]}),u.jsx(re,{className:"glass-card rounded-3xl p-4 text-center mb-8 border-2 border-yellow-400/50 bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:u.jsx(se,{className:"p-0",children:u.jsxs("div",{className:"text-white/90 text-lg",children:[" ",n.totalHoles," holes completed in ",u.jsx("span",{className:"font-bold text-yellow-300",children:n.gameName||"this game"})]})})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-8 border-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:" FINAL LEADERBOARD "}),u.jsx("div",{className:"text-lg text-white/80",children:"Who came out on top?"})]}),u.jsx("div",{className:"space-y-4",children:f.map((p,w)=>{const b=w===0,k=w===1,E=w===2;return u.jsx("div",{className:`
                    relative rounded-2xl p-4 border-2 transition-all transform hover:scale-105
                    ${b?"bg-gradient-to-r from-yellow-400/30 to-yellow-600/30 border-yellow-400 animate-pulse":k?"bg-gradient-to-r from-gray-300/30 to-gray-500/30 border-gray-400":E?"bg-gradient-to-r from-orange-400/30 to-orange-600/30 border-orange-400":"bg-white/10 border-white/20"}
                  `,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`
                        text-3xl font-black w-12 h-12 rounded-full flex items-center justify-center
                        ${b?"bg-yellow-400 text-yellow-900":k?"bg-gray-400 text-gray-900":E?"bg-orange-400 text-orange-900":"bg-white/20 text-white"}
                      `,children:b?"":k?"":E?"":w+1}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-xl font-bold ${b?"text-yellow-100":"text-white"}`,children:[p.name,b&&u.jsx("span",{className:"ml-2 text-yellow-300",children:""})]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Total strokes: ",(p.strokes||[]).reduce((C,N)=>C+(N||0),0)]})]})]}),u.jsxs("div",{className:`text-2xl font-bold ${p.totalScore<0?"text-green-400":p.totalScore>0?"text-red-400":"text-white"}`,children:[p.totalScore>0?"+":"",p.totalScore]})]})},p.id)})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(K,{onClick:y,className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white font-bold py-4 rounded-xl hover:from-pink-600 hover:to-violet-600 transition-all transform hover:scale-105 shadow-lg",children:" Share Results"}),u.jsx(K,{onClick:m,className:"bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold py-4 rounded-xl hover:from-green-600 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg",children:" Play Again"}),u.jsx(K,{onClick:x,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white font-bold py-4 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-lg",children:" Main Menu"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Game Duration"}),u.jsx("div",{className:"text-white font-bold",children:"Epic!"})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Players"}),u.jsx("div",{className:"text-white font-bold",children:d.length})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Birdie King"}),_.birdieCount>0?u.jsxs("div",{className:"text-green-400 font-bold text-xs",children:[_.name,u.jsxs("div",{className:"text-white/70 text-xs mt-1",children:[_.birdieCount," ",_.birdieCount===1?"birdie":"birdies"]})]}):u.jsxs("div",{className:"text-white/70 text-xs",children:["No birdies",u.jsx("div",{className:"text-white/50 text-xs mt-1",children:"Try harder!"})]})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Holes"}),u.jsx("div",{className:"text-white font-bold",children:n.totalHoles})]})]})]})}function ae(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ut(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ht(t,e){const n=ae(t);return isNaN(e)?Ut(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function wn(t,e){const n=ae(t);if(isNaN(e))return Ut(t,NaN);if(!e)return n;const r=n.getDate(),s=Ut(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Mg=6048e5,o6=864e5;let a6={};function wl(){return a6}function jn(t,e){var a,l,c,d;const n=wl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=ae(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Bs(t){return jn(t,{weekStartsOn:1})}function PE(t){const e=ae(t),n=e.getFullYear(),r=Ut(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Bs(r),i=Ut(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Bs(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function io(t){const e=ae(t);return e.setHours(0,0,0,0),e}function ku(t){const e=ae(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Pn(t,e){const n=io(t),r=io(e),s=+n-ku(n),i=+r-ku(r);return Math.round((s-i)/o6)}function l6(t){const e=PE(t),n=Ut(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Bs(n)}function mp(t,e){const n=e*7;return ht(t,n)}function c6(t,e){return wn(t,e*12)}function u6(t){let e;return t.forEach(function(n){const r=ae(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function d6(t){let e;return t.forEach(n=>{const r=ae(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function St(t,e){const n=io(t),r=io(e);return+n==+r}function Dg(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function f6(t){if(!Dg(t)&&typeof t!="number")return!1;const e=ae(t);return!isNaN(Number(e))}function Ka(t,e){const n=ae(t),r=ae(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function h6(t,e,n){const r=jn(t,n),s=jn(e,n),i=+r-ku(r),o=+s-ku(s);return Math.round((i-o)/Mg)}function jg(t){const e=ae(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Tt(t){const e=ae(t);return e.setDate(1),e.setHours(0,0,0,0),e}function IE(t){const e=ae(t),n=Ut(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Lg(t,e){var a,l,c,d;const n=wl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=ae(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function RE(t){return Lg(t,{weekStartsOn:1})}const p6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m6=(t,e,n)=>{let r;const s=p6[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const g6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w6={date:Pf({formats:g6,defaultWidth:"full"}),time:Pf({formats:v6,defaultWidth:"full"}),dateTime:Pf({formats:y6,defaultWidth:"full"})},_6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x6=(t,e,n,r)=>_6[t];function Bo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const b6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},P6={ordinalNumber:T6,era:Bo({values:b6,defaultWidth:"wide"}),quarter:Bo({values:C6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bo({values:S6,defaultWidth:"wide"}),day:Bo({values:E6,defaultWidth:"wide"}),dayPeriod:Bo({values:N6,defaultWidth:"wide",formattingValues:k6,defaultFormattingWidth:"wide"})};function zo(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?R6(a,f=>f.test(o)):I6(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function I6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function R6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function A6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const O6=/^(\d+)(th|st|nd|rd)?/i,M6=/\d+/i,D6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j6={any:[/^b/i,/^(a|c)/i]},L6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F6={any:[/1/i,/2/i,/3/i,/4/i]},W6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},z6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V6={ordinalNumber:A6({matchPattern:O6,parsePattern:M6,valueCallback:t=>parseInt(t,10)}),era:zo({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:j6,defaultParseWidth:"any"}),quarter:zo({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zo({matchPatterns:W6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),day:zo({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:H6,defaultParseWidth:"any"}),dayPeriod:zo({matchPatterns:B6,defaultMatchWidth:"any",parsePatterns:z6,defaultParseWidth:"any"})},AE={code:"en-US",formatDistance:m6,formatLong:w6,formatRelative:x6,localize:P6,match:V6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function G6(t){const e=ae(t);return Pn(e,IE(e))+1}function OE(t){const e=ae(t),n=+Bs(e)-+l6(e);return Math.round(n/Mg)+1}function ME(t,e){var d,f,h,g;const n=ae(t),r=n.getFullYear(),s=wl(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ut(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=jn(o,e),l=Ut(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=jn(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Y6(t,e){var a,l,c,d;const n=wl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=ME(t,e),i=Ut(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),jn(i,e)}function DE(t,e){const n=ae(t),r=+jn(n,e)-+Y6(n,e);return Math.round(r/Mg)+1}function de(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const gr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return de(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):de(n+1,2)},d(t,e){return de(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return de(t.getHours()%12||12,e.length)},H(t,e){return de(t.getHours(),e.length)},m(t,e){return de(t.getMinutes(),e.length)},s(t,e){return de(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return de(s,e.length)}},ni={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},s_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return gr.y(t,e)},Y:function(t,e,n,r){const s=ME(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return de(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):de(i,e.length)},R:function(t,e){const n=PE(t);return de(n,e.length)},u:function(t,e){const n=t.getFullYear();return de(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return de(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return de(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return gr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return de(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=DE(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):de(s,e.length)},I:function(t,e,n){const r=OE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):de(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):gr.d(t,e)},D:function(t,e,n){const r=G6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):de(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return de(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return de(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return de(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ni.noon:r===0?s=ni.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ni.evening:r>=12?s=ni.afternoon:r>=4?s=ni.morning:s=ni.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):gr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):de(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):de(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):gr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):gr.s(t,e)},S:function(t,e){return gr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return o_(r);case"XXXX":case"XX":return ys(r);case"XXXXX":case"XXX":default:return ys(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return o_(r);case"xxxx":case"xx":return ys(r);case"xxxxx":case"xxx":default:return ys(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+i_(r,":");case"OOOO":default:return"GMT"+ys(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+i_(r,":");case"zzzz":default:return"GMT"+ys(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return de(r,e.length)},T:function(t,e,n){const r=t.getTime();return de(r,e.length)}};function i_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+de(i,2)}function o_(t,e){return t%60===0?(t>0?"-":"+")+de(Math.abs(t)/60,2):ys(t,e)}function ys(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=de(Math.trunc(r/60),2),i=de(r%60,2);return n+s+e+i}const a_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},K6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return a_(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",a_(r,e)).replace("{{time}}",jE(s,e))},q6={p:jE,P:K6},Q6=/^D+$/,X6=/^Y+$/,J6=["D","DD","YY","YYYY"];function Z6(t){return Q6.test(t)}function e5(t){return X6.test(t)}function t5(t,e,n){const r=n5(t,e,n);if(console.warn(r),J6.includes(t))throw new RangeError(r)}function n5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i5=/^'([^]*?)'?$/,o5=/''/g,a5=/[a-zA-Z]/;function Yt(t,e,n){var d,f,h,g,_,m,x,y;const r=wl(),s=(n==null?void 0:n.locale)??r.locale??AE,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,a=ae(t);if(!f6(a))throw new RangeError("Invalid time value");let l=e.match(s5).map(p=>{const w=p[0];if(w==="p"||w==="P"){const b=q6[w];return b(p,s.formatLong)}return p}).join("").match(r5).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const w=p[0];if(w==="'")return{isToken:!1,value:l5(p)};if(s_[w])return{isToken:!0,value:p};if(w.match(a5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const w=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&e5(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Z6(w))&&t5(w,e,String(t));const b=s_[w[0]];return b(a,w,s.localize,c)}).join("")}function l5(t){const e=t.match(i5);return e?e[1].replace(o5,"'"):t}function c5(t){const e=ae(t),n=e.getFullYear(),r=e.getMonth(),s=Ut(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function u5(t){return Math.trunc(+ae(t)/1e3)}function d5(t){const e=ae(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function f5(t,e){return h6(d5(t),Tt(t),e)+1}function gp(t,e){const n=ae(t),r=ae(e);return n.getTime()>r.getTime()}function LE(t,e){const n=ae(t),r=ae(e);return+n<+r}function Fg(t,e){const n=ae(t),r=ae(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function h5(t,e){const n=ae(t),r=ae(e);return n.getFullYear()===r.getFullYear()}function If(t,e){return ht(t,-e)}function Rf(t,e){const n=ae(t),r=n.getFullYear(),s=n.getDate(),i=Ut(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=c5(i);return n.setMonth(e,Math.min(s,o)),n}function l_(t,e){const n=ae(t);return isNaN(+n)?Ut(t,NaN):(n.setFullYear(e),n)}var Y=function(){return Y=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y.apply(this,arguments)};function p5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function FE(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function _l(t){return t.mode==="multiple"}function xl(t){return t.mode==="range"}function Sd(t){return t.mode==="single"}var m5={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function g5(t,e){return Yt(t,"LLLL y",e)}function v5(t,e){return Yt(t,"d",e)}function y5(t,e){return Yt(t,"LLLL",e)}function w5(t){return"".concat(t)}function _5(t,e){return Yt(t,"cccccc",e)}function x5(t,e){return Yt(t,"yyyy",e)}var b5=Object.freeze({__proto__:null,formatCaption:g5,formatDay:v5,formatMonthCaption:y5,formatWeekNumber:w5,formatWeekdayName:_5,formatYearCaption:x5}),C5=function(t,e,n){return Yt(t,"do MMMM (EEEE)",n)},S5=function(){return"Month: "},E5=function(){return"Go to next month"},N5=function(){return"Go to previous month"},k5=function(t,e){return Yt(t,"cccc",e)},T5=function(t){return"Week n. ".concat(t)},P5=function(){return"Year: "},I5=Object.freeze({__proto__:null,labelDay:C5,labelMonthDropdown:S5,labelNext:E5,labelPrevious:N5,labelWeekNumber:T5,labelWeekday:k5,labelYearDropdown:P5});function R5(){var t="buttons",e=m5,n=AE,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:b5,labels:I5,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function A5(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Tt(r):e&&(i=new Date(e,0,1)),s?o=jg(s):n&&(o=new Date(n,11,31)),{fromDate:i?io(i):void 0,toDate:o?io(o):void 0}}var WE=v.createContext(void 0);function O5(t){var e,n=t.initialProps,r=R5(),s=A5(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(Sd(n)||_l(n)||xl(n))&&(l=n.onSelect);var c=Y(Y(Y({},r),n),{captionLayout:a,classNames:Y(Y({},r.classNames),n.classNames),components:Y({},n.components),formatters:Y(Y({},r.formatters),n.formatters),fromDate:i,labels:Y(Y({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Y(Y({},r.modifiers),n.modifiers),modifiersClassNames:Y(Y({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Y(Y({},r.styles),n.styles),toDate:o});return u.jsx(WE.Provider,{value:c,children:t.children})}function xe(){var t=v.useContext(WE);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function UE(t){var e=xe(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function M5(t){return u.jsx("svg",Y({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $E(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=xe(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:M5;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function D5(t){var e,n=xe(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});var f=[];if(h5(r,s))for(var h=Tt(r),g=r.getMonth();g<=s.getMonth();g++)f.push(Rf(h,g));else for(var h=Tt(new Date),g=0;g<=11;g++)f.push(Rf(h,g));var _=function(x){var y=Number(x.target.value),p=Rf(Tt(t.displayMonth),y);t.onChange(p)},m=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:$E;return u.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(x){return u.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function j5(t){var e,n=t.displayMonth,r=xe(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});for(var g=s.getFullYear(),_=i.getFullYear(),m=g;m<=_;m++)h.push(l_(IE(new Date),m));var x=function(p){var w=l_(Tt(n),Number(p.target.value));t.onChange(w)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:$E;return u.jsx(y,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(p){return u.jsx("option",{value:p.getFullYear(),children:d(p,{locale:o})},p.getFullYear())})})}function L5(t,e){var n=v.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function F5(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&Ka(i,s)<0){var c=-1*(l-1);s=wn(i,c)}return o&&Ka(s,o)<0&&(s=o),Tt(s)}function W5(){var t=xe(),e=F5(t),n=L5(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=Tt(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function U5(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Tt(t),i=Tt(wn(s,r)),o=Ka(i,s),a=[],l=0;l<o;l++){var c=wn(s,l);a.push(c)}return n&&(a=a.reverse()),a}function $5(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Tt(t);if(!n)return wn(a,o);var l=Ka(n,t);if(!(l<i))return wn(a,o)}}function H5(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Tt(t);if(!n)return wn(a,-o);var l=Ka(a,n);if(!(l<=0))return wn(a,-o)}}var HE=v.createContext(void 0);function B5(t){var e=xe(),n=W5(),r=n[0],s=n[1],i=U5(r,e),o=$5(r,e),a=H5(r,e),l=function(f){return i.some(function(h){return Fg(f,h)})},c=function(f,h){l(f)||(h&&LE(f,h)?s(wn(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return u.jsx(HE.Provider,{value:d,children:t.children})}function bl(){var t=v.useContext(HE);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function c_(t){var e,n=xe(),r=n.classNames,s=n.styles,i=n.components,o=bl().goToMonth,a=function(d){o(wn(d,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:UE,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(D5,{onChange:a,displayMonth:t.displayMonth}),u.jsx(j5,{onChange:a,displayMonth:t.displayMonth})]})}function z5(t){return u.jsx("svg",Y({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function V5(t){return u.jsx("svg",Y({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tu=v.forwardRef(function(t,e){var n=xe(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=Y(Y({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),u.jsx("button",Y({},t,{ref:e,type:"button",className:o,style:a}))});function G5(t){var e,n,r=xe(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var h=c(t.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),_=d(t.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),x=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:V5,y=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:z5;return u.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(Tu,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?u.jsx(x,{className:o.nav_icon,style:a.nav_icon}):u.jsx(y,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(Tu,{name:"next-month","aria-label":_,className:m,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?u.jsx(y,{className:o.nav_icon,style:a.nav_icon}):u.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function u_(t){var e=xe().numberOfMonths,n=bl(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(_){return Fg(t.displayMonth,_)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&i(r)},g=function(){s&&i(s)};return u.jsx(G5,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:g})}function Y5(t){var e,n=xe(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:UE,c;return s?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(c_,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(c_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(u_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(u_,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:i.caption,children:c})}function K5(t){var e=xe(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?u.jsx("tfoot",{className:s,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function q5(t,e,n){for(var r=n?Bs(new Date):jn(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=ht(r,i);s.push(o)}return s}function Q5(){var t=xe(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=q5(s,i,o);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,f){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function X5(){var t,e=xe(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Q5;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(i,{})})}function J5(t){var e=xe(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var Wg=v.createContext(void 0);function Z5(t){if(!_l(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(Wg.Provider,{value:e,children:t.children})}return u.jsx(e8,{initialProps:t.initialProps,children:t.children})}function e8(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,d,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,d,f);var _=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!_){var m=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!m){var x=r?FE([],r):[];if(d.selected){var y=x.findIndex(function(p){return St(c,p)});x.splice(y,1)}else x.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,x,c,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=i&&r.length>i-1,f=r.some(function(h){return St(h,c)});return!!(d&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return u.jsx(Wg.Provider,{value:l,children:n})}function Ug(){var t=v.useContext(Wg);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function t8(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?St(s,t)&&St(r,t)?void 0:St(s,t)?{from:s,to:void 0}:St(r,t)?void 0:gp(r,t)?{from:t,to:s}:{from:r,to:t}:s?gp(t,s)?{from:s,to:t}:{from:t,to:s}:r?LE(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var $g=v.createContext(void 0);function n8(t){if(!xl(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx($g.Provider,{value:e,children:t.children})}return u.jsx(r8,{initialProps:t.initialProps,children:t.children})}function r8(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(g,_,m){var x,y;(x=e.onDayClick)===null||x===void 0||x.call(e,g,_,m);var p=t8(g,r);(y=e.onSelect)===null||y===void 0||y.call(e,p,g,_,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],St(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:If(i,a-1),before:ht(i,a-1)}),i&&o&&d.disabled.push({after:i,before:ht(i,a-1)}),!i&&o&&d.disabled.push({after:If(o,a-1),before:ht(o,a-1)})),l){if(i&&!o&&(d.disabled.push({before:ht(i,-l+1)}),d.disabled.push({after:ht(i,l-1)})),i&&o){var f=Pn(o,i)+1,h=l-f;d.disabled.push({before:If(i,h)}),d.disabled.push({after:ht(o,h)})}!i&&o&&(d.disabled.push({before:ht(o,-l+1)}),d.disabled.push({after:ht(o,l-1)}))}return u.jsx($g.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function Hg(){var t=v.useContext($g);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Ec(t){return Array.isArray(t)?FE([],t):t!==void 0?[t]:[]}function s8(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Ec(s)}),e}var _n;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(_n||(_n={}));var i8=_n.Selected,Hn=_n.Disabled,o8=_n.Hidden,a8=_n.Today,Af=_n.RangeEnd,Of=_n.RangeMiddle,Mf=_n.RangeStart,l8=_n.Outside;function c8(t,e,n){var r,s=(r={},r[i8]=Ec(t.selected),r[Hn]=Ec(t.disabled),r[o8]=Ec(t.hidden),r[a8]=[t.today],r[Af]=[],r[Of]=[],r[Mf]=[],r[l8]=[],r);return t.fromDate&&s[Hn].push({before:t.fromDate}),t.toDate&&s[Hn].push({after:t.toDate}),_l(t)?s[Hn]=s[Hn].concat(e.modifiers[Hn]):xl(t)&&(s[Hn]=s[Hn].concat(n.modifiers[Hn]),s[Mf]=n.modifiers[Mf],s[Of]=n.modifiers[Of],s[Af]=n.modifiers[Af]),s}var BE=v.createContext(void 0);function u8(t){var e=xe(),n=Ug(),r=Hg(),s=c8(e,n,r),i=s8(e.modifiers),o=Y(Y({},s),i);return u.jsx(BE.Provider,{value:o,children:t.children})}function zE(){var t=v.useContext(BE);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function d8(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function f8(t){return!!(t&&typeof t=="object"&&"from"in t)}function h8(t){return!!(t&&typeof t=="object"&&"after"in t)}function p8(t){return!!(t&&typeof t=="object"&&"before"in t)}function m8(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function g8(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Pn(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Pn(t,r)>=0&&Pn(s,t)>=0;return o}return s?St(s,t):r?St(r,t):!1}function v8(t){return Dg(t)}function y8(t){return Array.isArray(t)&&t.every(Dg)}function w8(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(v8(n))return St(t,n);if(y8(n))return n.includes(t);if(f8(n))return g8(t,n);if(m8(n))return n.dayOfWeek.includes(t.getDay());if(d8(n)){var r=Pn(n.before,t),s=Pn(n.after,t),i=r>0,o=s<0,a=gp(n.before,n.after);return a?o&&i:i||o}return h8(n)?Pn(t,n.after)>0:p8(n)?Pn(n.before,t)>0:typeof n=="function"?n(t):!1})}function Bg(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return w8(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Fg(t,n)&&(s.outside=!0),s}function _8(t,e){for(var n=Tt(t[0]),r=jg(t[t.length-1]),s,i,o=n;o<=r;){var a=Bg(o,e),l=!a.disabled&&!a.hidden;if(!l){o=ht(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=ht(o,1)}return i||s}var x8=365;function VE(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,d=s.toDate,f=s.locale,h={day:ht,week:mp,month:wn,year:c6,startOfWeek:function(x){return s.ISOWeek?Bs(x):jn(x,{locale:f,weekStartsOn:l})},endOfWeek:function(x){return s.ISOWeek?RE(x):Lg(x,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=u6([c,g]):r==="after"&&d&&(g=d6([d,g]));var _=!0;if(i){var m=Bg(g,i);_=!m.disabled&&!m.hidden}return _?g:a.count>x8?a.lastFocused:VE(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:Y(Y({},a),{count:a.count+1})})}var GE=v.createContext(void 0);function b8(t){var e=bl(),n=zE(),r=v.useState(),s=r[0],i=r[1],o=v.useState(),a=o[0],l=o[1],c=_8(e.displayMonths,n),d=s??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(s),i(void 0)},h=function(x){i(x)},g=xe(),_=function(x,y){if(s){var p=VE(s,{moveBy:x,direction:y,context:g,modifiers:n});St(s,p)||(e.goToDate(p,s),h(p))}},m={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return u.jsx(GE.Provider,{value:m,children:t.children})}function zg(){var t=v.useContext(GE);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function C8(t,e){var n=zE(),r=Bg(t,n,e);return r}var Vg=v.createContext(void 0);function S8(t){if(!Sd(t.initialProps)){var e={selected:void 0};return u.jsx(Vg.Provider,{value:e,children:t.children})}return u.jsx(E8,{initialProps:t.initialProps,children:t.children})}function E8(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return u.jsx(Vg.Provider,{value:s,children:n})}function YE(){var t=v.useContext(Vg);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function N8(t,e){var n=xe(),r=YE(),s=Ug(),i=Hg(),o=zg(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,g=o.focusMonthBefore,_=o.focusMonthAfter,m=o.focusYearBefore,x=o.focusYearAfter,y=o.focusStartOfWeek,p=o.focusEndOfWeek,w=function(O){var S,I,F,H;Sd(n)?(S=r.onDayClick)===null||S===void 0||S.call(r,t,e,O):_l(n)?(I=s.onDayClick)===null||I===void 0||I.call(s,t,e,O):xl(n)?(F=i.onDayClick)===null||F===void 0||F.call(i,t,e,O):(H=n.onDayClick)===null||H===void 0||H.call(n,t,e,O)},b=function(O){var S;h(t),(S=n.onDayFocus)===null||S===void 0||S.call(n,t,e,O)},k=function(O){var S;f(),(S=n.onDayBlur)===null||S===void 0||S.call(n,t,e,O)},E=function(O){var S;(S=n.onDayMouseEnter)===null||S===void 0||S.call(n,t,e,O)},C=function(O){var S;(S=n.onDayMouseLeave)===null||S===void 0||S.call(n,t,e,O)},N=function(O){var S;(S=n.onDayPointerEnter)===null||S===void 0||S.call(n,t,e,O)},T=function(O){var S;(S=n.onDayPointerLeave)===null||S===void 0||S.call(n,t,e,O)},P=function(O){var S;(S=n.onDayTouchCancel)===null||S===void 0||S.call(n,t,e,O)},L=function(O){var S;(S=n.onDayTouchEnd)===null||S===void 0||S.call(n,t,e,O)},A=function(O){var S;(S=n.onDayTouchMove)===null||S===void 0||S.call(n,t,e,O)},$=function(O){var S;(S=n.onDayTouchStart)===null||S===void 0||S.call(n,t,e,O)},M=function(O){var S;(S=n.onDayKeyUp)===null||S===void 0||S.call(n,t,e,O)},B=function(O){var S;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),c();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),d();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?m():g();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?x():_();break;case"Home":O.preventDefault(),O.stopPropagation(),y();break;case"End":O.preventDefault(),O.stopPropagation(),p();break}(S=n.onDayKeyDown)===null||S===void 0||S.call(n,t,e,O)},W={onClick:w,onFocus:b,onBlur:k,onKeyDown:B,onKeyUp:M,onMouseEnter:E,onMouseLeave:C,onPointerEnter:N,onPointerLeave:T,onTouchCancel:P,onTouchEnd:L,onTouchMove:A,onTouchStart:$};return W}function k8(){var t=xe(),e=YE(),n=Ug(),r=Hg(),s=Sd(t)?e.selected:_l(t)?n.selected:xl(t)?r.selected:void 0;return s}function T8(t){return Object.values(_n).includes(t)}function P8(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(T8(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function I8(t,e){var n=Y({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Y(Y({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function R8(t,e,n){var r,s,i,o=xe(),a=zg(),l=C8(t,e),c=N8(t,l),d=k8(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var E;l.outside||a.focusedDay&&f&&St(a.focusedDay,t)&&((E=n.current)===null||E===void 0||E.focus())},[a.focusedDay,t,n,f,l.outside]);var h=P8(o,l).join(" "),g=I8(o,l),_=!!(l.outside&&!o.showOutsideDays||l.hidden),m=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:J5,x=u.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),y={style:g,className:h,children:x,role:"gridcell"},p=a.focusTarget&&St(a.focusTarget,t)&&!l.outside,w=a.focusedDay&&St(a.focusedDay,t),b=Y(Y(Y({},y),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=w||p?0:-1,r)),c),k={isButton:f,isHidden:_,activeModifiers:l,selectedDays:d,buttonProps:b,divProps:y};return k}function A8(t){var e=v.useRef(null),n=R8(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(Tu,Y({name:"day",ref:e},n.buttonProps)):u.jsx("div",Y({},n.divProps))}function O8(t){var e=t.number,n=t.dates,r=xe(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!s)return u.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(e),{locale:a}),h=function(g){s(e,n,g)};return u.jsx(Tu,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function M8(t){var e,n,r=xe(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:A8,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:O8,d;return o&&(d=u.jsx("td",{className:i.cell,style:s.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return u.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:f})},u5(f))})]})}function d_(t,e,n){for(var r=n!=null&&n.ISOWeek?RE(e):Lg(e,n),s=n!=null&&n.ISOWeek?Bs(t):jn(t,n),i=Pn(r,s),o=[],a=0;a<=i;a++)o.push(ht(s,a));var l=o.reduce(function(c,d){var f=n!=null&&n.ISOWeek?OE(d):DE(d,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return l}function D8(t,e){var n=d_(Tt(t),jg(t),e);if(e!=null&&e.useFixedWeeks){var r=f5(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=mp(i,6-r),a=d_(mp(i,1),o,e);n.push.apply(n,a)}}return n}function j8(t){var e,n,r,s=xe(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,g=s.ISOWeek,_=D8(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:X5,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:M8,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:K5;return u.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(m,{}),u.jsx("tbody",{className:o.tbody,style:a.tbody,children:_.map(function(p){return u.jsx(x,{displayMonth:t.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),u.jsx(y,{displayMonth:t.displayMonth})]})}function L8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var F8=L8()?v.useLayoutEffect:v.useEffect,Df=!1,W8=0;function f_(){return"react-day-picker-".concat(++W8)}function U8(t){var e,n=t??(Df?f_():null),r=v.useState(n),s=r[0],i=r[1];return F8(function(){s===null&&i(f_())},[]),v.useEffect(function(){Df===!1&&(Df=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function $8(t){var e,n,r=xe(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=bl().displayMonths,c=U8(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],h=o.month,g=t.displayIndex===0,_=t.displayIndex===l.length-1,m=!g&&!_;s==="rtl"&&(e=[g,_],_=e[0],g=e[1]),g&&(f.push(i.caption_start),h=Y(Y({},h),o.caption_start)),_&&(f.push(i.caption_end),h=Y(Y({},h),o.caption_end)),m&&(f.push(i.caption_between),h=Y(Y({},h),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:Y5;return u.jsxs("div",{className:f.join(" "),style:h,children:[u.jsx(x,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(j8,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function H8(t){var e=xe(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function B8(t){var e,n,r=t.initialProps,s=xe(),i=zg(),o=bl(),a=v.useState(!1),l=a[0],c=a[1];v.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Y(Y({},s.styles.root),s.style),h=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,m){var x;return Y(Y({},_),(x={},x[m]=r[m],x))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:H8;return u.jsx("div",Y({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:u.jsx(g,{children:o.displayMonths.map(function(_,m){return u.jsx($8,{displayIndex:m,displayMonth:_},m)})})}))}function z8(t){var e=t.children,n=p5(t,["children"]);return u.jsx(O5,{initialProps:n,children:u.jsx(B5,{children:u.jsx(S8,{initialProps:n,children:u.jsx(Z5,{initialProps:n,children:u.jsx(n8,{initialProps:n,children:u.jsx(u8,{children:u.jsx(b8,{children:e})})})})})})})}function V8(t){return u.jsx(z8,Y({},t,{children:u.jsx(B8,{initialProps:t})}))}function KE({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(V8,{showOutsideDays:n,className:oe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:oe(lp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:oe(lp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...i})=>u.jsx(LI,{className:oe("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>u.jsx(FI,{className:oe("h-4 w-4",s),...i})},...r})}KE.displayName="Calendar";var Gg="Popover",[qE,vW]=fo(Gg,[go]),Cl=go(),[G8,hs]=qE(Gg),QE=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Cl(e),l=v.useRef(null),[c,d]=v.useState(!1),[f=!1,h]=Xc({prop:r,defaultProp:s,onChange:i});return u.jsx(lC,{...a,children:u.jsx(G8,{scope:e,contentId:Xu(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};QE.displayName=Gg;var XE="PopoverAnchor",Y8=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hs(XE,n),i=Cl(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return v.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(td,{...i,...r,ref:e})});Y8.displayName=XE;var JE="PopoverTrigger",ZE=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hs(JE,n),i=Cl(n),o=Te(e,s.triggerRef),a=u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sN(s.open),...r,ref:o,onClick:Q(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(td,{asChild:!0,...i,children:a})});ZE.displayName=JE;var Yg="PopoverPortal",[K8,q8]=qE(Yg,{forceMount:void 0}),eN=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=hs(Yg,e);return u.jsx(K8,{scope:e,forceMount:n,children:u.jsx(rl,{present:n||i.open,children:u.jsx(Ku,{asChild:!0,container:s,children:r})})})};eN.displayName=Yg;var oo="PopoverContent",tN=v.forwardRef((t,e)=>{const n=q8(oo,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=hs(oo,t.__scopePopover);return u.jsx(rl,{present:r||i.open,children:i.modal?u.jsx(X8,{...s,ref:e}):u.jsx(J8,{...s,ref:e})})});tN.displayName=oo;var Q8=Ki("PopoverContent.RemoveScroll"),X8=v.forwardRef((t,e)=>{const n=hs(oo,t.__scopePopover),r=v.useRef(null),s=Te(e,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return jS(o)},[]),u.jsx(Pg,{as:Q8,allowPinchZoom:!0,children:u.jsx(nN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Q(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),J8=v.forwardRef((t,e)=>{const n=hs(oo,t.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return u.jsx(nN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nN=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,h=hs(oo,n),g=Cl(n);return OS(),u.jsx(Tg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(nl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(Am,{"data-state":sN(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rN="PopoverClose",Z8=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hs(rN,n);return u.jsx(ue.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});Z8.displayName=rN;var eW="PopoverArrow",tW=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Cl(n);return u.jsx(Om,{...s,...r,ref:e})});tW.displayName=eW;function sN(t){return t?"open":"closed"}var nW=QE,rW=ZE,sW=eN,iN=tN;const iW=nW,oW=rW,oN=v.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(sW,{children:u.jsx(iN,{ref:s,align:e,sideOffset:n,className:oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));oN.displayName=iN.displayName;const aN=v.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));aN.displayName="Textarea";function aW(){cs();const{hasHostingPrivilege:t}=us(),[,e]=os(),{toast:n}=Ys(),[r,s]=v.useState(""),[i,o]=v.useState(),[a,l]=v.useState(""),[c,d]=v.useState(""),[f,h]=v.useState(""),[g,_]=v.useState(!1),m=Array.from({length:24*4},(y,p)=>{const w=Math.floor(p/4),b=p%4*15;return Yt(new Date().setHours(w,b),"hh:mm a")}),x=async y=>{if(y.preventDefault(),!t){n({title:"Hosting Privilege Required",description:"You need hosting privileges to schedule games",variant:"destructive"});return}if(!r||!i||!a){n({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}try{const p=await scheduleGame(r,i,a,c);h(p||""),n({title:"Game Scheduled!",description:"You can now share the game with players"})}catch{n({title:"Error",description:"Failed to schedule game. Please try again.",variant:"destructive"})}};return t?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Schedule a Game"}),u.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Mt,{className:"text-white/80",children:"Game Name"}),u.jsx(dn,{value:r,onChange:y=>s(y.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Enter a name for your game"})]}),u.jsxs("div",{children:[u.jsx(Mt,{className:"text-white/80",children:"Date"}),u.jsxs(iW,{children:[u.jsx(oW,{asChild:!0,children:u.jsxs(K,{variant:"outline",className:oe("w-full mt-2 bg-white/10 border-white/20 text-white justify-start text-left font-normal",!i&&"text-white/50"),children:[u.jsx(Tb,{className:"mr-2 h-4 w-4"}),i?Yt(i,"PPP"):"Select a date"]})}),u.jsx(oN,{className:"w-auto p-0",children:u.jsx(KE,{mode:"single",selected:i,onSelect:o,initialFocus:!0,disabled:y=>y<new Date})})]})]}),u.jsxs("div",{children:[u.jsx(Mt,{className:"text-white/80",children:"Time"}),u.jsxs(EE,{value:a,onValueChange:l,children:[u.jsx(Rg,{className:"w-full mt-2 bg-white/10 border-white/20 text-white",children:u.jsx(NE,{placeholder:"Select a time"})}),u.jsx(Ag,{children:m.map(y=>u.jsx(Og,{value:y,children:y},y))})]})]}),f&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(Mt,{className:"text-white/80",children:"Share Game"}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs(K,{type:"button",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const y=`${window.location.origin}/join/${f}`,p=encodeURIComponent(`Join my Disc Golf game: ${r}`),w=encodeURIComponent(`Join my scheduled Disc Golf game!

Game: ${r}
Date: ${Yt(i,"PPP")}
Time: ${a}

Join here: ${y}`);window.location.href=`mailto:?subject=${p}&body=${w}`},children:[u.jsx(zI,{className:"w-5 h-5"}),u.jsx("span",{children:"Share via Email"})]}),u.jsxs(K,{type:"button",className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const y=`${window.location.origin}/join/${f}`,p=encodeURIComponent(`Join my Disc Golf game!

Game: ${r}
Date: ${Yt(i,"PPP")}
Time: ${a}

Join here: ${y}`);window.location.href=`sms:?body=${p}`},children:[u.jsx(GI,{className:"w-5 h-5"}),u.jsx("span",{children:"Share via SMS"})]}),u.jsxs(K,{type:"button",className:"w-full bg-purple-500 hover:bg-purple-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const y=`${window.location.origin}/join/${f}`;if(navigator.share)try{await navigator.share({title:`Join my Disc Golf game: ${r}`,text:`Join my scheduled Disc Golf game!

Game: ${r}
Date: ${Yt(i,"PPP")}
Time: ${a}`,url:y})}catch{}else await navigator.clipboard.writeText(y),_(!0),setTimeout(()=>_(!1),2e3)},children:[u.jsx(Rb,{className:"w-5 h-5"}),u.jsx("span",{children:"Share..."})]}),u.jsx(K,{type:"button",className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center space-x-2",onClick:async()=>{const y=`${window.location.origin}/join/${f}`;await navigator.clipboard.writeText(y),_(!0),setTimeout(()=>_(!1),2e3)},children:g?u.jsxs(u.Fragment,{children:[u.jsx(xm,{className:"w-5 h-5"}),u.jsx("span",{children:"Copied!"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ib,{className:"w-5 h-5"}),u.jsx("span",{children:"Copy Link"})]})})]})]}),u.jsxs("div",{children:[u.jsx(Mt,{className:"text-white/80",children:"Additional Notes"}),u.jsx(aN,{value:c,onChange:y=>d(y.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Add any additional notes for players"})]}),u.jsx("div",{className:"flex space-x-4",children:f?u.jsx(K,{type:"button",onClick:()=>e("/"),className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Return to Main Menu"}):u.jsxs(u.Fragment,{children:[u.jsx(K,{type:"submit",className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Schedule Game"}),u.jsx(K,{type:"button",onClick:()=>e("/"),className:"bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})})]})]})})}):u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Hosting Privilege Required"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You need hosting privileges to schedule games."}),u.jsx(K,{onClick:()=>e("/store"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Purchase Hosting Privilege"})]})})})}function lW(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(re,{className:"w-full max-w-md mx-4",children:u.jsxs(se,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(UI,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function cW(){const{user:t,loading:e}=cs();return e?u.jsx("div",{className:"min-h-screen bg-brand-gradient flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"floating-animation text-8xl mb-6",children:""}),u.jsx("h1",{className:"font-logo text-5xl font-bold mb-4 text-gradient text-outline",children:"KICKED IN THE DISC"}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl mx-auto max-w-sm",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-logo-cyan border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-logo-dark font-medium",children:"Loading awesome disc golf action..."})]})]})}):t?u.jsxs(dP,{children:[u.jsx(Wn,{path:"/",component:P3}),u.jsx(Wn,{path:"/store",component:I3}),u.jsx(Wn,{path:"/host",component:R3}),u.jsx(Wn,{path:"/join",component:A3}),u.jsx(Wn,{path:"/lobby/:gameCode",component:O3}),u.jsx(Wn,{path:"/game/:gameCode",component:s6}),u.jsx(Wn,{path:"/results/:gameCode",component:i6}),u.jsx(Wn,{path:"/schedule",component:aW}),u.jsx(Wn,{component:lW})]}):u.jsx(k3,{})}function uW(){return u.jsx(DP,{client:FP,children:u.jsx(aO,{children:u.jsxs("div",{className:"min-h-screen bg-brand-gradient bg-pattern-dots",children:[u.jsx(DR,{}),u.jsx(cW,{})]})})})}D0(document.getElementById("root")).render(u.jsx(uW,{}));
