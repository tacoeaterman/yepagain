var Dm=t=>{throw TypeError(t)};var $u=(t,e,n)=>e.has(t)||Dm("Cannot "+n);var I=(t,e,n)=>($u(t,e,"read from private field"),n?n.call(t):e.get(t)),oe=(t,e,n)=>e.has(t)?Dm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>($u(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>($u(t,e,"access private method"),n);var Ka=(t,e,n,r)=>({set _(s){q(t,e,s,n)},get _(){return I(t,e,r)}});function l1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zv={exports:{}},Gc={},e_={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=Symbol.for("react.element"),c1=Symbol.for("react.portal"),u1=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),h1=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),y1=Symbol.for("react.memo"),v1=Symbol.for("react.lazy"),Lm=Symbol.iterator;function _1(t){return t===null||typeof t!="object"?null:(t=Lm&&t[Lm]||t["@@iterator"],typeof t=="function"?t:null)}var t_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n_=Object.assign,r_={};function ji(t,e,n){this.props=t,this.context=e,this.refs=r_,this.updater=n||t_}ji.prototype.isReactComponent={};ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s_(){}s_.prototype=ji.prototype;function Ef(t,e,n){this.props=t,this.context=e,this.refs=r_,this.updater=n||t_}var Sf=Ef.prototype=new s_;Sf.constructor=Ef;n_(Sf,ji.prototype);Sf.isPureReactComponent=!0;var jm=Array.isArray,i_=Object.prototype.hasOwnProperty,bf={current:null},o_={key:!0,ref:!0,__self:!0,__source:!0};function a_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)i_.call(e,r)&&!o_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ba,type:t,key:i,ref:o,props:s,_owner:bf.current}}function w1(t,e){return{$$typeof:ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ba}function x1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fm=/\/+/g;function Hu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x1(""+t.key):e.toString(36)}function Sl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ba:case c1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Hu(o,0):r,jm(s)?(n="",t!=null&&(n=t.replace(Fm,"$&/")+"/"),Sl(s,e,n,"",function(c){return c})):s!=null&&(Tf(s)&&(s=w1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",jm(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Hu(i,a);o+=Sl(i,e,n,l,s)}else if(l=_1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Hu(i,a++),o+=Sl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qa(t,e,n){if(t==null)return t;var r=[],s=0;return Sl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function C1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},bl={transition:null},E1={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:bf};function l_(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:qa,forEach:function(t,e,n){qa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qa(t,function(){e++}),e},toArray:function(t){return qa(t,function(e){return e})||[]},only:function(t){if(!Tf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=ji;Z.Fragment=u1;Z.Profiler=h1;Z.PureComponent=Ef;Z.StrictMode=d1;Z.Suspense=g1;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1;Z.act=l_;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)i_.call(e,l)&&!o_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ba,type:t.type,key:s,ref:i,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:p1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:f1,_context:t},t.Consumer=t};Z.createElement=a_;Z.createFactory=function(t){var e=a_.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:m1,render:t}};Z.isValidElement=Tf;Z.lazy=function(t){return{$$typeof:v1,_payload:{_status:-1,_result:t},_init:C1}};Z.memo=function(t,e){return{$$typeof:y1,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=bl.transition;bl.transition={};try{t()}finally{bl.transition=e}};Z.unstable_act=l_;Z.useCallback=function(t,e){return pt.current.useCallback(t,e)};Z.useContext=function(t){return pt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return pt.current.useEffect(t,e)};Z.useId=function(){return pt.current.useId()};Z.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return pt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};Z.useRef=function(t){return pt.current.useRef(t)};Z.useState=function(t){return pt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return pt.current.useTransition()};Z.version="18.3.1";e_.exports=Z;var y=e_.exports;const tr=Jv(y),c_=l1({__proto__:null,default:tr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=y,b1=Symbol.for("react.element"),T1=Symbol.for("react.fragment"),N1=Object.prototype.hasOwnProperty,I1=S1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k1={key:!0,ref:!0,__self:!0,__source:!0};function u_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)N1.call(e,r)&&!k1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:b1,type:t,key:i,ref:o,props:s,_owner:I1.current}}Gc.Fragment=T1;Gc.jsx=u_;Gc.jsxs=u_;Zv.exports=Gc;var u=Zv.exports,d_={exports:{}},Rt={},h_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,k){var L=T.length;T.push(k);e:for(;0<L;){var H=L-1>>>1,X=T[H];if(0<s(X,k))T[H]=k,T[L]=X,L=H;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var k=T[0],L=T.pop();if(L!==k){T[0]=L;e:for(var H=0,X=T.length,Te=X>>>1;H<Te;){var De=2*(H+1)-1,an=T[De],st=De+1,W=T[st];if(0>s(an,L))st<X&&0>s(W,an)?(T[H]=W,T[st]=L,H=st):(T[H]=an,T[De]=L,H=De);else if(st<X&&0>s(W,L))T[H]=W,T[st]=L,H=st;else break e}}return k}function s(T,k){var L=T.sortIndex-k.sortIndex;return L!==0?L:T.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,v=!1,w=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=T)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function C(T){if(g=!1,m(T),!w)if(n(l)!==null)w=!0,U(E);else{var k=n(c);k!==null&&V(C,k.startTime-T)}}function E(T,k){w=!1,g&&(g=!1,_(N),N=-1),v=!0;var L=f;try{for(m(k),h=n(l);h!==null&&(!(h.expirationTime>k)||T&&!F());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var X=H(h.expirationTime<=k);k=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),m(k)}else r(l);h=n(l)}if(h!==null)var Te=!0;else{var De=n(c);De!==null&&V(C,De.startTime-k),Te=!1}return Te}finally{h=null,f=L,v=!1}}var S=!1,b=null,N=-1,P=5,R=-1;function F(){return!(t.unstable_now()-R<P)}function O(){if(b!==null){var T=t.unstable_now();R=T;var k=!0;try{k=b(!0,T)}finally{k?$():(S=!1,b=null)}}else S=!1}var $;if(typeof p=="function")$=function(){p(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=O,$=function(){G.postMessage(null)}}else $=function(){x(O,0)};function U(T){b=T,S||(S=!0,$())}function V(T,k){N=x(function(){T(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,U(E))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var L=f;f=k;try{return T()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,k){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=f;f=T;try{return k()}finally{f=L}},t.unstable_scheduleCallback=function(T,k,L){var H=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,T={id:d++,callback:k,priorityLevel:T,startTime:L,expirationTime:X,sortIndex:-1},L>H?(T.sortIndex=L,e(c,T),n(l)===null&&T===n(c)&&(g?(_(N),N=-1):g=!0,V(C,L-H))):(T.sortIndex=X,e(l,T),w||v||(w=!0,U(E))),T},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(T){var k=f;return function(){var L=f;f=k;try{return T.apply(this,arguments)}finally{f=L}}}})(f_);h_.exports=f_;var P1=h_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1=y,kt=P1;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p_=new Set,zo={};function Es(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(zo[t]=e,t=0;t<e.length;t++)p_.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=Object.prototype.hasOwnProperty,A1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Um={},$m={};function O1(t){return zd.call($m,t)?!0:zd.call(Um,t)?!1:A1.test(t)?$m[t]=!0:(Um[t]=!0,!1)}function M1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D1(t,e,n,r){if(e===null||typeof e>"u"||M1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nf=/[\-:]([a-z])/g;function If(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nf,If);Ke[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nf,If);Ke[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nf,If);Ke[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kf(t,e,n,r){var s=Ke.hasOwnProperty(e)?Ke[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D1(e,n,s,r)&&(n=null),r||s===null?O1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=R1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Pf=Symbol.for("react.strict_mode"),Bd=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),g_=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),Af=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),y_=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function so(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Wu;function _o(t){if(Wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wu=e&&e[1]||""}return`
`+Wu+t}var zu=!1;function Bu(t,e){if(!t||zu)return"";zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_o(t):""}function L1(t){switch(t.tag){case 5:return _o(t.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return t=Bu(t.type,!1),t;case 11:return t=Bu(t.type.render,!1),t;case 1:return t=Bu(t.type,!0),t;default:return""}}function Kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Ls:return"Portal";case Bd:return"Profiler";case Pf:return"StrictMode";case Vd:return"Suspense";case Gd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g_:return(t.displayName||"Context")+".Consumer";case m_:return(t._context.displayName||"Context")+".Provider";case Rf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Af:return e=t.displayName||null,e!==null?e:Kd(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return Kd(t(e))}catch{}}return null}function j1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kd(e);case 8:return e===Pf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F1(t){var e=v_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ya(t){t._valueTracker||(t._valueTracker=F1(t))}function __(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qd(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w_(t,e){e=e.checked,e!=null&&kf(t,"checked",e,!1)}function Qd(t,e){w_(t,e);var n=Mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yd(t,e.type,Mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yd(t,e,n){(e!=="number"||Kl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wo=Array.isArray;function Ys(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(wo(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mr(n)}}function x_(t,e){var n=Mr(e.value),r=Mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xa,E_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(t){U1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),To[e]=To[t]})});function S_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||To.hasOwnProperty(t)&&To[t]?(""+e).trim():e+"px"}function b_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=S_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $1=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zd(t,e){if(e){if($1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function Of(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nh=null,Xs=null,Js=null;function Gm(t){if(t=Ia(t)){if(typeof nh!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Xc(e),nh(t.stateNode,t.type,e))}}function T_(t){Xs?Js?Js.push(t):Js=[t]:Xs=t}function N_(){if(Xs){var t=Xs,e=Js;if(Js=Xs=null,Gm(t),e)for(t=0;t<e.length;t++)Gm(e[t])}}function I_(t,e){return t(e)}function k_(){}var Vu=!1;function P_(t,e,n){if(Vu)return t(e,n);Vu=!0;try{return I_(t,e,n)}finally{Vu=!1,(Xs!==null||Js!==null)&&(k_(),N_())}}function Vo(t,e){var n=t.stateNode;if(n===null)return null;var r=Xc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var rh=!1;if(jn)try{var io={};Object.defineProperty(io,"passive",{get:function(){rh=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{rh=!1}function H1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var No=!1,ql=null,Ql=!1,sh=null,W1={onError:function(t){No=!0,ql=t}};function z1(t,e,n,r,s,i,o,a,l){No=!1,ql=null,H1.apply(W1,arguments)}function B1(t,e,n,r,s,i,o,a,l){if(z1.apply(this,arguments),No){if(No){var c=ql;No=!1,ql=null}else throw Error(A(198));Ql||(Ql=!0,sh=c)}}function Ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Km(t){if(Ss(t)!==t)throw Error(A(188))}function V1(t){var e=t.alternate;if(!e){if(e=Ss(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Km(s),t;if(i===r)return Km(s),e;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function A_(t){return t=V1(t),t!==null?O_(t):null}function O_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O_(t);if(e!==null)return e;t=t.sibling}return null}var M_=kt.unstable_scheduleCallback,qm=kt.unstable_cancelCallback,G1=kt.unstable_shouldYield,K1=kt.unstable_requestPaint,Ae=kt.unstable_now,q1=kt.unstable_getCurrentPriorityLevel,Mf=kt.unstable_ImmediatePriority,D_=kt.unstable_UserBlockingPriority,Yl=kt.unstable_NormalPriority,Q1=kt.unstable_LowPriority,L_=kt.unstable_IdlePriority,Kc=null,yn=null;function Y1(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Kc,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Z1,X1=Math.log,J1=Math.LN2;function Z1(t){return t>>>=0,t===0?32:31-(X1(t)/J1|0)|0}var Ja=64,Za=4194304;function xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xo(a):(i&=o,i!==0&&(r=xo(i)))}else o=n&~s,o!==0?r=xo(o):i!==0&&(r=xo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),s=1<<n,r|=t[n],e&=~s;return r}function eb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=eb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function j_(){var t=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),t}function Gu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ta(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function nb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ae=0;function F_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U_,Lf,$_,H_,W_,oh=!1,el=[],xr=null,Cr=null,Er=null,Go=new Map,Ko=new Map,or=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qm(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function oo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ia(e),e!==null&&Lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function sb(t,e,n,r,s){switch(e){case"focusin":return xr=oo(xr,t,e,n,r,s),!0;case"dragenter":return Cr=oo(Cr,t,e,n,r,s),!0;case"mouseover":return Er=oo(Er,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Go.set(i,oo(Go.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ko.set(i,oo(Ko.get(i)||null,t,e,n,r,s)),!0}return!1}function z_(t){var e=Zr(t.target);if(e!==null){var n=Ss(e);if(n!==null){if(e=n.tag,e===13){if(e=R_(n),e!==null){t.blockedOn=e,W_(t.priority,function(){$_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);th=r,n.target.dispatchEvent(r),th=null}else return e=Ia(n),e!==null&&Lf(e),t.blockedOn=n,!1;e.shift()}return!0}function Ym(t,e,n){Tl(t)&&n.delete(e)}function ib(){oh=!1,xr!==null&&Tl(xr)&&(xr=null),Cr!==null&&Tl(Cr)&&(Cr=null),Er!==null&&Tl(Er)&&(Er=null),Go.forEach(Ym),Ko.forEach(Ym)}function ao(t,e){t.blockedOn===e&&(t.blockedOn=null,oh||(oh=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,ib)))}function qo(t){function e(s){return ao(s,t)}if(0<el.length){ao(el[0],t);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&ao(xr,t),Cr!==null&&ao(Cr,t),Er!==null&&ao(Er,t),Go.forEach(e),Ko.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)z_(n),n.blockedOn===null&&or.shift()}var Zs=Gn.ReactCurrentBatchConfig,Jl=!0;function ob(t,e,n,r){var s=ae,i=Zs.transition;Zs.transition=null;try{ae=1,jf(t,e,n,r)}finally{ae=s,Zs.transition=i}}function ab(t,e,n,r){var s=ae,i=Zs.transition;Zs.transition=null;try{ae=4,jf(t,e,n,r)}finally{ae=s,Zs.transition=i}}function jf(t,e,n,r){if(Jl){var s=ah(t,e,n,r);if(s===null)nd(t,e,r,Zl,n),Qm(t,r);else if(sb(s,t,e,n,r))r.stopPropagation();else if(Qm(t,r),e&4&&-1<rb.indexOf(t)){for(;s!==null;){var i=Ia(s);if(i!==null&&U_(i),i=ah(t,e,n,r),i===null&&nd(t,e,r,Zl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nd(t,e,r,null,n)}}var Zl=null;function ah(t,e,n,r){if(Zl=null,t=Of(r),t=Zr(t),t!==null)if(e=Ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=R_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zl=t,null}function B_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q1()){case Mf:return 1;case D_:return 4;case Yl:case Q1:return 16;case L_:return 536870912;default:return 16}default:return 16}}var yr=null,Ff=null,Nl=null;function V_(){if(Nl)return Nl;var t,e=Ff,n=e.length,r,s="value"in yr?yr.value:yr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Nl=s.slice(t,1<r?1-r:void 0)}function Il(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function Xm(){return!1}function At(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tl:Xm,this.isPropagationStopped=Xm,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=At(Fi),Na=be({},Fi,{view:0,detail:0}),lb=At(Na),Ku,qu,lo,qc=be({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lo&&(lo&&t.type==="mousemove"?(Ku=t.screenX-lo.screenX,qu=t.screenY-lo.screenY):qu=Ku=0,lo=t),Ku)},movementY:function(t){return"movementY"in t?t.movementY:qu}}),Jm=At(qc),cb=be({},qc,{dataTransfer:0}),ub=At(cb),db=be({},Na,{relatedTarget:0}),Qu=At(db),hb=be({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=At(hb),pb=be({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mb=At(pb),gb=be({},Fi,{data:0}),Zm=At(gb),yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_b[t])?!!e[t]:!1}function $f(){return wb}var xb=be({},Na,{key:function(t){if(t.key){var e=yb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(t){return t.type==="keypress"?Il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cb=At(xb),Eb=be({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=At(Eb),Sb=be({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),bb=At(Sb),Tb=be({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nb=At(Tb),Ib=be({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kb=At(Ib),Pb=[9,13,27,32],Hf=jn&&"CompositionEvent"in window,Io=null;jn&&"documentMode"in document&&(Io=document.documentMode);var Rb=jn&&"TextEvent"in window&&!Io,G_=jn&&(!Hf||Io&&8<Io&&11>=Io),tg=" ",ng=!1;function K_(t,e){switch(t){case"keyup":return Pb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fs=!1;function Ab(t,e){switch(t){case"compositionend":return q_(e);case"keypress":return e.which!==32?null:(ng=!0,tg);case"textInput":return t=e.data,t===tg&&ng?null:t;default:return null}}function Ob(t,e){if(Fs)return t==="compositionend"||!Hf&&K_(t,e)?(t=V_(),Nl=Ff=yr=null,Fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G_&&e.locale!=="ko"?null:e.data;default:return null}}var Mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mb[t.type]:e==="textarea"}function Q_(t,e,n,r){T_(r),e=ec(e,"onChange"),0<e.length&&(n=new Uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ko=null,Qo=null;function Db(t){ow(t,0)}function Qc(t){var e=Hs(t);if(__(e))return t}function Lb(t,e){if(t==="change")return e}var Y_=!1;if(jn){var Yu;if(jn){var Xu="oninput"in document;if(!Xu){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Xu=typeof sg.oninput=="function"}Yu=Xu}else Yu=!1;Y_=Yu&&(!document.documentMode||9<document.documentMode)}function ig(){ko&&(ko.detachEvent("onpropertychange",X_),Qo=ko=null)}function X_(t){if(t.propertyName==="value"&&Qc(Qo)){var e=[];Q_(e,Qo,t,Of(t)),P_(Db,e)}}function jb(t,e,n){t==="focusin"?(ig(),ko=e,Qo=n,ko.attachEvent("onpropertychange",X_)):t==="focusout"&&ig()}function Fb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qc(Qo)}function Ub(t,e){if(t==="click")return Qc(e)}function $b(t,e){if(t==="input"||t==="change")return Qc(e)}function Hb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:Hb;function Yo(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zd.call(e,s)||!nn(t[s],e[s]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,e){var n=og(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=og(n)}}function J_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z_(){for(var t=window,e=Kl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kl(t.document)}return e}function Wf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wb(t){var e=Z_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J_(n.ownerDocument.documentElement,n)){if(r!==null&&Wf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ag(n,i);var o=ag(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zb=jn&&"documentMode"in document&&11>=document.documentMode,Us=null,lh=null,Po=null,ch=!1;function lg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ch||Us==null||Us!==Kl(r)||(r=Us,"selectionStart"in r&&Wf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&Yo(Po,r)||(Po=r,r=ec(lh,"onSelect"),0<r.length&&(e=new Uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Us)))}function nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Ju={},ew={};jn&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Yc(t){if(Ju[t])return Ju[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ew)return Ju[t]=e[n];return t}var tw=Yc("animationend"),nw=Yc("animationiteration"),rw=Yc("animationstart"),sw=Yc("transitionend"),iw=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){iw.set(t,e),Es(e,[t])}for(var Zu=0;Zu<cg.length;Zu++){var ed=cg[Zu],Bb=ed.toLowerCase(),Vb=ed[0].toUpperCase()+ed.slice(1);Wr(Bb,"on"+Vb)}Wr(tw,"onAnimationEnd");Wr(nw,"onAnimationIteration");Wr(rw,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(sw,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function ug(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,B1(r,e,void 0,t),t.currentTarget=null}function ow(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ug(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ug(s,a,c),i=l}}}if(Ql)throw t=sh,Ql=!1,sh=null,t}function _e(t,e){var n=e[ph];n===void 0&&(n=e[ph]=new Set);var r=t+"__bubble";n.has(r)||(aw(e,t,2,!1),n.add(r))}function td(t,e,n){var r=0;e&&(r|=4),aw(n,t,r,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Xo(t){if(!t[rl]){t[rl]=!0,p_.forEach(function(n){n!=="selectionchange"&&(Gb.has(n)||td(n,!1,t),td(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,td("selectionchange",!1,e))}}function aw(t,e,n,r){switch(B_(e)){case 1:var s=ob;break;case 4:s=ab;break;default:s=jf}n=s.bind(null,e,n,t),s=void 0,!rh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}P_(function(){var c=i,d=Of(n),h=[];e:{var f=iw.get(t);if(f!==void 0){var v=Uf,w=t;switch(t){case"keypress":if(Il(n)===0)break e;case"keydown":case"keyup":v=Cb;break;case"focusin":w="focus",v=Qu;break;case"focusout":w="blur",v=Qu;break;case"beforeblur":case"afterblur":v=Qu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bb;break;case tw:case nw:case rw:v=fb;break;case sw:v=Nb;break;case"scroll":v=lb;break;case"wheel":v=kb;break;case"copy":case"cut":case"paste":v=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eg}var g=(e&4)!==0,x=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var p=c,m;p!==null;){m=p;var C=m.stateNode;if(m.tag===5&&C!==null&&(m=C,_!==null&&(C=Vo(p,_),C!=null&&g.push(Jo(p,C,m)))),x)break;p=p.return}0<g.length&&(f=new v(f,w,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==th&&(w=n.relatedTarget||n.fromElement)&&(Zr(w)||w[Fn]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?Zr(w):null,w!==null&&(x=Ss(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(g=Jm,C="onMouseLeave",_="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(g=eg,C="onPointerLeave",_="onPointerEnter",p="pointer"),x=v==null?f:Hs(v),m=w==null?f:Hs(w),f=new g(C,p+"leave",v,n,d),f.target=x,f.relatedTarget=m,C=null,Zr(d)===c&&(g=new g(_,p+"enter",w,n,d),g.target=m,g.relatedTarget=x,C=g),x=C,v&&w)t:{for(g=v,_=w,p=0,m=g;m;m=Rs(m))p++;for(m=0,C=_;C;C=Rs(C))m++;for(;0<p-m;)g=Rs(g),p--;for(;0<m-p;)_=Rs(_),m--;for(;p--;){if(g===_||_!==null&&g===_.alternate)break t;g=Rs(g),_=Rs(_)}g=null}else g=null;v!==null&&dg(h,f,v,g,!1),w!==null&&x!==null&&dg(h,x,w,g,!0)}}e:{if(f=c?Hs(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=Lb;else if(rg(f))if(Y_)E=$b;else{E=Fb;var S=jb}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Ub);if(E&&(E=E(t,c))){Q_(h,E,n,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Yd(f,"number",f.value)}switch(S=c?Hs(c):window,t){case"focusin":(rg(S)||S.contentEditable==="true")&&(Us=S,lh=c,Po=null);break;case"focusout":Po=lh=Us=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,lg(h,n,d);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":lg(h,n,d)}var b;if(Hf)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fs?K_(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(G_&&n.locale!=="ko"&&(Fs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fs&&(b=V_()):(yr=d,Ff="value"in yr?yr.value:yr.textContent,Fs=!0)),S=ec(c,N),0<S.length&&(N=new Zm(N,t,null,n,d),h.push({event:N,listeners:S}),b?N.data=b:(b=q_(n),b!==null&&(N.data=b)))),(b=Rb?Ab(t,n):Ob(t,n))&&(c=ec(c,"onBeforeInput"),0<c.length&&(d=new Zm("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}ow(h,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ec(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vo(t,n),i!=null&&r.unshift(Jo(t,i,s)),i=Vo(t,e),i!=null&&r.push(Jo(t,i,s))),t=t.return}return r}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Vo(n,i),l!=null&&o.unshift(Jo(n,l,a))):s||(l=Vo(n,i),l!=null&&o.push(Jo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function hg(t){return(typeof t=="string"?t:""+t).replace(Kb,`
`).replace(qb,"")}function sl(t,e,n){if(e=hg(e),hg(t)!==e&&n)throw Error(A(425))}function tc(){}var uh=null,dh=null;function hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(t){return fg.resolve(null).then(t).catch(Xb)}:fh;function Xb(t){setTimeout(function(){throw t})}function rd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),qo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qo(e)}function Sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ui,Zo="__reactProps$"+Ui,Fn="__reactContainer$"+Ui,ph="__reactEvents$"+Ui,Jb="__reactListeners$"+Ui,Zb="__reactHandles$"+Ui;function Zr(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pg(t);t!==null;){if(n=t[pn])return n;t=pg(t)}return e}t=n,n=t.parentNode}return null}function Ia(t){return t=t[pn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Xc(t){return t[Zo]||null}var mh=[],Ws=-1;function zr(t){return{current:t}}function we(t){0>Ws||(t.current=mh[Ws],mh[Ws]=null,Ws--)}function ge(t,e){Ws++,mh[Ws]=t.current,t.current=e}var Dr={},tt=zr(Dr),_t=zr(!1),cs=Dr;function wi(t,e){var n=t.type.contextTypes;if(!n)return Dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wt(t){return t=t.childContextTypes,t!=null}function nc(){we(_t),we(tt)}function mg(t,e,n){if(tt.current!==Dr)throw Error(A(168));ge(tt,e),ge(_t,n)}function lw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(A(108,j1(t)||"Unknown",s));return be({},n,r)}function rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,cs=tt.current,ge(tt,t),ge(_t,_t.current),!0}function gg(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=lw(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,we(_t),we(tt),ge(tt,t)):we(_t),ge(_t,n)}var In=null,Jc=!1,sd=!1;function cw(t){In===null?In=[t]:In.push(t)}function eT(t){Jc=!0,cw(t)}function Br(){if(!sd&&In!==null){sd=!0;var t=0,e=ae;try{var n=In;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}In=null,Jc=!1}catch(s){throw In!==null&&(In=In.slice(t+1)),M_(Mf,Br),s}finally{ae=e,sd=!1}}return null}var zs=[],Bs=0,sc=null,ic=0,Mt=[],Dt=0,us=null,kn=1,Pn="";function Qr(t,e){zs[Bs++]=ic,zs[Bs++]=sc,sc=t,ic=e}function uw(t,e,n){Mt[Dt++]=kn,Mt[Dt++]=Pn,Mt[Dt++]=us,us=t;var r=kn;t=Pn;var s=32-Zt(r)-1;r&=~(1<<s),n+=1;var i=32-Zt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kn=1<<32-Zt(e)+s|n<<s|r,Pn=i+t}else kn=1<<i|n<<s|r,Pn=t}function zf(t){t.return!==null&&(Qr(t,1),uw(t,1,0))}function Bf(t){for(;t===sc;)sc=zs[--Bs],zs[Bs]=null,ic=zs[--Bs],zs[Bs]=null;for(;t===us;)us=Mt[--Dt],Mt[Dt]=null,Pn=Mt[--Dt],Mt[Dt]=null,kn=Mt[--Dt],Mt[Dt]=null}var Nt=null,Tt=null,Ce=!1,Qt=null;function dw(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Tt=Sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:kn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Tt=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yh(t){if(Ce){var e=Tt;if(e){var n=e;if(!yg(t,e)){if(gh(t))throw Error(A(418));e=Sr(n.nextSibling);var r=Nt;e&&yg(t,e)?dw(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Nt=t)}}else{if(gh(t))throw Error(A(418));t.flags=t.flags&-4097|2,Ce=!1,Nt=t}}}function vg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function il(t){if(t!==Nt)return!1;if(!Ce)return vg(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hh(t.type,t.memoizedProps)),e&&(e=Tt)){if(gh(t))throw hw(),Error(A(418));for(;e;)dw(t,e),e=Sr(e.nextSibling)}if(vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tt=Sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tt=null}}else Tt=Nt?Sr(t.stateNode.nextSibling):null;return!0}function hw(){for(var t=Tt;t;)t=Sr(t.nextSibling)}function xi(){Tt=Nt=null,Ce=!1}function Vf(t){Qt===null?Qt=[t]:Qt.push(t)}var tT=Gn.ReactCurrentBatchConfig;function co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function ol(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _g(t){var e=t._init;return e(t._payload)}function fw(t){function e(_,p){if(t){var m=_.deletions;m===null?(_.deletions=[p],_.flags|=16):m.push(p)}}function n(_,p){if(!t)return null;for(;p!==null;)e(_,p),p=p.sibling;return null}function r(_,p){for(_=new Map;p!==null;)p.key!==null?_.set(p.key,p):_.set(p.index,p),p=p.sibling;return _}function s(_,p){return _=Ir(_,p),_.index=0,_.sibling=null,_}function i(_,p,m){return _.index=m,t?(m=_.alternate,m!==null?(m=m.index,m<p?(_.flags|=2,p):m):(_.flags|=2,p)):(_.flags|=1048576,p)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,p,m,C){return p===null||p.tag!==6?(p=dd(m,_.mode,C),p.return=_,p):(p=s(p,m),p.return=_,p)}function l(_,p,m,C){var E=m.type;return E===js?d(_,p,m.props.children,C,m.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===sr&&_g(E)===p.type)?(C=s(p,m.props),C.ref=co(_,p,m),C.return=_,C):(C=Dl(m.type,m.key,m.props,null,_.mode,C),C.ref=co(_,p,m),C.return=_,C)}function c(_,p,m,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=hd(m,_.mode,C),p.return=_,p):(p=s(p,m.children||[]),p.return=_,p)}function d(_,p,m,C,E){return p===null||p.tag!==7?(p=ls(m,_.mode,C,E),p.return=_,p):(p=s(p,m),p.return=_,p)}function h(_,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=dd(""+p,_.mode,m),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qa:return m=Dl(p.type,p.key,p.props,null,_.mode,m),m.ref=co(_,null,p),m.return=_,m;case Ls:return p=hd(p,_.mode,m),p.return=_,p;case sr:var C=p._init;return h(_,C(p._payload),m)}if(wo(p)||so(p))return p=ls(p,_.mode,m,null),p.return=_,p;ol(_,p)}return null}function f(_,p,m,C){var E=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(_,p,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qa:return m.key===E?l(_,p,m,C):null;case Ls:return m.key===E?c(_,p,m,C):null;case sr:return E=m._init,f(_,p,E(m._payload),C)}if(wo(m)||so(m))return E!==null?null:d(_,p,m,C,null);ol(_,m)}return null}function v(_,p,m,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(m)||null,a(p,_,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Qa:return _=_.get(C.key===null?m:C.key)||null,l(p,_,C,E);case Ls:return _=_.get(C.key===null?m:C.key)||null,c(p,_,C,E);case sr:var S=C._init;return v(_,p,m,S(C._payload),E)}if(wo(C)||so(C))return _=_.get(m)||null,d(p,_,C,E,null);ol(p,C)}return null}function w(_,p,m,C){for(var E=null,S=null,b=p,N=p=0,P=null;b!==null&&N<m.length;N++){b.index>N?(P=b,b=null):P=b.sibling;var R=f(_,b,m[N],C);if(R===null){b===null&&(b=P);break}t&&b&&R.alternate===null&&e(_,b),p=i(R,p,N),S===null?E=R:S.sibling=R,S=R,b=P}if(N===m.length)return n(_,b),Ce&&Qr(_,N),E;if(b===null){for(;N<m.length;N++)b=h(_,m[N],C),b!==null&&(p=i(b,p,N),S===null?E=b:S.sibling=b,S=b);return Ce&&Qr(_,N),E}for(b=r(_,b);N<m.length;N++)P=v(b,_,N,m[N],C),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?N:P.key),p=i(P,p,N),S===null?E=P:S.sibling=P,S=P);return t&&b.forEach(function(F){return e(_,F)}),Ce&&Qr(_,N),E}function g(_,p,m,C){var E=so(m);if(typeof E!="function")throw Error(A(150));if(m=E.call(m),m==null)throw Error(A(151));for(var S=E=null,b=p,N=p=0,P=null,R=m.next();b!==null&&!R.done;N++,R=m.next()){b.index>N?(P=b,b=null):P=b.sibling;var F=f(_,b,R.value,C);if(F===null){b===null&&(b=P);break}t&&b&&F.alternate===null&&e(_,b),p=i(F,p,N),S===null?E=F:S.sibling=F,S=F,b=P}if(R.done)return n(_,b),Ce&&Qr(_,N),E;if(b===null){for(;!R.done;N++,R=m.next())R=h(_,R.value,C),R!==null&&(p=i(R,p,N),S===null?E=R:S.sibling=R,S=R);return Ce&&Qr(_,N),E}for(b=r(_,b);!R.done;N++,R=m.next())R=v(b,_,N,R.value,C),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?N:R.key),p=i(R,p,N),S===null?E=R:S.sibling=R,S=R);return t&&b.forEach(function(O){return e(_,O)}),Ce&&Qr(_,N),E}function x(_,p,m,C){if(typeof m=="object"&&m!==null&&m.type===js&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Qa:e:{for(var E=m.key,S=p;S!==null;){if(S.key===E){if(E=m.type,E===js){if(S.tag===7){n(_,S.sibling),p=s(S,m.props.children),p.return=_,_=p;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===sr&&_g(E)===S.type){n(_,S.sibling),p=s(S,m.props),p.ref=co(_,S,m),p.return=_,_=p;break e}n(_,S);break}else e(_,S);S=S.sibling}m.type===js?(p=ls(m.props.children,_.mode,C,m.key),p.return=_,_=p):(C=Dl(m.type,m.key,m.props,null,_.mode,C),C.ref=co(_,p,m),C.return=_,_=C)}return o(_);case Ls:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(_,p.sibling),p=s(p,m.children||[]),p.return=_,_=p;break e}else{n(_,p);break}else e(_,p);p=p.sibling}p=hd(m,_.mode,C),p.return=_,_=p}return o(_);case sr:return S=m._init,x(_,p,S(m._payload),C)}if(wo(m))return w(_,p,m,C);if(so(m))return g(_,p,m,C);ol(_,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(_,p.sibling),p=s(p,m),p.return=_,_=p):(n(_,p),p=dd(m,_.mode,C),p.return=_,_=p),o(_)):n(_,p)}return x}var Ci=fw(!0),pw=fw(!1),oc=zr(null),ac=null,Vs=null,Gf=null;function Kf(){Gf=Vs=ac=null}function qf(t){var e=oc.current;we(oc),t._currentValue=e}function vh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ei(t,e){ac=t,Gf=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Gf!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(ac===null)throw Error(A(308));Vs=t,ac.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var es=null;function Qf(t){es===null?es=[t]:es.push(t)}function mw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Un(t,n)}return s=r.interleaved,s===null?(e.next=e,Qf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Un(t,n)}function kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}function wg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lc(t,e,n,r){var s=t.updateQueue;ir=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(f=e,v=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=be({},h,f);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=h}}function xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var ka={},vn=zr(ka),ea=zr(ka),ta=zr(ka);function ts(t){if(t===ka)throw Error(A(174));return t}function Xf(t,e){switch(ge(ta,e),ge(ea,t),ge(vn,ka),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jd(e,t)}we(vn),ge(vn,e)}function Ei(){we(vn),we(ea),we(ta)}function yw(t){ts(ta.current);var e=ts(vn.current),n=Jd(e,t.type);e!==n&&(ge(ea,t),ge(vn,n))}function Jf(t){ea.current===t&&(we(vn),we(ea))}var Ee=zr(0);function cc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var id=[];function Zf(){for(var t=0;t<id.length;t++)id[t]._workInProgressVersionPrimary=null;id.length=0}var Pl=Gn.ReactCurrentDispatcher,od=Gn.ReactCurrentBatchConfig,ds=0,Se=null,Le=null,He=null,uc=!1,Ro=!1,na=0,nT=0;function Xe(){throw Error(A(321))}function ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function tp(t,e,n,r,s,i){if(ds=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pl.current=t===null||t.memoizedState===null?oT:aT,t=n(r,s),Ro){i=0;do{if(Ro=!1,na=0,25<=i)throw Error(A(301));i+=1,He=Le=null,e.updateQueue=null,Pl.current=lT,t=n(r,s)}while(Ro)}if(Pl.current=dc,e=Le!==null&&Le.next!==null,ds=0,He=Le=Se=null,uc=!1,e)throw Error(A(300));return t}function np(){var t=na!==0;return na=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Se.memoizedState=He=t:He=He.next=t,He}function Ht(){if(Le===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=He===null?Se.memoizedState:He.next;if(e!==null)He=e,Le=t;else{if(t===null)throw Error(A(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},He===null?Se.memoizedState=He=t:He=He.next=t}return He}function ra(t,e){return typeof e=="function"?e(t):e}function ad(t){var e=Ht(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Le,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ds&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Se.lanes|=d,hs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,nn(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Se.lanes|=i,hs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ld(t){var e=Ht(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nn(i,e.memoizedState)||(yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vw(){}function _w(t,e){var n=Se,r=Ht(),s=e(),i=!nn(r.memoizedState,s);if(i&&(r.memoizedState=s,yt=!0),r=r.queue,rp(Cw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,sa(9,xw.bind(null,n,r,s,e),void 0,null),ze===null)throw Error(A(349));ds&30||ww(n,e,s)}return s}function ww(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xw(t,e,n,r){e.value=n,e.getSnapshot=r,Ew(e)&&Sw(t)}function Cw(t,e,n){return n(function(){Ew(e)&&Sw(t)})}function Ew(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function Sw(t){var e=Un(t,1);e!==null&&en(e,t,1,-1)}function Cg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=iT.bind(null,Se,t),[e.memoizedState,t]}function sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bw(){return Ht().memoizedState}function Rl(t,e,n,r){var s=un();Se.flags|=t,s.memoizedState=sa(1|e,n,void 0,r===void 0?null:r)}function Zc(t,e,n,r){var s=Ht();r=r===void 0?null:r;var i=void 0;if(Le!==null){var o=Le.memoizedState;if(i=o.destroy,r!==null&&ep(r,o.deps)){s.memoizedState=sa(e,n,i,r);return}}Se.flags|=t,s.memoizedState=sa(1|e,n,i,r)}function Eg(t,e){return Rl(8390656,8,t,e)}function rp(t,e){return Zc(2048,8,t,e)}function Tw(t,e){return Zc(4,2,t,e)}function Nw(t,e){return Zc(4,4,t,e)}function Iw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kw(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4,4,Iw.bind(null,e,t),n)}function sp(){}function Pw(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ep(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rw(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ep(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Aw(t,e,n){return ds&21?(nn(n,e)||(n=j_(),Se.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function rT(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=od.transition;od.transition={};try{t(!1),e()}finally{ae=n,od.transition=r}}function Ow(){return Ht().memoizedState}function sT(t,e,n){var r=Nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mw(t))Dw(e,n);else if(n=mw(t,e,n,r),n!==null){var s=dt();en(n,t,r,s),Lw(n,e,r)}}function iT(t,e,n){var r=Nr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mw(t))Dw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,nn(a,o)){var l=e.interleaved;l===null?(s.next=s,Qf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=mw(t,e,s,r),n!==null&&(s=dt(),en(n,t,r,s),Lw(n,e,r))}}function Mw(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function Dw(t,e){Ro=uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}var dc={readContext:$t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},oT={readContext:$t,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:Eg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4194308,4,Iw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rl(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sT.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:Cg,useDebugValue:sp,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Cg(!1),e=t[0];return t=rT.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,s=un();if(Ce){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),ze===null)throw Error(A(349));ds&30||ww(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Eg(Cw.bind(null,r,i,t),[t]),r.flags|=2048,sa(9,xw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=un(),e=ze.identifierPrefix;if(Ce){var n=Pn,r=kn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aT={readContext:$t,useCallback:Pw,useContext:$t,useEffect:rp,useImperativeHandle:kw,useInsertionEffect:Tw,useLayoutEffect:Nw,useMemo:Rw,useReducer:ad,useRef:bw,useState:function(){return ad(ra)},useDebugValue:sp,useDeferredValue:function(t){var e=Ht();return Aw(e,Le.memoizedState,t)},useTransition:function(){var t=ad(ra)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:vw,useSyncExternalStore:_w,useId:Ow,unstable_isNewReconciler:!1},lT={readContext:$t,useCallback:Pw,useContext:$t,useEffect:rp,useImperativeHandle:kw,useInsertionEffect:Tw,useLayoutEffect:Nw,useMemo:Rw,useReducer:ld,useRef:bw,useState:function(){return ld(ra)},useDebugValue:sp,useDeferredValue:function(t){var e=Ht();return Le===null?e.memoizedState=t:Aw(e,Le.memoizedState,t)},useTransition:function(){var t=ld(ra)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:vw,useSyncExternalStore:_w,useId:Ow,unstable_isNewReconciler:!1};function Vt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _h(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eu={isMounted:function(t){return(t=t._reactInternals)?Ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dt(),s=Nr(t),i=Mn(r,s);i.payload=e,n!=null&&(i.callback=n),e=br(t,i,s),e!==null&&(en(e,t,s,r),kl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dt(),s=Nr(t),i=Mn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=br(t,i,s),e!==null&&(en(e,t,s,r),kl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),r=Nr(t),s=Mn(n,r);s.tag=2,e!=null&&(s.callback=e),e=br(t,s,r),e!==null&&(en(e,t,r,n),kl(e,t,r))}};function Sg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yo(n,r)||!Yo(s,i):!0}function jw(t,e,n){var r=!1,s=Dr,i=e.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=wt(e)?cs:tt.current,r=e.contextTypes,i=(r=r!=null)?wi(t,s):Dr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function bg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eu.enqueueReplaceState(e,e.state,null)}function wh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=wt(e)?cs:tt.current,s.context=wi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_h(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eu.enqueueReplaceState(s,s.state,null),lc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e){try{var n="",r=e;do n+=L1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cT=typeof WeakMap=="function"?WeakMap:Map;function Fw(t,e,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fc||(fc=!0,Rh=r),xh(t,e)},n}function Uw(t,e,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xh(t,e),typeof r!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ET.bind(null,t,e,n),e.then(t,t))}function Ng(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ig(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mn(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var uT=Gn.ReactCurrentOwner,yt=!1;function lt(t,e,n,r){e.child=t===null?pw(e,null,n,r):Ci(e,t.child,n,r)}function kg(t,e,n,r,s){n=n.render;var i=e.ref;return ei(e,s),r=tp(t,e,n,r,i,s),n=np(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(Ce&&n&&zf(e),e.flags|=1,lt(t,e,r,s),e.child)}function Pg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$w(t,e,i,r,s)):(t=Dl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yo,n(o,r)&&t.ref===e.ref)return $n(t,e,s)}return e.flags|=1,t=Ir(i,r),t.ref=e.ref,t.return=e,e.child=t}function $w(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Yo(i,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,$n(t,e,s)}return Ch(t,e,n,r,s)}function Hw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Ks,St),St|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Ks,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(Ks,St),St|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(Ks,St),St|=r;return lt(t,e,s,n),e.child}function Ww(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ch(t,e,n,r,s){var i=wt(n)?cs:tt.current;return i=wi(e,i),ei(e,s),n=tp(t,e,n,r,i,s),r=np(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(Ce&&r&&zf(e),e.flags|=1,lt(t,e,n,s),e.child)}function Rg(t,e,n,r,s){if(wt(n)){var i=!0;rc(e)}else i=!1;if(ei(e,s),e.stateNode===null)Al(t,e),jw(e,n,r),wh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=wt(n)?cs:tt.current,c=wi(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&bg(e,o,r,c),ir=!1;var f=e.memoizedState;o.state=f,lc(e,r,o,s),l=e.memoizedState,a!==r||f!==l||_t.current||ir?(typeof d=="function"&&(_h(e,n,d,r),l=e.memoizedState),(a=ir||Sg(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=wt(n)?cs:tt.current,l=wi(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&bg(e,o,r,l),ir=!1,f=e.memoizedState,o.state=f,lc(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||_t.current||ir?(typeof v=="function"&&(_h(e,n,v,r),w=e.memoizedState),(c=ir||Sg(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Eh(t,e,n,r,i,s)}function Eh(t,e,n,r,s,i){Ww(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&gg(e,n,!1),$n(t,e,i);r=e.stateNode,uT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ci(e,t.child,null,i),e.child=Ci(e,null,a,i)):lt(t,e,a,i),e.memoizedState=r.state,s&&gg(e,n,!0),e.child}function zw(t){var e=t.stateNode;e.pendingContext?mg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mg(t,e.context,!1),Xf(t,e.containerInfo)}function Ag(t,e,n,r,s){return xi(),Vf(s),e.flags|=256,lt(t,e,n,r),e.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bw(t,e,n){var r=e.pendingProps,s=Ee.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Ee,s&1),t===null)return yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ru(o,r,0,null),t=ls(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bh(n),e.memoizedState=Sh,t):ip(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return dT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ir(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ir(a,i):(i=ls(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?bh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Sh,r}return i=t.child,t=i.sibling,r=Ir(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ip(t,e){return e=ru({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function al(t,e,n,r){return r!==null&&Vf(r),Ci(e,t.child,null,n),t=ip(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cd(Error(A(422))),al(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ru({mode:"visible",children:r.children},s,0,null),i=ls(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ci(e,t.child,null,o),e.child.memoizedState=bh(o),e.memoizedState=Sh,i);if(!(e.mode&1))return al(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=cd(i,r,void 0),al(t,e,o,r)}if(a=(o&t.childLanes)!==0,yt||a){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Un(t,s),en(r,t,s,-1))}return dp(),r=cd(Error(A(421))),al(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ST.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tt=Sr(s.nextSibling),Nt=e,Ce=!0,Qt=null,t!==null&&(Mt[Dt++]=kn,Mt[Dt++]=Pn,Mt[Dt++]=us,kn=t.id,Pn=t.overflow,us=e),e=ip(e,r.children),e.flags|=4096,e)}function Og(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vh(t.return,e,n)}function ud(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Vw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(lt(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Og(t,n,e);else if(t.tag===19)Og(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ud(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ud(e,!0,n,null,i);break;case"together":ud(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hT(t,e,n){switch(e.tag){case 3:zw(e),xi();break;case 5:yw(e);break;case 1:wt(e.type)&&rc(e);break;case 4:Xf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(oc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Bw(t,e,n):(ge(Ee,Ee.current&1),t=$n(t,e,n),t!==null?t.sibling:null);ge(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Hw(t,e,n)}return $n(t,e,n)}var Gw,Th,Kw,qw;Gw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Th=function(){};Kw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ts(vn.current);var i=null;switch(n){case"input":s=qd(t,s),r=qd(t,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Xd(t,s),r=Xd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tc)}Zd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};qw=function(t,e,n,r){n!==r&&(e.flags|=4)};function uo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fT(t,e,n){var r=e.pendingProps;switch(Bf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return wt(e.type)&&nc(),Je(e),null;case 3:return r=e.stateNode,Ei(),we(_t),we(tt),Zf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(Mh(Qt),Qt=null))),Th(t,e),Je(e),null;case 5:Jf(e);var s=ts(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)Kw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Je(e),null}if(t=ts(vn.current),il(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pn]=e,r[Zo]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Co.length;s++)_e(Co[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Wm(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Bm(r,i),_e("invalid",r)}Zd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&sl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&sl(r.textContent,a,t),s=["children",""+a]):zo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ya(r),zm(r,i,!0);break;case"textarea":Ya(r),Vm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=tc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[Zo]=r,Gw(t,e,!1,!1),e.stateNode=t;e:{switch(o=eh(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Co.length;s++)_e(Co[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Wm(t,r),s=qd(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Bm(t,r),s=Xd(t,r),_e("invalid",t);break;default:s=r}Zd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?b_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bo(t,l):typeof l=="number"&&Bo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&kf(t,i,l,o))}switch(n){case"input":Ya(t),zm(t,r,!1);break;case"textarea":Ya(t),Vm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ys(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ys(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)qw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=ts(ta.current),ts(vn.current),il(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(i=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return Je(e),null;case 13:if(we(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Tt!==null&&e.mode&1&&!(e.flags&128))hw(),xi(),e.flags|=98560,i=!1;else if(i=il(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[pn]=e}else xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),i=!1}else Qt!==null&&(Mh(Qt),Qt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Ue===0&&(Ue=3):dp())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return Ei(),Th(t,e),t===null&&Xo(e.stateNode.containerInfo),Je(e),null;case 10:return qf(e.type._context),Je(e),null;case 17:return wt(e.type)&&nc(),Je(e),null;case 19:if(we(Ee),i=e.memoizedState,i===null)return Je(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)uo(i,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cc(t),o!==null){for(e.flags|=128,uo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Ee,Ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ae()>bi&&(e.flags|=128,r=!0,uo(i,!1),e.lanes=4194304)}else{if(!r)if(t=cc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return Je(e),null}else 2*Ae()-i.renderingStartTime>bi&&n!==1073741824&&(e.flags|=128,r=!0,uo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ae(),e.sibling=null,n=Ee.current,ge(Ee,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return up(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?St&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function pT(t,e){switch(Bf(e),e.tag){case 1:return wt(e.type)&&nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(),we(_t),we(tt),Zf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jf(e),null;case 13:if(we(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ee),null;case 4:return Ei(),null;case 10:return qf(e.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var ll=!1,et=!1,mT=typeof WeakSet=="function"?WeakSet:Set,j=null;function Gs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Nh(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Mg=!1;function gT(t,e){if(uh=Jl,t=Z_(),Wf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dh={focusedElem:t,selectionRange:n},Jl=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,x=w.memoizedState,_=e.stateNode,p=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vt(e.type,g),x);_.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(C){Ie(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return w=Mg,Mg=!1,w}function Ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nh(e,n,i)}s=s.next}while(s!==r)}}function tu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ih(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qw(t){var e=t.alternate;e!==null&&(t.alternate=null,Qw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[Zo],delete e[ph],delete e[Jb],delete e[Zb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yw(t){return t.tag===5||t.tag===3||t.tag===4}function Dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tc));else if(r!==4&&(t=t.child,t!==null))for(kh(t,e,n),t=t.sibling;t!==null;)kh(t,e,n),t=t.sibling}function Ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ph(t,e,n),t=t.sibling;t!==null;)Ph(t,e,n),t=t.sibling}var Be=null,qt=!1;function Qn(t,e,n){for(n=n.child;n!==null;)Xw(t,e,n),n=n.sibling}function Xw(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Kc,n)}catch{}switch(n.tag){case 5:et||Gs(n,e);case 6:var r=Be,s=qt;Be=null,Qn(t,e,n),Be=r,qt=s,Be!==null&&(qt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(qt?(t=Be,n=n.stateNode,t.nodeType===8?rd(t.parentNode,n):t.nodeType===1&&rd(t,n),qo(t)):rd(Be,n.stateNode));break;case 4:r=Be,s=qt,Be=n.stateNode.containerInfo,qt=!0,Qn(t,e,n),Be=r,qt=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nh(n,e,o),s=s.next}while(s!==r)}Qn(t,e,n);break;case 1:if(!et&&(Gs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Qn(t,e,n),et=r):Qn(t,e,n);break;default:Qn(t,e,n)}}function Lg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mT),e.forEach(function(r){var s=bT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,qt=!1;break e;case 3:Be=a.stateNode.containerInfo,qt=!0;break e;case 4:Be=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Be===null)throw Error(A(160));Xw(i,o,s),Be=null,qt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ie(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jw(e,t),e=e.sibling}function Jw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),cn(t),r&4){try{Ao(3,t,t.return),tu(3,t)}catch(g){Ie(t,t.return,g)}try{Ao(5,t,t.return)}catch(g){Ie(t,t.return,g)}}break;case 1:zt(e,t),cn(t),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(zt(e,t),cn(t),r&512&&n!==null&&Gs(n,n.return),t.flags&32){var s=t.stateNode;try{Bo(s,"")}catch(g){Ie(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&w_(s,i),eh(a,o);var c=eh(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?b_(s,h):d==="dangerouslySetInnerHTML"?E_(s,h):d==="children"?Bo(s,h):kf(s,d,h,c)}switch(a){case"input":Qd(s,i);break;case"textarea":x_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ys(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ys(s,!!i.multiple,i.defaultValue,!0):Ys(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zo]=i}catch(g){Ie(t,t.return,g)}}break;case 6:if(zt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Ie(t,t.return,g)}}break;case 3:if(zt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qo(e.containerInfo)}catch(g){Ie(t,t.return,g)}break;case 4:zt(e,t),cn(t);break;case 13:zt(e,t),cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lp=Ae())),r&4&&Lg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(et=(c=et)||d,zt(e,t),et=c):zt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(j=t,d=t.child;d!==null;){for(h=j=d;j!==null;){switch(f=j,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ao(4,f,f.return);break;case 1:Gs(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){Ie(r,n,g)}}break;case 5:Gs(f,f.return);break;case 22:if(f.memoizedState!==null){Fg(h);continue}}v!==null?(v.return=f,j=v):Fg(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S_("display",o))}catch(g){Ie(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Ie(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(e,t),cn(t),r&4&&Lg(t);break;case 21:break;default:zt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Yw(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bo(s,""),r.flags&=-33);var i=Dg(t);Ph(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Dg(t);kh(t,a,o);break;default:throw Error(A(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yT(t,e,n){j=t,Zw(t)}function Zw(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ll;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||et;a=ll;var c=et;if(ll=o,(et=l)&&!c)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Ug(s):l!==null?(l.return=o,j=l):Ug(s);for(;i!==null;)j=i,Zw(i),i=i.sibling;j=s,ll=a,et=c}jg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):jg(t)}}function jg(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||tu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&xg(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}et||e.flags&512&&Ih(e)}catch(f){Ie(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Fg(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Ug(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tu(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ie(e,s,l)}}var i=e.return;try{Ih(e)}catch(l){Ie(e,i,l)}break;case 5:var o=e.return;try{Ih(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var vT=Math.ceil,hc=Gn.ReactCurrentDispatcher,op=Gn.ReactCurrentOwner,Ut=Gn.ReactCurrentBatchConfig,se=0,ze=null,Me=null,Ge=0,St=0,Ks=zr(0),Ue=0,ia=null,hs=0,nu=0,ap=0,Oo=null,gt=null,lp=0,bi=1/0,Nn=null,fc=!1,Rh=null,Tr=null,cl=!1,vr=null,pc=0,Mo=0,Ah=null,Ol=-1,Ml=0;function dt(){return se&6?Ae():Ol!==-1?Ol:Ol=Ae()}function Nr(t){return t.mode&1?se&2&&Ge!==0?Ge&-Ge:tT.transition!==null?(Ml===0&&(Ml=j_()),Ml):(t=ae,t!==0||(t=window.event,t=t===void 0?16:B_(t.type)),t):1}function en(t,e,n,r){if(50<Mo)throw Mo=0,Ah=null,Error(A(185));Ta(t,n,r),(!(se&2)||t!==ze)&&(t===ze&&(!(se&2)&&(nu|=n),Ue===4&&ar(t,Ge)),xt(t,r),n===1&&se===0&&!(e.mode&1)&&(bi=Ae()+500,Jc&&Br()))}function xt(t,e){var n=t.callbackNode;tb(t,e);var r=Xl(t,t===ze?Ge:0);if(r===0)n!==null&&qm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qm(n),e===1)t.tag===0?eT($g.bind(null,t)):cw($g.bind(null,t)),Yb(function(){!(se&6)&&Br()}),n=null;else{switch(F_(r)){case 1:n=Mf;break;case 4:n=D_;break;case 16:n=Yl;break;case 536870912:n=L_;break;default:n=Yl}n=ax(n,ex.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ex(t,e){if(Ol=-1,Ml=0,se&6)throw Error(A(327));var n=t.callbackNode;if(ti()&&t.callbackNode!==n)return null;var r=Xl(t,t===ze?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mc(t,r);else{e=r;var s=se;se|=2;var i=nx();(ze!==t||Ge!==e)&&(Nn=null,bi=Ae()+500,as(t,e));do try{xT();break}catch(a){tx(t,a)}while(!0);Kf(),hc.current=i,se=s,Me!==null?e=0:(ze=null,Ge=0,e=Ue)}if(e!==0){if(e===2&&(s=ih(t),s!==0&&(r=s,e=Oh(t,s))),e===1)throw n=ia,as(t,0),ar(t,r),xt(t,Ae()),n;if(e===6)ar(t,r);else{if(s=t.current.alternate,!(r&30)&&!_T(s)&&(e=mc(t,r),e===2&&(i=ih(t),i!==0&&(r=i,e=Oh(t,i))),e===1))throw n=ia,as(t,0),ar(t,r),xt(t,Ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Yr(t,gt,Nn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=lp+500-Ae(),10<e)){if(Xl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fh(Yr.bind(null,t,gt,Nn),e);break}Yr(t,gt,Nn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vT(r/1960))-r,10<r){t.timeoutHandle=fh(Yr.bind(null,t,gt,Nn),r);break}Yr(t,gt,Nn);break;case 5:Yr(t,gt,Nn);break;default:throw Error(A(329))}}}return xt(t,Ae()),t.callbackNode===n?ex.bind(null,t):null}function Oh(t,e){var n=Oo;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=mc(t,e),t!==2&&(e=gt,gt=n,e!==null&&Mh(e)),t}function Mh(t){gt===null?gt=t:gt.push.apply(gt,t)}function _T(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~ap,e&=~nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function $g(t){if(se&6)throw Error(A(327));ti();var e=Xl(t,0);if(!(e&1))return xt(t,Ae()),null;var n=mc(t,e);if(t.tag!==0&&n===2){var r=ih(t);r!==0&&(e=r,n=Oh(t,r))}if(n===1)throw n=ia,as(t,0),ar(t,e),xt(t,Ae()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,gt,Nn),xt(t,Ae()),null}function cp(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(bi=Ae()+500,Jc&&Br())}}function fs(t){vr!==null&&vr.tag===0&&!(se&6)&&ti();var e=se;se|=1;var n=Ut.transition,r=ae;try{if(Ut.transition=null,ae=1,t)return t()}finally{ae=r,Ut.transition=n,se=e,!(se&6)&&Br()}}function up(){St=Ks.current,we(Ks)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Qb(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Bf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nc();break;case 3:Ei(),we(_t),we(tt),Zf();break;case 5:Jf(r);break;case 4:Ei();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:qf(r.type._context);break;case 22:case 23:up()}n=n.return}if(ze=t,Me=t=Ir(t.current,null),Ge=St=e,Ue=0,ia=null,ap=nu=hs=0,gt=Oo=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}es=null}return t}function tx(t,e){do{var n=Me;try{if(Kf(),Pl.current=dc,uc){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uc=!1}if(ds=0,He=Le=Se=null,Ro=!1,na=0,op.current=null,n===null||n.return===null){Ue=1,ia=e,Me=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ng(o);if(v!==null){v.flags&=-257,Ig(v,o,a,i,e),v.mode&1&&Tg(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){Tg(i,c,e),dp();break e}l=Error(A(426))}}else if(Ce&&a.mode&1){var x=Ng(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ig(x,o,a,i,e),Vf(Si(l,a));break e}}i=l=Si(l,a),Ue!==4&&(Ue=2),Oo===null?Oo=[i]:Oo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Fw(i,l,e);wg(i,_);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Tr===null||!Tr.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Uw(i,a,e);wg(i,C);break e}}i=i.return}while(i!==null)}sx(n)}catch(E){e=E,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function nx(){var t=hc.current;return hc.current=dc,t===null?dc:t}function dp(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),ze===null||!(hs&268435455)&&!(nu&268435455)||ar(ze,Ge)}function mc(t,e){var n=se;se|=2;var r=nx();(ze!==t||Ge!==e)&&(Nn=null,as(t,e));do try{wT();break}catch(s){tx(t,s)}while(!0);if(Kf(),se=n,hc.current=r,Me!==null)throw Error(A(261));return ze=null,Ge=0,Ue}function wT(){for(;Me!==null;)rx(Me)}function xT(){for(;Me!==null&&!G1();)rx(Me)}function rx(t){var e=ox(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?sx(t):Me=e,op.current=null}function sx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pT(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Me=null;return}}else if(n=fT(n,e,St),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Ue===0&&(Ue=5)}function Yr(t,e,n){var r=ae,s=Ut.transition;try{Ut.transition=null,ae=1,CT(t,e,n,r)}finally{Ut.transition=s,ae=r}return null}function CT(t,e,n,r){do ti();while(vr!==null);if(se&6)throw Error(A(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(nb(t,i),t===ze&&(Me=ze=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,ax(Yl,function(){return ti(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var o=ae;ae=1;var a=se;se|=4,op.current=null,gT(t,n),Jw(n,t),Wb(dh),Jl=!!uh,dh=uh=null,t.current=n,yT(n),K1(),se=a,ae=o,Ut.transition=i}else t.current=n;if(cl&&(cl=!1,vr=t,pc=s),i=t.pendingLanes,i===0&&(Tr=null),Y1(n.stateNode),xt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fc)throw fc=!1,t=Rh,Rh=null,t;return pc&1&&t.tag!==0&&ti(),i=t.pendingLanes,i&1?t===Ah?Mo++:(Mo=0,Ah=t):Mo=0,Br(),null}function ti(){if(vr!==null){var t=F_(pc),e=Ut.transition,n=ae;try{if(Ut.transition=null,ae=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,pc=0,se&6)throw Error(A(331));var s=se;for(se|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var d=j;switch(d.tag){case 0:case 11:case 15:Ao(8,d,i)}var h=d.child;if(h!==null)h.return=d,j=h;else for(;j!==null;){d=j;var f=d.sibling,v=d.return;if(Qw(d),d===c){j=null;break}if(f!==null){f.return=v,j=f;break}j=v}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ao(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,j=_;break e}j=i.return}}var p=t.current;for(j=p;j!==null;){o=j;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,j=m;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tu(9,a)}}catch(E){Ie(a,a.return,E)}if(a===o){j=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,j=C;break e}j=a.return}}if(se=s,Br(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Kc,t)}catch{}r=!0}return r}finally{ae=n,Ut.transition=e}}return!1}function Hg(t,e,n){e=Si(n,e),e=Fw(t,e,1),t=br(t,e,1),e=dt(),t!==null&&(Ta(t,1,e),xt(t,e))}function Ie(t,e,n){if(t.tag===3)Hg(t,t,n);else for(;e!==null;){if(e.tag===3){Hg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tr===null||!Tr.has(r))){t=Si(n,t),t=Uw(e,t,1),e=br(e,t,1),t=dt(),e!==null&&(Ta(e,1,t),xt(e,t));break}}e=e.return}}function ET(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ge&n)===n&&(Ue===4||Ue===3&&(Ge&130023424)===Ge&&500>Ae()-lp?as(t,0):ap|=n),xt(t,e)}function ix(t,e){e===0&&(t.mode&1?(e=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):e=1);var n=dt();t=Un(t,e),t!==null&&(Ta(t,e,n),xt(t,n))}function ST(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ix(t,n)}function bT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),ix(t,n)}var ox;ox=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,hT(t,e,n);yt=!!(t.flags&131072)}else yt=!1,Ce&&e.flags&1048576&&uw(e,ic,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Al(t,e),t=e.pendingProps;var s=wi(e,tt.current);ei(e,n),s=tp(null,e,r,t,s,n);var i=np();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(i=!0,rc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yf(e),s.updater=eu,e.stateNode=s,s._reactInternals=e,wh(e,r,t,n),e=Eh(null,e,r,!0,i,n)):(e.tag=0,Ce&&i&&zf(e),lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Al(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NT(r),t=Vt(r,t),s){case 0:e=Ch(null,e,r,t,n);break e;case 1:e=Rg(null,e,r,t,n);break e;case 11:e=kg(null,e,r,t,n);break e;case 14:e=Pg(null,e,r,Vt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),Ch(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),Rg(t,e,r,s,n);case 3:e:{if(zw(e),t===null)throw Error(A(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gw(t,e),lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Si(Error(A(423)),e),e=Ag(t,e,r,n,s);break e}else if(r!==s){s=Si(Error(A(424)),e),e=Ag(t,e,r,n,s);break e}else for(Tt=Sr(e.stateNode.containerInfo.firstChild),Nt=e,Ce=!0,Qt=null,n=pw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),r===s){e=$n(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return yw(e),t===null&&yh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hh(r,s)?o=null:i!==null&&hh(r,i)&&(e.flags|=32),Ww(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&yh(e),null;case 13:return Bw(t,e,n);case 4:return Xf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),kg(t,e,r,s,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(oc,r._currentValue),r._currentValue=o,i!==null)if(nn(i.value,o)){if(i.children===s.children&&!_t.current){e=$n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ei(e,n),s=$t(s),r=r(s),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,s=Vt(r,e.pendingProps),s=Vt(r.type,s),Pg(t,e,r,s,n);case 15:return $w(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),Al(t,e),e.tag=1,wt(r)?(t=!0,rc(e)):t=!1,ei(e,n),jw(e,r,s),wh(e,r,s,n),Eh(null,e,r,!0,t,n);case 19:return Vw(t,e,n);case 22:return Hw(t,e,n)}throw Error(A(156,e.tag))};function ax(t,e){return M_(t,e)}function TT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new TT(t,e,n,r)}function hp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NT(t){if(typeof t=="function")return hp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rf)return 11;if(t===Af)return 14}return 2}function Ir(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case js:return ls(n.children,s,i,e);case Pf:o=8,s|=8;break;case Bd:return t=jt(12,n,e,s|2),t.elementType=Bd,t.lanes=i,t;case Vd:return t=jt(13,n,e,s),t.elementType=Vd,t.lanes=i,t;case Gd:return t=jt(19,n,e,s),t.elementType=Gd,t.lanes=i,t;case y_:return ru(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m_:o=10;break e;case g_:o=9;break e;case Rf:o=11;break e;case Af:o=14;break e;case sr:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=jt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ls(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function ru(t,e,n,r){return t=jt(22,t,r,e),t.elementType=y_,t.lanes=n,t.stateNode={isHidden:!1},t}function dd(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function hd(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fp(t,e,n,r,s,i,o,a,l){return t=new IT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(i),t}function kT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lx(t){if(!t)return Dr;t=t._reactInternals;e:{if(Ss(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(wt(n))return lw(t,n,e)}return e}function cx(t,e,n,r,s,i,o,a,l){return t=fp(n,r,!0,t,s,i,o,a,l),t.context=lx(null),n=t.current,r=dt(),s=Nr(n),i=Mn(r,s),i.callback=e??null,br(n,i,s),t.current.lanes=s,Ta(t,s,r),xt(t,r),t}function su(t,e,n,r){var s=e.current,i=dt(),o=Nr(s);return n=lx(n),e.context===null?e.context=n:e.pendingContext=n,e=Mn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(s,e,o),t!==null&&(en(t,s,o,i),kl(t,s,o)),o}function gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pp(t,e){Wg(t,e),(t=t.alternate)&&Wg(t,e)}function PT(){return null}var ux=typeof reportError=="function"?reportError:function(t){console.error(t)};function mp(t){this._internalRoot=t}iu.prototype.render=mp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));su(t,e,null,null)};iu.prototype.unmount=mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){su(null,t,null,null)}),e[Fn]=null}};function iu(t){this._internalRoot=t}iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=H_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&z_(t)}};function gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zg(){}function RT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=gc(o);i.call(c)}}var o=cx(e,r,t,0,null,!1,!1,"",zg);return t._reactRootContainer=o,t[Fn]=o.current,Xo(t.nodeType===8?t.parentNode:t),fs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=gc(l);a.call(c)}}var l=fp(t,0,!1,null,null,!1,!1,"",zg);return t._reactRootContainer=l,t[Fn]=l.current,Xo(t.nodeType===8?t.parentNode:t),fs(function(){su(e,l,n,r)}),l}function au(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=gc(o);a.call(l)}}su(e,o,t,s)}else o=RT(n,e,t,s,r);return gc(o)}U_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xo(e.pendingLanes);n!==0&&(Df(e,n|1),xt(e,Ae()),!(se&6)&&(bi=Ae()+500,Br()))}break;case 13:fs(function(){var r=Un(t,1);if(r!==null){var s=dt();en(r,t,1,s)}}),pp(t,1)}};Lf=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=dt();en(e,t,134217728,n)}pp(t,134217728)}};$_=function(t){if(t.tag===13){var e=Nr(t),n=Un(t,e);if(n!==null){var r=dt();en(n,t,e,r)}pp(t,e)}};H_=function(){return ae};W_=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};nh=function(t,e,n){switch(e){case"input":if(Qd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xc(r);if(!s)throw Error(A(90));__(r),Qd(r,s)}}}break;case"textarea":x_(t,n);break;case"select":e=n.value,e!=null&&Ys(t,!!n.multiple,e,!1)}};I_=cp;k_=fs;var AT={usingClientEntryPoint:!1,Events:[Ia,Hs,Xc,T_,N_,cp]},ho={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OT={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A_(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||PT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Kc=ul.inject(OT),yn=ul}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT;Rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(e))throw Error(A(200));return kT(t,e,null,n)};Rt.createRoot=function(t,e){if(!gp(t))throw Error(A(299));var n=!1,r="",s=ux;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fp(t,1,!1,null,null,n,!1,r,s),t[Fn]=e.current,Xo(t.nodeType===8?t.parentNode:t),new mp(e)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=A_(e),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return fs(t)};Rt.hydrate=function(t,e,n){if(!ou(e))throw Error(A(200));return au(null,t,e,!0,n)};Rt.hydrateRoot=function(t,e,n){if(!gp(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ux;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cx(e,null,t,1,n??null,s,!1,i,o),t[Fn]=e.current,Xo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new iu(e)};Rt.render=function(t,e,n){if(!ou(e))throw Error(A(200));return au(null,t,e,!1,n)};Rt.unmountComponentAtNode=function(t){if(!ou(t))throw Error(A(40));return t._reactRootContainer?(fs(function(){au(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Rt.unstable_batchedUpdates=cp;Rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ou(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return au(t,e,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function dx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dx)}catch(t){console.error(t)}}dx(),d_.exports=Rt;var bs=d_.exports;const MT=Jv(bs);var hx,Bg=bs;hx=Bg.createRoot,Bg.hydrateRoot;function DT(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var fx={exports:{}},px={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=y;function LT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jT=typeof Object.is=="function"?Object.is:LT,FT=Ti.useState,UT=Ti.useEffect,$T=Ti.useLayoutEffect,HT=Ti.useDebugValue;function WT(t,e){var n=e(),r=FT({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return $T(function(){s.value=n,s.getSnapshot=e,fd(s)&&i({inst:s})},[t,n,e]),UT(function(){return fd(s)&&i({inst:s}),t(function(){fd(s)&&i({inst:s})})},[t]),HT(n),n}function fd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jT(t,n)}catch{return!0}}function zT(t,e){return e()}var BT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zT:WT;px.useSyncExternalStore=Ti.useSyncExternalStore!==void 0?Ti.useSyncExternalStore:BT;fx.exports=px;var VT=fx.exports;const GT=c_.useInsertionEffect,KT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qT=KT?y.useLayoutEffect:y.useEffect,QT=GT||qT,mx=t=>{const e=y.useRef([t,(...n)=>e[0](...n)]).current;return QT(()=>{e[0]=t}),e[1]},YT="popstate",yp="pushState",vp="replaceState",XT="hashchange",Vg=[YT,yp,vp,XT],JT=t=>{for(const e of Vg)addEventListener(e,t);return()=>{for(const e of Vg)removeEventListener(e,t)}},gx=(t,e)=>VT.useSyncExternalStore(JT,t,e),ZT=()=>location.search,eN=({ssrSearch:t=""}={})=>gx(ZT,()=>t),Gg=()=>location.pathname,tN=({ssrPath:t}={})=>gx(Gg,t?()=>t:Gg),nN=(t,{replace:e=!1,state:n=null}={})=>history[e?vp:yp](n,"",t),rN=(t={})=>[tN(t),nN],Kg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Kg]>"u"){for(const t of[yp,vp]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Kg,{value:!0})}const sN=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",yx=(t="")=>t==="/"?"":t,iN=(t,e)=>t[0]==="~"?t.slice(1):yx(e)+t,oN=(t="",e)=>sN(qg(yx(t)),qg(e)),qg=t=>{try{return decodeURI(t)}catch{return t}},vx={hook:rN,searchHook:eN,parser:DT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},_x=y.createContext(vx),$i=()=>y.useContext(_x),wx={},xx=y.createContext(wx),aN=()=>y.useContext(xx),lu=t=>{const[e,n]=t.hook(t);return[oN(t.base,e),mx((r,s)=>n(iN(r,t.base),s))]},Hi=()=>lu($i()),_p=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((h,f)=>[h,l[f]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},wp=t=>_p($i().parser,t,Hi()[0]),lN=({children:t,...e})=>{var d,h;const n=$i(),r=e.hook?vx:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=y.useRef({}),l=a.current,c=l;for(let f in r){const v=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&v!==c[f]&&(a.current=c={...c}),c[f]=v,v!==r[f]&&(s=c)}return y.createElement(_x.Provider,{value:s,children:t})},Qg=({children:t,component:e},n)=>e?y.createElement(e,{params:n}):typeof t=="function"?t(n):t,cN=t=>{let e=y.useRef(wx),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Yn=({path:t,nest:e,match:n,...r})=>{const s=$i(),[i]=lu(s),[o,a,l]=n??_p(s.parser,t,i,e),c=cN({...aN(),...a});if(!o)return null;const d=l?y.createElement(lN,{base:l},Qg(r,c)):Qg(r,c);return y.createElement(xx.Provider,{value:c,children:d})},Ll=y.forwardRef((t,e)=>{const n=$i(),[r,s]=lu(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:h,state:f,...v}=t,w=mx(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&y.isValidElement(c)?y.cloneElement(c,{onClick:w,href:g}):y.createElement("a",{...v,onClick:w,href:g,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),Cx=t=>Array.isArray(t)?t.flatMap(e=>Cx(e&&e.type===y.Fragment?e.props.children:e)):[t],uN=({children:t,location:e})=>{const n=$i(),[r]=lu(n);for(const s of Cx(t)){let i=0;if(y.isValidElement(s)&&(i=_p(n.parser,s.props.path,e||r,s.props.nest))[0])return y.cloneElement(s,{match:i})}return null};var cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uu=typeof window>"u"||"Deno"in globalThis;function Gt(){}function dN(t,e){return typeof t=="function"?t(e):t}function hN(t){return typeof t=="number"&&t>=0&&t!==1/0}function fN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yg(t,e){return typeof t=="function"?t(e):t}function pN(t,e){return typeof t=="function"?t(e):t}function Xg(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xp(o,e.options))return!1}else if(!aa(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Jg(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(oa(e.options.mutationKey)!==oa(i))return!1}else if(!aa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xp(t,e){return((e==null?void 0:e.queryKeyHashFn)||oa)(t)}function oa(t){return JSON.stringify(t,(e,n)=>Dh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function aa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!aa(t[n],e[n])):!1}function Ex(t,e){if(t===e)return t;const n=Zg(t)&&Zg(e);if(n||Dh(t)&&Dh(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=Ex(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Zg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dh(t){if(!ey(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ey(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ey(t){return Object.prototype.toString.call(t)==="[object Object]"}function mN(t){return new Promise(e=>{setTimeout(e,t)})}function gN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ex(t,e):e}function yN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Cp=Symbol();function Sx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var rs,hr,ui,Bv,_N=(Bv=class extends cu{constructor(){super();oe(this,rs);oe(this,hr);oe(this,ui);q(this,ui,e=>{if(!uu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,hr)||this.setEventListener(I(this,ui))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,hr))==null||e.call(this),q(this,hr,void 0))}setEventListener(e){var n;q(this,ui,e),(n=I(this,hr))==null||n.call(this),q(this,hr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){I(this,rs)!==e&&(q(this,rs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof I(this,rs)=="boolean"?I(this,rs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rs=new WeakMap,hr=new WeakMap,ui=new WeakMap,Bv),bx=new _N,di,fr,hi,Vv,wN=(Vv=class extends cu{constructor(){super();oe(this,di,!0);oe(this,fr);oe(this,hi);q(this,hi,e=>{if(!uu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,fr)||this.setEventListener(I(this,hi))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,fr))==null||e.call(this),q(this,fr,void 0))}setEventListener(e){var n;q(this,hi,e),(n=I(this,fr))==null||n.call(this),q(this,fr,e(this.setOnline.bind(this)))}setOnline(e){I(this,di)!==e&&(q(this,di,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return I(this,di)}},di=new WeakMap,fr=new WeakMap,hi=new WeakMap,Vv),yc=new wN;function xN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function CN(t){return Math.min(1e3*2**t,3e4)}function Tx(t){return(t??"online")==="online"?yc.isOnline():!0}var Nx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function pd(t){return t instanceof Nx}function Ix(t){let e=!1,n=0,r=!1,s;const i=xN(),o=g=>{var x;r||(f(new Nx(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>bx.isFocused()&&(t.networkMode==="always"||yc.isOnline())&&t.canRun(),d=()=>Tx(t.networkMode)&&t.canRun(),h=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),s==null||s(),i.reject(g))},v=()=>new Promise(g=>{var x;s=_=>{(r||c())&&g(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(h).catch(_=>{var S;if(r)return;const p=t.retry??(uu?0:3),m=t.retryDelay??CN,C=typeof m=="function"?m(n,_):m,E=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,_);if(e||!E){f(_);return}n++,(S=t.onFail)==null||S.call(t,n,_),mN(C).then(()=>c()?void 0:v()).then(()=>{e?f(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():v().then(w),i)}}function EN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ct=EN(),ss,Gv,kx=(Gv=class{constructor(){oe(this,ss)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hN(this.gcTime)&&q(this,ss,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uu?1/0:5*60*1e3))}clearGcTimeout(){I(this,ss)&&(clearTimeout(I(this,ss)),q(this,ss,void 0))}},ss=new WeakMap,Gv),fi,pi,Ot,Ze,Ea,is,Kt,Tn,Kv,SN=(Kv=class extends kx{constructor(e){super();oe(this,Kt);oe(this,fi);oe(this,pi);oe(this,Ot);oe(this,Ze);oe(this,Ea);oe(this,is);q(this,is,!1),q(this,Ea,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,Ot,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,fi,TN(this.options)),this.state=e.state??I(this,fi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=I(this,Ze))==null?void 0:e.promise}setOptions(e){this.options={...I(this,Ea),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Ot).remove(this)}setData(e,n){const r=gN(this.state.data,e,this.options);return Ye(this,Kt,Tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Kt,Tn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=I(this,Ze))==null?void 0:r.promise;return(s=I(this,Ze))==null||s.cancel(e),n?n.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,fi))}isActive(){return this.observers.some(e=>pN(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fN(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=I(this,Ze))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=I(this,Ze))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),I(this,Ot).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(I(this,Ze)&&(I(this,is)?I(this,Ze).cancel({revert:!0}):I(this,Ze).cancelRetry()),this.scheduleGc()),I(this,Ot).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Kt,Tn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,Ze))return I(this,Ze).continueRetry(),I(this,Ze).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(q(this,is,!0),r.signal)})},i=()=>{const h=Sx(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),q(this,is,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),q(this,pi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ye(this,Kt,Tn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,v,w,g;pd(h)&&h.silent||Ye(this,Kt,Tn).call(this,{type:"error",error:h}),pd(h)||((v=(f=I(this,Ot).config).onError)==null||v.call(f,h,this),(g=(w=I(this,Ot).config).onSettled)==null||g.call(w,this.state.data,h,this)),this.scheduleGc()};return q(this,Ze,Ix({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,v,w,g;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(v=(f=I(this,Ot).config).onSuccess)==null||v.call(f,h,this),(g=(w=I(this,Ot).config).onSettled)==null||g.call(w,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{Ye(this,Kt,Tn).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ye(this,Kt,Tn).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Kt,Tn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),I(this,Ze).start()}},fi=new WeakMap,pi=new WeakMap,Ot=new WeakMap,Ze=new WeakMap,Ea=new WeakMap,is=new WeakMap,Kt=new WeakSet,Tn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return pd(s)&&s.revert&&I(this,pi)?{...I(this,pi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,Ot).notify({query:this,type:"updated",action:e})})},Kv);function bN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function TN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dn,qv,NN=(qv=class extends cu{constructor(e={}){super();oe(this,dn);this.config=e,q(this,dn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xp(s,n);let o=this.get(i);return o||(o=new SN({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){I(this,dn).has(e.queryHash)||(I(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=I(this,dn).get(e.queryHash);n&&(e.destroy(),n===e&&I(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return I(this,dn).get(e)}getAll(){return[...I(this,dn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Xg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Xg(e,r)):n}notify(e){ct.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ct.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ct.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,qv),hn,at,os,fn,nr,Qv,IN=(Qv=class extends kx{constructor(e){super();oe(this,fn);oe(this,hn);oe(this,at);oe(this,os);this.mutationId=e.mutationId,q(this,at,e.mutationCache),q(this,hn,[]),this.state=e.state||kN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){I(this,hn).includes(e)||(I(this,hn).push(e),this.clearGcTimeout(),I(this,at).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,hn,I(this,hn).filter(n=>n!==e)),this.scheduleGc(),I(this,at).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){I(this,hn).length||(this.state.status==="pending"?this.scheduleGc():I(this,at).remove(this))}continue(){var e;return((e=I(this,os))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,h,f,v,w,g,x,_,p,m,C,E,S,b;q(this,os,Ix({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,P)=>{Ye(this,fn,nr).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{Ye(this,fn,nr).call(this,{type:"pause"})},onContinue:()=>{Ye(this,fn,nr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,at).canRun(this)}));const n=this.state.status==="pending",r=!I(this,os).canStart();try{if(!n){Ye(this,fn,nr).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=I(this,at).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Ye(this,fn,nr).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const N=await I(this,os).start();return await((c=(l=I(this,at).config).onSuccess)==null?void 0:c.call(l,N,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,N,e,this.state.context)),await((v=(f=I(this,at).config).onSettled)==null?void 0:v.call(f,N,null,this.state.variables,this.state.context,this)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,N,null,e,this.state.context)),Ye(this,fn,nr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((_=(x=I(this,at).config).onError)==null?void 0:_.call(x,N,e,this.state.context,this)),await((m=(p=this.options).onError)==null?void 0:m.call(p,N,e,this.state.context)),await((E=(C=I(this,at).config).onSettled)==null?void 0:E.call(C,void 0,N,this.state.variables,this.state.context,this)),await((b=(S=this.options).onSettled)==null?void 0:b.call(S,void 0,N,e,this.state.context)),N}finally{Ye(this,fn,nr).call(this,{type:"error",error:N})}}finally{I(this,at).runNext(this)}}},hn=new WeakMap,at=new WeakMap,os=new WeakMap,fn=new WeakSet,nr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ct.batch(()=>{I(this,hn).forEach(r=>{r.onMutationUpdate(e)}),I(this,at).notify({mutation:this,type:"updated",action:e})})},Qv);function kN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Et,Sa,Yv,PN=(Yv=class extends cu{constructor(e={}){super();oe(this,Et);oe(this,Sa);this.config=e,q(this,Et,new Map),q(this,Sa,Date.now())}build(e,n,r){const s=new IN({mutationCache:this,mutationId:++Ka(this,Sa)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=dl(e),r=I(this,Et).get(n)??[];r.push(e),I(this,Et).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=dl(e);if(I(this,Et).has(n)){const s=(r=I(this,Et).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?I(this,Et).delete(n):I(this,Et).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=I(this,Et).get(dl(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=I(this,Et).get(dl(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...I(this,Et).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Jg(n,r))}findAll(e={}){return this.getAll().filter(n=>Jg(e,n))}notify(e){ct.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ct.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gt))))}},Et=new WeakMap,Sa=new WeakMap,Yv);function dl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ty(t){return{onFetch:(e,n)=>{var d,h,f,v,w;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=Sx(e.options,e.fetchOptions),p=async(m,C,E)=>{if(g)return Promise.reject();if(C==null&&m.pages.length)return Promise.resolve(m);const S={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};x(S);const b=await _(S),{maxPages:N}=e.options,P=E?vN:yN;return{pages:P(m.pages,b,N),pageParams:P(m.pageParams,C,N)}};if(s&&i.length){const m=s==="backward",C=m?RN:ny,E={pages:i,pageParams:o},S=C(r,E);a=await p(E,S,m)}else{const m=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:ny(r,a);if(l>0&&C==null)break;a=await p(a,C),l++}while(l<m)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ny(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function RN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ne,pr,mr,mi,gi,gr,yi,vi,Xv,AN=(Xv=class{constructor(t={}){oe(this,Ne);oe(this,pr);oe(this,mr);oe(this,mi);oe(this,gi);oe(this,gr);oe(this,yi);oe(this,vi);q(this,Ne,t.queryCache||new NN),q(this,pr,t.mutationCache||new PN),q(this,mr,t.defaultOptions||{}),q(this,mi,new Map),q(this,gi,new Map),q(this,gr,0)}mount(){Ka(this,gr)._++,I(this,gr)===1&&(q(this,yi,bx.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,Ne).onFocus())})),q(this,vi,yc.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,Ne).onOnline())})))}unmount(){var t,e;Ka(this,gr)._--,I(this,gr)===0&&((t=I(this,yi))==null||t.call(this),q(this,yi,void 0),(e=I(this,vi))==null||e.call(this),q(this,vi,void 0))}isFetching(t){return I(this,Ne).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return I(this,pr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=I(this,Ne).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=I(this,Ne).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Yg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return I(this,Ne).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=I(this,Ne).get(r.queryHash),i=s==null?void 0:s.state.data,o=dN(e,i);if(o!==void 0)return I(this,Ne).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ct.batch(()=>I(this,Ne).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=I(this,Ne).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=I(this,Ne);ct.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=I(this,Ne),r={type:"active",...t};return ct.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ct.batch(()=>I(this,Ne).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Gt).catch(Gt)}invalidateQueries(t={},e={}){return ct.batch(()=>{if(I(this,Ne).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ct.batch(()=>I(this,Ne).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Gt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Gt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=I(this,Ne).build(this,e);return n.isStaleByTime(Yg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gt).catch(Gt)}fetchInfiniteQuery(t){return t.behavior=ty(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gt).catch(Gt)}ensureInfiniteQueryData(t){return t.behavior=ty(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yc.isOnline()?I(this,pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Ne)}getMutationCache(){return I(this,pr)}getDefaultOptions(){return I(this,mr)}setDefaultOptions(t){q(this,mr,t)}setQueryDefaults(t,e){I(this,mi).set(oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...I(this,mi).values()];let n={};return e.forEach(r=>{aa(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){I(this,gi).set(oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...I(this,gi).values()];let n={};return e.forEach(r=>{aa(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...I(this,mr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Cp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...I(this,mr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){I(this,Ne).clear(),I(this,pr).clear()}},Ne=new WeakMap,pr=new WeakMap,mr=new WeakMap,mi=new WeakMap,gi=new WeakMap,gr=new WeakMap,yi=new WeakMap,vi=new WeakMap,Xv),ON=y.createContext(void 0),MN=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(ON.Provider,{value:t,children:e}));async function DN(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const LN=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await DN(n),await n.json())},jN=new AN({defaultOptions:{queries:{queryFn:LN({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),FN=1,UN=1e6;let md=0;function $N(){return md=(md+1)%Number.MAX_SAFE_INTEGER,md.toString()}const gd=new Map,ry=t=>{if(gd.has(t))return;const e=setTimeout(()=>{gd.delete(t),Do({type:"REMOVE_TOAST",toastId:t})},UN);gd.set(t,e)},HN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,FN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ry(n):t.toasts.forEach(r=>{ry(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},jl=[];let Fl={toasts:[]};function Do(t){Fl=HN(Fl,t),jl.forEach(e=>{e(Fl)})}function WN({...t}){const e=$N(),n=s=>Do({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Do({type:"DISMISS_TOAST",toastId:e});return Do({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Wi(){const[t,e]=y.useState(Fl);return y.useEffect(()=>(jl.push(e),()=>{const n=jl.indexOf(e);n>-1&&jl.splice(n,1)}),[t]),{...t,toast:WN,dismiss:n=>Do({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Px(...t){return e=>{let n=!1;const r=t.map(s=>{const i=sy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sy(t[s],null)}}}}function Re(...t){return y.useCallback(Px(...t),t)}function Pa(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:f,children:v,...w}=h,g=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,x=y.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:x,children:v})};c.displayName=i+"Provider";function d(h,f){var g;const v=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,w=y.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zN(s,...e)]}function zN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function la(t){const e=VN(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(KN);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var BN=la("Slot");function VN(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=QN(s),a=qN(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Px(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rx=Symbol("radix.slottable");function GN(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Rx,e}function KN(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rx}function qN(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function QN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ax(t){const e=t+"CollectionProvider",[n,r]=Pa(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:_}=g,p=tr.useRef(null),m=tr.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:m,collectionRef:p,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=la(a),c=tr.forwardRef((g,x)=>{const{scope:_,children:p}=g,m=i(a,_),C=Re(x,m.collectionRef);return u.jsx(l,{ref:C,children:p})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=la(d),v=tr.forwardRef((g,x)=>{const{scope:_,children:p,...m}=g,C=tr.useRef(null),E=Re(x,C),S=i(d,_);return tr.useEffect(()=>(S.itemMap.set(C,{ref:C,...m}),()=>void S.itemMap.delete(C))),u.jsx(f,{[h]:"",ref:E,children:p})});v.displayName=d;function w(g){const x=i(t+"CollectionConsumer",g);return tr.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const m=Array.from(p.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((S,b)=>m.indexOf(S.ref.current)-m.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:v},w,r]}var YN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=YN.reduce((t,e)=>{const n=la(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ox(t,e){t&&bs.flushSync(()=>t.dispatchEvent(e))}function Pt(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function XN(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var JN="DismissableLayer",Lh="dismissableLayer.update",ZN="dismissableLayer.pointerDownOutside",eI="dismissableLayer.focusOutside",iy,Mx=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),du=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(Mx),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),w=Re(e,b=>h(b)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(x),p=d?g.indexOf(d):-1,m=c.layersWithOutsidePointerEventsDisabled.size>0,C=p>=_,E=nI(b=>{const N=b.target,P=[...c.branches].some(R=>R.contains(N));!C||P||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),S=rI(b=>{const N=b.target;[...c.branches].some(R=>R.contains(N))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return XN(b=>{p===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(iy=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),oy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=iy)}},[d,f,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),oy())},[d,c]),y.useEffect(()=>{const b=()=>v({});return document.addEventListener(Lh,b),()=>document.removeEventListener(Lh,b)},[]),u.jsx(he.div,{...l,ref:w,style:{pointerEvents:m?C?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,E.onPointerDownCapture)})});du.displayName=JN;var tI="DismissableLayerBranch",Dx=y.forwardRef((t,e)=>{const n=y.useContext(Mx),r=y.useRef(null),s=Re(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(he.div,{...t,ref:s})});Dx.displayName=tI;function nI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Lx(ZN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&Lx(eI,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oy(){const t=new CustomEvent(Lh);document.dispatchEvent(t)}function Lx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ox(s,i):s.dispatchEvent(i)}var sI=du,iI=Dx,nt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},oI="Portal",Ep=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?MT.createPortal(u.jsx(he.div,{...r,ref:e}),o):null});Ep.displayName=oI;function aI(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Sp=t=>{const{present:e,children:n}=t,r=lI(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Re(r.ref,cI(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Sp.displayName="Presence";function lI(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=aI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=hl(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,v=hl(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=v=>{const g=hl(r.current).includes(v.animationName);if(v.target===e&&g&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=v=>{v.target===e&&(i.current=hl(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function hl(t){return(t==null?void 0:t.animationName)||"none"}function cI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=uI({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Pt(n),l=y.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function uI({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Pt(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var dI="VisuallyHidden",Ra=y.forwardRef((t,e)=>u.jsx(he.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ra.displayName=dI;var hI=Ra,bp="ToastProvider",[Tp,fI,pI]=Ax("Toast"),[jx,g3]=Pa("Toast",[pI]),[mI,hu]=jx(bp),Fx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bp}\`. Expected non-empty \`string\`.`),u.jsx(Tp.Provider,{scope:e,children:u.jsx(mI,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(v=>v+1),[]),onToastRemove:y.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Fx.displayName=bp;var Ux="ToastViewport",gI=["F8"],Fh="toast.viewportPause",Uh="toast.viewportResume",$x=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=gI,label:s="Notifications ({hotkey})",...i}=t,o=hu(Ux,n),a=fI(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=Re(e,h,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;y.useEffect(()=>{const x=_=>{var m;r.length!==0&&r.every(C=>_[C]||_.code===C)&&((m=h.current)==null||m.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,_=h.current;if(w&&x&&_){const p=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Fh);_.dispatchEvent(S),o.isClosePausedRef.current=!0}},m=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Uh);_.dispatchEvent(S),o.isClosePausedRef.current=!1}},C=S=>{!x.contains(S.relatedTarget)&&m()},E=()=>{x.contains(document.activeElement)||m()};return x.addEventListener("focusin",p),x.addEventListener("focusout",C),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",E),window.addEventListener("blur",p),window.addEventListener("focus",m),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",E),window.removeEventListener("blur",p),window.removeEventListener("focus",m)}}},[w,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:x})=>{const p=a().map(m=>{const C=m.ref.current,E=[C,...kI(C)];return x==="forwards"?E:E.reverse()});return(x==="forwards"?p.reverse():p).flat()},[a]);return y.useEffect(()=>{const x=h.current;if(x){const _=p=>{var E,S,b;const m=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!m){const N=document.activeElement,P=p.shiftKey;if(p.target===x&&P){(E=c.current)==null||E.focus();return}const O=g({tabbingDirection:P?"backwards":"forwards"}),$=O.findIndex(D=>D===N);yd(O.slice($+1))?p.preventDefault():P?(S=c.current)==null||S.focus():(b=d.current)==null||b.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,g]),u.jsxs(iI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx($h,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});yd(x)}}),u.jsx(Tp.Slot,{scope:n,children:u.jsx(he.ol,{tabIndex:-1,...i,ref:f})}),w&&u.jsx($h,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});yd(x)}})]})});$x.displayName=Ux;var Hx="ToastFocusProxy",$h=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=hu(Hx,n);return u.jsx(Ra,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});$h.displayName=Hx;var fu="Toast",yI="toast.swipeStart",vI="toast.swipeMove",_I="toast.swipeCancel",wI="toast.swipeEnd",Wx=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=jh({prop:r,defaultProp:s,onChange:i});return u.jsx(Sp,{present:n||a,children:u.jsx(EI,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Pt(t.onPause),onResume:Pt(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Wx.displayName=fu;var[xI,CI]=jx(fu,{onClose(){}}),EI=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:v,...w}=t,g=hu(fu,n),[x,_]=y.useState(null),p=Re(e,D=>_(D)),m=y.useRef(null),C=y.useRef(null),E=s||g.duration,S=y.useRef(0),b=y.useRef(E),N=y.useRef(0),{onToastAdd:P,onToastRemove:R}=g,F=Pt(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),o()}),O=y.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(F,D))},[F]);y.useEffect(()=>{const D=g.viewport;if(D){const G=()=>{O(b.current),c==null||c()},U=()=>{const V=new Date().getTime()-S.current;b.current=b.current-V,window.clearTimeout(N.current),l==null||l()};return D.addEventListener(Fh,U),D.addEventListener(Uh,G),()=>{D.removeEventListener(Fh,U),D.removeEventListener(Uh,G)}}},[g.viewport,E,l,c,O]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(E)},[i,E,g.isClosePausedRef,O]),y.useEffect(()=>(P(),()=>R()),[P,R]);const $=y.useMemo(()=>x?Qx(x):null,[x]);return g.viewport?u.jsxs(u.Fragment,{children:[$&&u.jsx(SI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),u.jsx(xI,{scope:n,onClose:F,children:bs.createPortal(u.jsx(Tp.ItemSlot,{scope:n,children:u.jsx(sI,{asChild:!0,onEscapeKeyDown:ee(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ee(t.onPointerDown,D=>{D.button===0&&(m.current={x:D.clientX,y:D.clientY})}),onPointerMove:ee(t.onPointerMove,D=>{if(!m.current)return;const G=D.clientX-m.current.x,U=D.clientY-m.current.y,V=!!C.current,T=["left","right"].includes(g.swipeDirection),k=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=T?k(0,G):0,H=T?0:k(0,U),X=D.pointerType==="touch"?10:2,Te={x:L,y:H},De={originalEvent:D,delta:Te};V?(C.current=Te,fl(vI,h,De,{discrete:!1})):ay(Te,g.swipeDirection,X)?(C.current=Te,fl(yI,d,De,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(G)>X||Math.abs(U)>X)&&(m.current=null)}),onPointerUp:ee(t.onPointerUp,D=>{const G=C.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),C.current=null,m.current=null,G){const V=D.currentTarget,T={originalEvent:D,delta:G};ay(G,g.swipeDirection,g.swipeThreshold)?fl(wI,v,T,{discrete:!0}):fl(_I,f,T,{discrete:!0}),V.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),SI=t=>{const{__scopeToast:e,children:n,...r}=t,s=hu(fu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return NI(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Ep,{asChild:!0,children:u.jsx(Ra,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},bI="ToastTitle",zx=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(he.div,{...r,ref:e})});zx.displayName=bI;var TI="ToastDescription",Bx=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(he.div,{...r,ref:e})});Bx.displayName=TI;var Vx="ToastAction",Gx=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(qx,{altText:n,asChild:!0,children:u.jsx(Np,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vx}\`. Expected non-empty \`string\`.`),null)});Gx.displayName=Vx;var Kx="ToastClose",Np=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=CI(Kx,n);return u.jsx(qx,{asChild:!0,children:u.jsx(he.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});Np.displayName=Kx;var qx=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Qx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),II(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qx(r))}}),e}function fl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ox(s,i):s.dispatchEvent(i)}var ay=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function NI(t=()=>{}){const e=Pt(t);nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function II(t){return t.nodeType===t.ELEMENT_NODE}function kI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yd(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var PI=Fx,Yx=$x,Xx=Wx,Jx=zx,Zx=Bx,e0=Gx,t0=Np;function n0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=n0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function r0(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=n0(t))&&(r&&(r+=" "),r+=e);return r}const ly=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cy=r0,Ip=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=ly(d)||ly(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...v}=d;return Object.entries(v).every(w=>{let[g,x]=w;return Array.isArray(x)?x.includes({...i,...a}[g]):{...i,...a}[g]===x})?[...c,h,f]:c},[]);return cy(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s0=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...AI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:s0("lucide",s),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(OI,{ref:i,iconNode:e,className:s0(`lucide-${RI(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Oe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Oe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kp="-",JI=t=>{const e=ek(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kp);return a[0]===""&&a.length!==1&&a.shift(),a0(a,e)||ZI(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},a0=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?a0(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kp);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},dy=/^\[(.+)\]$/,ZI=t=>{if(dy.test(t)){const e=dy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ek=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Hh(o,r,i,e)}),r},Hh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:hy(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(tk(s)){Hh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Hh(o,hy(e,i),n,r)})})},hy=(t,e)=>{let n=t;return e.split(kp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tk=t=>t.isThemeGetter,nk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,rk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},l0="!",sk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let _=a[x];if(c===0){if(_===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(_==="/"){h=x;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?a:a.substring(d),v=f.startsWith(l0),w=v?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},ik=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ok=t=>({cache:rk(t.cacheSize),parseClassName:sk(t),...JI(t)}),ak=/\s+/,lk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(ak);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:v}=n(c);let w=!!v,g=r(w?f.substring(0,v):f);if(!g){if(!w){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=ik(d).join(":"),_=h?x+l0:x,p=_+g;if(i.includes(p))continue;i.push(p);const m=s(g,w);for(let C=0;C<m.length;++C){const E=m[C];i.push(_+E)}a=c+(a.length>0?" "+a:a)}return a};function ck(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=c0(e))&&(r&&(r+=" "),r+=n);return r}const c0=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=c0(t[r]))&&(n&&(n+=" "),n+=e);return n};function uk(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=ok(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=lk(l,n);return s(l,d),d}return function(){return i(ck.apply(null,arguments))}}const ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},u0=/^\[(?:([a-z-]+):)?(.+)\]$/i,dk=/^\d+\/\d+$/,hk=new Set(["px","full","screen"]),fk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bn=t=>ni(t)||hk.has(t)||dk.test(t),Xn=t=>zi(t,"length",bk),ni=t=>!!t&&!Number.isNaN(Number(t)),vd=t=>zi(t,"number",ni),fo=t=>!!t&&Number.isInteger(Number(t)),vk=t=>t.endsWith("%")&&ni(t.slice(0,-1)),K=t=>u0.test(t),Jn=t=>fk.test(t),_k=new Set(["length","size","percentage"]),wk=t=>zi(t,_k,d0),xk=t=>zi(t,"position",d0),Ck=new Set(["image","url"]),Ek=t=>zi(t,Ck,Nk),Sk=t=>zi(t,"",Tk),po=()=>!0,zi=(t,e,n)=>{const r=u0.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bk=t=>pk.test(t)&&!mk.test(t),d0=()=>!1,Tk=t=>gk.test(t),Nk=t=>yk.test(t),Ik=()=>{const t=ve("colors"),e=ve("spacing"),n=ve("blur"),r=ve("brightness"),s=ve("borderColor"),i=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),l=ve("contrast"),c=ve("grayscale"),d=ve("hueRotate"),h=ve("invert"),f=ve("gap"),v=ve("gradientColorStops"),w=ve("gradientColorStopPositions"),g=ve("inset"),x=ve("margin"),_=ve("opacity"),p=ve("padding"),m=ve("saturate"),C=ve("scale"),E=ve("sepia"),S=ve("skew"),b=ve("space"),N=ve("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",K,e],O=()=>[K,e],$=()=>["",bn,Xn],D=()=>["auto",ni,K],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",K],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ni,K];return{cacheSize:500,separator:":",theme:{colors:[po],spacing:[bn,Xn],blur:["none","",Jn,K],brightness:H(),borderColor:[t],borderRadius:["none","","full",Jn,K],borderSpacing:O(),borderWidth:$(),contrast:H(),grayscale:k(),hueRotate:H(),invert:k(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[vk,Xn],inset:F(),margin:F(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:k(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Jn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),K]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,K]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",fo,K]}],"grid-cols":[{"grid-cols":[po]}],"col-start-end":[{col:["auto",{span:["full",fo,K]},K]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[po]}],"row-start-end":[{row:["auto",{span:[fo,K]},K]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[Jn]},Jn]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jn,Xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vd]}],"font-family":[{font:[po]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",ni,vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bn,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bn,Xn]}],"underline-offset":[{"underline-offset":["auto",bn,K]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),xk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ek]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[bn,K]}],"outline-w":[{outline:[bn,Xn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[bn,Xn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jn,Sk]}],"shadow-color":[{shadow:[po]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jn,K]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[m]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[fo,K]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bn,Xn,vd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kk=uk(Ik);function xe(...t){return kk(r0(t))}const Pk=PI,h0=y.forwardRef(({className:t,...e},n)=>u.jsx(Yx,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));h0.displayName=Yx.displayName;const Rk=Ip("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f0=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Xx,{ref:r,className:xe(Rk({variant:e}),t),...n}));f0.displayName=Xx.displayName;const Ak=y.forwardRef(({className:t,...e},n)=>u.jsx(e0,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Ak.displayName=e0.displayName;const p0=y.forwardRef(({className:t,...e},n)=>u.jsx(t0,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(XI,{className:"h-4 w-4"})}));p0.displayName=t0.displayName;const m0=y.forwardRef(({className:t,...e},n)=>u.jsx(Jx,{ref:n,className:xe("text-sm font-semibold",t),...e}));m0.displayName=Jx.displayName;const g0=y.forwardRef(({className:t,...e},n)=>u.jsx(Zx,{ref:n,className:xe("text-sm opacity-90",t),...e}));g0.displayName=Zx.displayName;function Ok(){const{toasts:t}=Wi();return u.jsxs(Pk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(f0,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(m0,{children:n}),r&&u.jsx(g0,{children:r})]}),s,u.jsx(p0,{})]},e)}),u.jsx(h0,{})]})}var Mk=c_[" useId ".trim().toString()]||(()=>{}),Dk=0;function Pp(t){const[e,n]=y.useState(Mk());return nt(()=>{n(r=>r??String(Dk++))},[t]),e?`radix-${e}`:""}const Lk=["top","right","bottom","left"],Lr=Math.min,bt=Math.max,vc=Math.round,pl=Math.floor,_n=t=>({x:t,y:t}),jk={left:"right",right:"left",bottom:"top",top:"bottom"},Fk={start:"end",end:"start"};function Wh(t,e,n){return bt(t,Lr(e,n))}function Hn(t,e){return typeof t=="function"?t(e):t}function Wn(t){return t.split("-")[0]}function Bi(t){return t.split("-")[1]}function Rp(t){return t==="x"?"y":"x"}function Ap(t){return t==="y"?"height":"width"}function jr(t){return["top","bottom"].includes(Wn(t))?"y":"x"}function Op(t){return Rp(jr(t))}function Uk(t,e,n){n===void 0&&(n=!1);const r=Bi(t),s=Op(t),i=Ap(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=_c(o)),[o,_c(o)]}function $k(t){const e=_c(t);return[zh(t),e,zh(e)]}function zh(t){return t.replace(/start|end/g,e=>Fk[e])}function Hk(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Wk(t,e,n,r){const s=Bi(t);let i=Hk(Wn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(zh)))),i}function _c(t){return t.replace(/left|right|bottom|top/g,e=>jk[e])}function zk(t){return{top:0,right:0,bottom:0,left:0,...t}}function y0(t){return typeof t!="number"?zk(t):{top:t,right:t,bottom:t,left:t}}function wc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function fy(t,e,n){let{reference:r,floating:s}=t;const i=jr(e),o=Op(e),a=Ap(o),l=Wn(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-s.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Bi(e)){case"start":v[o]-=f*(n&&c?-1:1);break;case"end":v[o]+=f*(n&&c?-1:1);break}return v}const Bk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=fy(c,r,l),f=r,v={},w=0;for(let g=0;g<a.length;g++){const{name:x,fn:_}=a[g],{x:p,y:m,data:C,reset:E}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=p??d,h=m??h,v={...v,[x]:{...v[x],...C}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:h}=fy(c,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:v}};async function ca(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:v=0}=Hn(e,t),w=y0(v),x=a[f?h==="floating"?"reference":"floating":h],_=wc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),p=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},E=wc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:m,strategy:l}):p);return{top:(_.top-E.top+w.top)/C.y,bottom:(E.bottom-_.bottom+w.bottom)/C.y,left:(_.left-E.left+w.left)/C.x,right:(E.right-_.right+w.right)/C.x}}const Vk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Hn(t,e)||{};if(c==null)return{};const h=y0(d),f={x:n,y:r},v=Op(s),w=Ap(v),g=await o.getDimensions(c),x=v==="y",_=x?"top":"left",p=x?"bottom":"right",m=x?"clientHeight":"clientWidth",C=i.reference[w]+i.reference[v]-f[v]-i.floating[w],E=f[v]-i.reference[v],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=S?S[m]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=a.floating[m]||i.floating[w]);const N=C/2-E/2,P=b/2-g[w]/2-1,R=Lr(h[_],P),F=Lr(h[p],P),O=R,$=b-g[w]-F,D=b/2-g[w]/2+N,G=Wh(O,D,$),U=!l.arrow&&Bi(s)!=null&&D!==G&&i.reference[w]/2-(D<O?R:F)-g[w]/2<0,V=U?D<O?D-O:D-$:0;return{[v]:f[v]+V,data:{[v]:G,centerOffset:D-G-V,...U&&{alignmentOffset:V}},reset:U}}}),Gk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...x}=Hn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Wn(s),p=jr(a),m=Wn(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(m||!g?[_c(a)]:$k(a)),S=w!=="none";!f&&S&&E.push(...Wk(a,g,w,C));const b=[a,...E],N=await ca(e,x),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(N[_]),h){const D=Uk(s,o,C);P.push(N[D[0]],N[D[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(D=>D<=0)){var F,O;const D=(((F=i.flip)==null?void 0:F.index)||0)+1,G=b[D];if(G)return{data:{index:D,overflows:R},reset:{placement:G}};let U=(O=R.filter(V=>V.overflows[0]<=0).sort((V,T)=>V.overflows[1]-T.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(v){case"bestFit":{var $;const V=($=R.filter(T=>{if(S){const k=jr(T.placement);return k===p||k==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(k=>k>0).reduce((k,L)=>k+L,0)]).sort((T,k)=>T[1]-k[1])[0])==null?void 0:$[0];V&&(U=V);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function py(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function my(t){return Lk.some(e=>t[e]>=0)}const Kk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Hn(t,e);switch(r){case"referenceHidden":{const i=await ca(e,{...s,elementContext:"reference"}),o=py(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:my(o)}}}case"escaped":{const i=await ca(e,{...s,altBoundary:!0}),o=py(i,n.floating);return{data:{escapedOffsets:o,escaped:my(o)}}}default:return{}}}}};async function qk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wn(n),a=Bi(n),l=jr(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Hn(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(v=a==="end"?w*-1:w),l?{x:v*d,y:f*c}:{x:f*c,y:v*d}}const Qk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await qk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Yk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:p}=x;return{x:_,y:p}}},...l}=Hn(t,e),c={x:n,y:r},d=await ca(e,l),h=jr(Wn(s)),f=Rp(h);let v=c[f],w=c[h];if(i){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",p=v+d[x],m=v-d[_];v=Wh(p,v,m)}if(o){const x=h==="y"?"top":"left",_=h==="y"?"bottom":"right",p=w+d[x],m=w-d[_];w=Wh(p,w,m)}const g=a.fn({...e,[f]:v,[h]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},Xk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hn(t,e),d={x:n,y:r},h=jr(s),f=Rp(h);let v=d[f],w=d[h];const g=Hn(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const m=f==="y"?"height":"width",C=i.reference[f]-i.floating[m]+x.mainAxis,E=i.reference[f]+i.reference[m]-x.mainAxis;v<C?v=C:v>E&&(v=E)}if(c){var _,p;const m=f==="y"?"width":"height",C=["top","left"].includes(Wn(s)),E=i.reference[h]-i.floating[m]+(C&&((_=o.offset)==null?void 0:_[h])||0)+(C?0:x.crossAxis),S=i.reference[h]+i.reference[m]+(C?0:((p=o.offset)==null?void 0:p[h])||0)-(C?x.crossAxis:0);w<E?w=E:w>S&&(w=S)}return{[f]:v,[h]:w}}}},Jk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Hn(t,e),d=await ca(e,c),h=Wn(s),f=Bi(s),v=jr(s)==="y",{width:w,height:g}=i.floating;let x,_;h==="top"||h==="bottom"?(x=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,x=f==="end"?"top":"bottom");const p=g-d.top-d.bottom,m=w-d.left-d.right,C=Lr(g-d[x],p),E=Lr(w-d[_],m),S=!e.middlewareData.shift;let b=C,N=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=m),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=p),S&&!f){const R=bt(d.left,0),F=bt(d.right,0),O=bt(d.top,0),$=bt(d.bottom,0);v?N=w-2*(R!==0||F!==0?R+F:bt(d.left,d.right)):b=g-2*(O!==0||$!==0?O+$:bt(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:b});const P=await o.getDimensions(a.floating);return w!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function pu(){return typeof window<"u"}function Vi(t){return v0(t)?(t.nodeName||"").toLowerCase():"#document"}function It(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function En(t){var e;return(e=(v0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function v0(t){return pu()?t instanceof Node||t instanceof It(t).Node:!1}function rn(t){return pu()?t instanceof Element||t instanceof It(t).Element:!1}function Cn(t){return pu()?t instanceof HTMLElement||t instanceof It(t).HTMLElement:!1}function gy(t){return!pu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof It(t).ShadowRoot}function Aa(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=sn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Zk(t){return["table","td","th"].includes(Vi(t))}function mu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Mp(t){const e=Dp(),n=rn(t)?sn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function eP(t){let e=Fr(t);for(;Cn(e)&&!Ni(e);){if(Mp(e))return e;if(mu(e))return null;e=Fr(e)}return null}function Dp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ni(t){return["html","body","#document"].includes(Vi(t))}function sn(t){return It(t).getComputedStyle(t)}function gu(t){return rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fr(t){if(Vi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gy(t)&&t.host||En(t);return gy(e)?e.host:e}function _0(t){const e=Fr(t);return Ni(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cn(e)&&Aa(e)?e:_0(e)}function ua(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_0(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=It(s);if(i){const a=Bh(o);return e.concat(o,o.visualViewport||[],Aa(s)?s:[],a&&n?ua(a):[])}return e.concat(s,ua(s,[],n))}function Bh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function w0(t){const e=sn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=vc(n)!==i||vc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Lp(t){return rn(t)?t:t.contextElement}function ri(t){const e=Lp(t);if(!Cn(e))return _n(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=w0(e);let o=(i?vc(n.width):n.width)/r,a=(i?vc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tP=_n(0);function x0(t){const e=It(t);return!Dp()||!e.visualViewport?tP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==It(t)?!1:e}function ps(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lp(t);let o=_n(1);e&&(r?rn(r)&&(o=ri(r)):o=ri(t));const a=nP(i,n,r)?x0(i):_n(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=It(i),v=r&&rn(r)?It(r):r;let w=f,g=Bh(w);for(;g&&r&&v!==w;){const x=ri(g),_=g.getBoundingClientRect(),p=sn(g),m=_.left+(g.clientLeft+parseFloat(p.paddingLeft))*x.x,C=_.top+(g.clientTop+parseFloat(p.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=m,c+=C,w=It(g),g=Bh(w)}}return wc({width:d,height:h,x:l,y:c})}function jp(t,e){const n=gu(t).scrollLeft;return e?e.left+n:ps(En(t)).left+n}function C0(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:jp(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function rP(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=En(r),a=e?mu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=_n(1);const d=_n(0),h=Cn(r);if((h||!h&&!i)&&((Vi(r)!=="body"||Aa(o))&&(l=gu(r)),Cn(r))){const v=ps(r);c=ri(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const f=o&&!h&&!i?C0(o,l,!0):_n(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function sP(t){return Array.from(t.getClientRects())}function iP(t){const e=En(t),n=gu(t),r=t.ownerDocument.body,s=bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jp(t);const a=-n.scrollTop;return sn(r).direction==="rtl"&&(o+=bt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function oP(t,e){const n=It(t),r=En(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Dp();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function aP(t,e){const n=ps(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cn(t)?ri(t):_n(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function yy(t,e,n){let r;if(e==="viewport")r=oP(t,n);else if(e==="document")r=iP(En(t));else if(rn(e))r=aP(e,n);else{const s=x0(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wc(r)}function E0(t,e){const n=Fr(t);return n===e||!rn(n)||Ni(n)?!1:sn(n).position==="fixed"||E0(n,e)}function lP(t,e){const n=e.get(t);if(n)return n;let r=ua(t,[],!1).filter(a=>rn(a)&&Vi(a)!=="body"),s=null;const i=sn(t).position==="fixed";let o=i?Fr(t):t;for(;rn(o)&&!Ni(o);){const a=sn(o),l=Mp(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Aa(o)&&!l&&E0(t,o))?r=r.filter(d=>d!==o):s=a,o=Fr(o)}return e.set(t,r),r}function cP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?mu(e)?[]:lP(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=yy(e,d,s);return c.top=bt(h.top,c.top),c.right=Lr(h.right,c.right),c.bottom=Lr(h.bottom,c.bottom),c.left=bt(h.left,c.left),c},yy(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uP(t){const{width:e,height:n}=w0(t);return{width:e,height:n}}function dP(t,e,n){const r=Cn(e),s=En(e),i=n==="fixed",o=ps(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=_n(0);if(r||!r&&!i)if((Vi(e)!=="body"||Aa(s))&&(a=gu(e)),r){const f=ps(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&(l.x=jp(s));const c=s&&!r&&!i?C0(s,a):_n(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function _d(t){return sn(t).position==="static"}function vy(t,e){if(!Cn(t)||sn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return En(t)===n&&(n=n.ownerDocument.body),n}function S0(t,e){const n=It(t);if(mu(t))return n;if(!Cn(t)){let s=Fr(t);for(;s&&!Ni(s);){if(rn(s)&&!_d(s))return s;s=Fr(s)}return n}let r=vy(t,e);for(;r&&Zk(r)&&_d(r);)r=vy(r,e);return r&&Ni(r)&&_d(r)&&!Mp(r)?n:r||eP(t)||n}const hP=async function(t){const e=this.getOffsetParent||S0,n=this.getDimensions,r=await n(t.floating);return{reference:dP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fP(t){return sn(t).direction==="rtl"}const pP={convertOffsetParentRelativeRectToViewportRelativeRect:rP,getDocumentElement:En,getClippingRect:cP,getOffsetParent:S0,getElementRects:hP,getClientRects:sP,getDimensions:uP,getScale:ri,isElement:rn,isRTL:fP};function b0(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mP(t,e){let n=null,r;const s=En(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:v}=c;if(a||e(),!f||!v)return;const w=pl(h),g=pl(s.clientWidth-(d+f)),x=pl(s.clientHeight-(h+v)),_=pl(d),m={rootMargin:-w+"px "+-g+"px "+-x+"px "+-_+"px",threshold:bt(0,Lr(1,l))||1};let C=!0;function E(S){const b=S[0].intersectionRatio;if(b!==l){if(!C)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!b0(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(E,{...m,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,m)}n.observe(t)}return o(!0),i}function gP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Lp(t),d=s||i?[...c?ua(c):[],...ua(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?mP(c,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(_=>{let[p]=_;p&&p.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var m;(m=v)==null||m.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let w,g=l?ps(t):null;l&&x();function x(){const _=ps(t);g&&!b0(g,_)&&n(),g=_,w=requestAnimationFrame(x)}return n(),()=>{var _;d.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),h==null||h(),(_=v)==null||_.disconnect(),v=null,l&&cancelAnimationFrame(w)}}const yP=Qk,vP=Yk,_P=Gk,wP=Jk,xP=Kk,_y=Vk,CP=Xk,EP=(t,e,n)=>{const r=new Map,s={platform:pP,...n},i={...s.platform,_c:r};return Bk(t,e,{...s,platform:i})};var Ul=typeof document<"u"?y.useLayoutEffect:y.useEffect;function xc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!xc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!xc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function T0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wy(t,e){const n=T0(t);return Math.round(e*n)/n}function wd(t){const e=y.useRef(t);return Ul(()=>{e.current=t}),e}function SP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=y.useState(r);xc(f,r)||v(r);const[w,g]=y.useState(null),[x,_]=y.useState(null),p=y.useCallback(T=>{T!==S.current&&(S.current=T,g(T))},[]),m=y.useCallback(T=>{T!==b.current&&(b.current=T,_(T))},[]),C=i||w,E=o||x,S=y.useRef(null),b=y.useRef(null),N=y.useRef(d),P=l!=null,R=wd(l),F=wd(s),O=wd(c),$=y.useCallback(()=>{if(!S.current||!b.current)return;const T={placement:e,strategy:n,middleware:f};F.current&&(T.platform=F.current),EP(S.current,b.current,T).then(k=>{const L={...k,isPositioned:O.current!==!1};D.current&&!xc(N.current,L)&&(N.current=L,bs.flushSync(()=>{h(L)}))})},[f,e,n,F,O]);Ul(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[c]);const D=y.useRef(!1);Ul(()=>(D.current=!0,()=>{D.current=!1}),[]),Ul(()=>{if(C&&(S.current=C),E&&(b.current=E),C&&E){if(R.current)return R.current(C,E,$);$()}},[C,E,$,R,P]);const G=y.useMemo(()=>({reference:S,floating:b,setReference:p,setFloating:m}),[p,m]),U=y.useMemo(()=>({reference:C,floating:E}),[C,E]),V=y.useMemo(()=>{const T={position:n,left:0,top:0};if(!U.floating)return T;const k=wy(U.floating,d.x),L=wy(U.floating,d.y);return a?{...T,transform:"translate("+k+"px, "+L+"px)",...T0(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:L}},[n,a,U.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:$,refs:G,elements:U,floatingStyles:V}),[d,$,G,U,V])}const bP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_y({element:r.current,padding:s}).fn(n):{}:r?_y({element:r,padding:s}).fn(n):{}}}},TP=(t,e)=>({...yP(t),options:[t,e]}),NP=(t,e)=>({...vP(t),options:[t,e]}),IP=(t,e)=>({...CP(t),options:[t,e]}),kP=(t,e)=>({..._P(t),options:[t,e]}),PP=(t,e)=>({...wP(t),options:[t,e]}),RP=(t,e)=>({...xP(t),options:[t,e]}),AP=(t,e)=>({...bP(t),options:[t,e]});var OP="Arrow",N0=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});N0.displayName=OP;var MP=N0;function DP(t){const[e,n]=y.useState(void 0);return nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Fp="Popper",[I0,yu]=Pa(Fp),[LP,k0]=I0(Fp),P0=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(LP,{scope:e,anchor:r,onAnchorChange:s,children:n})};P0.displayName=Fp;var R0="PopperAnchor",A0=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=k0(R0,n),o=y.useRef(null),a=Re(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(he.div,{...s,ref:a})});A0.displayName=R0;var Up="PopperContent",[jP,FP]=I0(Up),O0=y.forwardRef((t,e)=>{var W,ye,Qe,fe,le,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:w,...g}=t,x=k0(Up,n),[_,p]=y.useState(null),m=Re(e,Ct=>p(Ct)),[C,E]=y.useState(null),S=DP(C),b=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],O=F.length>0,$={padding:R,boundary:F.filter($P),altBoundary:O},{refs:D,floatingStyles:G,placement:U,isPositioned:V,middlewareData:T}=SP({strategy:"fixed",placement:P,whileElementsMounted:(...Ct)=>gP(...Ct,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[TP({mainAxis:s+N,alignmentAxis:o}),l&&NP({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?IP():void 0,...$}),l&&kP({...$}),PP({...$,apply:({elements:Ct,rects:ln,availableWidth:to,availableHeight:no})=>{const{width:ro,height:a1}=ln.reference,Ga=Ct.floating.style;Ga.setProperty("--radix-popper-available-width",`${to}px`),Ga.setProperty("--radix-popper-available-height",`${no}px`),Ga.setProperty("--radix-popper-anchor-width",`${ro}px`),Ga.setProperty("--radix-popper-anchor-height",`${a1}px`)}}),C&&AP({element:C,padding:a}),HP({arrowWidth:b,arrowHeight:N}),f&&RP({strategy:"referenceHidden",...$})]}),[k,L]=L0(U),H=Pt(w);nt(()=>{V&&(H==null||H())},[V,H]);const X=(W=T.arrow)==null?void 0:W.x,Te=(ye=T.arrow)==null?void 0:ye.y,De=((Qe=T.arrow)==null?void 0:Qe.centerOffset)!==0,[an,st]=y.useState();return nt(()=>{_&&st(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:V?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:an,"--radix-popper-transform-origin":[(fe=T.transformOrigin)==null?void 0:fe.x,(le=T.transformOrigin)==null?void 0:le.y].join(" "),...((ce=T.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(jP,{scope:n,placedSide:k,onArrowChange:E,arrowX:X,arrowY:Te,shouldHideArrow:De,children:u.jsx(he.div,{"data-side":k,"data-align":L,...g,ref:m,style:{...g.style,animation:V?void 0:"none"}})})})});O0.displayName=Up;var M0="PopperArrow",UP={top:"bottom",right:"left",bottom:"top",left:"right"},D0=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FP(M0,r),o=UP[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(MP,{...s,ref:n,style:{...s.style,display:"block"}})})});D0.displayName=M0;function $P(t){return t!==null}var HP=t=>({name:"transformOrigin",options:t,fn(e){var x,_,p;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=L0(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,v=(((p=s.arrow)==null?void 0:p.y)??0)+l/2;let w="",g="";return c==="bottom"?(w=o?h:`${f}px`,g=`${-l}px`):c==="top"?(w=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,g=o?h:`${v}px`):c==="left"&&(w=`${r.floating.width+l}px`,g=o?h:`${v}px`),{data:{x:w,y:g}}}});function L0(t){const[e,n="center"]=t.split("-");return[e,n]}var WP=P0,j0=A0,F0=O0,U0=D0,[vu,y3]=Pa("Tooltip",[yu]),$p=yu(),$0="TooltipProvider",zP=700,xy="tooltip.open",[BP,H0]=vu($0),W0=t=>{const{__scopeTooltip:e,delayDuration:n=zP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(BP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};W0.displayName=$0;var z0="Tooltip",[v3,_u]=vu(z0),Vh="TooltipTrigger",VP=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_u(Vh,n),i=H0(Vh,n),o=$p(n),a=y.useRef(null),l=Re(e,a,s.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(j0,{asChild:!0,...o,children:u.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});VP.displayName=Vh;var GP="TooltipPortal",[_3,KP]=vu(GP,{forceMount:void 0}),Ii="TooltipContent",B0=y.forwardRef((t,e)=>{const n=KP(Ii,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=_u(Ii,t.__scopeTooltip);return u.jsx(Sp,{present:r||o.open,children:o.disableHoverableContent?u.jsx(V0,{side:s,...i,ref:e}):u.jsx(qP,{side:s,...i,ref:e})})}),qP=y.forwardRef((t,e)=>{const n=_u(Ii,t.__scopeTooltip),r=H0(Ii,t.__scopeTooltip),s=y.useRef(null),i=Re(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),v=y.useCallback((w,g)=>{const x=w.currentTarget,_={x:w.clientX,y:w.clientY},p=ZP(_,x.getBoundingClientRect()),m=eR(_,p),C=tR(g.getBoundingClientRect()),E=rR([...m,...C]);a(E),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const w=x=>v(x,d),g=x=>v(x,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[l,d,v,f]),y.useEffect(()=>{if(o){const w=g=>{const x=g.target,_={x:g.clientX,y:g.clientY},p=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),m=!nR(_,o);p?f():m&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),u.jsx(V0,{...t,ref:i})}),[QP,YP]=vu(z0,{isInside:!1}),XP=GN("TooltipContent"),V0=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=_u(Ii,n),c=$p(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(xy,d),()=>document.removeEventListener(xy,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const v=f.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(du,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(F0,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(XP,{children:r}),u.jsx(QP,{scope:n,isInside:!0,children:u.jsx(hI,{id:l.contentId,role:"tooltip",children:s||r})})]})})});B0.displayName=Ii;var G0="TooltipArrow",JP=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=$p(n);return YP(G0,n).isInside?null:u.jsx(U0,{...s,...r,ref:e})});JP.displayName=G0;function ZP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eR(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function tR(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function nR(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function rR(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sR(e)}function sR(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var iR=W0,K0=B0;const oR=iR,aR=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(K0,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));aR.displayName=K0.displayName;const lR=()=>{};var Cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(t,e){if(!t)throw Gi(e)},Gi=function(t){return new Error("Firebase Database ("+q0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Hp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[d],n[h],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new uR;const f=i<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y0=function(t){const e=Q0(t);return Hp.encodeByteArray(e,!0)},Cc=function(t){return Y0(t).replace(/\./g,"")},Ec=function(t){try{return Hp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){return X0(void 0,t)}function X0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hR(n)||(t[n]=X0(t[n],e[n]));return t}function hR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=()=>fR().__FIREBASE_DEFAULTS__,mR=()=>{if(typeof process>"u"||typeof Cy>"u")return;const t=Cy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ec(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return lR()||pR()||mR()||gR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J0=t=>{var e,n;return(n=(e=Wp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yR=t=>{const e=J0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z0=()=>{var t;return(t=Wp())==null?void 0:t.config},eC=t=>{var e;return(e=Wp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cc(JSON.stringify(n)),Cc(JSON.stringify(o)),""].join(".")}const Lo={};function _R(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?t.emulator.push(e):t.prod.push(e);return t}function wR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ey=!1;function nC(t,e){if(typeof window>"u"||typeof document>"u"||!Ki(window.location.host)||Lo[t]===e||Lo[t]||Ey)return;Lo[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=_R().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ey=!0,o()},f}function d(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=wR(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),x=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),p=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const m=f.element;a(m),d(x,g);const C=c();l(p,_),m.append(p,w,x,C),document.body.appendChild(m)}i?(w.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ER(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sC(){return q0.NODE_ADMIN===!0}function SR(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?NR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vr(s,a,r)}}function NR(t,e){return t.replace(IR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const IR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){return JSON.parse(t)}function Fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=da(Ec(i[0])||""),n=da(Ec(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},kR=function(t){const e=iC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PR=function(t){const e=iC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ki(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Sy(i)&&Sy(o)){if(!ms(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Sy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function So(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):h<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const f=(s<<5|s>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function AR(t,e){const n=new OR(t,e);return n.subscribe.bind(n)}class OR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xd),s.error===void 0&&(s.error=xd),s.complete===void 0&&(s.complete=xd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xd(){}function wu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,M(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Oa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jR(t){return t===Xr?void 0:t}function FR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const $R={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},HR=ue.INFO,WR={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},zR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=HR,this._logHandler=zR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const BR=(t,e)=>e.some(n=>t instanceof n);let by,Ty;function VR(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GR(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oC=new WeakMap,Kh=new WeakMap,aC=new WeakMap,Cd=new WeakMap,Vp=new WeakMap;function KR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(kr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oC.set(n,t)}).catch(()=>{}),Vp.set(e,t),e}function qR(t){if(Kh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Kh.set(t,e)}let qh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QR(t){qh=t(qh)}function YR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ed(this),e,...n);return aC.set(r,e.sort?e.sort():[e]),kr(r)}:GR().includes(t)?function(...e){return t.apply(Ed(this),e),kr(oC.get(this))}:function(...e){return kr(t.apply(Ed(this),e))}}function XR(t){return typeof t=="function"?YR(t):(t instanceof IDBTransaction&&qR(t),BR(t,VR())?new Proxy(t,qh):t)}function kr(t){if(t instanceof IDBRequest)return KR(t);if(Cd.has(t))return Cd.get(t);const e=XR(t);return e!==t&&(Cd.set(t,e),Vp.set(e,t)),e}const Ed=t=>Vp.get(t);function JR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=kr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(kr(o.result),l.oldVersion,l.newVersion,kr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ZR=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],Sd=new Map;function Ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZR.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Sd.set(e,i),i}QR(t=>({...t,get:(e,n,r)=>Ny(e,n)||t.get(e,n,r),has:(e,n)=>!!Ny(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qh="@firebase/app",Iy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new Bp("@firebase/app"),rA="@firebase/app-compat",sA="@firebase/analytics-compat",iA="@firebase/analytics",oA="@firebase/app-check-compat",aA="@firebase/app-check",lA="@firebase/auth",cA="@firebase/auth-compat",uA="@firebase/database",dA="@firebase/data-connect",hA="@firebase/database-compat",fA="@firebase/functions",pA="@firebase/functions-compat",mA="@firebase/installations",gA="@firebase/installations-compat",yA="@firebase/messaging",vA="@firebase/messaging-compat",_A="@firebase/performance",wA="@firebase/performance-compat",xA="@firebase/remote-config",CA="@firebase/remote-config-compat",EA="@firebase/storage",SA="@firebase/storage-compat",bA="@firebase/firestore",TA="@firebase/ai",NA="@firebase/firestore-compat",IA="firebase",kA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="[DEFAULT]",PA={[Qh]:"fire-core",[rA]:"fire-core-compat",[iA]:"fire-analytics",[sA]:"fire-analytics-compat",[aA]:"fire-app-check",[oA]:"fire-app-check-compat",[lA]:"fire-auth",[cA]:"fire-auth-compat",[uA]:"fire-rtdb",[dA]:"fire-data-connect",[hA]:"fire-rtdb-compat",[fA]:"fire-fn",[pA]:"fire-fn-compat",[mA]:"fire-iid",[gA]:"fire-iid-compat",[yA]:"fire-fcm",[vA]:"fire-fcm-compat",[_A]:"fire-perf",[wA]:"fire-perf-compat",[xA]:"fire-rc",[CA]:"fire-rc-compat",[EA]:"fire-gcs",[SA]:"fire-gcs-compat",[bA]:"fire-fst",[NA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,RA=new Map,Xh=new Map;function ky(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pi(t){const e=t.name;if(Xh.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Xh.set(e,t);for(const n of bc.values())ky(n,t);for(const n of RA.values())ky(n,t);return!0}function Gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Ma("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=kA;function lC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Yh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Pr.create("bad-app-name",{appName:String(s)});if(n||(n=Z0()),!n)throw Pr.create("no-options");const i=bc.get(s);if(i){if(ms(n,i.options)&&ms(r,i.config))return i;throw Pr.create("duplicate-app",{appName:s})}const o=new UR(s);for(const l of Xh.values())o.addComponent(l);const a=new OA(n,r,o);return bc.set(s,a),a}function cC(t=Yh){const e=bc.get(t);if(!e&&t===Yh&&Z0())return lC();if(!e)throw Pr.create("no-app",{appName:t});return e}function Rr(t,e,n){let r=PA[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(o.join(" "));return}Pi(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebase-heartbeat-database",DA=1,ha="firebase-heartbeat-store";let bd=null;function uC(){return bd||(bd=JR(MA,DA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ha)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),bd}async function LA(t){try{const n=(await uC()).transaction(ha),r=await n.objectStore(ha).get(dC(t));return await n.done,r}catch(e){if(e instanceof Vr)zn.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function Py(t,e){try{const r=(await uC()).transaction(ha,"readwrite");await r.objectStore(ha).put(e,dC(t)),await r.done}catch(n){if(n instanceof Vr)zn.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function dC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1024,FA=30;class UA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ry();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>FA){const o=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ry(),{heartbeatsToSend:r,unsentEntries:s}=$A(this._heartbeatsCache.heartbeats),i=Cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zn.warn(n),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function $A(t,e=jA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ay(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ay(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SR()?bR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ay(t){return Cc(JSON.stringify({version:2,heartbeats:t})).length}function WA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){Pi(new gs("platform-logger",e=>new tA(e),"PRIVATE")),Pi(new gs("heartbeat",e=>new UA(e),"PRIVATE")),Rr(Qh,Iy,t),Rr(Qh,Iy,"esm2020"),Rr("fire-js","")}zA("");var BA="firebase",VA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(BA,VA,"app");function hC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GA=hC,fC=new Ma("auth","Firebase",hC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Bp("@firebase/auth");function KA(t,...e){Tc.logLevel<=ue.WARN&&Tc.warn(`Auth (${Qi}): ${t}`,...e)}function $l(t,...e){Tc.logLevel<=ue.ERROR&&Tc.error(`Auth (${Qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,...e){throw Kp(t,...e)}function wn(t,...e){return Kp(t,...e)}function pC(t,e,n){const r={...GA(),[e]:n};return new Ma("auth","Firebase",r).create(e,{appName:t.name})}function Dn(t){return pC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fC.create(t,...e)}function z(t,e,...n){if(!t)throw Kp(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $l(e),new Error(e)}function Bn(t,e){t||Rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function qA(){return Oy()==="http:"||Oy()==="https:"}function Oy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qA()||CR()||"connection"in navigator)?navigator.onLine:!0}function YA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bn(n>e,"Short delay should be less than long delay!"),this.isMobile=zp()||rC()}get(){return QA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZA=new Da(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kn(t,e,n,r,s={}){return gC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=qi({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return xR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ki(t.emulatorConfig.host)&&(c.credentials="include"),mC.fetch()(await yC(t,t.config.apiHost,n,a),c)})}async function gC(t,e,n){t._canInitEmulator=!1;const r={...XA,...e};try{const s=new tO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ml(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ml(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ml(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ml(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pC(t,d,c);on(t,d)}}catch(s){if(s instanceof Vr)throw s;on(t,"network-request-failed",{message:String(s)})}}async function La(t,e,n,r,s={}){const i=await Kn(t,e,n,r,s);return"mfaPendingCredential"in i&&on(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function yC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?qp(t.config,s):`${t.config.apiScheme}://${s}`;return JA.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function eO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),ZA.get())})}}function ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wn(t,e,r);return s.customData._tokenResponse=n,s}function My(t){return t!==void 0&&t.enterprise!==void 0}class nO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rO(t,e){return Kn(t,"GET","/v2/recaptchaConfig",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return Kn(t,"POST","/v1/accounts:delete",e)}async function Nc(t,e){return Kn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iO(t,e=!1){const n=rt(t),r=await n.getIdToken(e),s=Qp(r);z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:jo(Td(s.auth_time)),issuedAtTime:jo(Td(s.iat)),expirationTime:jo(Td(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Td(t){return Number(t)*1e3}function Qp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $l("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ec(n);return s?JSON.parse(s):($l("Failed to decode base64 JWT payload"),null)}catch(s){return $l("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dy(t){const e=Qp(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ri(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&oO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Ri(t,Nc(e,{idToken:n}));z(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?vC(s.providerUserInfo):[],o=cO(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function lO(t){const e=rt(t);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){const n=await gC(t,{},async()=>{const r=qi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await yC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ki(t.emulatorConfig.host)&&(l.credentials="include"),mC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dO(t,e){return Kn(t,"POST","/v2/accounts:revokeToken",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");const n=Dy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await uO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new si;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new si,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new aO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ri(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iO(this,e)}reload(){return lO(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lt(this.auth.app))return Promise.reject(Dn(this.auth));const e=await this.getIdToken();return await Ri(this,sO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:v,providerData:w,stsTokenManager:g}=n;z(h&&g,e,"internal-error");const x=si.fromJSON(this.name,g);z(typeof h=="string",e,"internal-error"),Zn(r,e.name),Zn(s,e.name),z(typeof f=="boolean",e,"internal-error"),z(typeof v=="boolean",e,"internal-error"),Zn(i,e.name),Zn(o,e.name),Zn(a,e.name),Zn(l,e.name),Zn(c,e.name),Zn(d,e.name);const _=new Xt({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return w&&Array.isArray(w)&&(_.providerData=w.map(p=>({...p}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new si;s.updateFromServerResponse(n);const i=new Xt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ic(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new si;a.updateFromIdToken(r);const l=new Xt({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Zh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;function An(t){Bn(t instanceof Function,"Expected a class definition");let e=Ly.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ly.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_C.type="NONE";const jy=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t,e,n){return`firebase:${t}:${e}:${n}`}class ii{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Hl(this.userKey,s.apiKey,i),this.fullPersistenceKey=Hl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nc(this.auth,{idToken:e}).catch(()=>{});return n?Xt._fromGetAccountInfoResponse(this.auth,n,e):null}return Xt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ii(An(jy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||An(jy);const o=Hl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await Nc(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Xt._fromGetAccountInfoResponse(e,f,d)}else h=Xt._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ii(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ii(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(TC(e))return"Webos";if(xC(e))return"Safari";if((e.includes("chrome/")||CC(e))&&!e.includes("edge/"))return"Chrome";if(SC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wC(t=ft()){return/firefox\//i.test(t)}function xC(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CC(t=ft()){return/crios\//i.test(t)}function EC(t=ft()){return/iemobile/i.test(t)}function SC(t=ft()){return/android/i.test(t)}function bC(t=ft()){return/blackberry/i.test(t)}function TC(t=ft()){return/webos/i.test(t)}function Yp(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hO(t=ft()){var e;return Yp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fO(){return ER()&&document.documentMode===10}function NC(t=ft()){return Yp(t)||SC(t)||TC(t)||bC(t)||/windows phone/i.test(t)||EC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e=[]){let n;switch(t){case"Browser":n=Fy(ft());break;case"Worker":n=`${Fy(ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e={}){return Kn(t,"GET","/v2/passwordPolicy",Gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=6;class yO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new pO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ii.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nc(this,{idToken:e}),r=await Xt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Lt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lt(this.app))return Promise.reject(Dn(this));const n=e?rt(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lt(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lt(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mO(this),n=new yO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await ii.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ts(t){return rt(t)}class Uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=AR(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _O(t){Cu=t}function kC(t){return Cu.loadJS(t)}function wO(){return Cu.recaptchaEnterpriseScript}function xO(){return Cu.gapiScript}function CO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EO{constructor(){this.enterprise=new SO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class SO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bO="recaptcha-enterprise",PC="NO_RECAPTCHA";class TO{constructor(e){this.type=bO,this.auth=Ts(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{rO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new nO(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;My(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(PC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EO().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&My(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wO();l.length!==0&&(l+=a),kC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $y(t,e,n,r=!1,s=!1){const i=new TO(t);let o;if(s)o=PC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ef(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $y(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await $y(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){const n=Gp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ms(i,e??{}))return s;on(s,"already-initialized")}return n.initialize({options:e})}function IO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kO(t,e,n){const r=Ts(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=RC(e),{host:o,port:a}=PO(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(ms(c,r.config.emulator)&&ms(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ki(o)?(tC(`${i}//${o}${l}`),nC("Auth",!0)):RO()}function RC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PO(t){const e=RC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Hy(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Hy(o)}}}function Hy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}async function AO(t,e){return Kn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e){return La(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){return La(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}async function DO(t,e){return La(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Xp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ef(e,n,"signInWithPassword",OO);case"emailLink":return MO(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ef(e,r,"signUpPassword",AO);case"emailLink":return DO(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(t,e){return La(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="http://localhost";class ys extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ys(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oi(e,n)}buildRequest(){const e={requestUri:LO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FO(t){const e=Eo(So(t)).link,n=e?Eo(So(e)).deep_link_id:null,r=Eo(So(t)).deep_link_id;return(r?Eo(So(r)).link:null)||r||n||e||t}class Jp{constructor(e){const n=Eo(So(e)),r=n.apiKey??null,s=n.oobCode??null,i=jO(n.mode??null);z(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FO(e);try{return new Jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.providerId=Yi.PROVIDER_ID}static credential(e,n){return fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jp.parseLink(n);return z(r,"argument-error"),fa._fromEmailAndCode(e,r.code,r.tenantId)}}Yi.PROVIDER_ID="password";Yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends AC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ja{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends ja{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends ja{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return La(t,"POST","/v1/accounts:signUp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xt._fromIdTokenResponse(e,r,s),o=Wy(r);return new vs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Wy(r);return new vs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Wy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Vr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new kc(e,n,r,s)}}function OC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(t,i,e,r):i})}async function $O(t,e,n=!1){const r=await Ri(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e,n=!1){const{auth:r}=t;if(Lt(r.app))return Promise.reject(Dn(r));const s="reauthenticate";try{const i=await Ri(t,OC(r,s,e,t),n);z(i.idToken,r,"internal-error");const o=Qp(i.idToken);z(o,r,"internal-error");const{sub:a}=o;return z(t.uid===a,r,"user-mismatch"),vs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&on(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(t,e,n=!1){if(Lt(t.app))return Promise.reject(Dn(t));const r="signIn",s=await OC(t,r,e),i=await vs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function WO(t,e){return MC(Ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t){const e=Ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zO(t,e,n){if(Lt(t.app))return Promise.reject(Dn(t));const r=Ts(t),o=await ef(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&DC(t),l}),a=await vs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function BO(t,e,n){return Lt(t.app)?Promise.reject(Dn(t)):WO(rt(t),Yi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return Kn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=rt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ri(r,VO(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function KO(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function qO(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function QO(t){return rt(t).signOut()}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=1e3,XO=10;class jC extends LC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jC.type="LOCAL";const JO=jC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC extends LC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FC.type="SESSION";const UC=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Eu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await ZO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Zp("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function tM(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function nM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sM(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebaseLocalStorageDb",iM=1,Rc="firebaseLocalStorage",WC="fbase_key";class Fa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Su(t,e){return t.transaction([Rc],e?"readwrite":"readonly").objectStore(Rc)}function oM(){const t=indexedDB.deleteDatabase(HC);return new Fa(t).toPromise()}function tf(){const t=indexedDB.open(HC,iM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rc,{keyPath:WC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rc)?e(r):(r.close(),await oM(),e(await tf()))})})}async function zy(t,e,n){const r=Su(t,!0).put({[WC]:e,value:n});return new Fa(r).toPromise()}async function aM(t,e){const n=Su(t,!1).get(e),r=await new Fa(n).toPromise();return r===void 0?null:r.value}function By(t,e){const n=Su(t,!0).delete(e);return new Fa(n).toPromise()}const lM=800,cM=3;class zC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eu._getInstance(sM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nM(),!this.activeServiceWorker)return;this.sender=new eM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tf();return await zy(e,Pc,"1"),await By(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>By(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Su(s,!1).getAll();return new Fa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zC.type="LOCAL";const uM=zC;new Da(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){return e?An(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hM(t){return MC(t.auth,new em(t),t.bypassAuthState)}function fM(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),HO(n,new em(t),t.bypassAuthState)}async function pM(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),$O(n,new em(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hM;case"linkViaPopup":case"linkViaRedirect":return pM;case"reauthViaPopup":case"reauthViaRedirect":return fM;default:on(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Da(2e3,1e4);class qs extends BC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mM.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",Wl=new Map;class yM extends BC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wl.get(this.auth._key());if(!e){try{const r=await vM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vM(t,e){const n=xM(e),r=wM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _M(t,e){Wl.set(t._key(),e)}function wM(t){return An(t._redirectPersistence)}function xM(t){return Hl(gM,t.config.apiKey,t.name)}async function CM(t,e,n=!1){if(Lt(t.app))return Promise.reject(Dn(t));const r=Ts(t),s=dM(r,e),o=await new yM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=10*60*1e3;class SM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vy(e))}saveEventToCache(e){this.cachedEventUids.add(Vy(e)),this.lastProcessedEventTime=Date.now()}}function Vy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e={}){return Kn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IM=/^https?/;async function kM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TM(t);for(const n of e)try{if(PM(n))return}catch{}on(t,"unauthorized-domain")}function PM(t){const e=Jh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IM.test(n))return!1;if(NM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new Da(3e4,6e4);function Gy(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AM(t){return new Promise((e,n)=>{var s,i,o;function r(){Gy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gy(),n(wn(t,"network-request-failed"))},timeout:RM.get()})}if((i=(s=xn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=xn().gapi)!=null&&o.load)r();else{const a=CO("iframefcb");return xn()[a]=()=>{gapi.load?r():n(wn(t,"network-request-failed"))},kC(`${xO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zl=null,e})}let zl=null;function OM(t){return zl=zl||AM(t),zl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Da(5e3,15e3),DM="__/auth/iframe",LM="emulator/auth/iframe",jM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UM(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qp(e,LM):`https://${t.config.authDomain}/${DM}`,r={apiKey:e.apiKey,appName:t.name,v:Qi},s=FM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qi(r).slice(1)}`}async function $M(t){const e=await OM(t),n=xn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:UM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=xn().setTimeout(()=>{i(o)},MM.get());function l(){xn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WM=500,zM=600,BM="_blank",VM="http://localhost";class Ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(t,e,n,r=WM,s=zM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...HM,width:r.toString(),height:s.toString(),top:i,left:o},c=ft().toLowerCase();n&&(a=CC(c)?BM:n),wC(c)&&(e=e||VM,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[v,w])=>`${f}${v}=${w},`,"");if(hO(c)&&a!=="_self")return KM(e||"",a),new Ky(null);const h=window.open(e||"",a,d);z(h,t,"popup-blocked");try{h.focus()}catch{}return new Ky(h)}function KM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="__/auth/handler",QM="emulator/auth/handler",YM=encodeURIComponent("fac");async function qy(t,e,n,r,s,i){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qi,eventId:s};if(e instanceof AC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ja){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${YM}=${encodeURIComponent(l)}`:"";return`${XM(t)}?${qi(a).slice(1)}${c}`}function XM({config:t}){return t.emulator?qp(t,QM):`https://${t.authDomain}/${qM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class JM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UC,this._completeRedirectFn=CM,this._overrideRedirectResult=_M}async _openPopup(e,n,r,s){var o;Bn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await qy(e,n,r,Jh(),s);return GM(e,i,Zp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qy(e,n,r,Jh(),s);return tM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Bn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $M(e),r=new SM(e);return n.register("authEvent",s=>(z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nd,{type:Nd},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Nd];i!==void 0&&n(!!i),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NC()||xC()||Yp()}}const ZM=JM;var Qy="@firebase/auth",Yy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nD(t){Pi(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IC(t)},c=new vO(r,s,i,l);return IO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new gs("auth-internal",e=>{const n=Ts(e.getProvider("auth").getImmediate());return(r=>new eD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(Qy,Yy,tD(t)),Rr(Qy,Yy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=5*60,sD=eC("authIdTokenMaxAge")||rD;let Xy=null;const iD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sD)return;const s=n==null?void 0:n.token;Xy!==s&&(Xy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oD(t=cC()){const e=Gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NO(t,{popupRedirectResolver:ZM,persistence:[uM,JO,UC]}),r=eC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=iD(i.toString());qO(n,o,()=>o(n.currentUser)),KO(n,a=>o(a))}}const s=J0("auth");return s&&kO(n,`http://${s}`),n}function aD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}_O({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",aD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nD("Browser");var Jy={};const Zy="@firebase/database",ev="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC="";function lD(t){GC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:da(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new cD(e)}}catch{}return new uD},ns=KC("localStorage"),dD=KC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Bp("@firebase/database"),hD=function(){let t=1;return function(){return t++}}(),qC=function(t){const e=DR(t),n=new RR;n.update(e);const r=n.digest();return Hp.encodeByteArray(r)},Ua=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ua.apply(null,r):typeof r=="object"?e+=Fe(r):e+=r,e+=" "}return e};let Fo=null,tv=!0;const fD=function(t,e){M(!e,"Can't turn on custom loggers persistently."),ai.logLevel=ue.VERBOSE,Fo=ai.log.bind(ai)},Ve=function(...t){if(tv===!0&&(tv=!1,Fo===null&&dD.get("logging_enabled")===!0&&fD()),Fo){const e=Ua.apply(null,t);Fo(e)}},$a=function(t){return function(...e){Ve(t,...e)}},nf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ua(...t);ai.error(e)},Vn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ua(...t)}`;throw ai.error(e),new Error(e)},ht=function(...t){const e="FIREBASE WARNING: "+Ua(...t);ai.warn(e)},pD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ai="[MIN_NAME]",_s="[MAX_NAME]",Ns=function(t,e){if(t===e)return 0;if(t===Ai||e===_s)return-1;if(e===Ai||t===_s)return 1;{const n=nv(t),r=nv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gD=function(t,e){return t===e?0:t<e?-1:1},mo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fe(e))},nm=function(t){if(typeof t!="object"||t===null)return Fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Fe(e[r]),n+=":",n+=nm(t[e[r]]);return n+="}",n},QC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const YC=function(t){M(!tm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},yD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _D(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const wD=new RegExp("^-?(0*)\\d{1,10}$"),xD=-2147483648,CD=2147483647,nv=function(t){if(wD.test(t)){const e=Number(t);if(e>=xD&&e<=CD)return e}return null},Xi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},ED=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Lt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}}class Bl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="5",XC="v",JC="s",ZC="r",eE="f",tE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nE="ls",rE="p",rf="ac",sE="websocket",iE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ns.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ns.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aE(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===sE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TD(t)&&(n.ns=t.namespace);const s=[];return qe(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.counters_={}}incrementCounter(e,n=1){Sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return dR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id={},kd={};function sm(t){const e=t.toString();return Id[e]||(Id[e]=new ND),Id[e]}function ID(t,e){const n=t.toString();return kd[n]||(kd[n]=e()),kd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Xi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="start",PD="close",RD="pLPCommand",AD="pRTLPCB",lE="id",cE="pw",uE="ser",OD="cb",MD="seg",DD="ts",LD="d",jD="dframe",dE=1870,hE=30,FD=dE-hE,UD=25e3,$D=3e4;class Qs{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=sm(n),this.urlFn=l=>(this.appCheckToken&&(l[rf]=this.appCheckToken),aE(n,iE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($D)),mD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new im((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rv)this.id=a,this.password=l;else if(o===PD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[rv]="t",r[uE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[XC]=rm,this.transportSessionId&&(r[JC]=this.transportSessionId),this.lastSessionId&&(r[nE]=this.lastSessionId),this.applicationId&&(r[rE]=this.applicationId),this.appCheckToken&&(r[rf]=this.appCheckToken),typeof location<"u"&&location.hostname&&tE.test(location.hostname)&&(r[ZC]=eE);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return Qs.forceAllow_?!0:!Qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yD()&&!vD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Y0(n),s=QC(r,FD);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[jD]="t",r[lE]=e,r[cE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class im{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hD(),window[RD+this.uniqueCallbackIdentifier]=e,window[AD+this.uniqueCallbackIdentifier]=n,this.myIFrame=im.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lE]=this.myID,e[cE]=this.myPW,e[uE]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hE+r.length<=dE;){const o=this.pendingSegs.shift();r=r+"&"+MD+s+"="+o.seg+"&"+DD+s+"="+o.ts+"&"+LD+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(UD)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=16384,WD=45e3;let Ac=null;typeof MozWebSocket<"u"?Ac=MozWebSocket:typeof WebSocket<"u"&&(Ac=WebSocket);class Yt{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=sm(n),this.connURL=Yt.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[XC]=rm,typeof location<"u"&&location.hostname&&tE.test(location.hostname)&&(o[ZC]=eE),n&&(o[JC]=n),r&&(o[nE]=r),s&&(o[rf]=s),i&&(o[rE]=i),aE(e,sE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ns.set("previous_websocket_failure",!0);try{let r;sC(),this.mySock=new Ac(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ac!==null&&!Yt.forceDisallow_}static previouslyFailed(){return ns.isInMemoryStorage||ns.get("previous_websocket_failure")===!0}markConnectionHealthy(){ns.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=da(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=QC(n,HD);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static get ALL_TRANSPORTS(){return[Qs,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Yt&&Yt.isAvailable();let r=n&&!Yt.previouslyFailed();if(e.webSocketOnly&&(n||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const s=this.transports_=[];for(const i of pa.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);pa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6e4,BD=5e3,VD=10*1024,GD=100*1024,Pd="t",sv="d",KD="s",iv="r",qD="e",ov="o",av="a",lv="n",cv="p",QD="h";class YD{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new pa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pd in e){const n=e[Pd];n===av?this.upgradeIfSecondaryHealthy_():n===iv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ov&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=mo("t",e),r=mo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:av,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=mo("t",e),r=mo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=mo(Pd,e);if(sv in e){const r=e[sv];if(n===QD){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===lv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KD?this.onConnectionShutdown_(r):n===iv?this.onReset_(r):n===qD?nf("Server Error: "+r):n===ov?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),rm!==r&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ns.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends pE{static getInstance(){return new Oc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=32,dv=768;class de{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new de("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ur(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function om(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function XD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ma(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function ke(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new de(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function ut(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return ut(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function JD(t,e){const n=ma(t,0),r=ma(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=Ns(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function am(t,e){if(Ur(t)!==Ur(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ft(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ur(t)>Ur(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ZD{constructor(e,n){this.errorPrefix_=n,this.parts_=ma(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xu(this.parts_[r]);gE(this)}}function eL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xu(e),gE(t)}function tL(t){const e=t.parts_.pop();t.byteLength_-=xu(e),t.parts_.length>0&&(t.byteLength_-=1)}function gE(t){if(t.byteLength_>dv)throw new Error(t.errorPrefix_+"has a key path longer than "+dv+" bytes ("+t.byteLength_+").");if(t.parts_.length>uv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uv+") or object contains a cycle "+Jr(t))}function Jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends pE{static getInstance(){return new lm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=1e3,nL=60*5*1e3,hv=30*1e3,rL=1.3,sL=3e4,iL="server_kill",fv=3;class Ln extends fE{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ln.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=go,this.maxReconnectDelay_=nL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!sC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Fe(i)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Oa,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Ln.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sn(e,"w")){const r=ki(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):nf("Unrecognized action received from server: "+Fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=go,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=go,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sL&&(this.reconnectDelay_=go),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ln.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){M(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new YD(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{ht(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(iL)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ht(h),l())}}}interrupt(e){Ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gh(this.interruptReasons_)&&(this.reconnectDelay_=go,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>nm(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new de(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Ve("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fv&&(this.reconnectDelay_=hv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ve("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GC.replace(/\./g,"-")]=1,zp()?e["framework.cordova"]=1:rC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oc.getInstance().currentlyOnline();return Gh(this.interruptReasons_)&&e}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y(Ai,e),s=new Y(Ai,n);return this.compare(r,s)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class yE extends bu{static get __EMPTY_NODE(){return gl}static set __EMPTY_NODE(e){gl=e}compare(e,n){return Ns(e.name,n.name)}isDefinedOn(e){throw Gi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(_s,gl)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,gl)}toString(){return".key"}}const li=new yE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??We.RED,this.left=s??vt.EMPTY_NODE,this.right=i??vt.EMPTY_NODE}copy(e,n,r,s,i){return new We(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class oL{copy(e,n,r,s,i){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(e,n=vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yl(this.root_,null,this.comparator_,!0,e)}}vt.EMPTY_NODE=new oL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e){return Ns(t.name,e.name)}function cm(t,e){return Ns(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf;function lL(t){sf=t}const vE=function(t){return typeof t=="number"?"number:"+YC(t):"string:"+t},_E=function(t){if(t.isLeafNode()){const e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sn(e,".sv"),"Priority must be a string or number.")}else M(t===sf||t.isEmpty(),"priority of unexpected type.");M(t===sf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv;class $e{static set __childrenNodeConstructor(e){pv=e}static get __childrenNodeConstructor(){return pv}constructor(e,n=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_E(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:Q(e)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||Ur(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=YC(this.value_):e+=this.value_,this.lazyHash_=qC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $e.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=$e.VALUE_TYPE_ORDER.indexOf(n),i=$e.VALUE_TYPE_ORDER.indexOf(r);return M(s>=0,"Unknown leaf type: "+n),M(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE,xE;function cL(t){wE=t}function uL(t){xE=t}class dL extends bu{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ns(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(_s,new $e("[PRIORITY-POST]",xE))}makePost(e,n){const r=wE(e);return new Y(n,new $e("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new dL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=Math.log(2);class fL{constructor(e){const n=i=>parseInt(Math.log(i)/hL,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mc=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new We(f,h.node,We.BLACK,null,null);{const v=parseInt(d/2,10)+l,w=s(l,v),g=s(v+1,c);return h=t[v],f=n?n(h):h,new We(f,h.node,We.BLACK,w,g)}},i=function(l){let c=null,d=null,h=t.length;const f=function(w,g){const x=h-w,_=h;h-=w;const p=s(x+1,_),m=t[x],C=n?n(m):m;v(new We(C,m.node,g,null,p))},v=function(w){c?(c.left=w,c=w):(d=w,c=w)};for(let w=0;w<l.count;++w){const g=l.nextBitIsOne(),x=Math.pow(2,l.count-(w+1));g?f(x,We.BLACK):(f(x,We.BLACK),f(x,We.RED))}return d},o=new fL(t.length),a=i(o);return new vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const As={};class On{static get Default(){return M(As&&Pe,"ChildrenNode.ts has not been loaded"),Rd=Rd||new On({".priority":As},{".priority":Pe}),Rd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return Sn(this.indexSet_,e.toString())}addIndex(e,n){M(e!==li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Y.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Mc(r,e.getCompare()):a=As;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=a,new On(d,c)}addToIndexes(e,n){const r=Sc(this.indexes_,(s,i)=>{const o=ki(this.indexSet_,i);if(M(o,"Missing index implementation for "+i),s===As)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Y.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Mc(a,o.getCompare())}else return As;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new On(r,this.indexSet_)}removeFromIndexes(e,n){const r=Sc(this.indexes_,s=>{if(s===As)return s;{const i=n.get(e.name);return i?s.remove(new Y(e.name,i)):s}});return new On(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo;class B{static get EMPTY_NODE(){return yo||(yo=new B(new vt(cm),null,On.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_E(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yo}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yo:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(M(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?yo:this.priorityNode_;return new B(s,o,i)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{M(Q(e)!==".priority"||Ur(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Pe,(o,a)=>{n[o]=a.val(e),r++,i&&B.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vE(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":qC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Y(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Y.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ha?-1:0}withIndex(e){if(e===li||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===li||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),s=n.getIterator(Pe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===li?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pL extends B{constructor(){super(new vt(cm),B.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const Ha=new pL;Object.defineProperties(Y,{MIN:{value:new Y(Ai,B.EMPTY_NODE)},MAX:{value:new Y(_s,Ha)}});yE.__EMPTY_NODE=B.EMPTY_NODE;$e.__childrenNodeConstructor=B;lL(Ha);uL(Ha);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=!0;function je(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $e(n,je(e))}if(!(t instanceof Array)&&mL){const n=[];let r=!1;if(qe(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=je(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(o,l)))}}),n.length===0)return B.EMPTY_NODE;const i=Mc(n,aL,o=>o.name,cm);if(r){const o=Mc(n,Pe.getCompare());return new B(i,je(e),new On({".priority":o},{".priority":Pe}))}else return new B(i,je(e),On.Default)}else{let n=B.EMPTY_NODE;return qe(t,(r,s)=>{if(Sn(t,r)&&r.substring(0,1)!=="."){const i=je(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(je(e))}}cL(je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL extends bu{constructor(e){super(),this.indexPath_=e,M(!J(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ns(e.name,n.name):i}makePost(e,n){const r=je(e),s=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,s)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,Ha);return new Y(_s,e)}toString(){return ma(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL extends bu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ns(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=je(e);return new Y(n,r)}toString(){return".value"}}const vL=new yL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){return{type:"value",snapshotNode:t}}function Oi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ga(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ya(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _L(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ga(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Oi(n,r)):o.trackChildChange(ya(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Pe,(s,i)=>{n.hasChild(s)||r.trackChildChange(ga(s,i))}),n.isLeafNode()||n.forEachChild(Pe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(ya(s,i,o))}else r.trackChildChange(Oi(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.indexedFilter_=new um(e.getIndex()),this.index_=e.getIndex(),this.startPost_=va.getStartPost_(e),this.endPost_=va.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(B.EMPTY_NODE);const i=this;return n.forEachChild(Pe,(o,a)=>{i.matches(new Y(o,a))||(s=s.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new va(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=B.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(B.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,v)=>h(v,f)}else o=this.index_.getCompare();const a=e;M(a.numChildren()===this.limit_,"");const l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const v=f==null?1:o(f,l);if(d&&!r.isEmpty()&&v>=0)return i!=null&&i.trackChildChange(ya(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(ga(n,h));const g=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Oi(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ga(c.name,c.node)),i.trackChildChange(Oi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ai}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new dm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xL(t){return t.loadsAllData()?new um(t.getIndex()):t.hasLimit()?new wL(t):new va(t)}function mv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pe?n="$priority":t.index_===vL?n="$value":t.index_===li?n="$key":(M(t.index_ instanceof gL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends fE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=$a("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Dc.getListenId_(e,r),a={};this.listens_[o]=a;const l=mv(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),ki(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Dc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=mv(e._queryParams),r=e._path.toString(),s=new Oa;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qi(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=da(a.responseText)}catch{ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(){return{value:null,children:new Map}}function EE(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,Lc());const s=t.children.get(r);e=me(e),EE(s,e,n)}}function of(t,e,n){t.value!==null?n(e,t.value):EL(t,(r,s)=>{const i=new de(e.toString()+"/"+r);of(s,i,n)})}function EL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&qe(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=10*1e3,bL=30*1e3,TL=5*60*1e3;class NL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SL(e);const r=yv+(bL-yv)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qe(e,(s,i)=>{i>0&&Sn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*TL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function hm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jt.ACK_USER_WRITE,this.source=hm()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new jc(ie(),n,this.revert)}}else return M(Q(this.path)===e,"operationForChild called for unrelated child."),new jc(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.source=e,this.path=n,this.type=Jt.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new _a(this.source,ie()):new _a(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jt.OVERWRITE}operationForChild(e){return J(this.path)?new ws(this.source,ie(),this.snap.getImmediateChild(e)):new ws(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jt.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new ws(this.source,ie(),n.value):new Mi(this.source,ie(),n)}else return M(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mi(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kL(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(_L(o.childName,o.snapshotNode))}),vo(t,s,"child_removed",e,r,n),vo(t,s,"child_added",e,r,n),vo(t,s,"child_moved",i,r,n),vo(t,s,"child_changed",e,r,n),vo(t,s,"value",e,r,n),s}function vo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>RL(t,a,l)),o.forEach(a=>{const l=PL(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function PL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RL(t,e,n){if(e.childName==null||n.childName==null)throw Gi("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),s=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e){return{eventCache:t,serverCache:e}}function $o(t,e,n,r){return Tu(new $r(e,n,r),t.serverCache)}function SE(t,e,n,r){return Tu(t.eventCache,new $r(e,n,r))}function Fc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;const AL=()=>(Ad||(Ad=new vt(gD)),Ad);class pe{static fromObject(e){let n=new pe(null);return qe(e,(r,s)=>{n=n.set(new de(r),s)}),n}constructor(e,n=AL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(J(e))return null;{const r=Q(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(me(e),n);return i!=null?{path:ke(new de(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new pe(null)}}set(e,n){if(J(e))return new pe(n,this.children);{const r=Q(e),i=(this.children.get(r)||new pe(null)).set(me(e),n),o=this.children.insert(r,i);return new pe(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const s=r.remove(me(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new pe(null):new pe(this.value,i)}else return this}}get(e){if(J(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(J(e))return n;{const r=Q(e),i=(this.children.get(r)||new pe(null)).setTree(me(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new pe(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ke(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(J(e))return null;{const i=Q(e),o=this.children.get(i);return o?o.findOnPath_(me(e),ke(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(J(e))return this;{this.value&&r(n,this.value);const s=Q(e),i=this.children.get(s);return i?i.foreachOnPath_(me(e),ke(n,s),r):new pe(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ke(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new pe(null))}}function Ho(t,e,n){if(J(e))return new tn(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=ut(s,e);return i=i.updateChild(o,n),new tn(t.writeTree_.set(s,i))}else{const s=new pe(n),i=t.writeTree_.setTree(e,s);return new tn(i)}}}function af(t,e,n){let r=t;return qe(n,(s,i)=>{r=Ho(r,ke(e,s),i)}),r}function vv(t,e){if(J(e))return tn.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new tn(n)}}function lf(t,e){return Is(t,e)!=null}function Is(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ut(n.path,e)):null}function _v(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,s)=>{e.push(new Y(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Y(r,s.value))}),e}function Ar(t,e){if(J(e))return t;{const n=Is(t,e);return n!=null?new tn(new pe(n)):new tn(t.writeTree_.subtree(e))}}function cf(t){return t.writeTree_.isEmpty()}function Di(t,e){return bE(ie(),t.writeTree_,e)}function bE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(M(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=bE(ke(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ke(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e){return kE(e,t)}function OL(t,e,n,r,s){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Ho(t.visibleWrites,e,n)),t.lastWriteId=r}function ML(t,e,n,r){M(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=af(t.visibleWrites,e,n),t.lastWriteId=r}function DL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function LL(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jL(a,r.path)?s=!1:Ft(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return FL(t),!0;if(r.snap)t.visibleWrites=vv(t.visibleWrites,r.path);else{const a=r.children;qe(a,l=>{t.visibleWrites=vv(t.visibleWrites,ke(r.path,l))})}return!0}else return!1}function jL(t,e){if(t.snap)return Ft(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ft(ke(t.path,n),e))return!0;return!1}function FL(t){t.visibleWrites=TE(t.allWrites,UL,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function UL(t){return t.visible}function TE(t,e,n){let r=tn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Ft(n,o)?(a=ut(n,o),r=Ho(r,a,i.snap)):Ft(o,n)&&(a=ut(o,n),r=Ho(r,ie(),i.snap.getChild(a)));else if(i.children){if(Ft(n,o))a=ut(n,o),r=af(r,a,i.children);else if(Ft(o,n))if(a=ut(o,n),J(a))r=af(r,ie(),i.children);else{const l=ki(i.children,Q(a));if(l){const c=l.getChild(me(a));r=Ho(r,ie(),c)}}}else throw Gi("WriteRecord should have .snap or .children")}}return r}function NE(t,e,n,r,s){if(!r&&!s){const i=Is(t.visibleWrites,e);if(i!=null)return i;{const o=Ar(t.visibleWrites,e);if(cf(o))return n;if(n==null&&!lf(o,ie()))return null;{const a=n||B.EMPTY_NODE;return Di(o,a)}}}else{const i=Ar(t.visibleWrites,e);if(!s&&cf(i))return n;if(!s&&n==null&&!lf(i,ie()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ft(c.path,e)||Ft(e,c.path))},a=TE(t.allWrites,o,e),l=n||B.EMPTY_NODE;return Di(a,l)}}}function $L(t,e,n){let r=B.EMPTY_NODE;const s=Is(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Pe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Ar(t.visibleWrites,e);return n.forEachChild(Pe,(o,a)=>{const l=Di(Ar(i,new de(o)),a);r=r.updateImmediateChild(o,l)}),_v(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Ar(t.visibleWrites,e);return _v(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function HL(t,e,n,r,s){M(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ke(e,n);if(lf(t.visibleWrites,i))return null;{const o=Ar(t.visibleWrites,i);return cf(o)?s.getChild(n):Di(o,s.getChild(n))}}function WL(t,e,n,r){const s=ke(e,n),i=Is(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Ar(t.visibleWrites,s);return Di(o,r.getNode().getImmediateChild(n))}else return null}function zL(t,e){return Is(t.visibleWrites,e)}function BL(t,e,n,r,s,i,o){let a;const l=Ar(t.visibleWrites,e),c=Is(l,ie());if(c!=null)a=c;else if(n!=null)a=Di(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=f.getNext();for(;v&&d.length<s;)h(v,r)!==0&&d.push(v),v=f.getNext();return d}else return[]}function VL(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Uc(t,e,n,r){return NE(t.writeTree,t.treePath,e,n,r)}function mm(t,e){return $L(t.writeTree,t.treePath,e)}function wv(t,e,n,r){return HL(t.writeTree,t.treePath,e,n,r)}function $c(t,e){return zL(t.writeTree,ke(t.treePath,e))}function GL(t,e,n,r,s,i){return BL(t.writeTree,t.treePath,e,n,r,s,i)}function gm(t,e,n){return WL(t.writeTree,t.treePath,e,n)}function IE(t,e){return kE(ke(t.treePath,e),t.writeTree)}function kE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,ya(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,ga(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Oi(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,ya(r,e.snapshotNode,s.oldSnap));else throw Gi("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const PE=new qL;class ym{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xs(this.viewCache_),i=GL(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return{filter:t}}function YL(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function XL(t,e,n,r,s){const i=new KL;let o,a;if(n.type===Jt.OVERWRITE){const c=n;c.source.fromUser?o=uf(t,e,c.path,c.snap,r,s,i):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=Hc(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Jt.MERGE){const c=n;c.source.fromUser?o=ZL(t,e,c.path,c.children,r,s,i):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=df(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Jt.ACK_USER_WRITE){const c=n;c.revert?o=n2(t,e,c.path,r,s,i):o=e2(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Jt.LISTEN_COMPLETE)o=t2(t,e,n.path,r,i);else throw Gi("Unknown operation type: "+n.type);const l=i.getChanges();return JL(e,o,l),{viewCache:o,changes:l}}function JL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Fc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(CE(Fc(e)))}}function RE(t,e,n,r,s,i){const o=e.eventCache;if($c(r,n)!=null)return e;{let a,l;if(J(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=xs(e),d=c instanceof B?c:B.EMPTY_NODE,h=mm(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=Uc(r,xs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Q(n);if(c===".priority"){M(Ur(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=wv(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=me(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=wv(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=gm(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,s,i):a=o.getNode()}}return $o(e,a,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Hc(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),v,null)}else{const v=Q(n);if(!l.isCompleteForPath(n)&&Ur(n)>1)return e;const w=me(n),x=l.getNode().getImmediateChild(v).updateChild(w,r);v===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),v,x,w,PE,null)}const h=SE(e,c,l.isFullyInitialized()||J(n),d.filtersNodes()),f=new ym(s,h,i);return RE(t,h,n,s,f,a)}function uf(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new ym(s,e,i);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$o(e,c,!0,t.filter.filtersNodes());else{const h=Q(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=$o(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=me(n),v=a.getNode().getImmediateChild(h);let w;if(J(f))w=r;else{const g=d.getCompleteChild(h);g!=null?om(f)===".priority"&&g.getChild(mE(f)).isEmpty()?w=g:w=g.updateChild(f,r):w=B.EMPTY_NODE}if(v.equals(w))l=e;else{const g=t.filter.updateChild(a.getNode(),h,w,f,d,o);l=$o(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function xv(t,e){return t.eventCache.isCompleteForChild(e)}function ZL(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=ke(n,l);xv(e,Q(d))&&(a=uf(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=ke(n,l);xv(e,Q(d))||(a=uf(t,a,d,c,s,i,o))}),a}function Cv(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function df(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;J(n)?c=r:c=new pe(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),w=Cv(t,v,f);l=Hc(t,l,new de(h),w,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const v=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!v){const w=e.serverCache.getNode().getImmediateChild(h),g=Cv(t,w,f);l=Hc(t,l,new de(h),g,s,i,o,a)}}),l}function e2(t,e,n,r,s,i,o){if($c(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hc(t,e,n,l.getNode().getChild(n),s,i,a,o);if(J(n)){let c=new pe(null);return l.getNode().forEachChild(li,(d,h)=>{c=c.set(new de(d),h)}),df(t,e,n,c,s,i,a,o)}else return e}else{let c=new pe(null);return r.foreach((d,h)=>{const f=ke(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),df(t,e,n,c,s,i,a,o)}}function t2(t,e,n,r,s){const i=e.serverCache,o=SE(e,i.getNode(),i.isFullyInitialized()||J(n),i.isFiltered());return RE(t,o,n,r,PE,s)}function n2(t,e,n,r,s,i){let o;if($c(r,n)!=null)return e;{const a=new ym(r,e,s),l=e.eventCache.getNode();let c;if(J(n)||Q(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Uc(r,xs(e));else{const h=e.serverCache.getNode();M(h instanceof B,"serverChildren would be complete if leaf node"),d=mm(r,h)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=Q(n);let h=gm(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,me(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,B.EMPTY_NODE,me(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Uc(r,xs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||$c(r,ie())!=null,$o(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new um(r.getIndex()),i=xL(r);this.processor_=QL(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(B.EMPTY_NODE,a.getNode(),null),d=new $r(l,o.isFullyInitialized(),s.filtersNodes()),h=new $r(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Tu(h,d),this.eventGenerator_=new IL(this.query_)}get query(){return this.query_}}function s2(t){return t.viewCache_.serverCache.getNode()}function i2(t){return Fc(t.viewCache_)}function o2(t,e){const n=xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function Ev(t){return t.eventRegistrations_.length===0}function a2(t,e){t.eventRegistrations_.push(e)}function Sv(t,e,n){const r=[];if(n){M(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function bv(t,e,n,r){e.type===Jt.MERGE&&e.source.queryId!==null&&(M(xs(t.viewCache_),"We should always have a full cache before handling merges"),M(Fc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=XL(t.processor_,s,e,n,r);return YL(t.processor_,i.viewCache),M(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,AE(t,i.changes,i.viewCache.eventCache.getNode(),null)}function l2(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(i,o)=>{r.push(Oi(i,o))}),n.isFullyInitialized()&&r.push(CE(n.getNode())),AE(t,r,n.getNode(),e)}function AE(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return kL(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc;class OE{constructor(){this.views=new Map}}function c2(t){M(!Wc,"__referenceConstructor has already been defined"),Wc=t}function u2(){return M(Wc,"Reference.ts has not been loaded"),Wc}function d2(t){return t.views.size===0}function vm(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return M(i!=null,"SyncTree gave us an op for an invalid query."),bv(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(bv(o,e,n,r));return i}}function ME(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Uc(n,s?r:null),l=!1;a?l=!0:r instanceof B?(a=mm(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const c=Tu(new $r(a,l,!1),new $r(r,s,!1));return new r2(e,c)}return o}function h2(t,e,n,r,s,i){const o=ME(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),a2(o,n),l2(o,n)}function f2(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Hr(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Sv(c,n,r)),Ev(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Sv(l,n,r)),Ev(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Hr(t)&&i.push(new(u2())(e._repo,e._path)),{removed:i,events:o}}function DE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Or(t,e){let n=null;for(const r of t.views.values())n=n||o2(r,e);return n}function LE(t,e){if(e._queryParams.loadsAllData())return Iu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function jE(t,e){return LE(t,e)!=null}function Hr(t){return Iu(t)!=null}function Iu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;function p2(t){M(!zc,"__referenceConstructor has already been defined"),zc=t}function m2(){return M(zc,"Reference.ts has not been loaded"),zc}let g2=1;class Tv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=VL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FE(t,e,n,r,s){return OL(t.pendingWriteTree_,e,n,r,s),s?Ji(t,new ws(hm(),e,n)):[]}function y2(t,e,n,r){ML(t.pendingWriteTree_,e,n,r);const s=pe.fromObject(n);return Ji(t,new Mi(hm(),e,s))}function _r(t,e,n=!1){const r=DL(t.pendingWriteTree_,e);if(LL(t.pendingWriteTree_,e)){let i=new pe(null);return r.snap!=null?i=i.set(ie(),!0):qe(r.children,o=>{i=i.set(new de(o),!0)}),Ji(t,new jc(r.path,i,n))}else return[]}function Wa(t,e,n){return Ji(t,new ws(fm(),e,n))}function v2(t,e,n){const r=pe.fromObject(n);return Ji(t,new Mi(fm(),e,r))}function _2(t,e){return Ji(t,new _a(fm(),e))}function w2(t,e,n){const r=wm(t,n);if(r){const s=xm(r),i=s.path,o=s.queryId,a=ut(i,e),l=new _a(pm(o),a);return Cm(t,i,l)}else return[]}function Bc(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||jE(o,e))){const l=f2(o,e,n,r);d2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,v)=>Hr(v));if(d&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const v=E2(f);for(let w=0;w<v.length;++w){const g=v[w],x=g.query,_=WE(t,g);t.listenProvider_.startListening(Wo(x),wa(t,x),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Wo(e),null):c.forEach(f=>{const v=t.queryToTagMap.get(ku(f));t.listenProvider_.stopListening(Wo(f),v)}))}S2(t,c)}return a}function UE(t,e,n,r){const s=wm(t,r);if(s!=null){const i=xm(s),o=i.path,a=i.queryId,l=ut(o,e),c=new ws(pm(a),l,n);return Cm(t,o,c)}else return[]}function x2(t,e,n,r){const s=wm(t,r);if(s){const i=xm(s),o=i.path,a=i.queryId,l=ut(o,e),c=pe.fromObject(n),d=new Mi(pm(a),l,c);return Cm(t,o,d)}else return[]}function hf(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,v)=>{const w=ut(f,s);i=i||Or(v,w),o=o||Hr(v)});let a=t.syncPointTree_.get(s);a?(o=o||Hr(a),i=i||Or(a,ie())):(a=new OE,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=B.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((v,w)=>{const g=Or(w,ie());g&&(i=i.updateImmediateChild(v,g))}));const c=jE(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=ku(e);M(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const v=b2();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}const d=Nu(t.pendingWriteTree_,s);let h=h2(a,e,n,d,i,l);if(!c&&!o&&!r){const f=LE(a,e);h=h.concat(T2(t,e,f))}return h}function _m(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ut(o,e),c=Or(a,l);if(c)return c});return NE(s,e,i,n,!0)}function C2(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=ut(c,n);r=r||Or(d,h)});let s=t.syncPointTree_.get(n);s?r=r||Or(s,ie()):(s=new OE,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new $r(r,!0,!1):null,a=Nu(t.pendingWriteTree_,e._path),l=ME(s,e,a,i?o.getNode():B.EMPTY_NODE,i);return i2(l)}function Ji(t,e){return $E(e,t.syncPointTree_,null,Nu(t.pendingWriteTree_,ie()))}function $E(t,e,n,r){if(J(t.path))return HE(t,e,n,r);{const s=e.get(ie());n==null&&s!=null&&(n=Or(s,ie()));let i=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=IE(r,o);i=i.concat($E(a,l,c,d))}return s&&(i=i.concat(vm(s,t,r,n))),i}}function HE(t,e,n,r){const s=e.get(ie());n==null&&s!=null&&(n=Or(s,ie()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=IE(r,o),d=t.operationForChild(o);d&&(i=i.concat(HE(d,a,l,c)))}),s&&(i=i.concat(vm(s,t,r,n))),i}function WE(t,e){const n=e.query,r=wa(t,n);return{hashFn:()=>(s2(e)||B.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?w2(t,n._path,r):_2(t,n._path);{const i=_D(s,n);return Bc(t,n,null,i)}}}}function wa(t,e){const n=ku(e);return t.queryToTagMap.get(n)}function ku(t){return t._path.toString()+"$"+t._queryIdentifier}function wm(t,e){return t.tagToQueryMap.get(e)}function xm(t){const e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function Cm(t,e,n){const r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");const s=Nu(t.pendingWriteTree_,e);return vm(r,n,s,null)}function E2(t){return t.fold((e,n,r)=>{if(n&&Hr(n))return[Iu(n)];{let s=[];return n&&(s=DE(n)),qe(r,(i,o)=>{s=s.concat(o)}),s}})}function Wo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(m2())(t._repo,t._path):t}function S2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ku(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function b2(){return g2++}function T2(t,e,n){const r=e._path,s=wa(t,e),i=WE(t,n),o=t.listenProvider_.startListening(Wo(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)M(!Hr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!J(c)&&d&&Hr(d))return[Iu(d).query];{let f=[];return d&&(f=f.concat(DE(d).map(v=>v.query))),qe(h,(v,w)=>{f=f.concat(w)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Wo(d),wa(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Em(n)}node(){return this.node_}}class Sm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ke(this.path_,e);return new Sm(this.syncTree_,n)}node(){return _m(this.syncTree_,this.path_)}}const N2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nv=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return I2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return k2(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},I2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},k2=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);const s=e.node();if(M(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},zE=function(t,e,n,r){return bm(e,new Sm(n,t),r)},BE=function(t,e,n){return bm(t,new Em(e),n)};function bm(t,e,n){const r=t.getPriority().val(),s=Nv(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=Nv(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new $e(a,je(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new $e(s))),o.forEachChild(Pe,(a,l)=>{const c=bm(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Nm(t,e){let n=e instanceof de?e:new de(e),r=t,s=Q(n);for(;s!==null;){const i=ki(r.node.children,s)||{children:{},childCount:0};r=new Tm(s,r,i),n=me(n),s=Q(n)}return r}function Zi(t){return t.node.value}function VE(t,e){t.node.value=e,ff(t)}function GE(t){return t.node.childCount>0}function P2(t){return Zi(t)===void 0&&!GE(t)}function Pu(t,e){qe(t.node.children,(n,r)=>{e(new Tm(n,t,r))})}function KE(t,e,n,r){n&&!r&&e(t),Pu(t,s=>{KE(s,e,!0,r)}),n&&r&&e(t)}function R2(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function za(t){return new de(t.parent===null?t.name:za(t.parent)+"/"+t.name)}function ff(t){t.parent!==null&&A2(t.parent,t.name,t)}function A2(t,e,n){const r=P2(n),s=Sn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ff(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ff(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/[\[\].#$\/\u0000-\u001F\u007F]/,M2=/[\[\].#$\u0000-\u001F\u007F]/,Od=10*1024*1024,Im=function(t){return typeof t=="string"&&t.length!==0&&!O2.test(t)},qE=function(t){return typeof t=="string"&&t.length!==0&&!M2.test(t)},D2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qE(t)},L2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!tm(t)||t&&typeof t=="object"&&Sn(t,".sv")},QE=function(t,e,n,r){r&&e===void 0||Ru(wu(t,"value"),e,n)},Ru=function(t,e,n){const r=n instanceof de?new ZD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Jr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Jr(r)+" with contents = "+e.toString());if(tm(e))throw new Error(t+"contains "+e.toString()+" "+Jr(r));if(typeof e=="string"&&e.length>Od/3&&xu(e)>Od)throw new Error(t+"contains a string greater than "+Od+" utf8 bytes "+Jr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(qe(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Im(o)))throw new Error(t+" contains an invalid key ("+o+") "+Jr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eL(r,o),Ru(t,a,r),tL(r)}),s&&i)throw new Error(t+' contains ".value" child '+Jr(r)+" in addition to actual children.")}},j2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=ma(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Im(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(JD);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Ft(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},F2=function(t,e,n,r){const s=wu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];qe(e,(o,a)=>{const l=new de(o);if(Ru(s,a,ke(n,l)),om(l)===".priority"&&!L2(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),j2(s,i)},YE=function(t,e,n,r){if(!qE(n))throw new Error(wu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},U2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),YE(t,e,n)},XE=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Im(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!D2(n))throw new Error(wu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Au(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!am(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function JE(t,e,n){Au(t,n),ZE(t,r=>am(r,e))}function Wt(t,e,n){Au(t,n),ZE(t,r=>Ft(r,e)||Ft(e,r))}function ZE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(W2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function W2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Fo&&Ve("event: "+n.toString()),Xi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="repo_interrupt",B2=25;class V2{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lc(),this.transactionQueueTree_=new Tm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function G2(t,e,n){if(t.stats_=sm(t.repoInfo_),t.forceRestClient_||ED())t.server_=new Dc(t.repoInfo_,(r,s,i,o)=>{Iv(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ln(t.repoInfo_,e,(r,s,i,o)=>{Iv(t,r,s,i,o)},r=>{kv(t,r)},r=>{K2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ID(t.repoInfo_,()=>new NL(t.stats_,t.server_)),t.infoData_=new CL,t.infoSyncTree_=new Tv({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Wa(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),km(t,"connected",!1),t.serverSyncTree_=new Tv({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Wt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function eS(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ou(t){return N2({timestamp:eS(t)})}function Iv(t,e,n,r,s){t.dataUpdateCount++;const i=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Sc(n,c=>je(c));o=x2(t.serverSyncTree_,i,l,s)}else{const l=je(n);o=UE(t.serverSyncTree_,i,l,s)}else if(r){const l=Sc(n,c=>je(c));o=v2(t.serverSyncTree_,i,l)}else{const l=je(n);o=Wa(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Li(t,i)),Wt(t.eventQueue_,a,o)}function kv(t,e){km(t,"connected",e),e===!1&&X2(t)}function K2(t,e){qe(e,(n,r)=>{km(t,n,r)})}function km(t,e,n){const r=new de("/.info/"+e),s=je(n);t.infoData_.updateSnapshot(r,s);const i=Wa(t.infoSyncTree_,r,s);Wt(t.eventQueue_,r,i)}function Pm(t){return t.nextWriteId_++}function q2(t,e,n){const r=C2(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=je(s).withIndex(e._queryParams.getIndex());hf(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Wa(t.serverSyncTree_,e._path,i);else{const a=wa(t.serverSyncTree_,e);o=UE(t.serverSyncTree_,e._path,i,a)}return Wt(t.eventQueue_,e._path,o),Bc(t.serverSyncTree_,e,n,null,!0),i},s=>(Ba(t,"get for query "+Fe(e)+" failed: "+s),Promise.reject(new Error(s))))}function Q2(t,e,n,r,s){Ba(t,"set",{path:e.toString(),value:n,priority:r});const i=Ou(t),o=je(n,r),a=_m(t.serverSyncTree_,e),l=BE(o,a,i),c=Pm(t),d=FE(t.serverSyncTree_,e,l,c,!0);Au(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,v)=>{const w=f==="ok";w||ht("set at "+e+" failed: "+f);const g=_r(t.serverSyncTree_,c,!w);Wt(t.eventQueue_,e,g),pf(t,s,f,v)});const h=Am(t,e);Li(t,h),Wt(t.eventQueue_,h,[])}function Y2(t,e,n,r){Ba(t,"update",{path:e.toString(),value:n});let s=!0;const i=Ou(t),o={};if(qe(n,(a,l)=>{s=!1,o[a]=zE(ke(e,a),je(l),t.serverSyncTree_,i)}),s)Ve("update() called with empty data.  Don't do anything."),pf(t,r,"ok",void 0);else{const a=Pm(t),l=y2(t.serverSyncTree_,e,o,a);Au(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||ht("update at "+e+" failed: "+c);const f=_r(t.serverSyncTree_,a,!h),v=f.length>0?Li(t,e):e;Wt(t.eventQueue_,v,f),pf(t,r,c,d)}),qe(n,c=>{const d=Am(t,ke(e,c));Li(t,d)}),Wt(t.eventQueue_,e,[])}}function X2(t){Ba(t,"onDisconnectEvents");const e=Ou(t),n=Lc();of(t.onDisconnect_,ie(),(s,i)=>{const o=zE(s,i,t.serverSyncTree_,e);EE(n,s,o)});let r=[];of(n,ie(),(s,i)=>{r=r.concat(Wa(t.serverSyncTree_,s,i));const o=Am(t,s);Li(t,o)}),t.onDisconnect_=Lc(),Wt(t.eventQueue_,ie(),r)}function J2(t,e,n){let r;Q(e._path)===".info"?r=hf(t.infoSyncTree_,e,n):r=hf(t.serverSyncTree_,e,n),JE(t.eventQueue_,e._path,r)}function Pv(t,e,n){let r;Q(e._path)===".info"?r=Bc(t.infoSyncTree_,e,n):r=Bc(t.serverSyncTree_,e,n),JE(t.eventQueue_,e._path,r)}function Z2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(z2)}function Ba(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ve(n,...e)}function pf(t,e,n,r){e&&Xi(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function tS(t,e,n){return _m(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function Rm(t,e=t.transactionQueueTree_){if(e||Mu(t,e),Zi(e)){const n=rS(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&ej(t,za(e),n)}else GE(e)&&Pu(e,n=>{Rm(t,n)})}function ej(t,e,n){const r=n.map(c=>c.currentWriteId),s=tS(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];M(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=ut(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ba(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(_r(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Mu(t,Nm(t.transactionQueueTree_,e)),Rm(t,t.transactionQueueTree_),Wt(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)Xi(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ht("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Li(t,e)}},o)}function Li(t,e){const n=nS(t,e),r=za(n),s=rS(t,n);return tj(t,s,r),r}function tj(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ut(n,l.path);let d=!1,h;if(M(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,s=s.concat(_r(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=B2)d=!0,h="maxretry",s=s.concat(_r(t.serverSyncTree_,l.currentWriteId,!0));else{const f=tS(t,l.path,o);l.currentInputSnapshot=f;const v=e[a].update(f.val());if(v!==void 0){Ru("transaction failed: Data returned ",v,l.path);let w=je(v);typeof v=="object"&&v!=null&&Sn(v,".priority")||(w=w.updatePriority(f.getPriority()));const x=l.currentWriteId,_=Ou(t),p=BE(w,f,_);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=p,l.currentWriteId=Pm(t),o.splice(o.indexOf(x),1),s=s.concat(FE(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(_r(t.serverSyncTree_,x,!0))}else d=!0,h="nodata",s=s.concat(_r(t.serverSyncTree_,l.currentWriteId,!0))}Wt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Mu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Xi(r[a]);Rm(t,t.transactionQueueTree_)}function nS(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&Zi(r)===void 0;)r=Nm(r,n),e=me(e),n=Q(e);return r}function rS(t,e){const n=[];return sS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function sS(t,e,n){const r=Zi(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Pu(e,s=>{sS(t,s,n)})}function Mu(t,e){const n=Zi(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,VE(e,n.length>0?n:void 0)}Pu(e,r=>{Mu(t,r)})}function Am(t,e){const n=za(nS(t,e)),r=Nm(t.transactionQueueTree_,e);return R2(r,s=>{Md(t,s)}),Md(t,r),KE(r,s=>{Md(t,s)}),n}function Md(t,e){const n=Zi(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(_r(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?VE(e,void 0):n.length=i+1,Wt(t.eventQueue_,za(e),s);for(let o=0;o<r.length;o++)Xi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function rj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const Rv=function(t,e){const n=sj(t),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pD();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oE(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new de(n.pathString)}},sj=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=nj(t.substring(d,h)));const f=rj(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ij=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Av.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Av.charAt(e[s]);return M(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())}}class aj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return J(this._path)?null:om(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const e=gv(this._queryParams),n=nm(e);return n==="{}"?"default":n}get _queryObject(){return gv(this._queryParams)}isEqual(e){if(e=rt(e),!(e instanceof Om))return!1;const n=this._repo===e._repo,r=am(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+XD(this._path)}}class qn extends Om{constructor(e,n){super(e,n,new dm,!1)}get parent(){const e=mE(this._path);return e===null?null:new qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xa{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),r=Ca(this.ref,e);return new xa(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new xa(s,Ca(this.ref,r),Pe)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function it(t,e){return t=rt(t),t._checkNotDeleted("ref"),e!==void 0?Ca(t._root,e):t._root}function Ca(t,e){return t=rt(t),Q(t._path)===null?U2("child","path",e):YE("child","path",e),new qn(t._repo,ke(t._path,e))}function lj(t,e){t=rt(t),XE("push",t._path),QE("push",e,t._path,!0);const n=eS(t._repo),r=ij(n),s=Ca(t,r),i=Ca(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function mf(t,e){t=rt(t),XE("set",t._path),QE("set",e,t._path,!1);const n=new Oa;return Q2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function er(t,e){F2("update",e,t._path);const n=new Oa;return Y2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function cj(t){t=rt(t);const e=new iS(()=>{}),n=new Du(e);return q2(t._repo,t,n).then(r=>new xa(r,new qn(t._repo,t._path),t._queryParams.getIndex()))}class Du{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new oj("value",this,new xa(e.snapshotNode,new qn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new aj(this,e,n):null}matches(e){return e instanceof Du?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function uj(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,h)=>{Pv(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new iS(n,i||void 0),a=new Du(o);return J2(t._repo,t,a),()=>Pv(t._repo,t,a)}function vl(t,e,n,r){return uj(t,"value",e,n,r)}c2(qn);p2(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="FIREBASE_DATABASE_EMULATOR_HOST",gf={};let hj=!1;function fj(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=Ki(i);t.repoInfo_=new oE(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function pj(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Rv(i,s),a=o.repoInfo,l;typeof process<"u"&&Jy&&(l=Jy[dj]),l?(i=`http://${l}?ns=${a.namespace}`,o=Rv(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new bD(t.name,t.options,e);$2("Invalid Firebase Database URL",o),J(o.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=gj(a,t,c,new SD(t,n));return new yj(d,t)}function mj(t,e){const n=gf[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Z2(t),delete n[t.key]}function gj(t,e,n,r){let s=gf[e.name];s||(s={},gf[e.name]=s);let i=s[t.toURLString()];return i&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new V2(t,hj,n,r),s[t.toURLString()]=i,i}class yj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(G2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}}function vj(t=cC(),e){const n=Gp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yR("database");r&&_j(n,...r)}return n}function _j(t,e,n,r={}){t=rt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&ms(r,i.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Bl(Bl.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:vR(r.mockUserToken,t.app.options.projectId);o=new Bl(a)}Ki(e)&&(tC(e),nC("Database",!0)),fj(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){lD(Qi),Pi(new gs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return pj(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Rr(Zy,ev,t),Rr(Zy,ev,"esm2020")}Ln.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ln.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wj();const xj={apiKey:"AIzaSyCEtbJ-KR_UV9LAlYlnvgoxliRs5FkSdXk",authDomain:"kicked-in-the-disc.firebaseapp.com",databaseURL:"https://kicked-in-the-disc-default-rtdb.firebaseio.com",projectId:"kicked-in-the-disc",storageBucket:"kicked-in-the-disc.firebasestorage.app",appId:"1:987543051729:web:c258be8a9deaa79a52d4f0"},oS=lC(xj),_l=oD(oS),ot=vj(oS);function ks(){const[t,e]=y.useState(null),[n,r]=y.useState(!0),{toast:s}=Wi();return y.useEffect(()=>_l.onAuthStateChanged(async c=>{if(e(c),c)try{const d=it(ot,`users/${c.uid}`);(await cj(d)).exists()?console.log("✅ User database record already exists for:",c.uid):(console.log("🔧 Creating database record for user:",c.uid,c.displayName),await mf(d,{id:c.uid,email:c.email||"",displayName:c.displayName||"Unknown User",hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log("✅ User database record created successfully"))}catch(d){console.error("Error checking/creating user record:",d)}r(!1)}),[]),{user:t,loading:n,signUp:async(l,c,d)=>{try{const h=await zO(_l,l,c);await GO(h.user,{displayName:d}),console.log("🔧 Creating database record for new user:",h.user.uid,d);const f=it(ot,`users/${h.user.uid}`);return await mf(f,{id:h.user.uid,email:l,displayName:d,hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log("✅ New user database record created successfully"),s({title:"Account created successfully!",description:"Welcome to Kicked in the Disc"}),h}catch(h){throw s({title:"Error creating account",description:h.message,variant:"destructive"}),h}},signIn:async(l,c)=>{try{const d=await BO(_l,l,c);return s({title:"Signed in successfully!",description:"Welcome back"}),d}catch(d){throw s({title:"Error signing in",description:d.message,variant:"destructive"}),d}},logout:async()=>{try{await QO(_l),s({title:"Signed out successfully"})}catch(l){s({title:"Error signing out",description:l.message,variant:"destructive"})}}}}const te=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("rounded-2xl border-3 border-logo-dark bg-card text-card-foreground cartoon-shadow card-hover",t),...e}));te.displayName="Card";const Cj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));Cj.displayName="CardHeader";const Ej=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("text-2xl font-bold font-logo leading-none tracking-tight text-logo-dark",t),...e}));Ej.displayName="CardTitle";const Sj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));Sj.displayName="CardDescription";const ne=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));ne.displayName="CardContent";const bj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));bj.displayName="CardFooter";const gn=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));gn.displayName="Input";const Tj=Ip("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium font-logo ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"cartoon-button text-white font-semibold",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border-2 border-logo-dark",outline:"border-3 border-logo-dark bg-white hover:bg-logo-green/20 hover:text-logo-dark font-semibold cartoon-shadow",secondary:"bg-brand-secondary text-white hover:bg-brand-secondary/80 border-2 border-logo-dark font-semibold",ghost:"hover:bg-white/20 hover:text-logo-dark font-medium",link:"text-brand-primary underline-offset-4 hover:underline font-medium",cartoon:"bg-brand-accent text-logo-dark hover:bg-brand-accent/90 border-3 border-logo-dark cartoon-shadow font-bold",gradient:"bg-text-gradient text-white border-2 border-logo-dark cartoon-shadow font-bold"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-lg px-4",lg:"h-14 rounded-xl px-10 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),re=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?BN:"button";return u.jsx(o,{className:xe(Tj({variant:e,size:n,className:t})),ref:i,...s})});re.displayName="Button";var Nj="Label",aS=y.forwardRef((t,e)=>u.jsx(he.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aS.displayName=Nj;var lS=aS;const Ij=Ip("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wr=y.forwardRef(({className:t,...e},n)=>u.jsx(lS,{ref:n,className:xe(Ij(),t),...e}));wr.displayName=lS.displayName;function kj(){const[t,e]=y.useState(!0),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(""),{signIn:d,signUp:h}=ks(),f=async v=>{if(v.preventDefault(),t)await d(n,s);else{if(s!==l)return;await h(n,s,o)}};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-6 floating-animation",children:"🥏"}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-white/80 mb-8",children:t?"Sign in to track your disc golf games":"Join the disc golf community"}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),u.jsx(gn,{type:"email",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter your email",required:!0})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-2",children:"Display Name"}),u.jsx(gn,{type:"text",value:o,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Choose a display name",required:!0})]}),u.jsxs("div",{className:"text-left",children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),u.jsx(gn,{type:"password",value:s,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:t?"Enter your password":"Minimum 6 characters",required:!0,minLength:6})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),u.jsx(gn,{type:"password",value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Confirm your password",required:!0})]}),u.jsx(re,{type:"submit",className:"w-full bg-white text-brand-primary font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:t?"Sign In":"Create Account"}),u.jsx(re,{type:"button",onClick:()=>e(!t),className:"w-full bg-transparent border border-white/30 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors",children:t?"Create Account":"Back to Sign In"})]})]})})})}function Dd({title:t,description:e,icon:n,onClick:r,disabled:s,className:i}){return u.jsx(te,{className:xe("p-6 card-hover cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95",s&&"opacity-50 cursor-not-allowed hover:scale-100",i),onClick:s?void 0:r,children:u.jsxs(ne,{className:"p-0 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-brand-primary/20 rounded-2xl flex items-center justify-center cartoon-shadow border-2 border-logo-dark",children:n}),u.jsx("h3",{className:"font-logo font-bold text-lg mb-2 text-logo-dark",children:t}),u.jsx("p",{className:"text-muted-foreground font-medium",children:e})]})})}const Pj=[{id:"stranger",name:"The Stranger",category:"Before Throw",description:"Make an opponent throw their next throw with their offhand.",copies:4,effect:"force_offhand"},{id:"shrink_ray",name:"Shrink Ray",category:"Before Throw",description:"Make an opponent throw a mini on their next throw.",copies:4,effect:"force_mini"},{id:"because_i_said_so",name:"Because I Said So",category:"Before Throw",description:"Make a mando all other players must make. (mando must be on current hole)",copies:4,effect:"force_mando"},{id:"im_you_silly",name:"I'm You Silly",category:"Before Throw",description:"Take an opponent's throw for them.",copies:4,effect:"take_throw"},{id:"is_that_what_youre_throwing",name:"Is That What You're Throwing",category:"Before Throw",description:"Make an opponent throw a disc of your choosing from yours or their bag.",copies:4,effect:"force_disc_choice"},{id:"gremlins",name:"Gremlins",category:"After Throw",description:"Move an opponent's disc 10 paces in any direction.",copies:4,effect:"move_opponent_disc"},{id:"thats_my_disc",name:"That's My Disc",category:"After Throw",description:"Swap lies with an opponent.",copies:4,effect:"swap_lies"},{id:"merely_a_flesh_wound",name:"Merely a Flesh Wound",category:"After Throw",description:"Make all opponents throw from their knees (both knees must be touching the ground).",copies:4,effect:"force_knees"},{id:"thats_not_fair",name:"That's Not Fair",category:"After Throw",description:"Make an opponent rethrow last throw and take worst lie.",copies:4,effect:"force_rethrow_worst"},{id:"instant_replay",name:"Instant Replay",category:"After Throw",description:"Make all opponents rethrow last throw and take the worst lie.",copies:4,effect:"force_all_rethrow_worst"},{id:"im_rubber_you_glue",name:"I'm Rubber You Glue",category:"Self",description:"Reflects a card played on you back at the person who played it.",copies:4,effect:"reflect_card"},{id:"i_reject_your_reality",name:"I Reject Your Reality",category:"Self",description:"Redirects a card played on you to another opponent.",copies:4,effect:"redirect_card"},{id:"it_was_here_i_swear",name:"It Was Here I Swear",category:"Self",description:"Move your disc 10 paces in any direction.",copies:4,effect:"move_own_disc"},{id:"mulligan",name:"Mulligan",category:"Self",description:"Rethrow last throw and take best lie.",copies:4,effect:"rethrow_best"},{id:"seeing_double",name:"Seeing Double",category:"Self",description:"Putt twice take the best lie.",copies:4,effect:"double_putt_best"},{id:"jealousy",name:"Jealousy",category:"Wild",description:"Change scorecards with an opponent of your choosing. If reflected back, trade with last place or +3 if you're last.",copies:1,effect:"swap_scorecards"},{id:"i_need_some_space",name:"I Need Some Space",category:"Wild",description:"Move your disc 10 paces closer to the basket and all other players must move theirs 10 further away.",copies:1,effect:"move_closer_others_further"},{id:"hear_it_ring",name:"Hear It Ring",category:"Wild",description:"If your disc hits metal it counts as in the basket.",copies:1,effect:"metal_counts_in"},{id:"whats_par_again",name:"What's Par Again",category:"Wild",description:"Add +1 to par for you and -1 to par for all opponents on this hole.",copies:1,effect:"adjust_par"},{id:"ace_run",name:"Ace Run",category:"Wild",description:"Next throw counts as an ace.",copies:1,effect:"next_throw_ace"}];function Ps(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),{user:s}=ks(),{toast:i}=Wi();y.useEffect(()=>{if(s){const m=it(ot,`users/${s.uid}`);return vl(m,E=>{const S=E.val();r((S==null?void 0:S.hasHostingPrivilege)||!1)})}},[s]);const o=()=>Math.random().toString(36).substring(2,8).toUpperCase(),a=()=>{const m=[];Pj.forEach(C=>{for(let E=0;E<C.copies;E++)m.push({...C,id:`${C.id}_${E}`})});for(let C=m.length-1;C>0;C--){const E=Math.floor(Math.random()*(C+1));[m[C],m[E]]=[m[E],m[C]]}return m},l=(m,C)=>{const E={...m},S=[...C];return Object.keys(E).forEach(b=>{const N=[];for(let P=0;P<5;P++)S.length>0&&N.push(S.pop());E[b].hand=N}),{players:E,remainingDeck:S}},c=async(m,C)=>{if(!s||!n){i({title:"Cannot create game",description:"You need hosting privileges to create a game",variant:"destructive"});return}try{const E=o(),S=lj(it(ot,"games")),b={id:s.uid,name:s.displayName||s.email,isHost:!0,isReady:!0,strokes:[],scores:[],totalScore:0,hand:[]},N={id:S.key,gameCode:E,hostId:s.uid,gameName:C,totalHoles:m,currentHole:1,currentPar:3,pars:Array.from({length:m},()=>3),parsSet:Array.from({length:m},()=>!1),gamePhase:"lobby",players:{[s.uid]:b},gameActivity:[`${s.displayName||s.email} created the game`],deck:[],discardPile:[],gameRound:"before_throw"};return await mf(S,N),i({title:"Game created!",description:`Game code: ${E}`}),E}catch(E){i({title:"Error creating game",description:E.message,variant:"destructive"})}},d=async m=>{if(s)try{const C=it(ot,"games");vl(C,E=>{const S=E.val(),b=Object.entries(S||{}).find(([,O])=>O.gameCode===m.toUpperCase());if(!b){i({title:"Game not found",description:"Please check the game code and try again",variant:"destructive"});return}const[N,P]=b;if(Object.keys(P.players).length>=6){i({title:"Game is full",description:"This game already has 6 players",variant:"destructive"});return}const R={id:s.uid,name:s.displayName||s.email,isHost:!1,isReady:!1,strokes:[],scores:[],totalScore:0,hand:[]},F={[`games/${N}/players/${s.uid}`]:R,[`games/${N}/gameActivity`]:[...P.gameActivity||[],`${s.displayName||s.email} joined the game`]};er(it(ot),F),i({title:"Joined game!",description:`Welcome to ${P.gameName||"the game"}`})},{onlyOnce:!0})}catch(C){i({title:"Error joining game",description:C.message,variant:"destructive"})}},h=m=>{const C=it(ot,`games/${m}`);return vl(C,E=>{const S=E.val();S&&e(b=>({...S,id:m}))})},f=async m=>{if(s)try{const C=it(ot,"games");return new Promise((E,S)=>{vl(C,b=>{const N=b.val(),P=Object.entries(N||{}).find(([,R])=>R.gameCode===m.toUpperCase());if(P){const[R,F]=P;e({...F,id:R}),E(F)}else S(new Error("Game not found"))},{onlyOnce:!0})})}catch(C){throw i({title:"Error finding game",description:C.message,variant:"destructive"}),C}},v=async m=>{if(!(!s||!t))try{const C=a(),{players:E,remainingDeck:S}=l(t.players,C),b=it(ot,`games/${m}`);await er(b,{gamePhase:"playing",players:E,deck:S,currentPlayerTurn:null,gameRound:"scoring",gameActivity:[...t.gameActivity||[],`${s.displayName||s.email} started the game`,"Cards have been dealt to all players!"]}),i({title:"Game started!",description:"Cards have been dealt to all players"})}catch(C){i({title:"Error starting game",description:C.message,variant:"destructive"})}},w=async(m,C,E)=>{var S;if(!(!s||!t))try{const b=t.players[s.uid];if(!b){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const N=b.hand.findIndex($=>$.id===C);if(N===-1){i({title:"Error",description:"Card not found in hand",variant:"destructive"});return}const P=b.hand[N],R=[...b.hand];R.splice(N,1);const F=[...t.discardPile||[],P],O={[`games/${m}/players/${s.uid}/hand`]:R,[`games/${m}/discardPile`]:F,[`games/${m}/gameActivity`]:[...t.gameActivity||[],`${s.displayName||s.email} played ${P.name}`+(E?` on ${((S=t.players[E])==null?void 0:S.name)||"a player"}`:"")]};await er(it(ot),O),i({title:"Card played!",description:`${P.name} has been played`})}catch(b){i({title:"Error playing card",description:b.message,variant:"destructive"})}},g=async(m,C,E)=>{var S,b;if(!(!s||!t))try{if(!Number.isInteger(E)||E<1||E>30){i({title:"Invalid score",description:"Score must be a whole number between 1 and 30 strokes",variant:"destructive"});return}if(!(((S=t.parsSet)==null?void 0:S[C])??!1)){i({title:"Cannot submit score",description:"The host must set par for this hole first",variant:"destructive"});return}const P=t.players[s.uid];if(!P){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const R=[...P.strokes||[]];R[C]=E;const F=((b=t.pars)==null?void 0:b[C])??t.currentPar??3,O=E-F,$=[...P.scores||[]];$[C]=O;const D=$.reduce((T,k)=>T+(k||0),0),G={[`games/${m}/players/${s.uid}/strokes`]:R,[`games/${m}/players/${s.uid}/scores`]:$,[`games/${m}/players/${s.uid}/totalScore`]:D};await er(it(ot),G);const U=O>0?`+${O}`:O.toString();i({title:"Score submitted!",description:`Hole ${C+1}: ${E} strokes (${U})`}),(()=>{var H;if(!t)return;const T=t.currentHole-1;if(!(((H=t.parsSet)==null?void 0:H[T])??!1))return;Object.values(t.players).every(X=>{var Te;return X.id===s.uid?typeof $[T]=="number":typeof((Te=X.scores)==null?void 0:Te[T])=="number"})&&setTimeout(()=>{_(m)},1500)})()}catch(N){i({title:"Error submitting score",description:N.message,variant:"destructive"})}},x=async(m,C)=>{if(!s||!t||s.uid!==t.hostId)return;const E=[...t.pars||Array.from({length:t.totalHoles},()=>3)];E[t.currentHole-1]=C;const S=[...t.parsSet||Array.from({length:t.totalHoles},()=>!1)];S[t.currentHole-1]=!0;const b={currentPar:C,pars:E,parsSet:S,gameActivity:[...t.gameActivity||[],`Par set to ${C} for hole ${t.currentHole}`]};await er(it(ot,`games/${m}`),b)},_=async m=>{var S,b,N;if(!s||!t)return;const C=t.currentHole+1;if(C>t.totalHoles){console.log("🏁 Game finishing! nextHole:",C,"totalHoles:",t.totalHoles),await er(it(ot,`games/${m}`),{gamePhase:"finished",gameActivity:[...t.gameActivity||[],"Game finished!"]}),console.log("🏁 Game phase set to finished in Firebase"),i({title:"Round complete!",description:"Game has been finished."});return}let E={[`games/${m}/currentHole`]:C,[`games/${m}/gameActivity`]:[...t.gameActivity||[],`Advanced to hole ${C}`]};if((S=t.parsSet)!=null&&S[C-1]?E[`games/${m}/currentPar`]=((b=t.pars)==null?void 0:b[C-1])??3:E[`games/${m}/currentPar`]=3,(C-1)%3===0){const R=Object.values(t.players).sort((F,O)=>(O.totalScore||0)-(F.totalScore||0))[0];if(R){const F=[...t.deck||[]],O=F.pop();if(O){const $=[...((N=t.players[R.id])==null?void 0:N.hand)||[]];$.push(O),E={...E,[`games/${m}/deck`]:F,[`games/${m}/players/${R.id}/hand`]:$,[`games/${m}/gameActivity`]:[...E[`games/${m}/gameActivity`]||[],`${R.name} received a bonus card for being in last place`]}}}}await er(it(ot),E)};return{currentGame:t,hasHostingPrivilege:n,createGame:c,joinGame:d,listenToGame:h,findGameByCode:f,startGame:v,playCard:w,submitScore:g,setParForHole:x,advanceToNextHole:_,purchaseHosting:async()=>{if(s)try{const m=it(ot,`users/${s.uid}`);await er(m,{hasHostingPrivilege:!0}),i({title:"Purchase successful!",description:"You can now host games"})}catch(m){i({title:"Purchase failed",description:m.message,variant:"destructive"})}}}}function Rj(){var r;const{user:t,logout:e}=ks(),{hasHostingPrivilege:n}=Ps();return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"glass-card p-4 m-4 rounded-2xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"text-4xl floating-animation",children:"🥏"}),u.jsx("h1",{className:"text-2xl font-logo font-bold text-gradient text-outline",children:"KICKED IN THE DISC"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-white/80 text-sm",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),u.jsx(re,{onClick:e,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",size:"sm",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:u.jsx(ne,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["Welcome, ",((r=t==null?void 0:t.displayName)==null?void 0:r.split(" ")[0])||"Player","!"]}),u.jsx("p",{className:"text-white/70",children:"Ready to play some disc golf?"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-white/70 text-sm",children:"Hosting Privilege:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:n?"✅ Purchased":"❌ Not Purchased"})]})})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(Ll,{href:"/host",children:u.jsx(Dd,{title:"Host Game",description:"Create a new game for up to 6 players",disabled:!n,icon:u.jsx(VI,{className:"w-8 h-8 text-brand-accent"}),className:n?"":"opacity-50"})}),u.jsx(Ll,{href:"/join",children:u.jsx(Dd,{title:"Join Game",description:"Enter a game code to join an existing game",icon:u.jsx(YI,{className:"w-8 h-8 text-blue-400"})})}),u.jsx(Ll,{href:"/store",children:u.jsx(Dd,{title:"Store",description:"Purchase hosting privileges and upgrades",icon:u.jsx(qI,{className:"w-8 h-8 text-purple-400"})})})]}),u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"More Ways to Play"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(re,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:u.jsx(LI,{className:"w-6 h-6 text-purple-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Schedule Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Plan a future game with friends"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(uy,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]}),u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-green-500/20 to-teal-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(re,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:u.jsx(MI,{className:"w-6 h-6 text-green-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Solo Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Play against 1-4 AI bots"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(uy,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx(re,{className:"w-full p-4 bg-white/5 hover:bg-white/10 border-2 border-white/10 rounded-xl transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(DI,{className:"w-5 h-5 text-red-300"}),u.jsx("span",{className:"text-white",children:"Report a Bug"})]})})})]})})]})]})}function Aj(){const{hasHostingPrivilege:t,purchaseHosting:e}=Ps();return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Store"}),u.jsx("p",{className:"text-white/70",children:"Enhance your disc golf experience"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-brand-accent/20 rounded-3xl flex items-center justify-center",children:u.jsx(KI,{className:"w-10 h-10 text-brand-accent"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Hosting Privilege"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Unlock the ability to host games for up to 6 players with custom hole counts"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$9.99"}),u.jsx(re,{onClick:e,disabled:t,className:`w-full font-semibold py-3 rounded-xl transition-colors ${t?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-brand-accent text-white hover:bg-brand-accent/90"}`,children:t?"Purchased ✅":"Purchase Now"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"One-time purchase • Lifetime access"})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(QI,{className:"w-10 h-10 text-purple-400"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Premium Features"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Advanced statistics, custom scoring rules, and exclusive themes"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$4.99"}),u.jsx(re,{disabled:!0,className:"w-full bg-purple-500/20 text-purple-300 font-semibold py-3 rounded-xl opacity-50 cursor-not-allowed",children:"Coming Soon"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"Monthly subscription"})]})})]}),u.jsx("div",{className:"text-center",children:u.jsx(Ll,{href:"/",children:u.jsx(re,{className:"bg-white/10 text-white px-8 py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})})})]})}function Oj(){const[t,e]=y.useState(18),[n,r]=y.useState(""),{createGame:s}=Ps(),[,i]=Hi(),o=async()=>{const l=await s(t,n||void 0);l&&i(`/lobby/${l}`)},a=[9,18,24];return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Host New Game"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-3",children:"Number of Holes"}),u.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:a.map(l=>u.jsxs(re,{onClick:()=>e(l),className:`p-4 rounded-xl font-semibold transition-colors border ${t===l?"bg-white/20 border-white/40 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[l," Holes"]},l))}),u.jsxs("div",{className:"mt-3",children:[u.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:l=>e(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),u.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-1",children:[u.jsx("span",{children:"1"}),u.jsxs("span",{children:["Custom: ",t," holes"]}),u.jsx("span",{children:"24"})]})]})]}),u.jsxs("div",{children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Mode"}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"p-4 bg-white/20 rounded-xl border-2 border-white/40 cursor-pointer",children:[u.jsx("div",{className:"text-white font-semibold",children:"Standard Stroke Play"}),u.jsx("div",{className:"text-white/70 text-sm",children:"Traditional scoring - lowest score wins"})]})})]}),u.jsxs("div",{children:[u.jsx(wr,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Name (Optional)"}),u.jsx(gn,{type:"text",value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter game name"})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-8",children:[u.jsx(re,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Create Game"}),u.jsx(re,{onClick:()=>i("/"),className:"px-8 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})}function Mj(){const[t,e]=y.useState(""),{joinGame:n}=Ps(),[,r]=Hi(),s=async()=>{t.length===6&&(await n(t),r(`/lobby/${t.toUpperCase()}`))};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(WI,{className:"w-10 h-10 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Game"}),u.jsx("p",{className:"text-white/70 mb-8",children:"Enter the game code provided by the host"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(gn,{type:"text",value:t,onChange:i=>e(i.target.value.toUpperCase()),className:"w-full px-4 py-4 text-center text-2xl font-mono rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40 uppercase tracking-wider",placeholder:"ABC123",maxLength:6}),u.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Game codes are 6 characters long"})]}),u.jsx(re,{onClick:s,disabled:t.length!==6,className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50",children:"Join Game"}),u.jsx(re,{onClick:()=>r("/"),className:"w-full bg-white/10 text-white font-semibold py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})]})]})})})}function cS({player:t,position:e,showScore:n}){var o;const r=(a,l=0)=>a<l?"text-green-400":a===l?"text-white":"text-red-400",s=a=>a===1?"bg-yellow-500":a===2?"bg-gray-400":a===3?"bg-orange-600":"bg-white/20",i=(t.strokes||[]).reduce((a,l)=>a+(l||0),0);return u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all duration-200 ${t.isHost?"bg-brand-gradient":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[e&&u.jsx("div",{className:`w-8 h-8 ${s(e)} rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white font-bold text-sm",children:e})}),u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-semibold",children:t.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white font-semibold flex items-center",children:t.name}),u.jsxs("div",{className:"text-white/70 text-sm",children:[t.isHost?"👑 Host":"Player",!n&&(t.isReady?" • Ready ✓":" • Waiting..."),n&&` • ${((o=t.hand)==null?void 0:o.length)||0} cards`]})]})]}),n&&u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`text-2xl font-bold ${r(t.totalScore)}`,children:[t.totalScore>0?"+":"",t.totalScore]}),u.jsxs("div",{className:"text-white/70 text-sm",children:[i," strokes"]})]})]})}function Dj(){const[t,e]=wp("/lobby/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,startGame:i,setParForHole:o}=Ps(),{user:a}=ks(),[,l]=Hi(),{toast:c}=Wi(),[d,h]=y.useState(!1),[f,v]=y.useState(!0),[w,g]=y.useState("");y.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(v(!0),s(e.gameCode).then(()=>{v(!1)}).catch(N=>{console.error("Error finding game:",N),v(!1),c({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),l("/")}))},[t,e==null?void 0:e.gameCode,n,s,l,c]),y.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),y.useEffect(()=>{n&&g(n.currentPar??"")},[n==null?void 0:n.currentPar]),y.useEffect(()=>{(n==null?void 0:n.gamePhase)==="playing"&&(c({title:"Game starting!",description:"Redirecting to game..."}),l(`/game/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,l,c]);const x=async()=>{if(n!=null&&n.gameCode)try{await navigator.clipboard.writeText(n.gameCode),h(!0),c({title:"Game code copied!",description:"Share this code with your friends to join the game."}),setTimeout(()=>h(!1),2e3)}catch{c({title:"Failed to copy",description:"Please copy the game code manually.",variant:"destructive"})}},_=async()=>{if(n!=null&&n.gameCode){const N=`${window.location.origin}/join`,P=`Join my disc golf game! 🥏

Game Code: ${n.gameCode}

Sign up and join here: ${N}`;if(navigator.share)try{await navigator.share({title:"Join my Disc Golf Game",text:P,url:N})}catch{}else try{await navigator.clipboard.writeText(P),c({title:"Game link copied!",description:"Share this message with your friends to invite them."})}catch{c({title:"Failed to copy",description:"Please share the game code manually.",variant:"destructive"})}}},p=()=>{if(n!=null&&n.gameCode){const N=`${window.location.origin}/join`,P=`Join my disc golf game! 🥏

Game Code: ${n.gameCode}

Sign up and join here: ${N}`,R=`sms:?body=${encodeURIComponent(P)}`;window.open(R,"_blank")}};if(f)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🔍"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Looking for game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we find your game"})]})})});if(!n||!a)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(re,{onClick:()=>l("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const m=n.hostId===a.uid,C=Object.values(n.players),E=async()=>{n!=null&&n.id&&(await i(n.id),l(`/game/${n.gameCode}`))},S=async()=>{!(n!=null&&n.id)||w===""||(await o(n.id,Number(w)),c({title:"Par set",description:`Par set to ${w} for hole 1`}))},b=()=>{l("/")};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:n.gameName||"Disc Golf Game"}),u.jsxs("p",{className:"text-white/70",children:[n.totalHoles," holes • Standard Stroke Play"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-3xl font-mono font-bold text-brand-accent",children:n.gameCode}),u.jsx("div",{className:"text-white/70 text-sm",children:"Game Code"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/70 text-sm",children:["Players: ",u.jsx("span",{className:"text-white font-semibold",children:C.length}),"/6"]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Status: ",u.jsx("span",{className:"text-yellow-400 font-semibold",children:"Waiting for players"})]})]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Share Game Code"}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx("div",{className:"flex-1 bg-white/10 rounded-xl p-4 border border-white/20",children:u.jsx("div",{className:"text-2xl font-mono font-bold text-brand-accent text-center",children:n.gameCode})}),u.jsx(re,{onClick:x,className:`px-4 py-4 rounded-xl transition-colors ${d?"bg-green-500/20 text-green-300 border-green-400/40":"bg-white/10 text-white hover:bg-white/20 border-white/20"}`,children:d?u.jsx(i0,{className:"w-5 h-5"}):u.jsx(UI,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs(re,{onClick:_,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-xl hover:bg-brand-primary/90 transition-colors",children:[u.jsx(GI,{className:"w-4 h-4 mr-2"}),"Share Link"]}),u.jsxs(re,{onClick:p,className:"flex-1 bg-brand-secondary text-white font-semibold py-3 rounded-xl hover:bg-brand-secondary/90 transition-colors",children:[u.jsx(zI,{className:"w-4 h-4 mr-2"}),"Send Text"]})]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:C.map(N=>u.jsx(cS,{player:N},N.id))})]})}),m&&u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Host Controls"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white/80 text-sm mb-1",children:"Par for hole 1"}),u.jsx(gn,{type:"number",min:1,value:w,onChange:N=>g(N.target.value===""?"":Number(N.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Par"})]}),u.jsx(re,{onClick:S,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"}),u.jsx(re,{onClick:E,disabled:C.length<1,className:"flex-1 bg-brand-accent text-white font-semibold py-3 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}),u.jsx(re,{onClick:b,className:"px-8 bg-red-500/20 text-red-300 font-semibold py-3 rounded-xl hover:bg-red-500/30 transition-colors",children:"Cancel Game"})]})]})}),!m&&u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsx(ne,{className:"p-0 text-center",children:u.jsx(re,{onClick:b,className:"bg-red-500/20 text-red-300 font-semibold py-3 px-8 rounded-xl hover:bg-red-500/30 transition-colors",children:"Leave Game"})})})]})}function Ov(t,[e,n]){return Math.min(n,Math.max(e,t))}var Lj=y.createContext(void 0);function jj(t){const e=y.useContext(Lj);return t||e||"ltr"}var Ld=0;function Fj(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Mv()),document.body.insertAdjacentElement("beforeend",t[1]??Mv()),Ld++,()=>{Ld===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ld--}},[])}function Mv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jd="focusScope.autoFocusOnMount",Fd="focusScope.autoFocusOnUnmount",Dv={bubbles:!1,cancelable:!0},Uj="FocusScope",uS=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=Pt(s),d=Pt(i),h=y.useRef(null),f=Re(e,g=>l(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(m){if(v.paused||!a)return;const C=m.target;a.contains(C)?h.current=C:rr(h.current,{select:!0})},x=function(m){if(v.paused||!a)return;const C=m.relatedTarget;C!==null&&(a.contains(C)||rr(h.current,{select:!0}))},_=function(m){if(document.activeElement===document.body)for(const E of m)E.removedNodes.length>0&&rr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const p=new MutationObserver(_);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),p.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){jv.add(v);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(jd,Dv);a.addEventListener(jd,c),a.dispatchEvent(_),_.defaultPrevented||($j(Vj(dS(a)),{select:!0}),document.activeElement===g&&rr(a))}return()=>{a.removeEventListener(jd,c),setTimeout(()=>{const _=new CustomEvent(Fd,Dv);a.addEventListener(Fd,d),a.dispatchEvent(_),_.defaultPrevented||rr(g??document.body,{select:!0}),a.removeEventListener(Fd,d),jv.remove(v)},0)}}},[a,c,d,v]);const w=y.useCallback(g=>{if(!n&&!r||v.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(x&&_){const p=g.currentTarget,[m,C]=Hj(p);m&&C?!g.shiftKey&&_===C?(g.preventDefault(),n&&rr(m,{select:!0})):g.shiftKey&&_===m&&(g.preventDefault(),n&&rr(C,{select:!0})):_===p&&g.preventDefault()}},[n,r,v.paused]);return u.jsx(he.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});uS.displayName=Uj;function $j(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(rr(r,{select:e}),document.activeElement!==n)return}function Hj(t){const e=dS(t),n=Lv(e,t),r=Lv(e.reverse(),t);return[n,r]}function dS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lv(t,e){for(const n of t)if(!Wj(n,{upTo:e}))return n}function Wj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zj(t){return t instanceof HTMLInputElement&&"select"in t}function rr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zj(t)&&e&&t.select()}}var jv=Bj();function Bj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Fv(t,e),t.unshift(e)},remove(e){var n;t=Fv(t,e),(n=t[0])==null||n.resume()}}}function Fv(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vj(t){return t.filter(e=>e.tagName!=="A")}function Gj(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Kj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Os=new WeakMap,wl=new WeakMap,xl={},Ud=0,hS=function(t){return t&&(t.host||hS(t.parentNode))},qj=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Qj=function(t,e,n,r){var s=qj(e,Array.isArray(t)?t:[t]);xl[n]||(xl[n]=new WeakMap);var i=xl[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var v=f.getAttribute(r),w=v!==null&&v!=="false",g=(Os.get(f)||0)+1,x=(i.get(f)||0)+1;Os.set(f,g),i.set(f,x),o.push(f),g===1&&w&&wl.set(f,!0),x===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),a.clear(),Ud++,function(){o.forEach(function(h){var f=Os.get(h)-1,v=i.get(h)-1;Os.set(h,f),i.set(h,v),f||(wl.has(h)||h.removeAttribute(r),wl.delete(h)),v||h.removeAttribute(n)}),Ud--,Ud||(Os=new WeakMap,Os=new WeakMap,wl=new WeakMap,xl={})}},Yj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Kj(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Qj(r,s,n,"aria-hidden")):function(){return null}},mn=function(){return mn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mn.apply(this,arguments)};function fS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Xj(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Vl="right-scroll-bar-position",Gl="width-before-scroll-bar",Jj="with-scroll-bars-hidden",Zj="--removed-body-scroll-bar-size";function $d(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function e4(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var t4=typeof window<"u"?y.useLayoutEffect:y.useEffect,Uv=new WeakMap;function n4(t,e){var n=e4(null,function(r){return t.forEach(function(s){return $d(s,r)})});return t4(function(){var r=Uv.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||$d(a,null)}),i.forEach(function(a){s.has(a)||$d(a,o)})}Uv.set(n,t)},[t]),n}function r4(t){return t}function s4(t,e){e===void 0&&(e=r4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function i4(t){t===void 0&&(t={});var e=s4(null);return e.options=mn({async:!0,ssr:!1},t),e}var pS=function(t){var e=t.sideCar,n=fS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,mn({},n))};pS.isSideCarExport=!0;function o4(t,e){return t.useMedium(e),pS}var mS=i4(),Hd=function(){},Lu=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Hd,onWheelCapture:Hd,onTouchMoveCapture:Hd}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,v=t.noIsolation,w=t.inert,g=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,p=t.gapMode,m=fS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=n4([n,e]),S=mn(mn({},m),s);return y.createElement(y.Fragment,null,d&&y.createElement(C,{sideCar:mS,removeScrollBar:c,shards:h,noIsolation:v,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:p}),o?y.cloneElement(y.Children.only(a),mn(mn({},S),{ref:E})):y.createElement(_,mn({},S,{className:l,ref:E}),a))});Lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lu.classNames={fullWidth:Gl,zeroRight:Vl};var a4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=a4();return e&&t.setAttribute("nonce",e),t}function c4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function u4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var d4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=l4())&&(c4(e,n),u4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},h4=function(){var t=d4();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gS=function(){var t=h4(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},f4={left:0,top:0,right:0,gap:0},Wd=function(t){return parseInt(t||"",10)||0},p4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wd(n),Wd(r),Wd(s)]},m4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return f4;var e=p4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},g4=gS(),ci="data-scroll-locked",y4=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Jj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(Zj,": ").concat(a,`px;
  }
`)},$v=function(){var t=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(t)?t:0},v4=function(){y.useEffect(function(){return document.body.setAttribute(ci,($v()+1).toString()),function(){var t=$v()-1;t<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,t.toString())}},[])},_4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;v4();var i=y.useMemo(function(){return m4(s)},[s]);return y.createElement(g4,{styles:y4(i,!e,s,n?"":"!important")})},yf=!1;if(typeof window<"u")try{var Cl=Object.defineProperty({},"passive",{get:function(){return yf=!0,!0}});window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{yf=!1}var Ms=yf?{passive:!1}:!1,w4=function(t){return t.tagName==="TEXTAREA"},yS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!w4(t)&&n[e]==="visible")},x4=function(t){return yS(t,"overflowY")},C4=function(t){return yS(t,"overflowX")},Hv=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vS(t,r);if(s){var i=_S(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},E4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},S4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vS=function(t,e){return t==="v"?x4(e):C4(e)},_S=function(t,e){return t==="v"?E4(e):S4(e)},b4=function(t,e){return t==="h"&&e==="rtl"?-1:1},T4=function(t,e,n,r,s){var i=b4(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var v=_S(t,a),w=v[0],g=v[1],x=v[2],_=g-x-i*w;(w||_)&&vS(t,a)&&(h+=_,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},El=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wv=function(t){return[t.deltaX,t.deltaY]},zv=function(t){return t&&"current"in t?t.current:t},N4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},I4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},k4=0,Ds=[];function P4(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(k4++)[0],i=y.useState(gS)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Xj([t.lockRef.current],(t.shards||[]).map(zv),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=El(g),p=n.current,m="deltaX"in g?g.deltaX:p[0]-_[0],C="deltaY"in g?g.deltaY:p[1]-_[1],E,S=g.target,b=Math.abs(m)>Math.abs(C)?"h":"v";if("touches"in g&&b==="h"&&S.type==="range")return!1;var N=Hv(b,S);if(!N)return!0;if(N?E=b:(E=b==="v"?"h":"v",N=Hv(b,S)),!N)return!1;if(!r.current&&"changedTouches"in g&&(m||C)&&(r.current=E),!E)return!0;var P=r.current||E;return T4(P,x,g,P==="h"?m:C,!0)},[]),l=y.useCallback(function(g){var x=g;if(!(!Ds.length||Ds[Ds.length-1]!==i)){var _="deltaY"in x?Wv(x):El(x),p=e.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&N4(E.delta,_)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var m=(o.current.shards||[]).map(zv).filter(Boolean).filter(function(E){return E.contains(x.target)}),C=m.length>0?a(x,m[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(g,x,_,p){var m={name:g,delta:x,target:_,should:p,shadowParent:R4(_)};e.current.push(m),setTimeout(function(){e.current=e.current.filter(function(C){return C!==m})},1)},[]),d=y.useCallback(function(g){n.current=El(g),r.current=void 0},[]),h=y.useCallback(function(g){c(g.type,Wv(g),g.target,a(g,t.lockRef.current))},[]),f=y.useCallback(function(g){c(g.type,El(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return Ds.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ms),document.addEventListener("touchmove",l,Ms),document.addEventListener("touchstart",d,Ms),function(){Ds=Ds.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ms),document.removeEventListener("touchmove",l,Ms),document.removeEventListener("touchstart",d,Ms)}},[]);var v=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(i,{styles:I4(s)}):null,v?y.createElement(_4,{gapMode:t.gapMode}):null)}function R4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A4=o4(mS,P4);var wS=y.forwardRef(function(t,e){return y.createElement(Lu,mn({},t,{ref:e,sideCar:A4}))});wS.classNames=Lu.classNames;var O4=[" ","Enter","ArrowUp","ArrowDown"],M4=[" ","Enter"],Va="Select",[ju,Fu,D4]=Ax(Va),[eo,w3]=Pa(Va,[D4,yu]),Uu=yu(),[L4,Kr]=eo(Va),[j4,F4]=eo(Va),xS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:v,form:w}=t,g=Uu(e),[x,_]=y.useState(null),[p,m]=y.useState(null),[C,E]=y.useState(!1),S=jj(c),[b=!1,N]=jh({prop:r,defaultProp:s,onChange:i}),[P,R]=jh({prop:o,defaultProp:a,onChange:l}),F=y.useRef(null),O=x?w||!!x.closest("form"):!0,[$,D]=y.useState(new Set),G=Array.from($).map(U=>U.props.value).join(";");return u.jsx(WP,{...g,children:u.jsxs(L4,{required:v,scope:e,trigger:x,onTriggerChange:_,valueNode:p,onValueNodeChange:m,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Pp(),value:P,onValueChange:R,open:b,onOpenChange:N,dir:S,triggerPointerDownPosRef:F,disabled:f,children:[u.jsx(ju.Provider,{scope:e,children:u.jsx(j4,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{D(V=>new Set(V).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{D(V=>{const T=new Set(V);return T.delete(U),T})},[]),children:n})}),O?u.jsxs(GS,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:U=>R(U.target.value),disabled:f,form:w,children:[P===void 0?u.jsx("option",{value:""}):null,Array.from($)]},G):null]})})};xS.displayName=Va;var CS="SelectTrigger",ES=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Uu(n),o=Kr(CS,n),a=o.disabled||r,l=Re(e,o.onTriggerChange),c=Fu(n),d=y.useRef("touch"),[h,f,v]=KS(g=>{const x=c().filter(m=>!m.disabled),_=x.find(m=>m.value===o.value),p=qS(x,g,_);p!==void 0&&o.onValueChange(p.value)}),w=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(j0,{asChild:!0,...i,children:u.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VS(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:ee(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&O4.includes(g.key)&&(w(),g.preventDefault())})})})});ES.displayName=CS;var SS="SelectValue",bS=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Kr(SS,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Re(e,l.onValueNodeChange);return nt(()=>{c(d)},[c,d]),u.jsx(he.span,{...a,ref:h,style:{pointerEvents:"none"},children:VS(l.value)?u.jsx(u.Fragment,{children:o}):i})});bS.displayName=SS;var U4="SelectIcon",TS=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(he.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});TS.displayName=U4;var $4="SelectPortal",NS=t=>u.jsx(Ep,{asChild:!0,...t});NS.displayName=$4;var Cs="SelectContent",IS=y.forwardRef((t,e)=>{const n=Kr(Cs,t.__scopeSelect),[r,s]=y.useState();if(nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?bs.createPortal(u.jsx(kS,{scope:t.__scopeSelect,children:u.jsx(ju.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(PS,{...t,ref:e})});IS.displayName=Cs;var Bt=10,[kS,qr]=eo(Cs),H4="SelectContentImpl",W4=la("SelectContent.RemoveScroll"),PS=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:v,sticky:w,hideWhenDetached:g,avoidCollisions:x,..._}=t,p=Kr(Cs,n),[m,C]=y.useState(null),[E,S]=y.useState(null),b=Re(e,W=>C(W)),[N,P]=y.useState(null),[R,F]=y.useState(null),O=Fu(n),[$,D]=y.useState(!1),G=y.useRef(!1);y.useEffect(()=>{if(m)return Yj(m)},[m]),Fj();const U=y.useCallback(W=>{const[ye,...Qe]=O().map(ce=>ce.ref.current),[fe]=Qe.slice(-1),le=document.activeElement;for(const ce of W)if(ce===le||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ye&&E&&(E.scrollTop=0),ce===fe&&E&&(E.scrollTop=E.scrollHeight),ce==null||ce.focus(),document.activeElement!==le))return},[O,E]),V=y.useCallback(()=>U([N,m]),[U,N,m]);y.useEffect(()=>{$&&V()},[$,V]);const{onOpenChange:T,triggerPointerDownPosRef:k}=p;y.useEffect(()=>{if(m){let W={x:0,y:0};const ye=fe=>{var le,ce;W={x:Math.abs(Math.round(fe.pageX)-(((le=k.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ce=k.current)==null?void 0:ce.y)??0))}},Qe=fe=>{W.x<=10&&W.y<=10?fe.preventDefault():m.contains(fe.target)||T(!1),document.removeEventListener("pointermove",ye),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[m,T,k]),y.useEffect(()=>{const W=()=>T(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[T]);const[L,H]=KS(W=>{const ye=O().filter(le=>!le.disabled),Qe=ye.find(le=>le.ref.current===document.activeElement),fe=qS(ye,W,Qe);fe&&setTimeout(()=>fe.ref.current.focus())}),X=y.useCallback((W,ye,Qe)=>{const fe=!G.current&&!Qe;(p.value!==void 0&&p.value===ye||fe)&&(P(W),fe&&(G.current=!0))},[p.value]),Te=y.useCallback(()=>m==null?void 0:m.focus(),[m]),De=y.useCallback((W,ye,Qe)=>{const fe=!G.current&&!Qe;(p.value!==void 0&&p.value===ye||fe)&&F(W)},[p.value]),an=r==="popper"?vf:RS,st=an===vf?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:v,sticky:w,hideWhenDetached:g,avoidCollisions:x}:{};return u.jsx(kS,{scope:n,content:m,viewport:E,onViewportChange:S,itemRefCallback:X,selectedItem:N,onItemLeave:Te,itemTextRefCallback:De,focusSelectedItem:V,selectedItemText:R,position:r,isPositioned:$,searchRef:L,children:u.jsx(wS,{as:W4,allowPinchZoom:!0,children:u.jsx(uS,{asChild:!0,trapped:p.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ee(s,W=>{var ye;(ye=p.trigger)==null||ye.focus({preventScroll:!0}),W.preventDefault()}),children:u.jsx(du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:u.jsx(an,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:W=>W.preventDefault(),..._,...st,onPlaced:()=>D(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,W=>{const ye=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ye&&W.key.length===1&&H(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let fe=O().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(W.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const le=W.target,ce=fe.indexOf(le);fe=fe.slice(ce+1)}setTimeout(()=>U(fe)),W.preventDefault()}})})})})})})});PS.displayName=H4;var z4="SelectItemAlignedPosition",RS=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Kr(Cs,n),o=qr(Cs,n),[a,l]=y.useState(null),[c,d]=y.useState(null),h=Re(e,b=>d(b)),f=Fu(n),v=y.useRef(!1),w=y.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:_,focusSelectedItem:p}=o,m=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&x&&_){const b=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(i.dir!=="rtl"){const le=R.left-N.left,ce=P.left-le,Ct=b.left-ce,ln=b.width+Ct,to=Math.max(ln,N.width),no=window.innerWidth-Bt,ro=Ov(ce,[Bt,Math.max(Bt,no-to)]);a.style.minWidth=ln+"px",a.style.left=ro+"px"}else{const le=N.right-R.right,ce=window.innerWidth-P.right-le,Ct=window.innerWidth-b.right-ce,ln=b.width+Ct,to=Math.max(ln,N.width),no=window.innerWidth-Bt,ro=Ov(ce,[Bt,Math.max(Bt,no-to)]);a.style.minWidth=ln+"px",a.style.right=ro+"px"}const F=f(),O=window.innerHeight-Bt*2,$=g.scrollHeight,D=window.getComputedStyle(c),G=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),V=parseInt(D.borderBottomWidth,10),T=parseInt(D.paddingBottom,10),k=G+U+$+T+V,L=Math.min(x.offsetHeight*5,k),H=window.getComputedStyle(g),X=parseInt(H.paddingTop,10),Te=parseInt(H.paddingBottom,10),De=b.top+b.height/2-Bt,an=O-De,st=x.offsetHeight/2,W=x.offsetTop+st,ye=G+U+W,Qe=k-ye;if(ye<=De){const le=F.length>0&&x===F[F.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-g.offsetTop-g.offsetHeight,Ct=Math.max(an,st+(le?Te:0)+ce+V),ln=ye+Ct;a.style.height=ln+"px"}else{const le=F.length>0&&x===F[0].ref.current;a.style.top="0px";const Ct=Math.max(De,G+g.offsetTop+(le?X:0)+st)+Qe;a.style.height=Ct+"px",g.scrollTop=ye-De+g.offsetTop}a.style.margin=`${Bt}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,x,_,i.dir,r]);nt(()=>m(),[m]);const[C,E]=y.useState();nt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const S=y.useCallback(b=>{b&&w.current===!0&&(m(),p==null||p(),w.current=!1)},[m,p]);return u.jsx(V4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:S,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:u.jsx(he.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});RS.displayName=z4;var B4="SelectPopperPosition",vf=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Bt,...i}=t,o=Uu(n);return u.jsx(F0,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vf.displayName=B4;var[V4,Mm]=eo(Cs,{}),_f="SelectViewport",AS=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=qr(_f,n),o=Mm(_f,n),a=Re(e,i.onViewportChange),l=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(ju.Slot,{scope:n,children:u.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const v=Math.abs(l.current-d.scrollTop);if(v>0){const w=window.innerHeight-Bt*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),_=Math.max(g,x);if(_<w){const p=_+v,m=Math.min(w,p),C=p-m;h.style.height=m+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});AS.displayName=_f;var OS="SelectGroup",[G4,K4]=eo(OS),q4=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pp();return u.jsx(G4,{scope:n,id:s,children:u.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:e})})});q4.displayName=OS;var MS="SelectLabel",DS=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=K4(MS,n);return u.jsx(he.div,{id:s.id,...r,ref:e})});DS.displayName=MS;var Vc="SelectItem",[Q4,LS]=eo(Vc),jS=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Kr(Vc,n),l=qr(Vc,n),c=a.value===r,[d,h]=y.useState(i??""),[f,v]=y.useState(!1),w=Re(e,p=>{var m;return(m=l.itemRefCallback)==null?void 0:m.call(l,p,r,s)}),g=Pp(),x=y.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Q4,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:y.useCallback(p=>{h(m=>m||((p==null?void 0:p.textContent)??"").trim())},[]),children:u.jsx(ju.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(he.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>v(!0)),onBlur:ee(o.onBlur,()=>v(!1)),onClick:ee(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:ee(o.onPointerMove,p=>{var m;x.current=p.pointerType,s?(m=l.onItemLeave)==null||m.call(l):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,p=>{var m;p.currentTarget===document.activeElement&&((m=l.onItemLeave)==null||m.call(l))}),onKeyDown:ee(o.onKeyDown,p=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&p.key===" "||(M4.includes(p.key)&&_(),p.key===" "&&p.preventDefault())})})})})});jS.displayName=Vc;var bo="SelectItemText",FS=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Kr(bo,n),a=qr(bo,n),l=LS(bo,n),c=F4(bo,n),[d,h]=y.useState(null),f=Re(e,_=>h(_),l.onItemTextChange,_=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,_,l.value,l.disabled)}),v=d==null?void 0:d.textContent,w=y.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return nt(()=>(g(w),()=>x(w)),[g,x,w]),u.jsxs(u.Fragment,{children:[u.jsx(he.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bs.createPortal(i.children,o.valueNode):null]})});FS.displayName=bo;var US="SelectItemIndicator",$S=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return LS(US,n).isSelected?u.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});$S.displayName=US;var wf="SelectScrollUpButton",HS=y.forwardRef((t,e)=>{const n=qr(wf,t.__scopeSelect),r=Mm(wf,t.__scopeSelect),[s,i]=y.useState(!1),o=Re(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(zS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});HS.displayName=wf;var xf="SelectScrollDownButton",WS=y.forwardRef((t,e)=>{const n=qr(xf,t.__scopeSelect),r=Mm(xf,t.__scopeSelect),[s,i]=y.useState(!1),o=Re(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(zS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});WS.displayName=xf;var zS=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=qr("SelectScrollButton",n),o=y.useRef(null),a=Fu(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),nt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(he.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),Y4="SelectSeparator",BS=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});BS.displayName=Y4;var Cf="SelectArrow",X4=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Uu(n),i=Kr(Cf,n),o=qr(Cf,n);return i.open&&o.position==="popper"?u.jsx(U0,{...s,...r,ref:e}):null});X4.displayName=Cf;function VS(t){return t===""||t===void 0}var GS=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=y.useRef(null),i=Re(e,s),o=Gj(n);return y.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),u.jsx(Ra,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});GS.displayName="BubbleSelect";function KS(t){const e=Pt(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function qS(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=J4(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function J4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Z4=xS,QS=ES,e3=bS,t3=TS,n3=NS,YS=IS,r3=AS,XS=DS,JS=jS,s3=FS,i3=$S,ZS=HS,e1=WS,t1=BS;const o3=Z4,a3=e3,n1=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(QS,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(t3,{asChild:!0,children:u.jsx(o0,{className:"h-4 w-4 opacity-50"})})]}));n1.displayName=QS.displayName;const r1=y.forwardRef(({className:t,...e},n)=>u.jsx(ZS,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(jI,{className:"h-4 w-4"})}));r1.displayName=ZS.displayName;const s1=y.forwardRef(({className:t,...e},n)=>u.jsx(e1,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(o0,{className:"h-4 w-4"})}));s1.displayName=e1.displayName;const i1=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(n3,{children:u.jsxs(YS,{ref:s,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(r1,{}),u.jsx(r3,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(s1,{})]})}));i1.displayName=YS.displayName;const l3=y.forwardRef(({className:t,...e},n)=>u.jsx(XS,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));l3.displayName=XS.displayName;const o1=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(JS,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(i3,{children:u.jsx(i0,{className:"h-4 w-4"})})}),u.jsx(s3,{children:e})]}));o1.displayName=JS.displayName;const c3=y.forwardRef(({className:t,...e},n)=>u.jsx(t1,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));c3.displayName=t1.displayName;function u3(){var V;const[t,e]=wp("/game/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,playCard:i,submitScore:o,setParForHole:a,advanceToNextHole:l}=Ps(),{user:c}=ks(),[,d]=Hi(),{toast:h}=Wi(),[f,v]=y.useState(!0),[w,g]=y.useState(!0),[x,_]=y.useState(""),[p,m]=y.useState(""),[C,E]=y.useState({});y.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(v(!0),s(e.gameCode).then(()=>{v(!1)}).catch(T=>{console.error("Error finding game:",T),v(!1),d("/")}))},[t,e==null?void 0:e.gameCode,n,s,d]),y.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),y.useEffect(()=>{(n==null?void 0:n.gamePhase)==="finished"&&(console.log("🏁 Game phase is finished, redirecting to results:",`/results/${n.gameCode}`),d(`/results/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,d]),y.useEffect(()=>{var L,H;if(!n||!c)return;_(n.currentPar??"");const T=n.currentHole-1,k=(H=(L=n.players[c.uid])==null?void 0:L.strokes)==null?void 0:H[T];m(typeof k=="number"?k:"")},[n==null?void 0:n.currentHole,n==null?void 0:n.currentPar,n==null?void 0:n.id,c==null?void 0:c.uid]);const S=async T=>{if(!(n!=null&&n.id))return;const k=C[T.id];await i(n.id,T.id,k)},b=async()=>{if(!(n!=null&&n.id)||!c||p==="")return;const T=Number(p);if(T<1||T>30){h({title:"Invalid score",description:"Please enter a score between 1 and 30 strokes",variant:"destructive"});return}const k=n.currentHole-1;await o(n.id,k,T)},N=async()=>{!(n!=null&&n.id)||x===""||await a(n.id,Number(x))},P=()=>{var L;if(!n)return!1;const T=n.currentHole-1;return(((L=n.parsSet)==null?void 0:L[T])??!1)&&Object.values(n.players).every(H=>{var X;return typeof((X=H.scores)==null?void 0:X[T])=="number"})},R=async()=>{n!=null&&n.id&&await l(n.id)},F=T=>{switch(T){case"Before Throw":return"bg-blue-500/20 border-blue-400/40";case"After Throw":return"bg-red-500/20 border-red-400/40";case"Self":return"bg-green-500/20 border-green-400/40";case"Wild":return"bg-purple-500/20 border-purple-400/40";default:return"bg-white/10 border-white/20"}};if(f)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🥏"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load your game"})]})})});if(!n||!c)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(re,{onClick:()=>d("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});if(n.gamePhase!=="playing")return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"⏳"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not started"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The host hasn't started the game yet. Please wait in the lobby."}),u.jsx(re,{onClick:()=>d(`/lobby/${n.gameCode}`),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Lobby"})]})})});const O=n.players[c.uid];if(!O)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Player not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You are not a player in this game."})]})})});if(!O.hand||O.hand.length===0)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"🃏"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Dealing cards..."}),u.jsx("p",{className:"text-white/70 mb-6",children:"Please wait while cards are being dealt to all players."})]})})});const D=Object.values(n.players).sort((T,k)=>(T.totalScore||0)-(k.totalScore||0)),G=n.currentHole/n.totalHoles*100,U=n.hostId===c.uid;return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hole ",n.currentHole," of ",n.totalHoles]}),u.jsx("p",{className:"text-white/70",children:n.gameName||"Disc Golf Game"}),U&&u.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[u.jsx(gn,{type:"number",min:1,value:x,onChange:T=>_(T.target.value===""?"":Number(T.target.value)),className:"w-24 bg-white/10 border-white/20 text-white",placeholder:"Par"}),u.jsx(re,{onClick:N,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-white/70 text-sm",children:"Par"}),u.jsx("div",{className:"text-3xl font-bold text-white",children:n.currentPar})]})]}),u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-500",style:{width:`${G}%`}})}),u.jsxs("div",{className:"text-white/70 text-sm mt-2 text-center",children:[Math.round(G),"% Complete"]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(ne,{className:"p-0",children:(()=>{var L;const T=n.currentHole-1,k=((L=n.parsSet)==null?void 0:L[T])??!1;return u.jsxs("div",{className:"flex items-end space-x-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-white/80 text-sm mb-1",children:["Your strokes for hole ",n.currentHole," (Par ",n.currentPar,")"]}),u.jsx(gn,{type:"number",min:1,max:30,value:p,onChange:H=>{const X=H.target.value;if(X==="")m("");else{const Te=Number(X);Te>=1&&Te<=30&&m(Te)}},className:"bg-white/10 border-white/20 text-white",placeholder:k?"Enter strokes (1-30)":"Waiting for host to set par...",disabled:!k}),k?p!==""&&typeof p=="number"?u.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["Golf score: ",p-(n.currentPar||3)>0?"+":"",p-(n.currentPar||3),(p<1||p>30)&&u.jsx("span",{className:"text-red-400 ml-2",children:"⚠️ Score must be 1-30"})]}):k?u.jsx("div",{className:"text-white/40 text-xs mt-1",children:"Valid range: 1-30 strokes"}):null:u.jsx("div",{className:"text-yellow-400 text-xs mt-1",children:"⏳ Host must set par before you can submit your score"})]}),u.jsx(re,{onClick:b,disabled:!k||p===""||typeof p!="number"||p<1||p>30,className:"bg-brand-accent text-white h-10 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Score"})]})})()})}),O&&u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:["Your Hand (",((V=O.hand)==null?void 0:V.length)||0," cards)"]}),u.jsxs(re,{onClick:()=>g(!w),variant:"ghost",className:"text-white hover:bg-white/10",children:[w?u.jsx($I,{className:"w-4 h-4"}):u.jsx(HI,{className:"w-4 h-4"}),w?"Hide":"Show"," Hand"]})]}),w&&O.hand&&O.hand.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.hand.map(T=>u.jsx(te,{className:`${F(T.category)} border-2 transition-all duration-200 hover:scale-105`,children:u.jsx(ne,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:T.category}),u.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:T.name}),u.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:T.description}),T.category!=="Self"&&u.jsx("div",{className:"mb-3",children:u.jsxs(o3,{value:C[T.id]||"",onValueChange:k=>E(L=>({...L,[T.id]:k})),children:[u.jsx(n1,{className:"w-full bg-white/10 border-white/20 text-white",children:u.jsx(a3,{placeholder:"Target player (optional)"})}),u.jsx(i1,{children:Object.values(n.players).filter(k=>k.id!==c.uid).map(k=>u.jsx(o1,{value:k.id,children:k.name},k.id))})]})}),u.jsxs(re,{onClick:()=>S(T),className:"w-full bg-brand-accent text-white font-semibold py-2 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(BI,{className:"w-4 h-4 mr-2"}),"Play Card"]})]})})},T.id))}):w?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"🃏"}),u.jsx("p",{className:"text-white/70",children:"No cards in hand"})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"👁️"}),u.jsx("p",{className:"text-white/70",children:"Hand is hidden"})]})]})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:D.map((T,k)=>u.jsx(cS,{player:T,position:k+1,showScore:!0},T.id))})]})}),U&&u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(ne,{className:"p-0",children:P()?u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:"⚡"}),u.jsx("div",{className:"text-sm",children:"Auto-advancing to next hole..."})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/80 text-sm",children:["Waiting for all players to submit scores for hole ",n.currentHole]}),u.jsx(re,{onClick:R,disabled:!P(),className:"bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Manual Advance"})]})})}),!U&&P()&&u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(ne,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:"⚡"}),u.jsx("div",{className:"text-sm",children:"Advancing to next hole..."})]})})}),n.gameActivity&&n.gameActivity.length>0&&u.jsx(te,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Game Activity"}),u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.gameActivity.slice(-10).map((T,k)=>u.jsx("div",{className:"text-white/70 text-sm p-2 bg-white/5 rounded-lg",children:T},k))})]})})]})}function d3(){const[t,e]=wp("/results/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s}=Ps(),{user:i}=ks(),[,o]=Hi(),{toast:a}=Wi(),[l,c]=y.useState(!0);if(y.useEffect(()=>{console.log("🏁 GameResults useEffect - match:",t,"gameCode:",e==null?void 0:e.gameCode,"currentGame:",!!n),t&&(e!=null&&e.gameCode)&&!n?(c(!0),console.log("🏁 GameResults finding game by code:",e.gameCode),s(e.gameCode).then(()=>{console.log("🏁 GameResults game found successfully"),c(!1)}).catch(p=>{console.error("🏁 GameResults error finding game:",p),c(!1),a({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),o("/")})):n&&(console.log("🏁 GameResults currentGame already exists, gamePhase:",n.gamePhase),c(!1))},[t,e==null?void 0:e.gameCode,n,s,o,a]),y.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),l)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"⏳"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading Results..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load the game results"})]})})});if(!n||!i)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(te,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(ne,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(re,{onClick:()=>o("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const d=Object.values(n.players),h=d.sort((p,m)=>p.totalScore-m.totalScore),f=h[0],v=d.map(p=>({...p,birdieCount:(p.scores||[]).filter(m=>m===-1).length})),w=v.reduce((p,m)=>m.birdieCount>p.birdieCount?m:p,v[0]),g=()=>{o("/host")},x=()=>{o("/")},_=()=>{const p=window.location.href,m=h.map((E,S)=>`${S+1}. ${E.name}: ${E.totalScore>0?"+":""}${E.totalScore}`).join(`
`),C=`🏌️‍♂️ Just finished a game of Kicked in the Disc! 🥏

🏆 WINNER: ${f.name} (${f.totalScore>0?"+":""}${f.totalScore})

📊 Final Leaderboard:
${m}

${n.totalHoles} holes played in ${n.gameName||"our game"}

Play with us: ${p}`;navigator.share?navigator.share({title:"Kicked in the Disc - Game Results",text:C,url:p}).catch(console.error):navigator.clipboard.writeText(C).then(()=>{a({title:"Results copied!",description:"Game results copied to clipboard. Paste and share!"})}).catch(()=>{a({title:"Share manually",description:"Copy the results from the game activity to share",variant:"destructive"})})};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"animate-bounce text-8xl mb-4",children:"🏆"}),u.jsx("div",{className:"animate-pulse text-yellow-400 text-2xl mb-2",children:"✨ CHAMPION ✨"}),u.jsx("h1",{className:"text-7xl md:text-8xl font-black text-transparent bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text drop-shadow-lg mb-4 animate-pulse",children:f.name.toUpperCase()}),u.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:"🎉 WINS THE GAME! 🎉"}),u.jsxs("div",{className:"inline-block bg-gradient-to-r from-green-400 to-blue-500 text-white text-xl font-bold px-6 py-3 rounded-full transform rotate-2 shadow-lg",children:["Final Score: ",f.totalScore>0?"+":"",f.totalScore," strokes"]})]}),u.jsx(te,{className:"glass-card rounded-3xl p-4 text-center mb-8 border-2 border-yellow-400/50 bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:u.jsx(ne,{className:"p-0",children:u.jsxs("div",{className:"text-white/90 text-lg",children:["🏌️‍♂️ ",n.totalHoles," holes completed in ",u.jsx("span",{className:"font-bold text-yellow-300",children:n.gameName||"this game"})]})})}),u.jsx(te,{className:"glass-card rounded-3xl p-6 mb-8 border-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30",children:u.jsxs(ne,{className:"p-0",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:"🏅 FINAL LEADERBOARD 🏅"}),u.jsx("div",{className:"text-lg text-white/80",children:"Who came out on top?"})]}),u.jsx("div",{className:"space-y-4",children:h.map((p,m)=>{const C=m===0,E=m===1,S=m===2;return u.jsx("div",{className:`
                    relative rounded-2xl p-4 border-2 transition-all transform hover:scale-105
                    ${C?"bg-gradient-to-r from-yellow-400/30 to-yellow-600/30 border-yellow-400 animate-pulse":E?"bg-gradient-to-r from-gray-300/30 to-gray-500/30 border-gray-400":S?"bg-gradient-to-r from-orange-400/30 to-orange-600/30 border-orange-400":"bg-white/10 border-white/20"}
                  `,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`
                        text-3xl font-black w-12 h-12 rounded-full flex items-center justify-center
                        ${C?"bg-yellow-400 text-yellow-900":E?"bg-gray-400 text-gray-900":S?"bg-orange-400 text-orange-900":"bg-white/20 text-white"}
                      `,children:C?"👑":E?"🥈":S?"🥉":m+1}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-xl font-bold ${C?"text-yellow-100":"text-white"}`,children:[p.name,C&&u.jsx("span",{className:"ml-2 text-yellow-300",children:"🌟"})]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Total strokes: ",(p.strokes||[]).reduce((b,N)=>b+(N||0),0)]})]})]}),u.jsxs("div",{className:`text-2xl font-bold ${p.totalScore<0?"text-green-400":p.totalScore>0?"text-red-400":"text-white"}`,children:[p.totalScore>0?"+":"",p.totalScore]})]})},p.id)})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(re,{onClick:_,className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white font-bold py-4 rounded-xl hover:from-pink-600 hover:to-violet-600 transition-all transform hover:scale-105 shadow-lg",children:"📱 Share Results"}),u.jsx(re,{onClick:g,className:"bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold py-4 rounded-xl hover:from-green-600 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg",children:"🔄 Play Again"}),u.jsx(re,{onClick:x,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white font-bold py-4 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-lg",children:"🏠 Main Menu"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"🕐"}),u.jsx("div",{className:"text-sm text-white/70",children:"Game Duration"}),u.jsx("div",{className:"text-white font-bold",children:"Epic!"})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"👥"}),u.jsx("div",{className:"text-sm text-white/70",children:"Players"}),u.jsx("div",{className:"text-white font-bold",children:d.length})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"🐦"}),u.jsx("div",{className:"text-sm text-white/70",children:"Birdie King"}),w.birdieCount>0?u.jsxs("div",{className:"text-green-400 font-bold text-xs",children:[w.name,u.jsxs("div",{className:"text-white/70 text-xs mt-1",children:[w.birdieCount," ",w.birdieCount===1?"birdie":"birdies"]})]}):u.jsxs("div",{className:"text-white/70 text-xs",children:["No birdies",u.jsx("div",{className:"text-white/50 text-xs mt-1",children:"Try harder!"})]})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"🏌️‍♂️"}),u.jsx("div",{className:"text-sm text-white/70",children:"Holes"}),u.jsx("div",{className:"text-white font-bold",children:n.totalHoles})]})]})]})}function h3(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(te,{className:"w-full max-w-md mx-4",children:u.jsxs(ne,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(FI,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function f3(){const{user:t,loading:e}=ks();return e?u.jsx("div",{className:"min-h-screen bg-brand-gradient flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"floating-animation text-8xl mb-6",children:"🥏"}),u.jsx("h1",{className:"font-logo text-5xl font-bold mb-4 text-gradient text-outline",children:"KICKED IN THE DISC"}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl mx-auto max-w-sm",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-logo-cyan border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-logo-dark font-medium",children:"Loading awesome disc golf action..."})]})]})}):t?u.jsxs(uN,{children:[u.jsx(Yn,{path:"/",component:Rj}),u.jsx(Yn,{path:"/store",component:Aj}),u.jsx(Yn,{path:"/host",component:Oj}),u.jsx(Yn,{path:"/join",component:Mj}),u.jsx(Yn,{path:"/lobby/:gameCode",component:Dj}),u.jsx(Yn,{path:"/game/:gameCode",component:u3}),u.jsx(Yn,{path:"/results/:gameCode",component:d3}),u.jsx(Yn,{component:h3})]}):u.jsx(kj,{})}function p3(){return u.jsx(MN,{client:jN,children:u.jsx(oR,{children:u.jsxs("div",{className:"min-h-screen bg-brand-gradient bg-pattern-dots",children:[u.jsx(Ok,{}),u.jsx(f3,{})]})})})}hx(document.getElementById("root")).render(u.jsx(p3,{}));
