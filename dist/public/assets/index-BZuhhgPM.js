var Om=t=>{throw TypeError(t)};var ju=(t,e,n)=>e.has(t)||Om("Cannot "+n);var N=(t,e,n)=>(ju(t,e,"read from private field"),n?n.call(t):e.get(t)),oe=(t,e,n)=>e.has(t)?Om("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(ju(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(ju(t,e,"access private method"),n);var za=(t,e,n,r)=>({set _(s){q(t,e,s,n)},get _(){return N(t,e,r)}});function n1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xv={exports:{}},zc={},Jv={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),r1=Symbol.for("react.portal"),s1=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),a1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),d1=Symbol.for("react.memo"),f1=Symbol.for("react.lazy"),Mm=Symbol.iterator;function h1(t){return t===null||typeof t!="object"?null:(t=Mm&&t[Mm]||t["@@iterator"],typeof t=="function"?t:null)}var Zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e_=Object.assign,t_={};function ji(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Zv}ji.prototype.isReactComponent={};ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n_(){}n_.prototype=ji.prototype;function _h(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Zv}var wh=_h.prototype=new n_;wh.constructor=_h;e_(wh,ji.prototype);wh.isPureReactComponent=!0;var Dm=Array.isArray,r_=Object.prototype.hasOwnProperty,xh={current:null},s_={key:!0,ref:!0,__self:!0,__source:!0};function i_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)r_.call(e,r)&&!s_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ea,type:t,key:i,ref:o,props:s,_owner:xh.current}}function p1(t,e){return{$$typeof:Ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ea}function m1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lm=/\/+/g;function Fu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m1(""+t.key):e.toString(36)}function xl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ea:case r1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fu(o,0):r,Dm(s)?(n="",t!=null&&(n=t.replace(Lm,"$&/")+"/"),xl(s,e,n,"",function(c){return c})):s!=null&&(Eh(s)&&(s=p1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dm(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Fu(i,a);o+=xl(i,e,n,l,s)}else if(l=h1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Fu(i,a++),o+=xl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ba(t,e,n){if(t==null)return t;var r=[],s=0;return xl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function g1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},El={transition:null},y1={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:El,ReactCurrentOwner:xh};function o_(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Ba,forEach:function(t,e,n){Ba(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ba(t,function(){e++}),e},toArray:function(t){return Ba(t,function(e){return e})||[]},only:function(t){if(!Eh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=ji;J.Fragment=s1;J.Profiler=o1;J.PureComponent=_h;J.StrictMode=i1;J.Suspense=u1;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;J.act=o_;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r_.call(e,l)&&!s_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ea,type:t.type,key:s,ref:i,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:l1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a1,_context:t},t.Consumer=t};J.createElement=i_;J.createFactory=function(t){var e=i_.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:c1,render:t}};J.isValidElement=Eh;J.lazy=function(t){return{$$typeof:f1,_payload:{_status:-1,_result:t},_init:g1}};J.memo=function(t,e){return{$$typeof:d1,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=El.transition;El.transition={};try{t()}finally{El.transition=e}};J.unstable_act=o_;J.useCallback=function(t,e){return ut.current.useCallback(t,e)};J.useContext=function(t){return ut.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};J.useEffect=function(t,e){return ut.current.useEffect(t,e)};J.useId=function(){return ut.current.useId()};J.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ut.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};J.useRef=function(t){return ut.current.useRef(t)};J.useState=function(t){return ut.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ut.current.useTransition()};J.version="18.3.1";Jv.exports=J;var v=Jv.exports;const er=Yv(v),a_=n1({__proto__:null,default:er},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=v,_1=Symbol.for("react.element"),w1=Symbol.for("react.fragment"),x1=Object.prototype.hasOwnProperty,E1=v1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C1={key:!0,ref:!0,__self:!0,__source:!0};function l_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)x1.call(e,r)&&!C1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_1,type:t,key:i,ref:o,props:s,_owner:E1.current}}zc.Fragment=w1;zc.jsx=l_;zc.jsxs=l_;Xv.exports=zc;var u=Xv.exports,c_={exports:{}},Rt={},u_={exports:{}},d_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,A){var F=I.length;I.push(A);e:for(;0<F;){var W=F-1>>>1,re=I[W];if(0<s(re,A))I[W]=A,I[F]=re,F=W;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var A=I[0],F=I.pop();if(F!==A){I[0]=F;e:for(var W=0,re=I.length,Le=re>>>1;W<Le;){var Oe=2*(W+1)-1,an=I[Oe],rt=Oe+1,z=I[rt];if(0>s(an,F))rt<re&&0>s(z,an)?(I[W]=z,I[rt]=F,W=rt):(I[W]=an,I[Oe]=F,W=Oe);else if(rt<re&&0>s(z,F))I[W]=z,I[rt]=F,W=rt;else break e}}return A}function s(I,A){var F=I.sortIndex-A.sortIndex;return F!==0?F:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,_=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(I){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=I)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function E(I){if(g=!1,p(I),!x)if(n(l)!==null)x=!0,$(C);else{var A=n(c);A!==null&&D(E,A.startTime-I)}}function C(I,A){x=!1,g&&(g=!1,y(T),T=-1),_=!0;var F=h;try{for(p(A),f=n(l);f!==null&&(!(f.expirationTime>A)||I&&!j());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var re=W(f.expirationTime<=A);A=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),p(A)}else r(l);f=n(l)}if(f!==null)var Le=!0;else{var Oe=n(c);Oe!==null&&D(E,Oe.startTime-A),Le=!1}return Le}finally{f=null,h=F,_=!1}}var b=!1,S=null,T=-1,k=5,P=-1;function j(){return!(t.unstable_now()-P<k)}function L(){if(S!==null){var I=t.unstable_now();P=I;var A=!0;try{A=S(!0,I)}finally{A?H():(b=!1,S=null)}}else b=!1}var H;if(typeof m=="function")H=function(){m(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,G=M.port2;M.port1.onmessage=L,H=function(){G.postMessage(null)}}else H=function(){w(L,0)};function $(I){S=I,b||(b=!0,H())}function D(I,A){T=w(function(){I(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,$(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var F=h;h=A;try{return I()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=h;h=I;try{return A()}finally{h=F}},t.unstable_scheduleCallback=function(I,A,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=F+re,I={id:d++,callback:A,priorityLevel:I,startTime:F,expirationTime:re,sortIndex:-1},F>W?(I.sortIndex=F,e(c,I),n(l)===null&&I===n(c)&&(g?(y(T),T=-1):g=!0,D(E,F-W))):(I.sortIndex=re,e(l,I),x||_||(x=!0,$(C))),I},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(I){var A=h;return function(){var F=h;h=A;try{return I.apply(this,arguments)}finally{h=F}}}})(d_);u_.exports=d_;var S1=u_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=v,kt=S1;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f_=new Set,Wo={};function Es(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(Wo[t]=e,t=0;t<e.length;t++)f_.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,T1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Fm={};function I1(t){return Ud.call(Fm,t)?!0:Ud.call(jm,t)?!1:T1.test(t)?Fm[t]=!0:(jm[t]=!0,!1)}function N1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k1(t,e,n,r){if(e===null||typeof e>"u"||N1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ch=/[\-:]([a-z])/g;function Sh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ch,Sh);Ke[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ch,Sh);Ke[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ch,Sh);Ke[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function bh(t,e,n,r){var s=Ke.hasOwnProperty(e)?Ke[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(k1(e,n,s,r)&&(n=null),r||s===null?I1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),$d=Symbol.for("react.profiler"),h_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),m_=Symbol.for("react.offscreen"),Um=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=Um&&t[Um]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Uu;function vo(t){if(Uu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uu=e&&e[1]||""}return`
`+Uu+t}var $u=!1;function Hu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vo(t):""}function P1(t){switch(t.tag){case 5:return vo(t.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return t=Hu(t.type,!1),t;case 11:return t=Hu(t.type.render,!1),t;case 1:return t=Hu(t.type,!0),t;default:return""}}function zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ls:return"Fragment";case Ds:return"Portal";case $d:return"Profiler";case Th:return"StrictMode";case Hd:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p_:return(t.displayName||"Context")+".Consumer";case h_:return(t._context.displayName||"Context")+".Provider";case Ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nh:return e=t.displayName||null,e!==null?e:zd(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return zd(t(e))}catch{}}return null}function R1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zd(e);case 8:return e===Th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A1(t){var e=g_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ga(t){t._valueTracker||(t._valueTracker=A1(t))}function y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bd(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $m(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v_(t,e){e=e.checked,e!=null&&bh(t,"checked",e,!1)}function Vd(t,e){v_(t,e);var n=Ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gd(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gd(t,e,n){(e!=="number"||Bl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _o=Array.isArray;function Qs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(_o(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function __(t,e){var n=Ar(e.value),r=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ka,x_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O1=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(t){O1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bo[e]=bo[t]})});function E_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bo.hasOwnProperty(t)&&bo[t]?(""+e).trim():e+"px"}function C_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=E_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var M1=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(t,e){if(e){if(M1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Yd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function kh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jd=null,Ys=null,Xs=null;function Bm(t){if(t=ba(t)){if(typeof Jd!="function")throw Error(R(280));var e=t.stateNode;e&&(e=qc(e),Jd(t.stateNode,t.type,e))}}function S_(t){Ys?Xs?Xs.push(t):Xs=[t]:Ys=t}function b_(){if(Ys){var t=Ys,e=Xs;if(Xs=Ys=null,Bm(t),e)for(t=0;t<e.length;t++)Bm(e[t])}}function T_(t,e){return t(e)}function I_(){}var Wu=!1;function N_(t,e,n){if(Wu)return t(e,n);Wu=!0;try{return T_(t,e,n)}finally{Wu=!1,(Ys!==null||Xs!==null)&&(I_(),b_())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Zd=!1;if(jn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Zd=!1}function D1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var To=!1,Vl=null,Gl=!1,ef=null,L1={onError:function(t){To=!0,Vl=t}};function j1(t,e,n,r,s,i,o,a,l){To=!1,Vl=null,D1.apply(L1,arguments)}function F1(t,e,n,r,s,i,o,a,l){if(j1.apply(this,arguments),To){if(To){var c=Vl;To=!1,Vl=null}else throw Error(R(198));Gl||(Gl=!0,ef=c)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vm(t){if(Cs(t)!==t)throw Error(R(188))}function U1(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Vm(s),t;if(i===r)return Vm(s),e;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function P_(t){return t=U1(t),t!==null?R_(t):null}function R_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R_(t);if(e!==null)return e;t=t.sibling}return null}var A_=kt.unstable_scheduleCallback,Gm=kt.unstable_cancelCallback,$1=kt.unstable_shouldYield,H1=kt.unstable_requestPaint,Re=kt.unstable_now,W1=kt.unstable_getCurrentPriorityLevel,Ph=kt.unstable_ImmediatePriority,O_=kt.unstable_UserBlockingPriority,Kl=kt.unstable_NormalPriority,z1=kt.unstable_LowPriority,M_=kt.unstable_IdlePriority,Bc=null,yn=null;function B1(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Bc,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:K1,V1=Math.log,G1=Math.LN2;function K1(t){return t>>>=0,t===0?32:31-(V1(t)/G1|0)|0}var qa=64,Qa=4194304;function wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wo(a):(i&=o,i!==0&&(r=wo(i)))}else o=n&~s,o!==0?r=wo(o):i!==0&&(r=wo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),s=1<<n,r|=t[n],e&=~s;return r}function q1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=q1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D_(){var t=qa;return qa<<=1,!(qa&4194240)&&(qa=64),t}function zu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function Y1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Rh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ae=0;function L_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j_,Ah,F_,U_,$_,nf=!1,Ya=[],wr=null,xr=null,Er=null,Vo=new Map,Go=new Map,ir=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Km(t,e){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(e.pointerId)}}function io(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ba(e),e!==null&&Ah(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function J1(t,e,n,r,s){switch(e){case"focusin":return wr=io(wr,t,e,n,r,s),!0;case"dragenter":return xr=io(xr,t,e,n,r,s),!0;case"mouseover":return Er=io(Er,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vo.set(i,io(Vo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Go.set(i,io(Go.get(i)||null,t,e,n,r,s)),!0}return!1}function H_(t){var e=Xr(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=k_(n),e!==null){t.blockedOn=e,$_(t.priority,function(){F_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xd=r,n.target.dispatchEvent(r),Xd=null}else return e=ba(n),e!==null&&Ah(e),t.blockedOn=n,!1;e.shift()}return!0}function qm(t,e,n){Cl(t)&&n.delete(e)}function Z1(){nf=!1,wr!==null&&Cl(wr)&&(wr=null),xr!==null&&Cl(xr)&&(xr=null),Er!==null&&Cl(Er)&&(Er=null),Vo.forEach(qm),Go.forEach(qm)}function oo(t,e){t.blockedOn===e&&(t.blockedOn=null,nf||(nf=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Z1)))}function Ko(t){function e(s){return oo(s,t)}if(0<Ya.length){oo(Ya[0],t);for(var n=1;n<Ya.length;n++){var r=Ya[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wr!==null&&oo(wr,t),xr!==null&&oo(xr,t),Er!==null&&oo(Er,t),Vo.forEach(e),Go.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)H_(n),n.blockedOn===null&&ir.shift()}var Js=Gn.ReactCurrentBatchConfig,Ql=!0;function eb(t,e,n,r){var s=ae,i=Js.transition;Js.transition=null;try{ae=1,Oh(t,e,n,r)}finally{ae=s,Js.transition=i}}function tb(t,e,n,r){var s=ae,i=Js.transition;Js.transition=null;try{ae=4,Oh(t,e,n,r)}finally{ae=s,Js.transition=i}}function Oh(t,e,n,r){if(Ql){var s=rf(t,e,n,r);if(s===null)Zu(t,e,r,Yl,n),Km(t,r);else if(J1(s,t,e,n,r))r.stopPropagation();else if(Km(t,r),e&4&&-1<X1.indexOf(t)){for(;s!==null;){var i=ba(s);if(i!==null&&j_(i),i=rf(t,e,n,r),i===null&&Zu(t,e,r,Yl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zu(t,e,r,null,n)}}var Yl=null;function rf(t,e,n,r){if(Yl=null,t=kh(r),t=Xr(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yl=t,null}function W_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W1()){case Ph:return 1;case O_:return 4;case Kl:case z1:return 16;case M_:return 536870912;default:return 16}default:return 16}}var gr=null,Mh=null,Sl=null;function z_(){if(Sl)return Sl;var t,e=Mh,n=e.length,r,s="value"in gr?gr.value:gr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Sl=s.slice(t,1<r?1-r:void 0)}function bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xa(){return!0}function Qm(){return!1}function At(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xa:Qm,this.isPropagationStopped=Qm,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=At(Fi),Sa=be({},Fi,{view:0,detail:0}),nb=At(Sa),Bu,Vu,ao,Vc=be({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Bu=t.screenX-ao.screenX,Vu=t.screenY-ao.screenY):Vu=Bu=0,ao=t),Bu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),Ym=At(Vc),rb=be({},Vc,{dataTransfer:0}),sb=At(rb),ib=be({},Sa,{relatedTarget:0}),Gu=At(ib),ob=be({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),ab=At(ob),lb=be({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cb=At(lb),ub=be({},Fi,{data:0}),Xm=At(ub),db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hb[t])?!!e[t]:!1}function Lh(){return pb}var mb=be({},Sa,{key:function(t){if(t.key){var e=db[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(t){return t.type==="keypress"?bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gb=At(mb),yb=be({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jm=At(yb),vb=be({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),_b=At(vb),wb=be({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=At(wb),Eb=be({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=At(Eb),Sb=[9,13,27,32],jh=jn&&"CompositionEvent"in window,Io=null;jn&&"documentMode"in document&&(Io=document.documentMode);var bb=jn&&"TextEvent"in window&&!Io,B_=jn&&(!jh||Io&&8<Io&&11>=Io),Zm=" ",eg=!1;function V_(t,e){switch(t){case"keyup":return Sb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function Tb(t,e){switch(t){case"compositionend":return G_(e);case"keypress":return e.which!==32?null:(eg=!0,Zm);case"textInput":return t=e.data,t===Zm&&eg?null:t;default:return null}}function Ib(t,e){if(js)return t==="compositionend"||!jh&&V_(t,e)?(t=z_(),Sl=Mh=gr=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B_&&e.locale!=="ko"?null:e.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nb[t.type]:e==="textarea"}function K_(t,e,n,r){S_(r),e=Xl(e,"onChange"),0<e.length&&(n=new Dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var No=null,qo=null;function kb(t){sw(t,0)}function Gc(t){var e=$s(t);if(y_(e))return t}function Pb(t,e){if(t==="change")return e}var q_=!1;if(jn){var Ku;if(jn){var qu="oninput"in document;if(!qu){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),qu=typeof ng.oninput=="function"}Ku=qu}else Ku=!1;q_=Ku&&(!document.documentMode||9<document.documentMode)}function rg(){No&&(No.detachEvent("onpropertychange",Q_),qo=No=null)}function Q_(t){if(t.propertyName==="value"&&Gc(qo)){var e=[];K_(e,qo,t,kh(t)),N_(kb,e)}}function Rb(t,e,n){t==="focusin"?(rg(),No=e,qo=n,No.attachEvent("onpropertychange",Q_)):t==="focusout"&&rg()}function Ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gc(qo)}function Ob(t,e){if(t==="click")return Gc(e)}function Mb(t,e){if(t==="input"||t==="change")return Gc(e)}function Db(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:Db;function Qo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ud.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,e){var n=sg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sg(n)}}function Y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X_(){for(var t=window,e=Bl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bl(t.document)}return e}function Fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lb(t){var e=X_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Y_(n.ownerDocument.documentElement,n)){if(r!==null&&Fh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ig(n,i);var o=ig(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jb=jn&&"documentMode"in document&&11>=document.documentMode,Fs=null,sf=null,ko=null,of=!1;function og(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||Fs==null||Fs!==Bl(r)||(r=Fs,"selectionStart"in r&&Fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Qo(ko,r)||(ko=r,r=Xl(sf,"onSelect"),0<r.length&&(e=new Dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function Ja(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Us={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionend:Ja("Transition","TransitionEnd")},Qu={},J_={};jn&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Kc(t){if(Qu[t])return Qu[t];if(!Us[t])return t;var e=Us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in J_)return Qu[t]=e[n];return t}var Z_=Kc("animationend"),ew=Kc("animationiteration"),tw=Kc("animationstart"),nw=Kc("transitionend"),rw=new Map,ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){rw.set(t,e),Es(e,[t])}for(var Yu=0;Yu<ag.length;Yu++){var Xu=ag[Yu],Fb=Xu.toLowerCase(),Ub=Xu[0].toUpperCase()+Xu.slice(1);Ur(Fb,"on"+Ub)}Ur(Z_,"onAnimationEnd");Ur(ew,"onAnimationIteration");Ur(tw,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(nw,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function lg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F1(r,e,void 0,t),t.currentTarget=null}function sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lg(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lg(s,a,c),i=l}}}if(Gl)throw t=ef,Gl=!1,ef=null,t}function _e(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var r=t+"__bubble";n.has(r)||(iw(e,t,2,!1),n.add(r))}function Ju(t,e,n){var r=0;e&&(r|=4),iw(n,t,r,e)}var Za="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[Za]){t[Za]=!0,f_.forEach(function(n){n!=="selectionchange"&&($b.has(n)||Ju(n,!1,t),Ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Za]||(e[Za]=!0,Ju("selectionchange",!1,e))}}function iw(t,e,n,r){switch(W_(e)){case 1:var s=eb;break;case 4:s=tb;break;default:s=Oh}n=s.bind(null,e,n,t),s=void 0,!Zd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}N_(function(){var c=i,d=kh(n),f=[];e:{var h=rw.get(t);if(h!==void 0){var _=Dh,x=t;switch(t){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":_=gb;break;case"focusin":x="focus",_=Gu;break;case"focusout":x="blur",_=Gu;break;case"beforeblur":case"afterblur":_=Gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=_b;break;case Z_:case ew:case tw:_=ab;break;case nw:_=xb;break;case"scroll":_=nb;break;case"wheel":_=Cb;break;case"copy":case"cut":case"paste":_=cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Jm}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,p;m!==null;){p=m;var E=p.stateNode;if(p.tag===5&&E!==null&&(p=E,y!==null&&(E=Bo(m,y),E!=null&&g.push(Xo(m,E,p)))),w)break;m=m.return}0<g.length&&(h=new _(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==Xd&&(x=n.relatedTarget||n.fromElement)&&(Xr(x)||x[Fn]))break e;if((_||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=c,x=x?Xr(x):null,x!==null&&(w=Cs(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=c),_!==x)){if(g=Ym,E="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Jm,E="onPointerLeave",y="onPointerEnter",m="pointer"),w=_==null?h:$s(_),p=x==null?h:$s(x),h=new g(E,m+"leave",_,n,d),h.target=w,h.relatedTarget=p,E=null,Xr(d)===c&&(g=new g(y,m+"enter",x,n,d),g.target=p,g.relatedTarget=w,E=g),w=E,_&&x)t:{for(g=_,y=x,m=0,p=g;p;p=Ps(p))m++;for(p=0,E=y;E;E=Ps(E))p++;for(;0<m-p;)g=Ps(g),m--;for(;0<p-m;)y=Ps(y),p--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ps(g),y=Ps(y)}g=null}else g=null;_!==null&&cg(f,h,_,g,!1),x!==null&&w!==null&&cg(f,w,x,g,!0)}}e:{if(h=c?$s(c):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var C=Pb;else if(tg(h))if(q_)C=Mb;else{C=Ab;var b=Rb}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=Ob);if(C&&(C=C(t,c))){K_(f,C,n,d);break e}b&&b(t,h,c),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Gd(h,"number",h.value)}switch(b=c?$s(c):window,t){case"focusin":(tg(b)||b.contentEditable==="true")&&(Fs=b,sf=c,ko=null);break;case"focusout":ko=sf=Fs=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,og(f,n,d);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":og(f,n,d)}var S;if(jh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else js?V_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(B_&&n.locale!=="ko"&&(js||T!=="onCompositionStart"?T==="onCompositionEnd"&&js&&(S=z_()):(gr=d,Mh="value"in gr?gr.value:gr.textContent,js=!0)),b=Xl(c,T),0<b.length&&(T=new Xm(T,t,null,n,d),f.push({event:T,listeners:b}),S?T.data=S:(S=G_(n),S!==null&&(T.data=S)))),(S=bb?Tb(t,n):Ib(t,n))&&(c=Xl(c,"onBeforeInput"),0<c.length&&(d=new Xm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}sw(f,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bo(t,n),i!=null&&r.unshift(Xo(t,i,s)),i=Bo(t,e),i!=null&&r.push(Xo(t,i,s))),t=t.return}return r}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Bo(n,i),l!=null&&o.unshift(Xo(n,l,a))):s||(l=Bo(n,i),l!=null&&o.push(Xo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function ug(t){return(typeof t=="string"?t:""+t).replace(Hb,`
`).replace(Wb,"")}function el(t,e,n){if(e=ug(e),ug(t)!==e&&n)throw Error(R(425))}function Jl(){}var af=null,lf=null;function cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(t){return dg.resolve(null).then(t).catch(Vb)}:uf;function Vb(t){setTimeout(function(){throw t})}function ed(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ko(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ko(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ui,Jo="__reactProps$"+Ui,Fn="__reactContainer$"+Ui,df="__reactEvents$"+Ui,Gb="__reactListeners$"+Ui,Kb="__reactHandles$"+Ui;function Xr(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fg(t);t!==null;){if(n=t[pn])return n;t=fg(t)}return e}t=n,n=t.parentNode}return null}function ba(t){return t=t[pn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function qc(t){return t[Jo]||null}var ff=[],Hs=-1;function $r(t){return{current:t}}function we(t){0>Hs||(t.current=ff[Hs],ff[Hs]=null,Hs--)}function ge(t,e){Hs++,ff[Hs]=t.current,t.current=e}var Or={},tt=$r(Or),yt=$r(!1),as=Or;function wi(t,e){var n=t.type.contextTypes;if(!n)return Or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vt(t){return t=t.childContextTypes,t!=null}function Zl(){we(yt),we(tt)}function hg(t,e,n){if(tt.current!==Or)throw Error(R(168));ge(tt,e),ge(yt,n)}function ow(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(R(108,R1(t)||"Unknown",s));return be({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,as=tt.current,ge(tt,t),ge(yt,yt.current),!0}function pg(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=ow(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,we(yt),we(tt),ge(tt,t)):we(yt),ge(yt,n)}var Nn=null,Qc=!1,td=!1;function aw(t){Nn===null?Nn=[t]:Nn.push(t)}function qb(t){Qc=!0,aw(t)}function Hr(){if(!td&&Nn!==null){td=!0;var t=0,e=ae;try{var n=Nn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,Qc=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(t+1)),A_(Ph,Hr),s}finally{ae=e,td=!1}}return null}var Ws=[],zs=0,tc=null,nc=0,Mt=[],Dt=0,ls=null,kn=1,Pn="";function Kr(t,e){Ws[zs++]=nc,Ws[zs++]=tc,tc=t,nc=e}function lw(t,e,n){Mt[Dt++]=kn,Mt[Dt++]=Pn,Mt[Dt++]=ls,ls=t;var r=kn;t=Pn;var s=32-Jt(r)-1;r&=~(1<<s),n+=1;var i=32-Jt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kn=1<<32-Jt(e)+s|n<<s|r,Pn=i+t}else kn=1<<i|n<<s|r,Pn=t}function Uh(t){t.return!==null&&(Kr(t,1),lw(t,1,0))}function $h(t){for(;t===tc;)tc=Ws[--zs],Ws[zs]=null,nc=Ws[--zs],Ws[zs]=null;for(;t===ls;)ls=Mt[--Dt],Mt[Dt]=null,Pn=Mt[--Dt],Mt[Dt]=null,kn=Mt[--Dt],Mt[Dt]=null}var It=null,Tt=null,Ee=!1,qt=null;function cw(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,Tt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,Tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:kn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,Tt=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pf(t){if(Ee){var e=Tt;if(e){var n=e;if(!mg(t,e)){if(hf(t))throw Error(R(418));e=Cr(n.nextSibling);var r=It;e&&mg(t,e)?cw(r,n):(t.flags=t.flags&-4097|2,Ee=!1,It=t)}}else{if(hf(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ee=!1,It=t}}}function gg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function tl(t){if(t!==It)return!1;if(!Ee)return gg(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cf(t.type,t.memoizedProps)),e&&(e=Tt)){if(hf(t))throw uw(),Error(R(418));for(;e;)cw(t,e),e=Cr(e.nextSibling)}if(gg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tt=null}}else Tt=It?Cr(t.stateNode.nextSibling):null;return!0}function uw(){for(var t=Tt;t;)t=Cr(t.nextSibling)}function xi(){Tt=It=null,Ee=!1}function Hh(t){qt===null?qt=[t]:qt.push(t)}var Qb=Gn.ReactCurrentBatchConfig;function lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function nl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yg(t){var e=t._init;return e(t._payload)}function dw(t){function e(y,m){if(t){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ir(y,m),y.index=0,y.sibling=null,y}function i(y,m,p){return y.index=p,t?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,p,E){return m===null||m.tag!==6?(m=ld(p,y.mode,E),m.return=y,m):(m=s(m,p),m.return=y,m)}function l(y,m,p,E){var C=p.type;return C===Ls?d(y,m,p.props.children,E,p.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&yg(C)===m.type)?(E=s(m,p.props),E.ref=lo(y,m,p),E.return=y,E):(E=Al(p.type,p.key,p.props,null,y.mode,E),E.ref=lo(y,m,p),E.return=y,E)}function c(y,m,p,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=cd(p,y.mode,E),m.return=y,m):(m=s(m,p.children||[]),m.return=y,m)}function d(y,m,p,E,C){return m===null||m.tag!==7?(m=os(p,y.mode,E,C),m.return=y,m):(m=s(m,p),m.return=y,m)}function f(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ld(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Va:return p=Al(m.type,m.key,m.props,null,y.mode,p),p.ref=lo(y,null,m),p.return=y,p;case Ds:return m=cd(m,y.mode,p),m.return=y,m;case rr:var E=m._init;return f(y,E(m._payload),p)}if(_o(m)||ro(m))return m=os(m,y.mode,p,null),m.return=y,m;nl(y,m)}return null}function h(y,m,p,E){var C=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:a(y,m,""+p,E);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Va:return p.key===C?l(y,m,p,E):null;case Ds:return p.key===C?c(y,m,p,E):null;case rr:return C=p._init,h(y,m,C(p._payload),E)}if(_o(p)||ro(p))return C!==null?null:d(y,m,p,E,null);nl(y,p)}return null}function _(y,m,p,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(p)||null,a(m,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Va:return y=y.get(E.key===null?p:E.key)||null,l(m,y,E,C);case Ds:return y=y.get(E.key===null?p:E.key)||null,c(m,y,E,C);case rr:var b=E._init;return _(y,m,p,b(E._payload),C)}if(_o(E)||ro(E))return y=y.get(p)||null,d(m,y,E,C,null);nl(m,E)}return null}function x(y,m,p,E){for(var C=null,b=null,S=m,T=m=0,k=null;S!==null&&T<p.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var P=h(y,S,p[T],E);if(P===null){S===null&&(S=k);break}t&&S&&P.alternate===null&&e(y,S),m=i(P,m,T),b===null?C=P:b.sibling=P,b=P,S=k}if(T===p.length)return n(y,S),Ee&&Kr(y,T),C;if(S===null){for(;T<p.length;T++)S=f(y,p[T],E),S!==null&&(m=i(S,m,T),b===null?C=S:b.sibling=S,b=S);return Ee&&Kr(y,T),C}for(S=r(y,S);T<p.length;T++)k=_(S,y,T,p[T],E),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),m=i(k,m,T),b===null?C=k:b.sibling=k,b=k);return t&&S.forEach(function(j){return e(y,j)}),Ee&&Kr(y,T),C}function g(y,m,p,E){var C=ro(p);if(typeof C!="function")throw Error(R(150));if(p=C.call(p),p==null)throw Error(R(151));for(var b=C=null,S=m,T=m=0,k=null,P=p.next();S!==null&&!P.done;T++,P=p.next()){S.index>T?(k=S,S=null):k=S.sibling;var j=h(y,S,P.value,E);if(j===null){S===null&&(S=k);break}t&&S&&j.alternate===null&&e(y,S),m=i(j,m,T),b===null?C=j:b.sibling=j,b=j,S=k}if(P.done)return n(y,S),Ee&&Kr(y,T),C;if(S===null){for(;!P.done;T++,P=p.next())P=f(y,P.value,E),P!==null&&(m=i(P,m,T),b===null?C=P:b.sibling=P,b=P);return Ee&&Kr(y,T),C}for(S=r(y,S);!P.done;T++,P=p.next())P=_(S,y,T,P.value,E),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?T:P.key),m=i(P,m,T),b===null?C=P:b.sibling=P,b=P);return t&&S.forEach(function(L){return e(y,L)}),Ee&&Kr(y,T),C}function w(y,m,p,E){if(typeof p=="object"&&p!==null&&p.type===Ls&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Va:e:{for(var C=p.key,b=m;b!==null;){if(b.key===C){if(C=p.type,C===Ls){if(b.tag===7){n(y,b.sibling),m=s(b,p.props.children),m.return=y,y=m;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&yg(C)===b.type){n(y,b.sibling),m=s(b,p.props),m.ref=lo(y,b,p),m.return=y,y=m;break e}n(y,b);break}else e(y,b);b=b.sibling}p.type===Ls?(m=os(p.props.children,y.mode,E,p.key),m.return=y,y=m):(E=Al(p.type,p.key,p.props,null,y.mode,E),E.ref=lo(y,m,p),E.return=y,y=E)}return o(y);case Ds:e:{for(b=p.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(y,m.sibling),m=s(m,p.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=cd(p,y.mode,E),m.return=y,y=m}return o(y);case rr:return b=p._init,w(y,m,b(p._payload),E)}if(_o(p))return x(y,m,p,E);if(ro(p))return g(y,m,p,E);nl(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,p),m.return=y,y=m):(n(y,m),m=ld(p,y.mode,E),m.return=y,y=m),o(y)):n(y,m)}return w}var Ei=dw(!0),fw=dw(!1),rc=$r(null),sc=null,Bs=null,Wh=null;function zh(){Wh=Bs=sc=null}function Bh(t){var e=rc.current;we(rc),t._currentValue=e}function mf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zs(t,e){sc=t,Wh=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Wh!==t)if(t={context:t,memoizedValue:e,next:null},Bs===null){if(sc===null)throw Error(R(308));Bs=t,sc.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return e}var Jr=null;function Vh(t){Jr===null?Jr=[t]:Jr.push(t)}function hw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Un(t,n)}return s=r.interleaved,s===null?(e.next=e,Vh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Un(t,n)}function Tl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rh(t,n)}}function vg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ic(t,e,n,r){var s=t.updateQueue;sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,_=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,g=a;switch(h=e,_=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(_,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(_,f,h):x,h==null)break e;f=be({},f,h);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else _={eventTime:_,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=_,l=f):d=d.next=_,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=f}}function _g(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Ta={},vn=$r(Ta),Zo=$r(Ta),ea=$r(Ta);function Zr(t){if(t===Ta)throw Error(R(174));return t}function Kh(t,e){switch(ge(ea,e),ge(Zo,t),ge(vn,Ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qd(e,t)}we(vn),ge(vn,e)}function Ci(){we(vn),we(Zo),we(ea)}function mw(t){Zr(ea.current);var e=Zr(vn.current),n=qd(e,t.type);e!==n&&(ge(Zo,t),ge(vn,n))}function qh(t){Zo.current===t&&(we(vn),we(Zo))}var Ce=$r(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nd=[];function Qh(){for(var t=0;t<nd.length;t++)nd[t]._workInProgressVersionPrimary=null;nd.length=0}var Il=Gn.ReactCurrentDispatcher,rd=Gn.ReactCurrentBatchConfig,cs=0,Se=null,Me=null,Fe=null,ac=!1,Po=!1,ta=0,Yb=0;function Xe(){throw Error(R(321))}function Yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Xh(t,e,n,r,s,i){if(cs=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Il.current=t===null||t.memoizedState===null?eT:tT,t=n(r,s),Po){i=0;do{if(Po=!1,ta=0,25<=i)throw Error(R(301));i+=1,Fe=Me=null,e.updateQueue=null,Il.current=nT,t=n(r,s)}while(Po)}if(Il.current=lc,e=Me!==null&&Me.next!==null,cs=0,Fe=Me=Se=null,ac=!1,e)throw Error(R(300));return t}function Jh(){var t=ta!==0;return ta=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Se.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ht(){if(Me===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Fe===null?Se.memoizedState:Fe.next;if(e!==null)Fe=e,Me=t;else{if(t===null)throw Error(R(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Fe===null?Se.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function na(t,e){return typeof e=="function"?e(t):e}function sd(t){var e=Ht(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((cs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Se.lanes|=d,us|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Se.lanes|=i,us|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function id(t){var e=Ht(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tn(i,e.memoizedState)||(pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gw(){}function yw(t,e){var n=Se,r=Ht(),s=e(),i=!tn(r.memoizedState,s);if(i&&(r.memoizedState=s,pt=!0),r=r.queue,Zh(ww.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,ra(9,_w.bind(null,n,r,s,e),void 0,null),We===null)throw Error(R(349));cs&30||vw(n,e,s)}return s}function vw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _w(t,e,n,r){e.value=n,e.getSnapshot=r,xw(e)&&Ew(t)}function ww(t,e,n){return n(function(){xw(e)&&Ew(t)})}function xw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function Ew(t){var e=Un(t,1);e!==null&&Zt(e,t,1,-1)}function wg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},e.queue=t,t=t.dispatch=Zb.bind(null,Se,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Cw(){return Ht().memoizedState}function Nl(t,e,n,r){var s=un();Se.flags|=t,s.memoizedState=ra(1|e,n,void 0,r===void 0?null:r)}function Yc(t,e,n,r){var s=Ht();r=r===void 0?null:r;var i=void 0;if(Me!==null){var o=Me.memoizedState;if(i=o.destroy,r!==null&&Yh(r,o.deps)){s.memoizedState=ra(e,n,i,r);return}}Se.flags|=t,s.memoizedState=ra(1|e,n,i,r)}function xg(t,e){return Nl(8390656,8,t,e)}function Zh(t,e){return Yc(2048,8,t,e)}function Sw(t,e){return Yc(4,2,t,e)}function bw(t,e){return Yc(4,4,t,e)}function Tw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iw(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4,4,Tw.bind(null,e,t),n)}function ep(){}function Nw(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kw(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pw(t,e,n){return cs&21?(tn(n,e)||(n=D_(),Se.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function Xb(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=rd.transition;rd.transition={};try{t(!1),e()}finally{ae=n,rd.transition=r}}function Rw(){return Ht().memoizedState}function Jb(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Aw(t))Ow(e,n);else if(n=hw(t,e,n,r),n!==null){var s=at();Zt(n,t,r,s),Mw(n,e,r)}}function Zb(t,e,n){var r=Tr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Aw(t))Ow(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(s.next=s,Vh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=hw(t,e,s,r),n!==null&&(s=at(),Zt(n,t,r,s),Mw(n,e,r))}}function Aw(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function Ow(t,e){Po=ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Mw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rh(t,n)}}var lc={readContext:$t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},eT={readContext:$t,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:xg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nl(4194308,4,Tw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nl(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jb.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:wg,useDebugValue:ep,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=wg(!1),e=t[0];return t=Xb.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,s=un();if(Ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),We===null)throw Error(R(349));cs&30||vw(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,xg(ww.bind(null,r,i,t),[t]),r.flags|=2048,ra(9,_w.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=un(),e=We.identifierPrefix;if(Ee){var n=Pn,r=kn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tT={readContext:$t,useCallback:Nw,useContext:$t,useEffect:Zh,useImperativeHandle:Iw,useInsertionEffect:Sw,useLayoutEffect:bw,useMemo:kw,useReducer:sd,useRef:Cw,useState:function(){return sd(na)},useDebugValue:ep,useDeferredValue:function(t){var e=Ht();return Pw(e,Me.memoizedState,t)},useTransition:function(){var t=sd(na)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:gw,useSyncExternalStore:yw,useId:Rw,unstable_isNewReconciler:!1},nT={readContext:$t,useCallback:Nw,useContext:$t,useEffect:Zh,useImperativeHandle:Iw,useInsertionEffect:Sw,useLayoutEffect:bw,useMemo:kw,useReducer:id,useRef:Cw,useState:function(){return id(na)},useDebugValue:ep,useDeferredValue:function(t){var e=Ht();return Me===null?e.memoizedState=t:Pw(e,Me.memoizedState,t)},useTransition:function(){var t=id(na)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:gw,useSyncExternalStore:yw,useId:Rw,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xc={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),s=Tr(t),i=Mn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Sr(t,i,s),e!==null&&(Zt(e,t,s,r),Tl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),s=Tr(t),i=Mn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Sr(t,i,s),e!==null&&(Zt(e,t,s,r),Tl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=Tr(t),s=Mn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Sr(t,s,r),e!==null&&(Zt(e,t,r,n),Tl(e,t,r))}};function Eg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qo(n,r)||!Qo(s,i):!0}function Dw(t,e,n){var r=!1,s=Or,i=e.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=vt(e)?as:tt.current,r=e.contextTypes,i=(r=r!=null)?wi(t,s):Or),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Cg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xc.enqueueReplaceState(e,e.state,null)}function yf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Gh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=vt(e)?as:tt.current,s.context=wi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xc.enqueueReplaceState(s,s.state,null),ic(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e){try{var n="",r=e;do n+=P1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function od(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function Lw(t,e,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uc||(uc=!0,Nf=r),vf(t,e)},n}function jw(t,e,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vf(t,e),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Sg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=yT.bind(null,t,e,n),e.then(t,t))}function bg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mn(-1,1),e.tag=2,Sr(n,e,1))),n.lanes|=1),t)}var sT=Gn.ReactCurrentOwner,pt=!1;function it(t,e,n,r){e.child=t===null?fw(e,null,n,r):Ei(e,t.child,n,r)}function Ig(t,e,n,r,s){n=n.render;var i=e.ref;return Zs(e,s),r=Xh(t,e,n,r,i,s),n=Jh(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(Ee&&n&&Uh(e),e.flags|=1,it(t,e,r,s),e.child)}function Ng(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!lp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Fw(t,e,i,r,s)):(t=Al(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(o,r)&&t.ref===e.ref)return $n(t,e,s)}return e.flags|=1,t=Ir(i,r),t.ref=e.ref,t.return=e,e.child=t}function Fw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qo(i,r)&&t.ref===e.ref)if(pt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,$n(t,e,s)}return _f(t,e,n,r,s)}function Uw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Gs,St),St|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Gs,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(Gs,St),St|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(Gs,St),St|=r;return it(t,e,s,n),e.child}function $w(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _f(t,e,n,r,s){var i=vt(n)?as:tt.current;return i=wi(e,i),Zs(e,s),n=Xh(t,e,n,r,i,s),r=Jh(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$n(t,e,s)):(Ee&&r&&Uh(e),e.flags|=1,it(t,e,n,s),e.child)}function kg(t,e,n,r,s){if(vt(n)){var i=!0;ec(e)}else i=!1;if(Zs(e,s),e.stateNode===null)kl(t,e),Dw(e,n,r),yf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=vt(n)?as:tt.current,c=wi(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Cg(e,o,r,c),sr=!1;var h=e.memoizedState;o.state=h,ic(e,r,o,s),l=e.memoizedState,a!==r||h!==l||yt.current||sr?(typeof d=="function"&&(gf(e,n,d,r),l=e.memoizedState),(a=sr||Eg(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bt(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=vt(n)?as:tt.current,l=wi(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Cg(e,o,r,l),sr=!1,h=e.memoizedState,o.state=h,ic(e,r,o,s);var x=e.memoizedState;a!==f||h!==x||yt.current||sr?(typeof _=="function"&&(gf(e,n,_,r),x=e.memoizedState),(c=sr||Eg(e,n,c,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return wf(t,e,n,r,i,s)}function wf(t,e,n,r,s,i){$w(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&pg(e,n,!1),$n(t,e,i);r=e.stateNode,sT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ei(e,t.child,null,i),e.child=Ei(e,null,a,i)):it(t,e,a,i),e.memoizedState=r.state,s&&pg(e,n,!0),e.child}function Hw(t){var e=t.stateNode;e.pendingContext?hg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hg(t,e.context,!1),Kh(t,e.containerInfo)}function Pg(t,e,n,r,s){return xi(),Hh(s),e.flags|=256,it(t,e,n,r),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ww(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Ce,s&1),t===null)return pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eu(o,r,0,null),t=os(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ef(n),e.memoizedState=xf,t):tp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return iT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ir(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ir(a,i):(i=os(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xf,r}return i=t.child,t=i.sibling,r=Ir(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tp(t,e){return e=eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rl(t,e,n,r){return r!==null&&Hh(r),Ei(e,t.child,null,n),t=tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=od(Error(R(422))),rl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=eu({mode:"visible",children:r.children},s,0,null),i=os(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ei(e,t.child,null,o),e.child.memoizedState=Ef(o),e.memoizedState=xf,i);if(!(e.mode&1))return rl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=od(i,r,void 0),rl(t,e,o,r)}if(a=(o&t.childLanes)!==0,pt||a){if(r=We,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Un(t,s),Zt(r,t,s,-1))}return ap(),r=od(Error(R(421))),rl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tt=Cr(s.nextSibling),It=e,Ee=!0,qt=null,t!==null&&(Mt[Dt++]=kn,Mt[Dt++]=Pn,Mt[Dt++]=ls,kn=t.id,Pn=t.overflow,ls=e),e=tp(e,r.children),e.flags|=4096,e)}function Rg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mf(t.return,e,n)}function ad(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(it(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rg(t,n,e);else if(t.tag===19)Rg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ad(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ad(e,!0,n,null,i);break;case"together":ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oT(t,e,n){switch(e.tag){case 3:Hw(e),xi();break;case 5:mw(e);break;case 1:vt(e.type)&&ec(e);break;case 4:Kh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(rc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?Ww(t,e,n):(ge(Ce,Ce.current&1),t=$n(t,e,n),t!==null?t.sibling:null);ge(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,Uw(t,e,n)}return $n(t,e,n)}var Bw,Cf,Vw,Gw;Bw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cf=function(){};Vw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Zr(vn.current);var i=null;switch(n){case"input":s=Bd(t,s),r=Bd(t,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Kd(t,s),r=Kd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jl)}Qd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Gw=function(t,e,n,r){n!==r&&(e.flags|=4)};function co(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aT(t,e,n){var r=e.pendingProps;switch($h(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return vt(e.type)&&Zl(),Je(e),null;case 3:return r=e.stateNode,Ci(),we(yt),we(tt),Qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qt!==null&&(Rf(qt),qt=null))),Cf(t,e),Je(e),null;case 5:qh(e);var s=Zr(ea.current);if(n=e.type,t!==null&&e.stateNode!=null)Vw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Je(e),null}if(t=Zr(vn.current),tl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pn]=e,r[Jo]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<xo.length;s++)_e(xo[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":$m(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Wm(r,i),_e("invalid",r)}Qd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&el(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&el(r.textContent,a,t),s=["children",""+a]):Wo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ga(r),Hm(r,i,!0);break;case"textarea":Ga(r),zm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[Jo]=r,Bw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yd(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<xo.length;s++)_e(xo[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":$m(t,r),s=Bd(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Wm(t,r),s=Kd(t,r),_e("invalid",t);break;default:s=r}Qd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?C_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zo(t,l):typeof l=="number"&&zo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&bh(t,i,l,o))}switch(n){case"input":Ga(t),Hm(t,r,!1);break;case"textarea":Ga(t),zm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ar(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)Gw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Zr(ea.current),Zr(vn.current),tl(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(i=r.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:el(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&el(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return Je(e),null;case 13:if(we(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Tt!==null&&e.mode&1&&!(e.flags&128))uw(),xi(),e.flags|=98560,i=!1;else if(i=tl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[pn]=e}else xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),i=!1}else qt!==null&&(Rf(qt),qt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?De===0&&(De=3):ap())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return Ci(),Cf(t,e),t===null&&Yo(e.stateNode.containerInfo),Je(e),null;case 10:return Bh(e.type._context),Je(e),null;case 17:return vt(e.type)&&Zl(),Je(e),null;case 19:if(we(Ce),i=e.memoizedState,i===null)return Je(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)co(i,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,co(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>bi&&(e.flags|=128,r=!0,co(i,!1),e.lanes=4194304)}else{if(!r)if(t=oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return Je(e),null}else 2*Re()-i.renderingStartTime>bi&&n!==1073741824&&(e.flags|=128,r=!0,co(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,n=Ce.current,ge(Ce,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return op(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?St&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function lT(t,e){switch($h(e),e.tag){case 1:return vt(e.type)&&Zl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ci(),we(yt),we(tt),Qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qh(e),null;case 13:if(we(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ce),null;case 4:return Ci(),null;case 10:return Bh(e.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var sl=!1,et=!1,cT=typeof WeakSet=="function"?WeakSet:Set,U=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Sf(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Ag=!1;function uT(t,e){if(af=Ql,t=X_(),Fh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var _;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)h=f,f=_;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(_=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:t,selectionRange:n},Ql=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Bt(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Ie(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return x=Ag,Ag=!1,x}function Ro(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sf(e,n,i)}s=s.next}while(s!==r)}}function Jc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kw(t){var e=t.alternate;e!==null&&(t.alternate=null,Kw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[Jo],delete e[df],delete e[Gb],delete e[Kb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qw(t){return t.tag===5||t.tag===3||t.tag===4}function Og(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jl));else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}function If(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(If(t,e,n),t=t.sibling;t!==null;)If(t,e,n),t=t.sibling}var Be=null,Kt=!1;function qn(t,e,n){for(n=n.child;n!==null;)Qw(t,e,n),n=n.sibling}function Qw(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Bc,n)}catch{}switch(n.tag){case 5:et||Vs(n,e);case 6:var r=Be,s=Kt;Be=null,qn(t,e,n),Be=r,Kt=s,Be!==null&&(Kt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Kt?(t=Be,n=n.stateNode,t.nodeType===8?ed(t.parentNode,n):t.nodeType===1&&ed(t,n),Ko(t)):ed(Be,n.stateNode));break;case 4:r=Be,s=Kt,Be=n.stateNode.containerInfo,Kt=!0,qn(t,e,n),Be=r,Kt=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sf(n,e,o),s=s.next}while(s!==r)}qn(t,e,n);break;case 1:if(!et&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,qn(t,e,n),et=r):qn(t,e,n);break;default:qn(t,e,n)}}function Mg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cT),e.forEach(function(r){var s=_T.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Kt=!1;break e;case 3:Be=a.stateNode.containerInfo,Kt=!0;break e;case 4:Be=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Be===null)throw Error(R(160));Qw(i,o,s),Be=null,Kt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ie(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yw(e,t),e=e.sibling}function Yw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),cn(t),r&4){try{Ro(3,t,t.return),Jc(3,t)}catch(g){Ie(t,t.return,g)}try{Ro(5,t,t.return)}catch(g){Ie(t,t.return,g)}}break;case 1:Wt(e,t),cn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(Wt(e,t),cn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{zo(s,"")}catch(g){Ie(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&v_(s,i),Yd(a,o);var c=Yd(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?C_(s,f):d==="dangerouslySetInnerHTML"?x_(s,f):d==="children"?zo(s,f):bh(s,d,f,c)}switch(a){case"input":Vd(s,i);break;case"textarea":__(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Qs(s,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qs(s,!!i.multiple,i.defaultValue,!0):Qs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jo]=i}catch(g){Ie(t,t.return,g)}}break;case 6:if(Wt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Ie(t,t.return,g)}}break;case 3:if(Wt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(g){Ie(t,t.return,g)}break;case 4:Wt(e,t),cn(t);break;case 13:Wt(e,t),cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sp=Re())),r&4&&Mg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(et=(c=et)||d,Wt(e,t),et=c):Wt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(f=U=d;U!==null;){switch(h=U,_=h.child,h.tag){case 0:case 11:case 14:case 15:Ro(4,h,h.return);break;case 1:Vs(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Ie(r,n,g)}}break;case 5:Vs(h,h.return);break;case 22:if(h.memoizedState!==null){Lg(f);continue}}_!==null?(_.return=h,U=_):Lg(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=E_("display",o))}catch(g){Ie(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ie(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wt(e,t),cn(t),r&4&&Mg(t);break;case 21:break;default:Wt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qw(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zo(s,""),r.flags&=-33);var i=Og(t);If(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Og(t);Tf(t,a,o);break;default:throw Error(R(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dT(t,e,n){U=t,Xw(t)}function Xw(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||et;a=sl;var c=et;if(sl=o,(et=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?jg(s):l!==null?(l.return=o,U=l):jg(s);for(;i!==null;)U=i,Xw(i),i=i.sibling;U=s,sl=a,et=c}Dg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Dg(t)}}function Dg(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||Jc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_g(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_g(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}et||e.flags&512&&bf(e)}catch(h){Ie(e,e.return,h)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Lg(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function jg(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jc(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ie(e,s,l)}}var i=e.return;try{bf(e)}catch(l){Ie(e,i,l)}break;case 5:var o=e.return;try{bf(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var fT=Math.ceil,cc=Gn.ReactCurrentDispatcher,np=Gn.ReactCurrentOwner,Ut=Gn.ReactCurrentBatchConfig,ne=0,We=null,Ae=null,Ge=0,St=0,Gs=$r(0),De=0,sa=null,us=0,Zc=0,rp=0,Ao=null,ht=null,sp=0,bi=1/0,In=null,uc=!1,Nf=null,br=null,il=!1,yr=null,dc=0,Oo=0,kf=null,Pl=-1,Rl=0;function at(){return ne&6?Re():Pl!==-1?Pl:Pl=Re()}function Tr(t){return t.mode&1?ne&2&&Ge!==0?Ge&-Ge:Qb.transition!==null?(Rl===0&&(Rl=D_()),Rl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:W_(t.type)),t):1}function Zt(t,e,n,r){if(50<Oo)throw Oo=0,kf=null,Error(R(185));Ca(t,n,r),(!(ne&2)||t!==We)&&(t===We&&(!(ne&2)&&(Zc|=n),De===4&&or(t,Ge)),_t(t,r),n===1&&ne===0&&!(e.mode&1)&&(bi=Re()+500,Qc&&Hr()))}function _t(t,e){var n=t.callbackNode;Q1(t,e);var r=ql(t,t===We?Ge:0);if(r===0)n!==null&&Gm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gm(n),e===1)t.tag===0?qb(Fg.bind(null,t)):aw(Fg.bind(null,t)),Bb(function(){!(ne&6)&&Hr()}),n=null;else{switch(L_(r)){case 1:n=Ph;break;case 4:n=O_;break;case 16:n=Kl;break;case 536870912:n=M_;break;default:n=Kl}n=ix(n,Jw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jw(t,e){if(Pl=-1,Rl=0,ne&6)throw Error(R(327));var n=t.callbackNode;if(ei()&&t.callbackNode!==n)return null;var r=ql(t,t===We?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fc(t,r);else{e=r;var s=ne;ne|=2;var i=ex();(We!==t||Ge!==e)&&(In=null,bi=Re()+500,is(t,e));do try{mT();break}catch(a){Zw(t,a)}while(!0);zh(),cc.current=i,ne=s,Ae!==null?e=0:(We=null,Ge=0,e=De)}if(e!==0){if(e===2&&(s=tf(t),s!==0&&(r=s,e=Pf(t,s))),e===1)throw n=sa,is(t,0),or(t,r),_t(t,Re()),n;if(e===6)or(t,r);else{if(s=t.current.alternate,!(r&30)&&!hT(s)&&(e=fc(t,r),e===2&&(i=tf(t),i!==0&&(r=i,e=Pf(t,i))),e===1))throw n=sa,is(t,0),or(t,r),_t(t,Re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:qr(t,ht,In);break;case 3:if(or(t,r),(r&130023424)===r&&(e=sp+500-Re(),10<e)){if(ql(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){at(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uf(qr.bind(null,t,ht,In),e);break}qr(t,ht,In);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fT(r/1960))-r,10<r){t.timeoutHandle=uf(qr.bind(null,t,ht,In),r);break}qr(t,ht,In);break;case 5:qr(t,ht,In);break;default:throw Error(R(329))}}}return _t(t,Re()),t.callbackNode===n?Jw.bind(null,t):null}function Pf(t,e){var n=Ao;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=fc(t,e),t!==2&&(e=ht,ht=n,e!==null&&Rf(e)),t}function Rf(t){ht===null?ht=t:ht.push.apply(ht,t)}function hT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~rp,e&=~Zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Fg(t){if(ne&6)throw Error(R(327));ei();var e=ql(t,0);if(!(e&1))return _t(t,Re()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var r=tf(t);r!==0&&(e=r,n=Pf(t,r))}if(n===1)throw n=sa,is(t,0),or(t,e),_t(t,Re()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,ht,In),_t(t,Re()),null}function ip(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(bi=Re()+500,Qc&&Hr())}}function ds(t){yr!==null&&yr.tag===0&&!(ne&6)&&ei();var e=ne;ne|=1;var n=Ut.transition,r=ae;try{if(Ut.transition=null,ae=1,t)return t()}finally{ae=r,Ut.transition=n,ne=e,!(ne&6)&&Hr()}}function op(){St=Gs.current,we(Gs)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zb(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch($h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:Ci(),we(yt),we(tt),Qh();break;case 5:qh(r);break;case 4:Ci();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Bh(r.type._context);break;case 22:case 23:op()}n=n.return}if(We=t,Ae=t=Ir(t.current,null),Ge=St=e,De=0,sa=null,rp=Zc=us=0,ht=Ao=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Jr=null}return t}function Zw(t,e){do{var n=Ae;try{if(zh(),Il.current=lc,ac){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ac=!1}if(cs=0,Fe=Me=Se=null,Po=!1,ta=0,np.current=null,n===null||n.return===null){De=1,sa=e,Ae=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=bg(o);if(_!==null){_.flags&=-257,Tg(_,o,a,i,e),_.mode&1&&Sg(i,c,e),e=_,l=c;var x=e.updateQueue;if(x===null){var g=new Set;g.add(l),e.updateQueue=g}else x.add(l);break e}else{if(!(e&1)){Sg(i,c,e),ap();break e}l=Error(R(426))}}else if(Ee&&a.mode&1){var w=bg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Tg(w,o,a,i,e),Hh(Si(l,a));break e}}i=l=Si(l,a),De!==4&&(De=2),Ao===null?Ao=[i]:Ao.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Lw(i,l,e);vg(i,y);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(br===null||!br.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=jw(i,a,e);vg(i,E);break e}}i=i.return}while(i!==null)}nx(n)}catch(C){e=C,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function ex(){var t=cc.current;return cc.current=lc,t===null?lc:t}function ap(){(De===0||De===3||De===2)&&(De=4),We===null||!(us&268435455)&&!(Zc&268435455)||or(We,Ge)}function fc(t,e){var n=ne;ne|=2;var r=ex();(We!==t||Ge!==e)&&(In=null,is(t,e));do try{pT();break}catch(s){Zw(t,s)}while(!0);if(zh(),ne=n,cc.current=r,Ae!==null)throw Error(R(261));return We=null,Ge=0,De}function pT(){for(;Ae!==null;)tx(Ae)}function mT(){for(;Ae!==null&&!$1();)tx(Ae)}function tx(t){var e=sx(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?nx(t):Ae=e,np.current=null}function nx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lT(n,e),n!==null){n.flags&=32767,Ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ae=null;return}}else if(n=aT(n,e,St),n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);De===0&&(De=5)}function qr(t,e,n){var r=ae,s=Ut.transition;try{Ut.transition=null,ae=1,gT(t,e,n,r)}finally{Ut.transition=s,ae=r}return null}function gT(t,e,n,r){do ei();while(yr!==null);if(ne&6)throw Error(R(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Y1(t,i),t===We&&(Ae=We=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||il||(il=!0,ix(Kl,function(){return ei(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var o=ae;ae=1;var a=ne;ne|=4,np.current=null,uT(t,n),Yw(n,t),Lb(lf),Ql=!!af,lf=af=null,t.current=n,dT(n),H1(),ne=a,ae=o,Ut.transition=i}else t.current=n;if(il&&(il=!1,yr=t,dc=s),i=t.pendingLanes,i===0&&(br=null),B1(n.stateNode),_t(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(uc)throw uc=!1,t=Nf,Nf=null,t;return dc&1&&t.tag!==0&&ei(),i=t.pendingLanes,i&1?t===kf?Oo++:(Oo=0,kf=t):Oo=0,Hr(),null}function ei(){if(yr!==null){var t=L_(dc),e=Ut.transition,n=ae;try{if(Ut.transition=null,ae=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,dc=0,ne&6)throw Error(R(331));var s=ne;for(ne|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Ro(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var h=d.sibling,_=d.return;if(Kw(d),d===c){U=null;break}if(h!==null){h.return=_,U=h;break}U=_}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ro(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,U=y;break e}U=i.return}}var m=t.current;for(U=m;U!==null;){o=U;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,U=p;else e:for(o=m;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jc(9,a)}}catch(C){Ie(a,a.return,C)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(ne=s,Hr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Bc,t)}catch{}r=!0}return r}finally{ae=n,Ut.transition=e}}return!1}function Ug(t,e,n){e=Si(n,e),e=Lw(t,e,1),t=Sr(t,e,1),e=at(),t!==null&&(Ca(t,1,e),_t(t,e))}function Ie(t,e,n){if(t.tag===3)Ug(t,t,n);else for(;e!==null;){if(e.tag===3){Ug(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){t=Si(n,t),t=jw(e,t,1),e=Sr(e,t,1),t=at(),e!==null&&(Ca(e,1,t),_t(e,t));break}}e=e.return}}function yT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(Ge&n)===n&&(De===4||De===3&&(Ge&130023424)===Ge&&500>Re()-sp?is(t,0):rp|=n),_t(t,e)}function rx(t,e){e===0&&(t.mode&1?(e=Qa,Qa<<=1,!(Qa&130023424)&&(Qa=4194304)):e=1);var n=at();t=Un(t,e),t!==null&&(Ca(t,e,n),_t(t,n))}function vT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rx(t,n)}function _T(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),rx(t,n)}var sx;sx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,oT(t,e,n);pt=!!(t.flags&131072)}else pt=!1,Ee&&e.flags&1048576&&lw(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kl(t,e),t=e.pendingProps;var s=wi(e,tt.current);Zs(e,n),s=Xh(null,e,r,t,s,n);var i=Jh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(r)?(i=!0,ec(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gh(e),s.updater=Xc,e.stateNode=s,s._reactInternals=e,yf(e,r,t,n),e=wf(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&Uh(e),it(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xT(r),t=Bt(r,t),s){case 0:e=_f(null,e,r,t,n);break e;case 1:e=kg(null,e,r,t,n);break e;case 11:e=Ig(null,e,r,t,n);break e;case 14:e=Ng(null,e,r,Bt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),_f(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),kg(t,e,r,s,n);case 3:e:{if(Hw(e),t===null)throw Error(R(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pw(t,e),ic(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Si(Error(R(423)),e),e=Pg(t,e,r,n,s);break e}else if(r!==s){s=Si(Error(R(424)),e),e=Pg(t,e,r,n,s);break e}else for(Tt=Cr(e.stateNode.containerInfo.firstChild),It=e,Ee=!0,qt=null,n=fw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),r===s){e=$n(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return mw(e),t===null&&pf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,cf(r,s)?o=null:i!==null&&cf(r,i)&&(e.flags|=32),$w(t,e),it(t,e,o,n),e.child;case 6:return t===null&&pf(e),null;case 13:return Ww(t,e,n);case 4:return Kh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ei(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Ig(t,e,r,s,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(rc,r._currentValue),r._currentValue=o,i!==null)if(tn(i.value,o)){if(i.children===s.children&&!yt.current){e=$n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}it(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zs(e,n),s=$t(s),r=r(s),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,s=Bt(r,e.pendingProps),s=Bt(r.type,s),Ng(t,e,r,s,n);case 15:return Fw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),kl(t,e),e.tag=1,vt(r)?(t=!0,ec(e)):t=!1,Zs(e,n),Dw(e,r,s),yf(e,r,s,n),wf(null,e,r,!0,t,n);case 19:return zw(t,e,n);case 22:return Uw(t,e,n)}throw Error(R(156,e.tag))};function ix(t,e){return A_(t,e)}function wT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new wT(t,e,n,r)}function lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xT(t){if(typeof t=="function")return lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ih)return 11;if(t===Nh)return 14}return 2}function Ir(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ls:return os(n.children,s,i,e);case Th:o=8,s|=8;break;case $d:return t=jt(12,n,e,s|2),t.elementType=$d,t.lanes=i,t;case Hd:return t=jt(13,n,e,s),t.elementType=Hd,t.lanes=i,t;case Wd:return t=jt(19,n,e,s),t.elementType=Wd,t.lanes=i,t;case m_:return eu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h_:o=10;break e;case p_:o=9;break e;case Ih:o=11;break e;case Nh:o=14;break e;case rr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=jt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function os(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function eu(t,e,n,r){return t=jt(22,t,r,e),t.elementType=m_,t.lanes=n,t.stateNode={isHidden:!1},t}function ld(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function cd(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ET(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cp(t,e,n,r,s,i,o,a,l){return t=new ET(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(i),t}function CT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ox(t){if(!t)return Or;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(vt(n))return ow(t,n,e)}return e}function ax(t,e,n,r,s,i,o,a,l){return t=cp(n,r,!0,t,s,i,o,a,l),t.context=ox(null),n=t.current,r=at(),s=Tr(n),i=Mn(r,s),i.callback=e??null,Sr(n,i,s),t.current.lanes=s,Ca(t,s,r),_t(t,r),t}function tu(t,e,n,r){var s=e.current,i=at(),o=Tr(s);return n=ox(n),e.context===null?e.context=n:e.pendingContext=n,e=Mn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sr(s,e,o),t!==null&&(Zt(t,s,o,i),Tl(t,s,o)),o}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $g(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function up(t,e){$g(t,e),(t=t.alternate)&&$g(t,e)}function ST(){return null}var lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function dp(t){this._internalRoot=t}nu.prototype.render=dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));tu(t,e,null,null)};nu.prototype.unmount=dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){tu(null,t,null,null)}),e[Fn]=null}};function nu(t){this._internalRoot=t}nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=U_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&H_(t)}};function fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function bT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=hc(o);i.call(c)}}var o=ax(e,r,t,0,null,!1,!1,"",Hg);return t._reactRootContainer=o,t[Fn]=o.current,Yo(t.nodeType===8?t.parentNode:t),ds(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=hc(l);a.call(c)}}var l=cp(t,0,!1,null,null,!1,!1,"",Hg);return t._reactRootContainer=l,t[Fn]=l.current,Yo(t.nodeType===8?t.parentNode:t),ds(function(){tu(e,l,n,r)}),l}function su(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hc(o);a.call(l)}}tu(e,o,t,s)}else o=bT(n,e,t,s,r);return hc(o)}j_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wo(e.pendingLanes);n!==0&&(Rh(e,n|1),_t(e,Re()),!(ne&6)&&(bi=Re()+500,Hr()))}break;case 13:ds(function(){var r=Un(t,1);if(r!==null){var s=at();Zt(r,t,1,s)}}),up(t,1)}};Ah=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=at();Zt(e,t,134217728,n)}up(t,134217728)}};F_=function(t){if(t.tag===13){var e=Tr(t),n=Un(t,e);if(n!==null){var r=at();Zt(n,t,e,r)}up(t,e)}};U_=function(){return ae};$_=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Jd=function(t,e,n){switch(e){case"input":if(Vd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=qc(r);if(!s)throw Error(R(90));y_(r),Vd(r,s)}}}break;case"textarea":__(t,n);break;case"select":e=n.value,e!=null&&Qs(t,!!n.multiple,e,!1)}};T_=ip;I_=ds;var TT={usingClientEntryPoint:!1,Events:[ba,$s,qc,S_,b_,ip]},uo={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IT={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P_(t),t===null?null:t.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||ST,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Bc=ol.inject(IT),yn=ol}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;Rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(e))throw Error(R(200));return CT(t,e,null,n)};Rt.createRoot=function(t,e){if(!fp(t))throw Error(R(299));var n=!1,r="",s=lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cp(t,1,!1,null,null,n,!1,r,s),t[Fn]=e.current,Yo(t.nodeType===8?t.parentNode:t),new dp(e)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=P_(e),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return ds(t)};Rt.hydrate=function(t,e,n){if(!ru(e))throw Error(R(200));return su(null,t,e,!0,n)};Rt.hydrateRoot=function(t,e,n){if(!fp(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ax(e,null,t,1,n??null,s,!1,i,o),t[Fn]=e.current,Yo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new nu(e)};Rt.render=function(t,e,n){if(!ru(e))throw Error(R(200));return su(null,t,e,!1,n)};Rt.unmountComponentAtNode=function(t){if(!ru(t))throw Error(R(40));return t._reactRootContainer?(ds(function(){su(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Rt.unstable_batchedUpdates=ip;Rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ru(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return su(t,e,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cx)}catch(t){console.error(t)}}cx(),c_.exports=Rt;var Ss=c_.exports;const NT=Yv(Ss);var ux,Wg=Ss;ux=Wg.createRoot,Wg.hydrateRoot;function kT(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var dx={exports:{}},fx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=v;function PT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RT=typeof Object.is=="function"?Object.is:PT,AT=Ti.useState,OT=Ti.useEffect,MT=Ti.useLayoutEffect,DT=Ti.useDebugValue;function LT(t,e){var n=e(),r=AT({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return MT(function(){s.value=n,s.getSnapshot=e,ud(s)&&i({inst:s})},[t,n,e]),OT(function(){return ud(s)&&i({inst:s}),t(function(){ud(s)&&i({inst:s})})},[t]),DT(n),n}function ud(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RT(t,n)}catch{return!0}}function jT(t,e){return e()}var FT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jT:LT;fx.useSyncExternalStore=Ti.useSyncExternalStore!==void 0?Ti.useSyncExternalStore:FT;dx.exports=fx;var UT=dx.exports;const $T=a_.useInsertionEffect,HT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WT=HT?v.useLayoutEffect:v.useEffect,zT=$T||WT,hx=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return zT(()=>{e[0]=t}),e[1]},BT="popstate",hp="pushState",pp="replaceState",VT="hashchange",zg=[BT,hp,pp,VT],GT=t=>{for(const e of zg)addEventListener(e,t);return()=>{for(const e of zg)removeEventListener(e,t)}},px=(t,e)=>UT.useSyncExternalStore(GT,t,e),KT=()=>location.search,qT=({ssrSearch:t=""}={})=>px(KT,()=>t),Bg=()=>location.pathname,QT=({ssrPath:t}={})=>px(Bg,t?()=>t:Bg),YT=(t,{replace:e=!1,state:n=null}={})=>history[e?pp:hp](n,"",t),XT=(t={})=>[QT(t),YT],Vg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Vg]>"u"){for(const t of[hp,pp]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Vg,{value:!0})}const JT=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",mx=(t="")=>t==="/"?"":t,ZT=(t,e)=>t[0]==="~"?t.slice(1):mx(e)+t,eI=(t="",e)=>JT(Gg(mx(t)),Gg(e)),Gg=t=>{try{return decodeURI(t)}catch{return t}},gx={hook:XT,searchHook:qT,parser:kT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},yx=v.createContext(gx),$i=()=>v.useContext(yx),vx={},_x=v.createContext(vx),tI=()=>v.useContext(_x),iu=t=>{const[e,n]=t.hook(t);return[eI(t.base,e),hx((r,s)=>n(ZT(r,t.base),s))]},Hi=()=>iu($i()),mp=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},gp=t=>mp($i().parser,t,Hi()[0]),nI=({children:t,...e})=>{var d,f;const n=$i(),r=e.hook?gx:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=v.useRef({}),l=a.current,c=l;for(let h in r){const _=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&_!==c[h]&&(a.current=c={...c}),c[h]=_,_!==r[h]&&(s=c)}return v.createElement(yx.Provider,{value:s,children:t})},Kg=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,rI=t=>{let e=v.useRef(vx),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Qn=({path:t,nest:e,match:n,...r})=>{const s=$i(),[i]=iu(s),[o,a,l]=n??mp(s.parser,t,i,e),c=rI({...tI(),...a});if(!o)return null;const d=l?v.createElement(nI,{base:l},Kg(r,c)):Kg(r,c);return v.createElement(_x.Provider,{value:c,children:d})},Ol=v.forwardRef((t,e)=>{const n=$i(),[r,s]=iu(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,..._}=t,x=hx(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&v.isValidElement(c)?v.cloneElement(c,{onClick:x,href:g}):v.createElement("a",{..._,onClick:x,href:g,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),wx=t=>Array.isArray(t)?t.flatMap(e=>wx(e&&e.type===v.Fragment?e.props.children:e)):[t],sI=({children:t,location:e})=>{const n=$i(),[r]=iu(n);for(const s of wx(t)){let i=0;if(v.isValidElement(s)&&(i=mp(n.parser,s.props.path,e||r,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var ou=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},au=typeof window>"u"||"Deno"in globalThis;function Vt(){}function iI(t,e){return typeof t=="function"?t(e):t}function oI(t){return typeof t=="number"&&t>=0&&t!==1/0}function aI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qg(t,e){return typeof t=="function"?t(e):t}function lI(t,e){return typeof t=="function"?t(e):t}function Qg(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==yp(o,e.options))return!1}else if(!oa(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Yg(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ia(e.options.mutationKey)!==ia(i))return!1}else if(!oa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function yp(t,e){return((e==null?void 0:e.queryKeyHashFn)||ia)(t)}function ia(t){return JSON.stringify(t,(e,n)=>Af(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function oa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!oa(t[n],e[n])):!1}function xx(t,e){if(t===e)return t;const n=Xg(t)&&Xg(e);if(n||Af(t)&&Af(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=xx(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Xg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Af(t){if(!Jg(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Jg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jg(t){return Object.prototype.toString.call(t)==="[object Object]"}function cI(t){return new Promise(e=>{setTimeout(e,t)})}function uI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xx(t,e):e}function dI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vp=Symbol();function Ex(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ts,dr,ui,Wv,hI=(Wv=class extends ou{constructor(){super();oe(this,ts);oe(this,dr);oe(this,ui);q(this,ui,e=>{if(!au&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,dr)||this.setEventListener(N(this,ui))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,dr))==null||e.call(this),q(this,dr,void 0))}setEventListener(e){var n;q(this,ui,e),(n=N(this,dr))==null||n.call(this),q(this,dr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,ts)!==e&&(q(this,ts,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,ts)=="boolean"?N(this,ts):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ts=new WeakMap,dr=new WeakMap,ui=new WeakMap,Wv),Cx=new hI,di,fr,fi,zv,pI=(zv=class extends ou{constructor(){super();oe(this,di,!0);oe(this,fr);oe(this,fi);q(this,fi,e=>{if(!au&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,fr)||this.setEventListener(N(this,fi))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,fr))==null||e.call(this),q(this,fr,void 0))}setEventListener(e){var n;q(this,fi,e),(n=N(this,fr))==null||n.call(this),q(this,fr,e(this.setOnline.bind(this)))}setOnline(e){N(this,di)!==e&&(q(this,di,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,di)}},di=new WeakMap,fr=new WeakMap,fi=new WeakMap,zv),pc=new pI;function mI(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function gI(t){return Math.min(1e3*2**t,3e4)}function Sx(t){return(t??"online")==="online"?pc.isOnline():!0}var bx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dd(t){return t instanceof bx}function Tx(t){let e=!1,n=0,r=!1,s;const i=mI(),o=g=>{var w;r||(h(new bx(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Cx.isFocused()&&(t.networkMode==="always"||pc.isOnline())&&t.canRun(),d=()=>Sx(t.networkMode)&&t.canRun(),f=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},_=()=>new Promise(g=>{var w;s=y=>{(r||c())&&g(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var b;if(r)return;const m=t.retry??(au?0:3),p=t.retryDelay??gI,E=typeof p=="function"?p(n,y):p,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,y);if(e||!C){h(y);return}n++,(b=t.onFail)==null||b.call(t,n,y),cI(E).then(()=>c()?void 0:_()).then(()=>{e?h(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():_().then(x),i)}}function yI(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ot=yI(),ns,Bv,Ix=(Bv=class{constructor(){oe(this,ns)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oI(this.gcTime)&&q(this,ns,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(au?1/0:5*60*1e3))}clearGcTimeout(){N(this,ns)&&(clearTimeout(N(this,ns)),q(this,ns,void 0))}},ns=new WeakMap,Bv),hi,pi,Ot,Ze,wa,rs,Gt,Tn,Vv,vI=(Vv=class extends Ix{constructor(e){super();oe(this,Gt);oe(this,hi);oe(this,pi);oe(this,Ot);oe(this,Ze);oe(this,wa);oe(this,rs);q(this,rs,!1),q(this,wa,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,Ot,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,hi,wI(this.options)),this.state=e.state??N(this,hi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Ze))==null?void 0:e.promise}setOptions(e){this.options={...N(this,wa),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Ot).remove(this)}setData(e,n){const r=uI(this.state.data,e,this.options);return Ye(this,Gt,Tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Gt,Tn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=N(this,Ze))==null?void 0:r.promise;return(s=N(this,Ze))==null||s.cancel(e),n?n.then(Vt).catch(Vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,hi))}isActive(){return this.observers.some(e=>lI(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!aI(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Ze))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Ze))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,Ot).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(N(this,Ze)&&(N(this,rs)?N(this,Ze).cancel({revert:!0}):N(this,Ze).cancelRetry()),this.scheduleGc()),N(this,Ot).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Gt,Tn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ze))return N(this,Ze).continueRetry(),N(this,Ze).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(q(this,rs,!0),r.signal)})},i=()=>{const f=Ex(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),q(this,rs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),q(this,pi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ye(this,Gt,Tn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,_,x,g;dd(f)&&f.silent||Ye(this,Gt,Tn).call(this,{type:"error",error:f}),dd(f)||((_=(h=N(this,Ot).config).onError)==null||_.call(h,f,this),(g=(x=N(this,Ot).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return q(this,Ze,Tx({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,_,x,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(_=(h=N(this,Ot).config).onSuccess)==null||_.call(h,f,this),(g=(x=N(this,Ot).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{Ye(this,Gt,Tn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ye(this,Gt,Tn).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Gt,Tn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),N(this,Ze).start()}},hi=new WeakMap,pi=new WeakMap,Ot=new WeakMap,Ze=new WeakMap,wa=new WeakMap,rs=new WeakMap,Gt=new WeakSet,Tn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._I(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return dd(s)&&s.revert&&N(this,pi)?{...N(this,pi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,Ot).notify({query:this,type:"updated",action:e})})},Vv);function _I(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dn,Gv,xI=(Gv=class extends ou{constructor(e={}){super();oe(this,dn);this.config=e,q(this,dn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??yp(s,n);let o=this.get(i);return o||(o=new vI({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){N(this,dn).has(e.queryHash)||(N(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,dn).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,dn).get(e)}getAll(){return[...N(this,dn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Qg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Qg(e,r)):n}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,Gv),fn,st,ss,hn,tr,Kv,EI=(Kv=class extends Ix{constructor(e){super();oe(this,hn);oe(this,fn);oe(this,st);oe(this,ss);this.mutationId=e.mutationId,q(this,st,e.mutationCache),q(this,fn,[]),this.state=e.state||CI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,fn).includes(e)||(N(this,fn).push(e),this.clearGcTimeout(),N(this,st).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,fn,N(this,fn).filter(n=>n!==e)),this.scheduleGc(),N(this,st).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,fn).length||(this.state.status==="pending"?this.scheduleGc():N(this,st).remove(this))}continue(){var e;return((e=N(this,ss))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,f,h,_,x,g,w,y,m,p,E,C,b,S;q(this,ss,Tx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{Ye(this,hn,tr).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{Ye(this,hn,tr).call(this,{type:"pause"})},onContinue:()=>{Ye(this,hn,tr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,st).canRun(this)}));const n=this.state.status==="pending",r=!N(this,ss).canStart();try{if(!n){Ye(this,hn,tr).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=N(this,st).config).onMutate)==null?void 0:i.call(s,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&Ye(this,hn,tr).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const T=await N(this,ss).start();return await((c=(l=N(this,st).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,T,e,this.state.context)),await((_=(h=N(this,st).config).onSettled)==null?void 0:_.call(h,T,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,T,null,e,this.state.context)),Ye(this,hn,tr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(w=N(this,st).config).onError)==null?void 0:y.call(w,T,e,this.state.context,this)),await((p=(m=this.options).onError)==null?void 0:p.call(m,T,e,this.state.context)),await((C=(E=N(this,st).config).onSettled)==null?void 0:C.call(E,void 0,T,this.state.variables,this.state.context,this)),await((S=(b=this.options).onSettled)==null?void 0:S.call(b,void 0,T,e,this.state.context)),T}finally{Ye(this,hn,tr).call(this,{type:"error",error:T})}}finally{N(this,st).runNext(this)}}},fn=new WeakMap,st=new WeakMap,ss=new WeakMap,hn=new WeakSet,tr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ot.batch(()=>{N(this,fn).forEach(r=>{r.onMutationUpdate(e)}),N(this,st).notify({mutation:this,type:"updated",action:e})})},Kv);function CI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ct,xa,qv,SI=(qv=class extends ou{constructor(e={}){super();oe(this,Ct);oe(this,xa);this.config=e,q(this,Ct,new Map),q(this,xa,Date.now())}build(e,n,r){const s=new EI({mutationCache:this,mutationId:++za(this,xa)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=al(e),r=N(this,Ct).get(n)??[];r.push(e),N(this,Ct).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=al(e);if(N(this,Ct).has(n)){const s=(r=N(this,Ct).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?N(this,Ct).delete(n):N(this,Ct).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=N(this,Ct).get(al(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=N(this,Ct).get(al(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...N(this,Ct).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yg(n,r))}findAll(e={}){return this.getAll().filter(n=>Yg(e,n))}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vt))))}},Ct=new WeakMap,xa=new WeakMap,qv);function al(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Zg(t){return{onFetch:(e,n)=>{var d,f,h,_,x;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((_=e.state.data)==null?void 0:_.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=Ex(e.options,e.fetchOptions),m=async(p,E,C)=>{if(g)return Promise.reject();if(E==null&&p.pages.length)return Promise.resolve(p);const b={queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};w(b);const S=await y(b),{maxPages:T}=e.options,k=C?fI:dI;return{pages:k(p.pages,S,T),pageParams:k(p.pageParams,E,T)}};if(s&&i.length){const p=s==="backward",E=p?bI:ey,C={pages:i,pageParams:o},b=E(r,C);a=await m(C,b,p)}else{const p=t??i.length;do{const E=l===0?o[0]??r.initialPageParam:ey(r,a);if(l>0&&E==null)break;a=await m(a,E),l++}while(l<p)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ey(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Te,hr,pr,mi,gi,mr,yi,vi,Qv,TI=(Qv=class{constructor(t={}){oe(this,Te);oe(this,hr);oe(this,pr);oe(this,mi);oe(this,gi);oe(this,mr);oe(this,yi);oe(this,vi);q(this,Te,t.queryCache||new xI),q(this,hr,t.mutationCache||new SI),q(this,pr,t.defaultOptions||{}),q(this,mi,new Map),q(this,gi,new Map),q(this,mr,0)}mount(){za(this,mr)._++,N(this,mr)===1&&(q(this,yi,Cx.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Te).onFocus())})),q(this,vi,pc.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Te).onOnline())})))}unmount(){var t,e;za(this,mr)._--,N(this,mr)===0&&((t=N(this,yi))==null||t.call(this),q(this,yi,void 0),(e=N(this,vi))==null||e.call(this),q(this,vi,void 0))}isFetching(t){return N(this,Te).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,hr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,Te).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=N(this,Te).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(qg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return N(this,Te).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=N(this,Te).get(r.queryHash),i=s==null?void 0:s.state.data,o=iI(e,i);if(o!==void 0)return N(this,Te).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ot.batch(()=>N(this,Te).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,Te).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,Te);ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,Te),r={type:"active",...t};return ot.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ot.batch(()=>N(this,Te).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Vt).catch(Vt)}invalidateQueries(t={},e={}){return ot.batch(()=>{if(N(this,Te).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ot.batch(()=>N(this,Te).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Vt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Vt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,Te).build(this,e);return n.isStaleByTime(qg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vt).catch(Vt)}fetchInfiniteQuery(t){return t.behavior=Zg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vt).catch(Vt)}ensureInfiniteQueryData(t){return t.behavior=Zg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pc.isOnline()?N(this,hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Te)}getMutationCache(){return N(this,hr)}getDefaultOptions(){return N(this,pr)}setDefaultOptions(t){q(this,pr,t)}setQueryDefaults(t,e){N(this,mi).set(ia(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,mi).values()];let n={};return e.forEach(r=>{oa(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){N(this,gi).set(ia(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,gi).values()];let n={};return e.forEach(r=>{oa(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,pr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,pr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,Te).clear(),N(this,hr).clear()}},Te=new WeakMap,hr=new WeakMap,pr=new WeakMap,mi=new WeakMap,gi=new WeakMap,mr=new WeakMap,yi=new WeakMap,vi=new WeakMap,Qv),II=v.createContext(void 0),NI=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(II.Provider,{value:t,children:e}));async function kI(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const PI=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await kI(n),await n.json())},RI=new TI({defaultOptions:{queries:{queryFn:PI({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AI=1,OI=1e6;let fd=0;function MI(){return fd=(fd+1)%Number.MAX_SAFE_INTEGER,fd.toString()}const hd=new Map,ty=t=>{if(hd.has(t))return;const e=setTimeout(()=>{hd.delete(t),Mo({type:"REMOVE_TOAST",toastId:t})},OI);hd.set(t,e)},DI=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ty(n):t.toasts.forEach(r=>{ty(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ml=[];let Dl={toasts:[]};function Mo(t){Dl=DI(Dl,t),Ml.forEach(e=>{e(Dl)})}function LI({...t}){const e=MI(),n=s=>Mo({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Mo({type:"DISMISS_TOAST",toastId:e});return Mo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ia(){const[t,e]=v.useState(Dl);return v.useEffect(()=>(Ml.push(e),()=>{const n=Ml.indexOf(e);n>-1&&Ml.splice(n,1)}),[t]),{...t,toast:LI,dismiss:n=>Mo({type:"DISMISS_TOAST",toastId:n})}}function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ny(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ny(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ny(t[s],null)}}}}function Pe(...t){return v.useCallback(Nx(...t),t)}function Na(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:h,children:_,...x}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,w=v.useMemo(()=>x,Object.values(x));return u.jsx(g.Provider,{value:w,children:_})};c.displayName=i+"Provider";function d(f,h){var g;const _=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,x=v.useContext(_);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,jI(s,...e)]}function jI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function aa(t){const e=UI(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(HI);if(l){const c=l.props.children,d=a.map(f=>f===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var FI=aa("Slot");function UI(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=zI(s),a=WI(i,s.props);return s.type!==v.Fragment&&(a.ref=r?Nx(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kx=Symbol("radix.slottable");function $I(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=kx,e}function HI(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kx}function WI(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function zI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Px(t){const e=t+"CollectionProvider",[n,r]=Na(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,m=er.useRef(null),p=er.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:p,collectionRef:m,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=aa(a),c=er.forwardRef((g,w)=>{const{scope:y,children:m}=g,p=i(a,y),E=Pe(w,p.collectionRef);return u.jsx(l,{ref:E,children:m})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=aa(d),_=er.forwardRef((g,w)=>{const{scope:y,children:m,...p}=g,E=er.useRef(null),C=Pe(w,E),b=i(d,y);return er.useEffect(()=>(b.itemMap.set(E,{ref:E,...p}),()=>void b.itemMap.delete(E))),u.jsx(h,{[f]:"",ref:C,children:m})});_.displayName=d;function x(g){const w=i(t+"CollectionConsumer",g);return er.useCallback(()=>{const m=w.collectionRef.current;if(!m)return[];const p=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((b,S)=>p.indexOf(b.ref.current)-p.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:_},x,r]}var BI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fe=BI.reduce((t,e)=>{const n=aa(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Rx(t,e){t&&Ss.flushSync(()=>t.dispatchEvent(e))}function Pt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function VI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var GI="DismissableLayer",Of="dismissableLayer.update",KI="dismissableLayer.pointerDownOutside",qI="dismissableLayer.focusOutside",ry,Ax=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(Ax),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=v.useState({}),x=Pe(e,S=>f(S)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),m=d?g.indexOf(d):-1,p=c.layersWithOutsidePointerEventsDisabled.size>0,E=m>=y,C=YI(S=>{const T=S.target,k=[...c.branches].some(P=>P.contains(T));!E||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),b=XI(S=>{const T=S.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return VI(S=>{m===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ry=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),sy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ry)}},[d,h,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),sy())},[d,c]),v.useEffect(()=>{const S=()=>_({});return document.addEventListener(Of,S),()=>document.removeEventListener(Of,S)},[]),u.jsx(fe.div,{...l,ref:x,style:{pointerEvents:p?E?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,b.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,C.onPointerDownCapture)})});lu.displayName=GI;var QI="DismissableLayerBranch",Ox=v.forwardRef((t,e)=>{const n=v.useContext(Ax),r=v.useRef(null),s=Pe(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(fe.div,{...t,ref:s})});Ox.displayName=QI;function YI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Mx(KI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function XI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&Mx(qI,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sy(){const t=new CustomEvent(Of);document.dispatchEvent(t)}function Mx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Rx(s,i):s.dispatchEvent(i)}var JI=lu,ZI=Ox,nt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},eN="Portal",_p=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?NT.createPortal(u.jsx(fe.div,{...r,ref:e}),o):null});_p.displayName=eN;function tN(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var wp=t=>{const{present:e,children:n}=t,r=nN(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Pe(r.ref,rN(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};wp.displayName="Presence";function nN(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=ll(r.current);i.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,_=ll(c);t?l("MOUNT"):_==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),nt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=_=>{const g=ll(r.current).includes(_.animationName);if(_.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=_=>{_.target===e&&(i.current=ll(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ll(t){return(t==null?void 0:t.animationName)||"none"}function rN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mf({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=sN({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Pt(n),l=v.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function sN({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Pt(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var iN="VisuallyHidden",ka=v.forwardRef((t,e)=>u.jsx(fe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ka.displayName=iN;var oN=ka,xp="ToastProvider",[Ep,aN,lN]=Px("Toast"),[Dx,cF]=Na("Toast",[lN]),[cN,cu]=Dx(xp),Lx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xp}\`. Expected non-empty \`string\`.`),u.jsx(Ep.Provider,{scope:e,children:u.jsx(cN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(_=>_+1),[]),onToastRemove:v.useCallback(()=>d(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Lx.displayName=xp;var jx="ToastViewport",uN=["F8"],Df="toast.viewportPause",Lf="toast.viewportResume",Fx=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=uN,label:s="Notifications ({hotkey})",...i}=t,o=cu(jx,n),a=aN(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Pe(e,f,o.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const w=y=>{var p;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((p=f.current)==null||p.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),v.useEffect(()=>{const w=l.current,y=f.current;if(x&&w&&y){const m=()=>{if(!o.isClosePausedRef.current){const b=new CustomEvent(Df);y.dispatchEvent(b),o.isClosePausedRef.current=!0}},p=()=>{if(o.isClosePausedRef.current){const b=new CustomEvent(Lf);y.dispatchEvent(b),o.isClosePausedRef.current=!1}},E=b=>{!w.contains(b.relatedTarget)&&p()},C=()=>{w.contains(document.activeElement)||p()};return w.addEventListener("focusin",m),w.addEventListener("focusout",E),w.addEventListener("pointermove",m),w.addEventListener("pointerleave",C),window.addEventListener("blur",m),window.addEventListener("focus",p),()=>{w.removeEventListener("focusin",m),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",m),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",m),window.removeEventListener("focus",p)}}},[x,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:w})=>{const m=a().map(p=>{const E=p.ref.current,C=[E,...CN(E)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?m.reverse():m).flat()},[a]);return v.useEffect(()=>{const w=f.current;if(w){const y=m=>{var C,b,S;const p=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!p){const T=document.activeElement,k=m.shiftKey;if(m.target===w&&k){(C=c.current)==null||C.focus();return}const L=g({tabbingDirection:k?"backwards":"forwards"}),H=L.findIndex(M=>M===T);pd(L.slice(H+1))?m.preventDefault():k?(b=c.current)==null||b.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,g]),u.jsxs(ZI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(jf,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});pd(w)}}),u.jsx(Ep.Slot,{scope:n,children:u.jsx(fe.ol,{tabIndex:-1,...i,ref:h})}),x&&u.jsx(jf,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});pd(w)}})]})});Fx.displayName=jx;var Ux="ToastFocusProxy",jf=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=cu(Ux,n);return u.jsx(ka,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});jf.displayName=Ux;var uu="Toast",dN="toast.swipeStart",fN="toast.swipeMove",hN="toast.swipeCancel",pN="toast.swipeEnd",$x=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Mf({prop:r,defaultProp:s,onChange:i});return u.jsx(wp,{present:n||a,children:u.jsx(yN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Pt(t.onPause),onResume:Pt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});$x.displayName=uu;var[mN,gN]=Dx(uu,{onClose(){}}),yN=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:_,...x}=t,g=cu(uu,n),[w,y]=v.useState(null),m=Pe(e,M=>y(M)),p=v.useRef(null),E=v.useRef(null),C=s||g.duration,b=v.useRef(0),S=v.useRef(C),T=v.useRef(0),{onToastAdd:k,onToastRemove:P}=g,j=Pt(()=>{var G;(w==null?void 0:w.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),o()}),L=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),b.current=new Date().getTime(),T.current=window.setTimeout(j,M))},[j]);v.useEffect(()=>{const M=g.viewport;if(M){const G=()=>{L(S.current),c==null||c()},$=()=>{const D=new Date().getTime()-b.current;S.current=S.current-D,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(Df,$),M.addEventListener(Lf,G),()=>{M.removeEventListener(Df,$),M.removeEventListener(Lf,G)}}},[g.viewport,C,l,c,L]),v.useEffect(()=>{i&&!g.isClosePausedRef.current&&L(C)},[i,C,g.isClosePausedRef,L]),v.useEffect(()=>(k(),()=>P()),[k,P]);const H=v.useMemo(()=>w?Kx(w):null,[w]);return g.viewport?u.jsxs(u.Fragment,{children:[H&&u.jsx(vN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),u.jsx(mN,{scope:n,onClose:j,children:Ss.createPortal(u.jsx(Ep.ItemSlot,{scope:n,children:u.jsx(JI,{asChild:!0,onEscapeKeyDown:Z(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Z(t.onPointerDown,M=>{M.button===0&&(p.current={x:M.clientX,y:M.clientY})}),onPointerMove:Z(t.onPointerMove,M=>{if(!p.current)return;const G=M.clientX-p.current.x,$=M.clientY-p.current.y,D=!!E.current,I=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=I?A(0,G):0,W=I?0:A(0,$),re=M.pointerType==="touch"?10:2,Le={x:F,y:W},Oe={originalEvent:M,delta:Le};D?(E.current=Le,cl(fN,f,Oe,{discrete:!1})):iy(Le,g.swipeDirection,re)?(E.current=Le,cl(dN,d,Oe,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(G)>re||Math.abs($)>re)&&(p.current=null)}),onPointerUp:Z(t.onPointerUp,M=>{const G=E.current,$=M.target;if($.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),E.current=null,p.current=null,G){const D=M.currentTarget,I={originalEvent:M,delta:G};iy(G,g.swipeDirection,g.swipeThreshold)?cl(pN,_,I,{discrete:!0}):cl(hN,h,I,{discrete:!0}),D.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),vN=t=>{const{__scopeToast:e,children:n,...r}=t,s=cu(uu,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return xN(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(_p,{asChild:!0,children:u.jsx(ka,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},_N="ToastTitle",Hx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(fe.div,{...r,ref:e})});Hx.displayName=_N;var wN="ToastDescription",Wx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(fe.div,{...r,ref:e})});Wx.displayName=wN;var zx="ToastAction",Bx=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Gx,{altText:n,asChild:!0,children:u.jsx(Cp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zx}\`. Expected non-empty \`string\`.`),null)});Bx.displayName=zx;var Vx="ToastClose",Cp=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=gN(Vx,n);return u.jsx(Gx,{asChild:!0,children:u.jsx(fe.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});Cp.displayName=Vx;var Gx=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Kx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),EN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Kx(r))}}),e}function cl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Rx(s,i):s.dispatchEvent(i)}var iy=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function xN(t=()=>{}){const e=Pt(t);nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function EN(t){return t.nodeType===t.ELEMENT_NODE}function CN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pd(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SN=Lx,qx=Fx,Qx=$x,Yx=Hx,Xx=Wx,Jx=Bx,Zx=Cp;function e0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=e0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function t0(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=e0(t))&&(r&&(r+=" "),r+=e);return r}const oy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ay=t0,Sp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ay(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const h=oy(d)||oy(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,..._}=d;return Object.entries(_).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,f,h]:c},[]);return ay(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n0=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...TN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:n0("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(IN,{ref:i,iconNode:e,className:n0(`lucide-${bN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ze("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ze("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bp="-",BN=t=>{const e=GN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(bp);return a[0]===""&&a.length!==1&&a.shift(),i0(a,e)||VN(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},i0=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?i0(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bp);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ly=/^\[(.+)\]$/,VN=t=>{if(ly.test(t)){const e=ly.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},GN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qN(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ff(o,r,i,e)}),r},Ff=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:cy(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(KN(s)){Ff(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ff(o,cy(e,i),n,r)})})},cy=(t,e)=>{let n=t;return e.split(bp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KN=t=>t.isThemeGetter,qN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,QN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},o0="!",YN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(y==="/"){f=w;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(d),_=h.startsWith(o0),x=_?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},XN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JN=t=>({cache:QN(t.cacheSize),parseClassName:YN(t),...BN(t)}),ZN=/\s+/,ek=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(ZN);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:_}=n(c);let x=!!_,g=r(x?h.substring(0,_):h);if(!g){if(!x){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}x=!1}const w=XN(d).join(":"),y=f?w+o0:w,m=y+g;if(i.includes(m))continue;i.push(m);const p=s(g,x);for(let E=0;E<p.length;++E){const C=p[E];i.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function tk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=a0(e))&&(r&&(r+=" "),r+=n);return r}const a0=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=a0(t[r]))&&(n&&(n+=" "),n+=e);return n};function nk(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=JN(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=ek(l,n);return s(l,d),d}return function(){return i(tk.apply(null,arguments))}}const ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},l0=/^\[(?:([a-z-]+):)?(.+)\]$/i,rk=/^\d+\/\d+$/,sk=new Set(["px","full","screen"]),ik=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ok=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ak=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ck=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bn=t=>ti(t)||sk.has(t)||rk.test(t),Yn=t=>Wi(t,"length",yk),ti=t=>!!t&&!Number.isNaN(Number(t)),md=t=>Wi(t,"number",ti),fo=t=>!!t&&Number.isInteger(Number(t)),uk=t=>t.endsWith("%")&&ti(t.slice(0,-1)),K=t=>l0.test(t),Xn=t=>ik.test(t),dk=new Set(["length","size","percentage"]),fk=t=>Wi(t,dk,c0),hk=t=>Wi(t,"position",c0),pk=new Set(["image","url"]),mk=t=>Wi(t,pk,_k),gk=t=>Wi(t,"",vk),ho=()=>!0,Wi=(t,e,n)=>{const r=l0.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yk=t=>ok.test(t)&&!ak.test(t),c0=()=>!1,vk=t=>lk.test(t),_k=t=>ck.test(t),wk=()=>{const t=ve("colors"),e=ve("spacing"),n=ve("blur"),r=ve("brightness"),s=ve("borderColor"),i=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),l=ve("contrast"),c=ve("grayscale"),d=ve("hueRotate"),f=ve("invert"),h=ve("gap"),_=ve("gradientColorStops"),x=ve("gradientColorStopPositions"),g=ve("inset"),w=ve("margin"),y=ve("opacity"),m=ve("padding"),p=ve("saturate"),E=ve("scale"),C=ve("sepia"),b=ve("skew"),S=ve("space"),T=ve("translate"),k=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",K,e],L=()=>[K,e],H=()=>["",bn,Yn],M=()=>["auto",ti,K],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",K],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ti,K];return{cacheSize:500,separator:":",theme:{colors:[ho],spacing:[bn,Yn],blur:["none","",Xn,K],brightness:W(),borderColor:[t],borderRadius:["none","","full",Xn,K],borderSpacing:L(),borderWidth:H(),contrast:W(),grayscale:A(),hueRotate:W(),invert:A(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[uk,Yn],inset:j(),margin:j(),opacity:W(),padding:L(),saturate:W(),scale:W(),sepia:A(),skew:W(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Xn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),K]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,K]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",fo,K]}],"grid-cols":[{"grid-cols":[ho]}],"col-start-end":[{col:["auto",{span:["full",fo,K]},K]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ho]}],"row-start-end":[{row:["auto",{span:[fo,K]},K]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[Xn]},Xn]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xn,Yn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",md]}],"font-family":[{font:[ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",ti,md]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bn,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bn,Yn]}],"underline-offset":[{"underline-offset":["auto",bn,K]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),hk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[bn,K]}],"outline-w":[{outline:[bn,Yn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[bn,Yn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xn,gk]}],"shadow-color":[{shadow:[ho]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xn,K]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[p]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[fo,K]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bn,Yn,md]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xk=nk(wk);function xe(...t){return xk(t0(t))}const Ek=SN,u0=v.forwardRef(({className:t,...e},n)=>u.jsx(qx,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));u0.displayName=qx.displayName;const Ck=Sp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d0=v.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Qx,{ref:r,className:xe(Ck({variant:e}),t),...n}));d0.displayName=Qx.displayName;const Sk=v.forwardRef(({className:t,...e},n)=>u.jsx(Jx,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sk.displayName=Jx.displayName;const f0=v.forwardRef(({className:t,...e},n)=>u.jsx(Zx,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(zN,{className:"h-4 w-4"})}));f0.displayName=Zx.displayName;const h0=v.forwardRef(({className:t,...e},n)=>u.jsx(Yx,{ref:n,className:xe("text-sm font-semibold",t),...e}));h0.displayName=Yx.displayName;const p0=v.forwardRef(({className:t,...e},n)=>u.jsx(Xx,{ref:n,className:xe("text-sm opacity-90",t),...e}));p0.displayName=Xx.displayName;function bk(){const{toasts:t}=Ia();return u.jsxs(Ek,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(d0,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(h0,{children:n}),r&&u.jsx(p0,{children:r})]}),s,u.jsx(f0,{})]},e)}),u.jsx(u0,{})]})}var Tk=a_[" useId ".trim().toString()]||(()=>{}),Ik=0;function Tp(t){const[e,n]=v.useState(Tk());return nt(()=>{n(r=>r??String(Ik++))},[t]),e?`radix-${e}`:""}const Nk=["top","right","bottom","left"],Mr=Math.min,bt=Math.max,mc=Math.round,ul=Math.floor,_n=t=>({x:t,y:t}),kk={left:"right",right:"left",bottom:"top",top:"bottom"},Pk={start:"end",end:"start"};function Uf(t,e,n){return bt(t,Mr(e,n))}function Hn(t,e){return typeof t=="function"?t(e):t}function Wn(t){return t.split("-")[0]}function zi(t){return t.split("-")[1]}function Ip(t){return t==="x"?"y":"x"}function Np(t){return t==="y"?"height":"width"}function Dr(t){return["top","bottom"].includes(Wn(t))?"y":"x"}function kp(t){return Ip(Dr(t))}function Rk(t,e,n){n===void 0&&(n=!1);const r=zi(t),s=kp(t),i=Np(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=gc(o)),[o,gc(o)]}function Ak(t){const e=gc(t);return[$f(t),e,$f(e)]}function $f(t){return t.replace(/start|end/g,e=>Pk[e])}function Ok(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Mk(t,e,n,r){const s=zi(t);let i=Ok(Wn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($f)))),i}function gc(t){return t.replace(/left|right|bottom|top/g,e=>kk[e])}function Dk(t){return{top:0,right:0,bottom:0,left:0,...t}}function m0(t){return typeof t!="number"?Dk(t):{top:t,right:t,bottom:t,left:t}}function yc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function uy(t,e,n){let{reference:r,floating:s}=t;const i=Dr(e),o=kp(e),a=Np(o),l=Wn(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let _;switch(l){case"top":_={x:d,y:r.y-s.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:f};break;case"left":_={x:r.x-s.width,y:f};break;default:_={x:r.x,y:r.y}}switch(zi(e)){case"start":_[o]-=h*(n&&c?-1:1);break;case"end":_[o]+=h*(n&&c?-1:1);break}return _}const Lk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=uy(c,r,l),h=r,_={},x=0;for(let g=0;g<a.length;g++){const{name:w,fn:y}=a[g],{x:m,y:p,data:E,reset:C}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:_,rects:c,platform:o,elements:{reference:t,floating:e}});d=m??d,f=p??f,_={..._,[w]:{..._[w],...E}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:f}=uy(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:_}};async function la(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:_=0}=Hn(e,t),x=m0(_),w=a[h?f==="floating"?"reference":"floating":f],y=yc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),m=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,p=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(p))?await(i.getScale==null?void 0:i.getScale(p))||{x:1,y:1}:{x:1,y:1},C=yc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:p,strategy:l}):m);return{top:(y.top-C.top+x.top)/E.y,bottom:(C.bottom-y.bottom+x.bottom)/E.y,left:(y.left-C.left+x.left)/E.x,right:(C.right-y.right+x.right)/E.x}}const jk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Hn(t,e)||{};if(c==null)return{};const f=m0(d),h={x:n,y:r},_=kp(s),x=Np(_),g=await o.getDimensions(c),w=_==="y",y=w?"top":"left",m=w?"bottom":"right",p=w?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[_]-h[_]-i.floating[x],C=h[_]-i.reference[_],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=b?b[p]:0;(!S||!await(o.isElement==null?void 0:o.isElement(b)))&&(S=a.floating[p]||i.floating[x]);const T=E/2-C/2,k=S/2-g[x]/2-1,P=Mr(f[y],k),j=Mr(f[m],k),L=P,H=S-g[x]-j,M=S/2-g[x]/2+T,G=Uf(L,M,H),$=!l.arrow&&zi(s)!=null&&M!==G&&i.reference[x]/2-(M<L?P:j)-g[x]/2<0,D=$?M<L?M-L:M-H:0;return{[_]:h[_]+D,data:{[_]:G,centerOffset:M-G-D,...$&&{alignmentOffset:D}},reset:$}}}),Fk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Hn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Wn(s),m=Dr(a),p=Wn(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(p||!g?[gc(a)]:Ak(a)),b=x!=="none";!h&&b&&C.push(...Mk(a,g,x,E));const S=[a,...C],T=await la(e,w),k=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(T[y]),f){const M=Rk(s,o,E);k.push(T[M[0]],T[M[1]])}if(P=[...P,{placement:s,overflows:k}],!k.every(M=>M<=0)){var j,L;const M=(((j=i.flip)==null?void 0:j.index)||0)+1,G=S[M];if(G)return{data:{index:M,overflows:P},reset:{placement:G}};let $=(L=P.filter(D=>D.overflows[0]<=0).sort((D,I)=>D.overflows[1]-I.overflows[1])[0])==null?void 0:L.placement;if(!$)switch(_){case"bestFit":{var H;const D=(H=P.filter(I=>{if(b){const A=Dr(I.placement);return A===m||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,F)=>A+F,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:H[0];D&&($=D);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function dy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fy(t){return Nk.some(e=>t[e]>=0)}const Uk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Hn(t,e);switch(r){case"referenceHidden":{const i=await la(e,{...s,elementContext:"reference"}),o=dy(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fy(o)}}}case"escaped":{const i=await la(e,{...s,altBoundary:!0}),o=dy(i,n.floating);return{data:{escapedOffsets:o,escaped:fy(o)}}}default:return{}}}}};async function $k(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wn(n),a=zi(n),l=Dr(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Hn(e,t);let{mainAxis:h,crossAxis:_,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(_=a==="end"?x*-1:x),l?{x:_*d,y:h*c}:{x:h*c,y:_*d}}const Hk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await $k(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Wk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:m}=w;return{x:y,y:m}}},...l}=Hn(t,e),c={x:n,y:r},d=await la(e,l),f=Dr(Wn(s)),h=Ip(f);let _=c[h],x=c[f];if(i){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=_+d[w],p=_-d[y];_=Uf(m,_,p)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=x+d[w],p=x-d[y];x=Uf(m,x,p)}const g=a.fn({...e,[h]:_,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},zk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hn(t,e),d={x:n,y:r},f=Dr(s),h=Ip(f);let _=d[h],x=d[f];const g=Hn(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const p=h==="y"?"height":"width",E=i.reference[h]-i.floating[p]+w.mainAxis,C=i.reference[h]+i.reference[p]-w.mainAxis;_<E?_=E:_>C&&(_=C)}if(c){var y,m;const p=h==="y"?"width":"height",E=["top","left"].includes(Wn(s)),C=i.reference[f]-i.floating[p]+(E&&((y=o.offset)==null?void 0:y[f])||0)+(E?0:w.crossAxis),b=i.reference[f]+i.reference[p]+(E?0:((m=o.offset)==null?void 0:m[f])||0)-(E?w.crossAxis:0);x<C?x=C:x>b&&(x=b)}return{[h]:_,[f]:x}}}},Bk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Hn(t,e),d=await la(e,c),f=Wn(s),h=zi(s),_=Dr(s)==="y",{width:x,height:g}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=h==="end"?"top":"bottom");const m=g-d.top-d.bottom,p=x-d.left-d.right,E=Mr(g-d[w],m),C=Mr(x-d[y],p),b=!e.middlewareData.shift;let S=E,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=p),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=m),b&&!h){const P=bt(d.left,0),j=bt(d.right,0),L=bt(d.top,0),H=bt(d.bottom,0);_?T=x-2*(P!==0||j!==0?P+j:bt(d.left,d.right)):S=g-2*(L!==0||H!==0?L+H:bt(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:S});const k=await o.getDimensions(a.floating);return x!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function du(){return typeof window<"u"}function Bi(t){return g0(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(g0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g0(t){return du()?t instanceof Node||t instanceof Nt(t).Node:!1}function nn(t){return du()?t instanceof Element||t instanceof Nt(t).Element:!1}function En(t){return du()?t instanceof HTMLElement||t instanceof Nt(t).HTMLElement:!1}function hy(t){return!du()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}function Pa(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Vk(t){return["table","td","th"].includes(Bi(t))}function fu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Pp(t){const e=Rp(),n=nn(t)?rn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Gk(t){let e=Lr(t);for(;En(e)&&!Ii(e);){if(Pp(e))return e;if(fu(e))return null;e=Lr(e)}return null}function Rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ii(t){return["html","body","#document"].includes(Bi(t))}function rn(t){return Nt(t).getComputedStyle(t)}function hu(t){return nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lr(t){if(Bi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hy(t)&&t.host||Cn(t);return hy(e)?e.host:e}function y0(t){const e=Lr(t);return Ii(e)?t.ownerDocument?t.ownerDocument.body:t.body:En(e)&&Pa(e)?e:y0(e)}function ca(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=y0(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Nt(s);if(i){const a=Hf(o);return e.concat(o,o.visualViewport||[],Pa(s)?s:[],a&&n?ca(a):[])}return e.concat(s,ca(s,[],n))}function Hf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function v0(t){const e=rn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=En(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=mc(n)!==i||mc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ap(t){return nn(t)?t:t.contextElement}function ni(t){const e=Ap(t);if(!En(e))return _n(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=v0(e);let o=(i?mc(n.width):n.width)/r,a=(i?mc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Kk=_n(0);function _0(t){const e=Nt(t);return!Rp()||!e.visualViewport?Kk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function fs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ap(t);let o=_n(1);e&&(r?nn(r)&&(o=ni(r)):o=ni(t));const a=qk(i,n,r)?_0(i):_n(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Nt(i),_=r&&nn(r)?Nt(r):r;let x=h,g=Hf(x);for(;g&&r&&_!==x;){const w=ni(g),y=g.getBoundingClientRect(),m=rn(g),p=y.left+(g.clientLeft+parseFloat(m.paddingLeft))*w.x,E=y.top+(g.clientTop+parseFloat(m.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=p,c+=E,x=Nt(g),g=Hf(x)}}return yc({width:d,height:f,x:l,y:c})}function Op(t,e){const n=hu(t).scrollLeft;return e?e.left+n:fs(Cn(t)).left+n}function w0(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Op(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Qk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Cn(r),a=e?fu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=_n(1);const d=_n(0),f=En(r);if((f||!f&&!i)&&((Bi(r)!=="body"||Pa(o))&&(l=hu(r)),En(r))){const _=fs(r);c=ni(r),d.x=_.x+r.clientLeft,d.y=_.y+r.clientTop}const h=o&&!f&&!i?w0(o,l,!0):_n(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Yk(t){return Array.from(t.getClientRects())}function Xk(t){const e=Cn(t),n=hu(t),r=t.ownerDocument.body,s=bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Op(t);const a=-n.scrollTop;return rn(r).direction==="rtl"&&(o+=bt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Jk(t,e){const n=Nt(t),r=Cn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Rp();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function Zk(t,e){const n=fs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=En(t)?ni(t):_n(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function py(t,e,n){let r;if(e==="viewport")r=Jk(t,n);else if(e==="document")r=Xk(Cn(t));else if(nn(e))r=Zk(e,n);else{const s=_0(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return yc(r)}function x0(t,e){const n=Lr(t);return n===e||!nn(n)||Ii(n)?!1:rn(n).position==="fixed"||x0(n,e)}function eP(t,e){const n=e.get(t);if(n)return n;let r=ca(t,[],!1).filter(a=>nn(a)&&Bi(a)!=="body"),s=null;const i=rn(t).position==="fixed";let o=i?Lr(t):t;for(;nn(o)&&!Ii(o);){const a=rn(o),l=Pp(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Pa(o)&&!l&&x0(t,o))?r=r.filter(d=>d!==o):s=a,o=Lr(o)}return e.set(t,r),r}function tP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?fu(e)?[]:eP(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=py(e,d,s);return c.top=bt(f.top,c.top),c.right=Mr(f.right,c.right),c.bottom=Mr(f.bottom,c.bottom),c.left=bt(f.left,c.left),c},py(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nP(t){const{width:e,height:n}=v0(t);return{width:e,height:n}}function rP(t,e,n){const r=En(e),s=Cn(e),i=n==="fixed",o=fs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=_n(0);if(r||!r&&!i)if((Bi(e)!=="body"||Pa(s))&&(a=hu(e)),r){const h=fs(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=Op(s));const c=s&&!r&&!i?w0(s,a):_n(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function gd(t){return rn(t).position==="static"}function my(t,e){if(!En(t)||rn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cn(t)===n&&(n=n.ownerDocument.body),n}function E0(t,e){const n=Nt(t);if(fu(t))return n;if(!En(t)){let s=Lr(t);for(;s&&!Ii(s);){if(nn(s)&&!gd(s))return s;s=Lr(s)}return n}let r=my(t,e);for(;r&&Vk(r)&&gd(r);)r=my(r,e);return r&&Ii(r)&&gd(r)&&!Pp(r)?n:r||Gk(t)||n}const sP=async function(t){const e=this.getOffsetParent||E0,n=this.getDimensions,r=await n(t.floating);return{reference:rP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iP(t){return rn(t).direction==="rtl"}const oP={convertOffsetParentRelativeRectToViewportRelativeRect:Qk,getDocumentElement:Cn,getClippingRect:tP,getOffsetParent:E0,getElementRects:sP,getClientRects:Yk,getDimensions:nP,getScale:ni,isElement:nn,isRTL:iP};function C0(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aP(t,e){let n=null,r;const s=Cn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:_}=c;if(a||e(),!h||!_)return;const x=ul(f),g=ul(s.clientWidth-(d+h)),w=ul(s.clientHeight-(f+_)),y=ul(d),p={rootMargin:-x+"px "+-g+"px "+-w+"px "+-y+"px",threshold:bt(0,Mr(1,l))||1};let E=!0;function C(b){const S=b[0].intersectionRatio;if(S!==l){if(!E)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!C0(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...p,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,p)}n.observe(t)}return o(!0),i}function lP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ap(t),d=s||i?[...c?ca(c):[],...ca(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=c&&a?aP(c,n):null;let h=-1,_=null;o&&(_=new ResizeObserver(y=>{let[m]=y;m&&m.target===c&&_&&(_.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var p;(p=_)==null||p.observe(e)})),n()}),c&&!l&&_.observe(c),_.observe(e));let x,g=l?fs(t):null;l&&w();function w(){const y=fs(t);g&&!C0(g,y)&&n(),g=y,x=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(m=>{s&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),f==null||f(),(y=_)==null||y.disconnect(),_=null,l&&cancelAnimationFrame(x)}}const cP=Hk,uP=Wk,dP=Fk,fP=Bk,hP=Uk,gy=jk,pP=zk,mP=(t,e,n)=>{const r=new Map,s={platform:oP,...n},i={...s.platform,_c:r};return Lk(t,e,{...s,platform:i})};var Ll=typeof document<"u"?v.useLayoutEffect:v.useEffect;function vc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!vc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function S0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yy(t,e){const n=S0(t);return Math.round(e*n)/n}function yd(t){const e=v.useRef(t);return Ll(()=>{e.current=t}),e}function gP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,_]=v.useState(r);vc(h,r)||_(r);const[x,g]=v.useState(null),[w,y]=v.useState(null),m=v.useCallback(I=>{I!==b.current&&(b.current=I,g(I))},[]),p=v.useCallback(I=>{I!==S.current&&(S.current=I,y(I))},[]),E=i||x,C=o||w,b=v.useRef(null),S=v.useRef(null),T=v.useRef(d),k=l!=null,P=yd(l),j=yd(s),L=yd(c),H=v.useCallback(()=>{if(!b.current||!S.current)return;const I={placement:e,strategy:n,middleware:h};j.current&&(I.platform=j.current),mP(b.current,S.current,I).then(A=>{const F={...A,isPositioned:L.current!==!1};M.current&&!vc(T.current,F)&&(T.current=F,Ss.flushSync(()=>{f(F)}))})},[h,e,n,j,L]);Ll(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[c]);const M=v.useRef(!1);Ll(()=>(M.current=!0,()=>{M.current=!1}),[]),Ll(()=>{if(E&&(b.current=E),C&&(S.current=C),E&&C){if(P.current)return P.current(E,C,H);H()}},[E,C,H,P,k]);const G=v.useMemo(()=>({reference:b,floating:S,setReference:m,setFloating:p}),[m,p]),$=v.useMemo(()=>({reference:E,floating:C}),[E,C]),D=v.useMemo(()=>{const I={position:n,left:0,top:0};if(!$.floating)return I;const A=yy($.floating,d.x),F=yy($.floating,d.y);return a?{...I,transform:"translate("+A+"px, "+F+"px)",...S0($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:F}},[n,a,$.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:H,refs:G,elements:$,floatingStyles:D}),[d,H,G,$,D])}const yP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gy({element:r.current,padding:s}).fn(n):{}:r?gy({element:r,padding:s}).fn(n):{}}}},vP=(t,e)=>({...cP(t),options:[t,e]}),_P=(t,e)=>({...uP(t),options:[t,e]}),wP=(t,e)=>({...pP(t),options:[t,e]}),xP=(t,e)=>({...dP(t),options:[t,e]}),EP=(t,e)=>({...fP(t),options:[t,e]}),CP=(t,e)=>({...hP(t),options:[t,e]}),SP=(t,e)=>({...yP(t),options:[t,e]});var bP="Arrow",b0=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(fe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});b0.displayName=bP;var TP=b0;function IP(t){const[e,n]=v.useState(void 0);return nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mp="Popper",[T0,pu]=Na(Mp),[NP,I0]=T0(Mp),N0=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return u.jsx(NP,{scope:e,anchor:r,onAnchorChange:s,children:n})};N0.displayName=Mp;var k0="PopperAnchor",P0=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=I0(k0,n),o=v.useRef(null),a=Pe(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(fe.div,{...s,ref:a})});P0.displayName=k0;var Dp="PopperContent",[kP,PP]=T0(Dp),R0=v.forwardRef((t,e)=>{var z,ye,Qe,he,le,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:_="optimized",onPlaced:x,...g}=t,w=I0(Dp,n),[y,m]=v.useState(null),p=Pe(e,wt=>m(wt)),[E,C]=v.useState(null),b=IP(E),S=(b==null?void 0:b.width)??0,T=(b==null?void 0:b.height)??0,k=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(c)?c:[c],L=j.length>0,H={padding:P,boundary:j.filter(AP),altBoundary:L},{refs:M,floatingStyles:G,placement:$,isPositioned:D,middlewareData:I}=gP({strategy:"fixed",placement:k,whileElementsMounted:(...wt)=>lP(...wt,{animationFrame:_==="always"}),elements:{reference:w.anchor},middleware:[vP({mainAxis:s+T,alignmentAxis:o}),l&&_P({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wP():void 0,...H}),l&&xP({...H}),EP({...H,apply:({elements:wt,rects:ln,availableWidth:eo,availableHeight:to})=>{const{width:no,height:t1}=ln.reference,Wa=wt.floating.style;Wa.setProperty("--radix-popper-available-width",`${eo}px`),Wa.setProperty("--radix-popper-available-height",`${to}px`),Wa.setProperty("--radix-popper-anchor-width",`${no}px`),Wa.setProperty("--radix-popper-anchor-height",`${t1}px`)}}),E&&SP({element:E,padding:a}),OP({arrowWidth:S,arrowHeight:T}),h&&CP({strategy:"referenceHidden",...H})]}),[A,F]=M0($),W=Pt(x);nt(()=>{D&&(W==null||W())},[D,W]);const re=(z=I.arrow)==null?void 0:z.x,Le=(ye=I.arrow)==null?void 0:ye.y,Oe=((Qe=I.arrow)==null?void 0:Qe.centerOffset)!==0,[an,rt]=v.useState();return nt(()=>{y&&rt(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:D?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:an,"--radix-popper-transform-origin":[(he=I.transformOrigin)==null?void 0:he.x,(le=I.transformOrigin)==null?void 0:le.y].join(" "),...((ce=I.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(kP,{scope:n,placedSide:A,onArrowChange:C,arrowX:re,arrowY:Le,shouldHideArrow:Oe,children:u.jsx(fe.div,{"data-side":A,"data-align":F,...g,ref:p,style:{...g.style,animation:D?void 0:"none"}})})})});R0.displayName=Dp;var A0="PopperArrow",RP={top:"bottom",right:"left",bottom:"top",left:"right"},O0=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=PP(A0,r),o=RP[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(TP,{...s,ref:n,style:{...s.style,display:"block"}})})});O0.displayName=A0;function AP(t){return t!==null}var OP=t=>({name:"transformOrigin",options:t,fn(e){var w,y,m;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=M0(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,_=(((m=s.arrow)==null?void 0:m.y)??0)+l/2;let x="",g="";return c==="bottom"?(x=o?f:`${h}px`,g=`${-l}px`):c==="top"?(x=o?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,g=o?f:`${_}px`):c==="left"&&(x=`${r.floating.width+l}px`,g=o?f:`${_}px`),{data:{x,y:g}}}});function M0(t){const[e,n="center"]=t.split("-");return[e,n]}var MP=N0,D0=P0,L0=R0,j0=O0,[mu,uF]=Na("Tooltip",[pu]),Lp=pu(),F0="TooltipProvider",DP=700,vy="tooltip.open",[LP,U0]=mu(F0),$0=t=>{const{__scopeTooltip:e,delayDuration:n=DP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(LP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};$0.displayName=F0;var H0="Tooltip",[dF,gu]=mu(H0),Wf="TooltipTrigger",jP=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gu(Wf,n),i=U0(Wf,n),o=Lp(n),a=v.useRef(null),l=Pe(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(D0,{asChild:!0,...o,children:u.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});jP.displayName=Wf;var FP="TooltipPortal",[fF,UP]=mu(FP,{forceMount:void 0}),Ni="TooltipContent",W0=v.forwardRef((t,e)=>{const n=UP(Ni,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=gu(Ni,t.__scopeTooltip);return u.jsx(wp,{present:r||o.open,children:o.disableHoverableContent?u.jsx(z0,{side:s,...i,ref:e}):u.jsx($P,{side:s,...i,ref:e})})}),$P=v.forwardRef((t,e)=>{const n=gu(Ni,t.__scopeTooltip),r=U0(Ni,t.__scopeTooltip),s=v.useRef(null),i=Pe(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),_=v.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},m=VP(y,w.getBoundingClientRect()),p=GP(y,m),E=KP(g.getBoundingClientRect()),C=QP([...p,...E]);a(C),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const x=w=>_(w,d),g=w=>_(w,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,_,h]),v.useEffect(()=>{if(o){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},m=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),p=!qP(y,o);m?h():p&&(h(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,c,h]),u.jsx(z0,{...t,ref:i})}),[HP,WP]=mu(H0,{isInside:!1}),zP=$I("TooltipContent"),z0=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=gu(Ni,n),c=Lp(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(vy,d),()=>document.removeEventListener(vy,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const _=h.target;_!=null&&_.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(L0,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(zP,{children:r}),u.jsx(HP,{scope:n,isInside:!0,children:u.jsx(oN,{id:l.contentId,role:"tooltip",children:s||r})})]})})});W0.displayName=Ni;var B0="TooltipArrow",BP=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lp(n);return WP(B0,n).isInside?null:u.jsx(j0,{...s,...r,ref:e})});BP.displayName=B0;function VP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function GP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function KP(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function qP(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function QP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YP(e)}function YP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var XP=$0,V0=W0;const JP=XP,ZP=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(V0,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));ZP.displayName=V0.displayName;const eR=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Vi(e)},Vi=function(t){return new Error("Firebase Database ("+G0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,_=c&63;l||(_=64,o||(h=64)),r.push(n[d],n[f],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new nR;const h=i<<2|a>>4;if(r.push(h),c!==64){const _=a<<4&240|c>>2;if(r.push(_),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q0=function(t){const e=K0(t);return jp.encodeByteArray(e,!0)},_c=function(t){return q0(t).replace(/\./g,"")},wc=function(t){try{return jp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){return Q0(void 0,t)}function Q0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sR(n)||(t[n]=Q0(t[n],e[n]));return t}function sR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>iR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof _y>"u")return;const t=_y.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wc(t[1]);return e&&JSON.parse(e)},Fp=()=>{try{return eR()||oR()||aR()||lR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y0=t=>{var e,n;return(n=(e=Fp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cR=t=>{const e=Y0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},X0=()=>{var t;return(t=Fp())==null?void 0:t.config},J0=t=>{var e;return(e=Fp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_c(JSON.stringify(n)),_c(JSON.stringify(o)),""].join(".")}const Do={};function dR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?t.emulator.push(e):t.prod.push(e);return t}function fR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wy=!1;function eE(t,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||Do[t]===e||Do[t]||wy)return;Do[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=dR().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,_){h.setAttribute("width","24"),h.setAttribute("id",_),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{wy=!0,o()},h}function d(h,_){h.setAttribute("id",_),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=fR(r),_=n("text"),x=document.getElementById(_)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),m=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const p=h.element;a(p),d(w,g);const E=c();l(m,y),p.append(m,x,w,E),document.body.appendChild(p)}i?(x.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Up(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nE(){return G0.NODE_ADMIN===!0}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vR,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Aa.prototype.create)}}class Aa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_R(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,a,r)}}function _R(t,e){return t.replace(wR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ua(wc(i[0])||""),n=ua(wc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},xR=function(t){const e=rE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ER=function(t){const e=rE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ki(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xc(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xy(i)&&xy(o)){if(!hs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Co(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):f<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const h=(s<<5|s>>>27)+c+l+d+r[f]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function SR(t,e){const n=new bR(t,e);return n.subscribe.bind(n)}class bR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vd),s.error===void 0&&(s.error=vd),s.complete===void 0&&(s.complete=vd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vd(){}function yu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ra;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kR(t){return t===Qr?void 0:t}function PR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const AR={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},OR=ue.INFO,MR={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},DR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=MR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=DR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const LR=(t,e)=>e.some(n=>t instanceof n);let Ey,Cy;function jR(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,Bf=new WeakMap,iE=new WeakMap,_d=new WeakMap,Hp=new WeakMap;function UR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Nr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sE.set(n,t)}).catch(()=>{}),Hp.set(e,t),e}function $R(t){if(Bf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bf.set(t,e)}let Vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HR(t){Vf=t(Vf)}function WR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wd(this),e,...n);return iE.set(r,e.sort?e.sort():[e]),Nr(r)}:FR().includes(t)?function(...e){return t.apply(wd(this),e),Nr(sE.get(this))}:function(...e){return Nr(t.apply(wd(this),e))}}function zR(t){return typeof t=="function"?WR(t):(t instanceof IDBTransaction&&$R(t),LR(t,jR())?new Proxy(t,Vf):t)}function Nr(t){if(t instanceof IDBRequest)return UR(t);if(_d.has(t))return _d.get(t);const e=zR(t);return e!==t&&(_d.set(t,e),Hp.set(e,t)),e}const wd=t=>Hp.get(t);function BR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Nr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nr(o.result),l.oldVersion,l.newVersion,Nr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const VR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],xd=new Map;function Sy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VR.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return xd.set(e,i),i}HR(t=>({...t,get:(e,n,r)=>Sy(e,n)||t.get(e,n,r),has:(e,n)=>!!Sy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gf="@firebase/app",by="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new $p("@firebase/app"),QR="@firebase/app-compat",YR="@firebase/analytics-compat",XR="@firebase/analytics",JR="@firebase/app-check-compat",ZR="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/data-connect",sA="@firebase/database-compat",iA="@firebase/functions",oA="@firebase/functions-compat",aA="@firebase/installations",lA="@firebase/installations-compat",cA="@firebase/messaging",uA="@firebase/messaging-compat",dA="@firebase/performance",fA="@firebase/performance-compat",hA="@firebase/remote-config",pA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",vA="@firebase/ai",_A="@firebase/firestore-compat",wA="firebase",xA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",EA={[Gf]:"fire-core",[QR]:"fire-core-compat",[XR]:"fire-analytics",[YR]:"fire-analytics-compat",[ZR]:"fire-app-check",[JR]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-data-connect",[sA]:"fire-rtdb-compat",[iA]:"fire-fn",[oA]:"fire-fn-compat",[aA]:"fire-iid",[lA]:"fire-iid-compat",[cA]:"fire-fcm",[uA]:"fire-fcm-compat",[dA]:"fire-perf",[fA]:"fire-perf-compat",[hA]:"fire-rc",[pA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[_A]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,CA=new Map,qf=new Map;function Ty(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pi(t){const e=t.name;if(qf.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,t);for(const n of Ec.values())Ty(n,t);for(const n of CA.values())Ty(n,t);return!0}function Wp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Aa("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=xA;function oE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw kr.create("bad-app-name",{appName:String(s)});if(n||(n=X0()),!n)throw kr.create("no-options");const i=Ec.get(s);if(i){if(hs(n,i.options)&&hs(r,i.config))return i;throw kr.create("duplicate-app",{appName:s})}const o=new RR(s);for(const l of qf.values())o.addComponent(l);const a=new bA(n,r,o);return Ec.set(s,a),a}function aE(t=Kf){const e=Ec.get(t);if(!e&&t===Kf&&X0())return oE();if(!e)throw kr.create("no-app",{appName:t});return e}function Pr(t,e,n){let r=EA[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(o.join(" "));return}Pi(new ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",IA=1,da="firebase-heartbeat-store";let Ed=null;function lE(){return Ed||(Ed=BR(TA,IA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),Ed}async function NA(t){try{const n=(await lE()).transaction(da),r=await n.objectStore(da).get(cE(t));return await n.done,r}catch(e){if(e instanceof Wr)zn.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function Iy(t,e){try{const r=(await lE()).transaction(da,"readwrite");await r.objectStore(da).put(e,cE(t)),await r.done}catch(n){if(n instanceof Wr)zn.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function cE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1024,PA=30;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ny();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>PA){const o=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ny(),{heartbeatsToSend:r,unsentEntries:s}=AA(this._heartbeatsCache.heartbeats),i=_c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zn.warn(n),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function AA(t,e=kA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ky(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ky(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ky(t){return _c(JSON.stringify({version:2,heartbeats:t})).length}function MA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){Pi(new ps("platform-logger",e=>new KR(e),"PRIVATE")),Pi(new ps("heartbeat",e=>new RA(e),"PRIVATE")),Pr(Gf,by,t),Pr(Gf,by,"esm2020"),Pr("fire-js","")}DA("");var LA="firebase",jA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(LA,jA,"app");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FA=uE,dE=new Aa("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new $p("@firebase/auth");function UA(t,...e){Cc.logLevel<=ue.WARN&&Cc.warn(`Auth (${qi}): ${t}`,...e)}function jl(t,...e){Cc.logLevel<=ue.ERROR&&Cc.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,...e){throw zp(t,...e)}function wn(t,...e){return zp(t,...e)}function fE(t,e,n){const r={...FA(),[e]:n};return new Aa("auth","Firebase",r).create(e,{appName:t.name})}function Dn(t){return fE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dE.create(t,...e)}function B(t,e,...n){if(!t)throw zp(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jl(e),new Error(e)}function Bn(t,e){t||Rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function $A(){return Py()==="http:"||Py()==="https:"}function Py(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($A()||pR()||"connection"in navigator)?navigator.onLine:!0}function WA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bn(n>e,"Short delay should be less than long delay!"),this.isMobile=Up()||tE()}get(){return HA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VA=new Oa(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kn(t,e,n,r,s={}){return pE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ki({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return hR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(c.credentials="include"),hE.fetch()(await mE(t,t.config.apiHost,n,a),c)})}async function pE(t,e,n){t._canInitEmulator=!1;const r={...zA,...e};try{const s=new KA(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fE(t,d,c);sn(t,d)}}catch(s){if(s instanceof Wr)throw s;sn(t,"network-request-failed",{message:String(s)})}}async function Ma(t,e,n,r,s={}){const i=await Kn(t,e,n,r,s);return"mfaPendingCredential"in i&&sn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function mE(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Bp(t.config,s):`${t.config.apiScheme}://${s}`;return BA.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function GA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),VA.get())})}}function dl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wn(t,e,r);return s.customData._tokenResponse=n,s}function Ry(t){return t!==void 0&&t.enterprise!==void 0}class qA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QA(t,e){return Kn(t,"GET","/v2/recaptchaConfig",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e){return Kn(t,"POST","/v1/accounts:delete",e)}async function Sc(t,e){return Kn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=Vp(r);B(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Lo(Cd(s.auth_time)),issuedAtTime:Lo(Cd(s.iat)),expirationTime:Lo(Cd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cd(t){return Number(t)*1e3}function Vp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{const s=wc(n);return s?JSON.parse(s):(jl("Failed to decode base64 JWT payload"),null)}catch(s){return jl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ay(t){const e=Vp(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ri(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&JA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ri(t,Sc(e,{idToken:n}));B(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?gE(s.providerUserInfo):[],o=tO(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yf(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function eO(t){const e=ft(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e){const n=await pE(t,{},async()=>{const r=Ki({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await mE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(l.credentials="include"),hE.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rO(t,e){return Kn(t,"POST","/v2/accounts:revokeToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ay(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){B(e.length!==0,"internal-error");const n=Ay(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await nO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ri;return r&&(B(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(B(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(B(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ri,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ri(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XA(this,e)}reload(){return eO(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lt(this.auth.app))return Promise.reject(Dn(this.auth));const e=await this.getIdToken();return await Ri(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:_,providerData:x,stsTokenManager:g}=n;B(f&&g,e,"internal-error");const w=ri.fromJSON(this.name,g);B(typeof f=="string",e,"internal-error"),Jn(r,e.name),Jn(s,e.name),B(typeof h=="boolean",e,"internal-error"),B(typeof _=="boolean",e,"internal-error"),Jn(i,e.name),Jn(o,e.name),Jn(a,e.name),Jn(l,e.name),Jn(c,e.name),Jn(d,e.name);const y=new Yt({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:_,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:w,createdAt:c,lastLoginAt:d});return x&&Array.isArray(x)&&(y.providerData=x.map(m=>({...m}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new ri;s.updateFromServerResponse(n);const i=new Yt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];B(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?gE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ri;a.updateFromIdToken(r);const l=new Yt({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Yf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;function An(t){Bn(t instanceof Function,"Expected a class definition");let e=Oy.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Oy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yE.type="NONE";const My=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t,e,n){return`firebase:${t}:${e}:${n}`}class si{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fl(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sc(this.auth,{idToken:e}).catch(()=>{});return n?Yt._fromGetAccountInfoResponse(this.auth,n,e):null}return Yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new si(An(My),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||An(My);const o=Fl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await Sc(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Yt._fromGetAccountInfoResponse(e,h,d)}else f=Yt._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new si(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new si(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(SE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vE(t=ct()){return/firefox\//i.test(t)}function _E(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(t=ct()){return/crios\//i.test(t)}function xE(t=ct()){return/iemobile/i.test(t)}function EE(t=ct()){return/android/i.test(t)}function CE(t=ct()){return/blackberry/i.test(t)}function SE(t=ct()){return/webos/i.test(t)}function Gp(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sO(t=ct()){var e;return Gp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function iO(){return mR()&&document.documentMode===10}function bE(t=ct()){return Gp(t)||EE(t)||SE(t)||CE(t)||/windows phone/i.test(t)||xE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e=[]){let n;switch(t){case"Browser":n=Dy(ct());break;case"Worker":n=`${Dy(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e={}){return Kn(t,"GET","/v2/passwordPolicy",zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=6;class cO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ly(this),this.idTokenSubscription=new Ly(this),this.beforeStateQueue=new oO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await si.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sc(this,{idToken:e}),r=await Yt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Lt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lt(this.app))return Promise.reject(Dn(this));const n=e?ft(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lt(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lt(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aO(this),n=new cO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Aa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await si.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bs(t){return ft(t)}class Ly{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dO(t){_u=t}function IE(t){return _u.loadJS(t)}function fO(){return _u.recaptchaEnterpriseScript}function hO(){return _u.gapiScript}function pO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mO{constructor(){this.enterprise=new gO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yO="recaptcha-enterprise",NE="NO_RECAPTCHA";class vO{constructor(e){this.type=yO,this.auth=bs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{QA(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new qA(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ry(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(NE)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mO().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ry(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fO();l.length!==0&&(l+=a),IE(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function jy(t,e,n,r=!1,s=!1){const i=new vO(t);let o;if(s)o=NE;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xf(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){const n=Wp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hs(i,e??{}))return s;sn(s,"already-initialized")}return n.initialize({options:e})}function wO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xO(t,e,n){const r=bs(t);B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=kE(e),{host:o,port:a}=EO(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B(hs(c,r.config.emulator)&&hs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Gi(o)?(Z0(`${i}//${o}${l}`),eE("Auth",!0)):CO()}function kE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EO(t){const e=kE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Fy(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Fy(o)}}}function Fy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}async function SO(t,e){return Kn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return Ma(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return Ma(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function IO(t,e){return Ma(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Kp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,n,"signInWithPassword",bO);case"emailLink":return TO(e,{email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,r,"signUpPassword",SO);case"emailLink":return IO(e,{idToken:n,email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(t,e){return Ma(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="http://localhost";class ms extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ms(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ii(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ii(e,n)}buildRequest(){const e={requestUri:NO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ki(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PO(t){const e=Eo(Co(t)).link,n=e?Eo(Co(e)).deep_link_id:null,r=Eo(Co(t)).deep_link_id;return(r?Eo(Co(r)).link:null)||r||n||e||t}class qp{constructor(e){const n=Eo(Co(e)),r=n.apiKey??null,s=n.oobCode??null,i=kO(n.mode??null);B(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PO(e);try{return new qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.providerId=Qi.PROVIDER_ID}static credential(e,n){return fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qp.parseLink(n);return B(r,"argument-error"),fa._fromEmailAndCode(e,r.code,r.tenantId)}}Qi.PROVIDER_ID="password";Qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends PE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Da{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Da{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Da{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(t,e){return Ma(t,"POST","/v1/accounts:signUp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yt._fromIdTokenResponse(e,r,s),o=Uy(r);return new gs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Uy(r);return new gs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Uy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Tc(e,n,r,s)}}function RE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(t,i,e,r):i})}async function AO(t,e,n=!1){const r=await Ri(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e,n=!1){const{auth:r}=t;if(Lt(r.app))return Promise.reject(Dn(r));const s="reauthenticate";try{const i=await Ri(t,RE(r,s,e,t),n);B(i.idToken,r,"internal-error");const o=Vp(i.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(t.uid===a,r,"user-mismatch"),gs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(t,e,n=!1){if(Lt(t.app))return Promise.reject(Dn(t));const r="signIn",s=await RE(t,r,e),i=await gs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function MO(t,e){return AE(bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(t){const e=bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DO(t,e,n){if(Lt(t.app))return Promise.reject(Dn(t));const r=bs(t),o=await Xf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OE(t),l}),a=await gs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LO(t,e,n){return Lt(t.app)?Promise.reject(Dn(t)):MO(ft(t),Qi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return Kn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ri(r,jO(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function UO(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function $O(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function HO(t){return ft(t).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1e3,zO=10;class DE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);iO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DE.type="LOCAL";const BO=DE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LE.type="SESSION";const jE=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await VO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Qp("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function KO(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function qO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function YO(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",XO=1,Nc="firebaseLocalStorage",$E="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xu(t,e){return t.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function JO(){const t=indexedDB.deleteDatabase(UE);return new La(t).toPromise()}function Jf(){const t=indexedDB.open(UE,XO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nc,{keyPath:$E})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nc)?e(r):(r.close(),await JO(),e(await Jf()))})})}async function $y(t,e,n){const r=xu(t,!0).put({[$E]:e,value:n});return new La(r).toPromise()}async function ZO(t,e){const n=xu(t,!1).get(e),r=await new La(n).toPromise();return r===void 0?null:r.value}function Hy(t,e){const n=xu(t,!0).delete(e);return new La(n).toPromise()}const eM=800,tM=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wu._getInstance(YO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new GO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jf();return await $y(e,Ic,"1"),await Hy(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$y(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=xu(s,!1).getAll();return new La(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const nM=HE;new Oa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e){return e?An(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ii(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sM(t){return AE(t.auth,new Yp(t),t.bypassAuthState)}function iM(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),OO(n,new Yp(t),t.bypassAuthState)}async function oM(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),AO(n,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sM;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return iM;default:sn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Oa(2e3,1e4);class Ks extends WE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return B(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aM.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="pendingRedirect",Ul=new Map;class cM extends WE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ul.get(this.auth._key());if(!e){try{const r=await uM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ul.set(this.auth._key(),e)}return this.bypassAuthState||Ul.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uM(t,e){const n=hM(e),r=fM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dM(t,e){Ul.set(t._key(),e)}function fM(t){return An(t._redirectPersistence)}function hM(t){return Fl(lM,t.config.apiKey,t.name)}async function pM(t,e,n=!1){if(Lt(t.app))return Promise.reject(Dn(t));const r=bs(t),s=rM(r,e),o=await new cM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=10*60*1e3;class gM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zE(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wy(e))}saveEventToCache(e){this.cachedEventUids.add(Wy(e)),this.lastProcessedEventTime=Date.now()}}function Wy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return Kn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function xM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vM(t);for(const n of e)try{if(EM(n))return}catch{}sn(t,"unauthorized-domain")}function EM(t){const e=Qf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wM.test(n))return!1;if(_M.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Oa(3e4,6e4);function zy(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SM(t){return new Promise((e,n)=>{var s,i,o;function r(){zy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zy(),n(wn(t,"network-request-failed"))},timeout:CM.get()})}if((i=(s=xn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=xn().gapi)!=null&&o.load)r();else{const a=pO("iframefcb");return xn()[a]=()=>{gapi.load?r():n(wn(t,"network-request-failed"))},IE(`${hO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $l=null,e})}let $l=null;function bM(t){return $l=$l||SM(t),$l}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Oa(5e3,15e3),IM="__/auth/iframe",NM="emulator/auth/iframe",kM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(t){const e=t.config;B(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bp(e,NM):`https://${t.config.authDomain}/${IM}`,r={apiKey:e.apiKey,appName:t.name,v:qi},s=PM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ki(r).slice(1)}`}async function AM(t){const e=await bM(t),n=xn().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:RM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=xn().setTimeout(()=>{i(o)},TM.get());function l(){xn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MM=500,DM=600,LM="_blank",jM="http://localhost";class By{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FM(t,e,n,r=MM,s=DM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...OM,width:r.toString(),height:s.toString(),top:i,left:o},c=ct().toLowerCase();n&&(a=wE(c)?LM:n),vE(c)&&(e=e||jM,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[_,x])=>`${h}${_}=${x},`,"");if(sO(c)&&a!=="_self")return UM(e||"",a),new By(null);const f=window.open(e||"",a,d);B(f,t,"popup-blocked");try{f.focus()}catch{}return new By(f)}function UM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="__/auth/handler",HM="emulator/auth/handler",WM=encodeURIComponent("fac");async function Vy(t,e,n,r,s,i){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:s};if(e instanceof PE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Da){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${WM}=${encodeURIComponent(l)}`:"";return`${zM(t)}?${Ki(a).slice(1)}${c}`}function zM({config:t}){return t.emulator?Bp(t,HM):`https://${t.authDomain}/${$M}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class BM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=pM,this._overrideRedirectResult=dM}async _openPopup(e,n,r,s){var o;Bn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Vy(e,n,r,Qf(),s);return FM(e,i,Qp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Vy(e,n,r,Qf(),s);return KO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Bn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AM(e),r=new gM(e);return n.register("authEvent",s=>(B(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sd,{type:Sd},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Sd];i!==void 0&&n(!!i),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||_E()||Gp()}}const VM=BM;var Gy="@firebase/auth",Ky="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qM(t){Pi(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(t)},c=new uO(r,s,i,l);return wO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new ps("auth-internal",e=>{const n=bs(e.getProvider("auth").getImmediate());return(r=>new GM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(Gy,Ky,KM(t)),Pr(Gy,Ky,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=5*60,YM=J0("authIdTokenMaxAge")||QM;let qy=null;const XM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YM)return;const s=n==null?void 0:n.token;qy!==s&&(qy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JM(t=aE()){const e=Wp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_O(t,{popupRedirectResolver:VM,persistence:[nM,BO,jE]}),r=J0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=XM(i.toString());$O(n,o,()=>o(n.currentUser)),UO(n,a=>o(a))}}const s=Y0("auth");return s&&xO(n,`http://${s}`),n}function ZM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}dO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ZM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qM("Browser");var Qy={};const Yy="@firebase/database",Xy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BE="";function eD(t){BE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ua(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tD(e)}}catch{}return new nD},es=VE("localStorage"),rD=VE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new $p("@firebase/database"),sD=function(){let t=1;return function(){return t++}}(),GE=function(t){const e=IR(t),n=new CR;n.update(e);const r=n.digest();return jp.encodeByteArray(r)},ja=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ja.apply(null,r):typeof r=="object"?e+=He(r):e+=r,e+=" "}return e};let jo=null,Jy=!0;const iD=function(t,e){O(!e,"Can't turn on custom loggers persistently."),oi.logLevel=ue.VERBOSE,jo=oi.log.bind(oi)},Ve=function(...t){if(Jy===!0&&(Jy=!1,jo===null&&rD.get("logging_enabled")===!0&&iD()),jo){const e=ja.apply(null,t);jo(e)}},Fa=function(t){return function(...e){Ve(t,...e)}},Zf=function(...t){const e="FIREBASE INTERNAL ERROR: "+ja(...t);oi.error(e)},Vn=function(...t){const e=`FIREBASE FATAL ERROR: ${ja(...t)}`;throw oi.error(e),new Error(e)},lt=function(...t){const e="FIREBASE WARNING: "+ja(...t);oi.warn(e)},oD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ai="[MIN_NAME]",ys="[MAX_NAME]",Ts=function(t,e){if(t===e)return 0;if(t===Ai||e===ys)return-1;if(e===Ai||t===ys)return 1;{const n=Zy(t),r=Zy(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lD=function(t,e){return t===e?0:t<e?-1:1},po=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},Jp=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=He(e[r]),n+=":",n+=Jp(t[e[r]]);return n+="}",n},KE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const qE=function(t){O(!Xp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},cD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const fD=new RegExp("^-?(0*)\\d{1,10}$"),hD=-2147483648,pD=2147483647,Zy=function(t){if(fD.test(t)){const e=Number(t);if(e>=hD&&e<=pD)return e}return null},Yi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},mD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Lt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}}class Hl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="5",QE="v",YE="s",XE="r",JE="f",ZE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eC="ls",tC="p",eh="ac",nC="websocket",rC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=es.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&es.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iC(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===nC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===rC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vD(t)&&(n.ns=t.namespace);const s=[];return qe(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.counters_={}}incrementCounter(e,n=1){Sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd={},Td={};function em(t){const e=t.toString();return bd[e]||(bd[e]=new _D),bd[e]}function wD(t,e){const n=t.toString();return Td[n]||(Td[n]=e()),Td[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Yi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="start",ED="close",CD="pLPCommand",SD="pRTLPCB",oC="id",aC="pw",lC="ser",bD="cb",TD="seg",ID="ts",ND="d",kD="dframe",cC=1870,uC=30,PD=cC-uC,RD=25e3,AD=3e4;class qs{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fa(e),this.stats_=em(n),this.urlFn=l=>(this.appCheckToken&&(l[eh]=this.appCheckToken),iC(n,rC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AD)),aD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tm((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ev)this.id=a,this.password=l;else if(o===ED)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ev]="t",r[lC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[QE]=Zp,this.transportSessionId&&(r[YE]=this.transportSessionId),this.lastSessionId&&(r[eC]=this.lastSessionId),this.applicationId&&(r[tC]=this.applicationId),this.appCheckToken&&(r[eh]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZE.test(location.hostname)&&(r[XE]=JE);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qs.forceAllow_=!0}static forceDisallow(){qs.forceDisallow_=!0}static isAvailable(){return qs.forceAllow_?!0:!qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cD()&&!uD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=q0(n),s=KE(r,PD);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[kD]="t",r[oC]=e,r[aC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tm{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sD(),window[CD+this.uniqueCallbackIdentifier]=e,window[SD+this.uniqueCallbackIdentifier]=n,this.myIFrame=tm.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oC]=this.myID,e[aC]=this.myPW,e[lC]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uC+r.length<=cC;){const o=this.pendingSegs.shift();r=r+"&"+TD+s+"="+o.seg+"&"+ID+s+"="+o.ts+"&"+ND+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(RD)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=16384,MD=45e3;let kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);class Qt{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fa(this.connId),this.stats_=em(n),this.connURL=Qt.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[QE]=Zp,typeof location<"u"&&location.hostname&&ZE.test(location.hostname)&&(o[XE]=JE),n&&(o[YE]=n),r&&(o[eC]=r),s&&(o[eh]=s),i&&(o[tC]=i),iC(e,nC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,es.set("previous_websocket_failure",!0);try{let r;nE(),this.mySock=new kc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&kc!==null&&!Qt.forceDisallow_}static previouslyFailed(){return es.isInMemoryStorage||es.get("previous_websocket_failure")===!0}markConnectionHealthy(){es.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ua(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=KE(n,OD);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static get ALL_TRANSPORTS(){return[qs,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qt&&Qt.isAvailable();let r=n&&!Qt.previouslyFailed();if(e.webSocketOnly&&(n||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qt];else{const s=this.transports_=[];for(const i of ha.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);ha.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ha.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=6e4,LD=5e3,jD=10*1024,FD=100*1024,Id="t",tv="d",UD="s",nv="r",$D="e",rv="o",sv="a",iv="n",ov="p",HD="h";class WD{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fa("c:"+this.id+":"),this.transportManager_=new ha(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Id in e){const n=e[Id];n===sv?this.upgradeIfSecondaryHealthy_():n===nv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=po("t",e),r=po("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ov,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=po("t",e),r=po("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=po(Id,e);if(tv in e){const r=e[tv];if(n===HD){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===iv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UD?this.onConnectionShutdown_(r):n===nv?this.onReset_(r):n===$D?Zf("Server Error: "+r):n===rv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zp!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ov,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(es.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends fC{static getInstance(){return new Pc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Up()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=32,lv=768;class de{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new de("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jr(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function nm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new de(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function mt(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return mt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function BD(t,e){const n=pa(t,0),r=pa(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=Ts(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function rm(t,e){if(jr(t)!==jr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ft(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jr(t)>jr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class VD{constructor(e,n){this.errorPrefix_=n,this.parts_=pa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=vu(this.parts_[r]);pC(this)}}function GD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=vu(e),pC(t)}function KD(t){const e=t.parts_.pop();t.byteLength_-=vu(e),t.parts_.length>0&&(t.byteLength_-=1)}function pC(t){if(t.byteLength_>lv)throw new Error(t.errorPrefix_+"has a key path longer than "+lv+" bytes ("+t.byteLength_+").");if(t.parts_.length>av)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+av+") or object contains a cycle "+Yr(t))}function Yr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends fC{static getInstance(){return new sm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=1e3,qD=60*5*1e3,cv=30*1e3,QD=1.3,YD=3e4,XD="server_kill",uv=3;class Ln extends dC{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ln.nextPersistentConnectionId_++,this.log_=Fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mo,this.maxReconnectDelay_=qD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!nE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(He(i)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Ra,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Ln.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sn(e,"w")){const r=ki(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ER(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zf("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YD&&(this.reconnectDelay_=mo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ln.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(f){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new WD(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{lt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(XD)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&lt(f),l())}}}interrupt(e){Ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zf(this.interruptReasons_)&&(this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Jp(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new de(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Ve("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uv&&(this.reconnectDelay_=cv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ve("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+BE.replace(/\./g,"-")]=1,Up()?e["framework.cordova"]=1:tE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pc.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&e}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y(Ai,e),s=new Y(Ai,n);return this.compare(r,s)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class mC extends Eu{static get __EMPTY_NODE(){return fl}static set __EMPTY_NODE(e){fl=e}compare(e,n){return Ts(e.name,n.name)}isDefinedOn(e){throw Vi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(ys,fl)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,fl)}toString(){return".key"}}const ai=new mC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=s??gt.EMPTY_NODE,this.right=i??gt.EMPTY_NODE}copy(e,n,r,s,i){return new Ue(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ue.RED=!0;Ue.BLACK=!1;class JD{copy(e,n,r,s,i){return this}insert(e,n,r){return new Ue(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(e,n=gt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))}remove(e){return new gt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ue.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hl(this.root_,null,this.comparator_,!0,e)}}gt.EMPTY_NODE=new JD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e){return Ts(t.name,e.name)}function im(t,e){return Ts(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;function eL(t){th=t}const gC=function(t){return typeof t=="number"?"number:"+qE(t):"string:"+t},yC=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sn(e,".sv"),"Priority must be a string or number.")}else O(t===th||t.isEmpty(),"priority of unexpected type.");O(t===th||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv;class je{static set __childrenNodeConstructor(e){dv=e}static get __childrenNodeConstructor(){return dv}constructor(e,n=je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return X(e)?this:Q(e)===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||jr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,je.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=qE(this.value_):e+=this.value_,this.lazyHash_=GE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof je.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=je.VALUE_TYPE_ORDER.indexOf(n),i=je.VALUE_TYPE_ORDER.indexOf(r);return O(s>=0,"Unknown leaf type: "+n),O(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vC,_C;function tL(t){vC=t}function nL(t){_C=t}class rL extends Eu{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ts(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(ys,new je("[PRIORITY-POST]",_C))}makePost(e,n){const r=vC(e);return new Y(n,new je("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new rL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=Math.log(2);class iL{constructor(e){const n=i=>parseInt(Math.log(i)/sL,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rc=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let f,h;if(d===0)return null;if(d===1)return f=t[l],h=n?n(f):f,new Ue(h,f.node,Ue.BLACK,null,null);{const _=parseInt(d/2,10)+l,x=s(l,_),g=s(_+1,c);return f=t[_],h=n?n(f):f,new Ue(h,f.node,Ue.BLACK,x,g)}},i=function(l){let c=null,d=null,f=t.length;const h=function(x,g){const w=f-x,y=f;f-=x;const m=s(w+1,y),p=t[w],E=n?n(p):p;_(new Ue(E,p.node,g,null,m))},_=function(x){c?(c.left=x,c=x):(d=x,c=x)};for(let x=0;x<l.count;++x){const g=l.nextBitIsOne(),w=Math.pow(2,l.count-(x+1));g?h(w,Ue.BLACK):(h(w,Ue.BLACK),h(w,Ue.RED))}return d},o=new iL(t.length),a=i(o);return new gt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd;const Rs={};class On{static get Default(){return O(Rs&&ke,"ChildrenNode.ts has not been loaded"),Nd=Nd||new On({".priority":Rs},{".priority":ke}),Nd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gt?n:null}hasIndex(e){return Sn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Y.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Rc(r,e.getCompare()):a=Rs;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=a,new On(d,c)}addToIndexes(e,n){const r=xc(this.indexes_,(s,i)=>{const o=ki(this.indexSet_,i);if(O(o,"Missing index implementation for "+i),s===Rs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Y.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Rc(a,o.getCompare())}else return Rs;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new On(r,this.indexSet_)}removeFromIndexes(e,n){const r=xc(this.indexes_,s=>{if(s===Rs)return s;{const i=n.get(e.name);return i?s.remove(new Y(e.name,i)):s}});return new On(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class V{static get EMPTY_NODE(){return go||(go=new V(new gt(im),null,On.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yC(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||go}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?go:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?go:this.priorityNode_;return new V(s,o,i)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{O(Q(e)!==".priority"||jr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(ke,(o,a)=>{n[o]=a.val(e),r++,i&&V.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gC(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":GE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Y(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Y.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ua?-1:0}withIndex(e){if(e===ai||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ai||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),s=n.getIterator(ke);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ai?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oL extends V{constructor(){super(new gt(im),V.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const Ua=new oL;Object.defineProperties(Y,{MIN:{value:new Y(Ai,V.EMPTY_NODE)},MAX:{value:new Y(ys,Ua)}});mC.__EMPTY_NODE=V.EMPTY_NODE;je.__childrenNodeConstructor=V;eL(Ua);nL(Ua);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=!0;function $e(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new je(n,$e(e))}if(!(t instanceof Array)&&aL){const n=[];let r=!1;if(qe(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=$e(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(o,l)))}}),n.length===0)return V.EMPTY_NODE;const i=Rc(n,ZD,o=>o.name,im);if(r){const o=Rc(n,ke.getCompare());return new V(i,$e(e),new On({".priority":o},{".priority":ke}))}else return new V(i,$e(e),On.Default)}else{let n=V.EMPTY_NODE;return qe(t,(r,s)=>{if(Sn(t,r)&&r.substring(0,1)!=="."){const i=$e(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority($e(e))}}tL($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends Eu{constructor(e){super(),this.indexPath_=e,O(!X(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ts(e.name,n.name):i}makePost(e,n){const r=$e(e),s=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,s)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,Ua);return new Y(ys,e)}toString(){return pa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends Eu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ts(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=$e(e);return new Y(n,r)}toString(){return".value"}}const uL=new cL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return{type:"value",snapshotNode:t}}function Oi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ma(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ga(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ma(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Oi(n,r)):o.trackChildChange(ga(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(s,i)=>{n.hasChild(s)||r.trackChildChange(ma(s,i))}),n.isLeafNode()||n.forEachChild(ke,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(ga(s,i,o))}else r.trackChildChange(Oi(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.indexedFilter_=new om(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ya.getStartPost_(e),this.endPost_=ya.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Y(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(V.EMPTY_NODE);const i=this;return n.forEachChild(ke,(o,a)=>{i.matches(new Y(o,a))||(s=s.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ya(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Y(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=V.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(V.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,_)=>f(_,h)}else o=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:o(h,l);if(d&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(ga(n,r,f)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(ma(n,f));const g=a.updateImmediateChild(n,V.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(Oi(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ma(c.name,c.node)),i.trackChildChange(Oi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ai}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new am;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hL(t){return t.loadsAllData()?new om(t.getIndex()):t.hasLimit()?new fL(t):new ya(t)}function fv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===uL?n="$value":t.index_===ai?n="$key":(O(t.index_ instanceof lL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=He(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+He(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=He(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends dC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Fa("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ac.getListenId_(e,r),a={};this.listens_[o]=a;const l=fv(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(i,f,!1,r),ki(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=Ac.getListenId_(e,n);delete this.listens_[r]}get(e){const n=fv(e._queryParams),r=e._path.toString(),s=new Ra;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ki(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ua(a.responseText)}catch{lt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&lt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(){return{value:null,children:new Map}}function xC(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,Oc());const s=t.children.get(r);e=me(e),xC(s,e,n)}}function nh(t,e,n){t.value!==null?n(e,t.value):mL(t,(r,s)=>{const i=new de(e.toString()+"/"+r);nh(s,i,n)})}function mL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&qe(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=10*1e3,yL=30*1e3,vL=5*60*1e3;class _L{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gL(e);const r=pv+(yL-pv)*Math.random();Fo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qe(e,(s,i)=>{i>0&&Sn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*vL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xt||(Xt={}));function lm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function um(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xt.ACK_USER_WRITE,this.source=lm()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new Mc(ie(),n,this.revert)}}else return O(Q(this.path)===e,"operationForChild called for unrelated child."),new Mc(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.source=e,this.path=n,this.type=Xt.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new va(this.source,ie()):new va(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xt.OVERWRITE}operationForChild(e){return X(this.path)?new vs(this.source,ie(),this.snap.getImmediateChild(e)):new vs(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xt.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new vs(this.source,ie(),n.value):new Mi(this.source,ie(),n)}else return O(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mi(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xL(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(dL(o.childName,o.snapshotNode))}),yo(t,s,"child_removed",e,r,n),yo(t,s,"child_added",e,r,n),yo(t,s,"child_moved",i,r,n),yo(t,s,"child_changed",e,r,n),yo(t,s,"value",e,r,n),s}function yo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>CL(t,a,l)),o.forEach(a=>{const l=EL(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function EL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CL(t,e,n){if(e.childName==null||n.childName==null)throw Vi("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),s=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){return{eventCache:t,serverCache:e}}function Uo(t,e,n,r){return Cu(new _s(e,n,r),t.serverCache)}function EC(t,e,n,r){return Cu(t.eventCache,new _s(e,n,r))}function rh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const SL=()=>(kd||(kd=new gt(lD)),kd);class pe{static fromObject(e){let n=new pe(null);return qe(e,(r,s)=>{n=n.set(new de(r),s)}),n}constructor(e,n=SL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(X(e))return null;{const r=Q(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(me(e),n);return i!=null?{path:Ne(new de(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new pe(null)}}set(e,n){if(X(e))return new pe(n,this.children);{const r=Q(e),i=(this.children.get(r)||new pe(null)).set(me(e),n),o=this.children.insert(r,i);return new pe(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const s=r.remove(me(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new pe(null):new pe(this.value,i)}else return this}}get(e){if(X(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(X(e))return n;{const r=Q(e),i=(this.children.get(r)||new pe(null)).setTree(me(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new pe(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ne(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(X(e))return null;{const i=Q(e),o=this.children.get(i);return o?o.findOnPath_(me(e),Ne(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);const s=Q(e),i=this.children.get(s);return i?i.foreachOnPath_(me(e),Ne(n,s),r):new pe(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new pe(null))}}function $o(t,e,n){if(X(e))return new en(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=mt(s,e);return i=i.updateChild(o,n),new en(t.writeTree_.set(s,i))}else{const s=new pe(n),i=t.writeTree_.setTree(e,s);return new en(i)}}}function sh(t,e,n){let r=t;return qe(n,(s,i)=>{r=$o(r,Ne(e,s),i)}),r}function mv(t,e){if(X(e))return en.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new en(n)}}function ih(t,e){return Is(t,e)!=null}function Is(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mt(n.path,e)):null}function gv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,s)=>{e.push(new Y(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Y(r,s.value))}),e}function Rr(t,e){if(X(e))return t;{const n=Is(t,e);return n!=null?new en(new pe(n)):new en(t.writeTree_.subtree(e))}}function oh(t){return t.writeTree_.isEmpty()}function Di(t,e){return CC(ie(),t.writeTree_,e)}function CC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(O(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=CC(Ne(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){return IC(e,t)}function bL(t,e,n,r,s){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=$o(t.visibleWrites,e,n)),t.lastWriteId=r}function TL(t,e,n,r){O(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=sh(t.visibleWrites,e,n),t.lastWriteId=r}function IL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function NL(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&kL(a,r.path)?s=!1:Ft(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return PL(t),!0;if(r.snap)t.visibleWrites=mv(t.visibleWrites,r.path);else{const a=r.children;qe(a,l=>{t.visibleWrites=mv(t.visibleWrites,Ne(r.path,l))})}return!0}else return!1}function kL(t,e){if(t.snap)return Ft(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ft(Ne(t.path,n),e))return!0;return!1}function PL(t){t.visibleWrites=SC(t.allWrites,RL,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RL(t){return t.visible}function SC(t,e,n){let r=en.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Ft(n,o)?(a=mt(n,o),r=$o(r,a,i.snap)):Ft(o,n)&&(a=mt(o,n),r=$o(r,ie(),i.snap.getChild(a)));else if(i.children){if(Ft(n,o))a=mt(n,o),r=sh(r,a,i.children);else if(Ft(o,n))if(a=mt(o,n),X(a))r=sh(r,ie(),i.children);else{const l=ki(i.children,Q(a));if(l){const c=l.getChild(me(a));r=$o(r,ie(),c)}}}else throw Vi("WriteRecord should have .snap or .children")}}return r}function bC(t,e,n,r,s){if(!r&&!s){const i=Is(t.visibleWrites,e);if(i!=null)return i;{const o=Rr(t.visibleWrites,e);if(oh(o))return n;if(n==null&&!ih(o,ie()))return null;{const a=n||V.EMPTY_NODE;return Di(o,a)}}}else{const i=Rr(t.visibleWrites,e);if(!s&&oh(i))return n;if(!s&&n==null&&!ih(i,ie()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ft(c.path,e)||Ft(e,c.path))},a=SC(t.allWrites,o,e),l=n||V.EMPTY_NODE;return Di(a,l)}}}function AL(t,e,n){let r=V.EMPTY_NODE;const s=Is(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ke,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Rr(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{const l=Di(Rr(i,new de(o)),a);r=r.updateImmediateChild(o,l)}),gv(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Rr(t.visibleWrites,e);return gv(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function OL(t,e,n,r,s){O(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ne(e,n);if(ih(t.visibleWrites,i))return null;{const o=Rr(t.visibleWrites,i);return oh(o)?s.getChild(n):Di(o,s.getChild(n))}}function ML(t,e,n,r){const s=Ne(e,n),i=Is(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Rr(t.visibleWrites,s);return Di(o,r.getNode().getImmediateChild(n))}else return null}function DL(t,e){return Is(t.visibleWrites,e)}function LL(t,e,n,r,s,i,o){let a;const l=Rr(t.visibleWrites,e),c=Is(l,ie());if(c!=null)a=c;else if(n!=null)a=Di(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let _=h.getNext();for(;_&&d.length<s;)f(_,r)!==0&&d.push(_),_=h.getNext();return d}else return[]}function jL(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function Dc(t,e,n,r){return bC(t.writeTree,t.treePath,e,n,r)}function fm(t,e){return AL(t.writeTree,t.treePath,e)}function yv(t,e,n,r){return OL(t.writeTree,t.treePath,e,n,r)}function Lc(t,e){return DL(t.writeTree,Ne(t.treePath,e))}function FL(t,e,n,r,s,i){return LL(t.writeTree,t.treePath,e,n,r,s,i)}function hm(t,e,n){return ML(t.writeTree,t.treePath,e,n)}function TC(t,e){return IC(Ne(t.treePath,e),t.writeTree)}function IC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,ga(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,ma(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Oi(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,ga(r,e.snapshotNode,s.oldSnap));else throw Vi("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const NC=new $L;class pm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ws(this.viewCache_),i=FL(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){return{filter:t}}function WL(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function zL(t,e,n,r,s){const i=new UL;let o,a;if(n.type===Xt.OVERWRITE){const c=n;c.source.fromUser?o=ah(t,e,c.path,c.snap,r,s,i):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),o=jc(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Xt.MERGE){const c=n;c.source.fromUser?o=VL(t,e,c.path,c.children,r,s,i):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=lh(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Xt.ACK_USER_WRITE){const c=n;c.revert?o=qL(t,e,c.path,r,s,i):o=GL(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Xt.LISTEN_COMPLETE)o=KL(t,e,n.path,r,i);else throw Vi("Unknown operation type: "+n.type);const l=i.getChanges();return BL(e,o,l),{viewCache:o,changes:l}}function BL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=rh(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(wC(rh(e)))}}function kC(t,e,n,r,s,i){const o=e.eventCache;if(Lc(r,n)!=null)return e;{let a,l;if(X(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ws(e),d=c instanceof V?c:V.EMPTY_NODE,f=fm(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const c=Dc(r,ws(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Q(n);if(c===".priority"){O(jr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=yv(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=me(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=yv(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(c).updateChild(d,h):f=o.getNode().getImmediateChild(c)}else f=hm(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,d,s,i):a=o.getNode()}}return Uo(e,a,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function jc(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(X(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),_,null)}else{const _=Q(n);if(!l.isCompleteForPath(n)&&jr(n)>1)return e;const x=me(n),w=l.getNode().getImmediateChild(_).updateChild(x,r);_===".priority"?c=d.updatePriority(l.getNode(),w):c=d.updateChild(l.getNode(),_,w,x,NC,null)}const f=EC(e,c,l.isFullyInitialized()||X(n),d.filtersNodes()),h=new pm(s,f,i);return kC(t,f,n,s,h,a)}function ah(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new pm(s,e,i);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Uo(e,c,!0,t.filter.filtersNodes());else{const f=Q(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Uo(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=me(n),_=a.getNode().getImmediateChild(f);let x;if(X(h))x=r;else{const g=d.getCompleteChild(f);g!=null?nm(h)===".priority"&&g.getChild(hC(h)).isEmpty()?x=g:x=g.updateChild(h,r):x=V.EMPTY_NODE}if(_.equals(x))l=e;else{const g=t.filter.updateChild(a.getNode(),f,x,h,d,o);l=Uo(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function vv(t,e){return t.eventCache.isCompleteForChild(e)}function VL(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=Ne(n,l);vv(e,Q(d))&&(a=ah(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=Ne(n,l);vv(e,Q(d))||(a=ah(t,a,d,c,s,i,o))}),a}function _v(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function lh(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new pe(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const _=e.serverCache.getNode().getImmediateChild(f),x=_v(t,_,h);l=jc(t,l,new de(f),x,s,i,o,a)}}),c.children.inorderTraversal((f,h)=>{const _=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!_){const x=e.serverCache.getNode().getImmediateChild(f),g=_v(t,x,h);l=jc(t,l,new de(f),g,s,i,o,a)}}),l}function GL(t,e,n,r,s,i,o){if(Lc(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return jc(t,e,n,l.getNode().getChild(n),s,i,a,o);if(X(n)){let c=new pe(null);return l.getNode().forEachChild(ai,(d,f)=>{c=c.set(new de(d),f)}),lh(t,e,n,c,s,i,a,o)}else return e}else{let c=new pe(null);return r.foreach((d,f)=>{const h=Ne(n,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),lh(t,e,n,c,s,i,a,o)}}function KL(t,e,n,r,s){const i=e.serverCache,o=EC(e,i.getNode(),i.isFullyInitialized()||X(n),i.isFiltered());return kC(t,o,n,r,NC,s)}function qL(t,e,n,r,s,i){let o;if(Lc(r,n)!=null)return e;{const a=new pm(r,e,s),l=e.eventCache.getNode();let c;if(X(n)||Q(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Dc(r,ws(e));else{const f=e.serverCache.getNode();O(f instanceof V,"serverChildren would be complete if leaf node"),d=fm(r,f)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=Q(n);let f=hm(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?c=t.filter.updateChild(l,d,f,me(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,V.EMPTY_NODE,me(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Dc(r,ws(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Lc(r,ie())!=null,Uo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new om(r.getIndex()),i=hL(r);this.processor_=HL(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(V.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(V.EMPTY_NODE,a.getNode(),null),d=new _s(l,o.isFullyInitialized(),s.filtersNodes()),f=new _s(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Cu(f,d),this.eventGenerator_=new wL(this.query_)}get query(){return this.query_}}function YL(t){return t.viewCache_.serverCache.getNode()}function XL(t,e){const n=ws(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function wv(t){return t.eventRegistrations_.length===0}function JL(t,e){t.eventRegistrations_.push(e)}function xv(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Ev(t,e,n,r){e.type===Xt.MERGE&&e.source.queryId!==null&&(O(ws(t.viewCache_),"We should always have a full cache before handling merges"),O(rh(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=zL(t.processor_,s,e,n,r);return WL(t.processor_,i.viewCache),O(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,PC(t,i.changes,i.viewCache.eventCache.getNode(),null)}function ZL(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(i,o)=>{r.push(Oi(i,o))}),n.isFullyInitialized()&&r.push(wC(n.getNode())),PC(t,r,n.getNode(),e)}function PC(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return xL(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;class e2{constructor(){this.views=new Map}}function t2(t){O(!Fc,"__referenceConstructor has already been defined"),Fc=t}function n2(){return O(Fc,"Reference.ts has not been loaded"),Fc}function r2(t){return t.views.size===0}function mm(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return O(i!=null,"SyncTree gave us an op for an invalid query."),Ev(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Ev(o,e,n,r));return i}}function s2(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Dc(n,s?r:null),l=!1;a?l=!0:r instanceof V?(a=fm(n,r),l=!1):(a=V.EMPTY_NODE,l=!1);const c=Cu(new _s(a,l,!1),new _s(r,s,!1));return new QL(e,c)}return o}function i2(t,e,n,r,s,i){const o=s2(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),JL(o,n),ZL(o,n)}function o2(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Fr(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(xv(c,n,r)),wv(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(xv(l,n,r)),wv(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Fr(t)&&i.push(new(n2())(e._repo,e._path)),{removed:i,events:o}}function RC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function li(t,e){let n=null;for(const r of t.views.values())n=n||XL(r,e);return n}function AC(t,e){if(e._queryParams.loadsAllData())return Su(t);{const r=e._queryIdentifier;return t.views.get(r)}}function OC(t,e){return AC(t,e)!=null}function Fr(t){return Su(t)!=null}function Su(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;function a2(t){O(!Uc,"__referenceConstructor has already been defined"),Uc=t}function l2(){return O(Uc,"Reference.ts has not been loaded"),Uc}let c2=1;class Cv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=jL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MC(t,e,n,r,s){return bL(t.pendingWriteTree_,e,n,r,s),s?Xi(t,new vs(lm(),e,n)):[]}function u2(t,e,n,r){TL(t.pendingWriteTree_,e,n,r);const s=pe.fromObject(n);return Xi(t,new Mi(lm(),e,s))}function vr(t,e,n=!1){const r=IL(t.pendingWriteTree_,e);if(NL(t.pendingWriteTree_,e)){let i=new pe(null);return r.snap!=null?i=i.set(ie(),!0):qe(r.children,o=>{i=i.set(new de(o),!0)}),Xi(t,new Mc(r.path,i,n))}else return[]}function bu(t,e,n){return Xi(t,new vs(cm(),e,n))}function d2(t,e,n){const r=pe.fromObject(n);return Xi(t,new Mi(cm(),e,r))}function f2(t,e){return Xi(t,new va(cm(),e))}function h2(t,e,n){const r=ym(t,n);if(r){const s=vm(r),i=s.path,o=s.queryId,a=mt(i,e),l=new va(um(o),a);return _m(t,i,l)}else return[]}function ch(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||OC(o,e))){const l=o2(o,e,n,r);r2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(h,_)=>Fr(_));if(d&&!f){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const _=g2(h);for(let x=0;x<_.length;++x){const g=_[x],w=g.query,y=jC(t,g);t.listenProvider_.startListening(Ho(w),$c(t,w),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Ho(e),null):c.forEach(h=>{const _=t.queryToTagMap.get(Tu(h));t.listenProvider_.stopListening(Ho(h),_)}))}y2(t,c)}return a}function p2(t,e,n,r){const s=ym(t,r);if(s!=null){const i=vm(s),o=i.path,a=i.queryId,l=mt(o,e),c=new vs(um(a),l,n);return _m(t,o,c)}else return[]}function m2(t,e,n,r){const s=ym(t,r);if(s){const i=vm(s),o=i.path,a=i.queryId,l=mt(o,e),c=pe.fromObject(n),d=new Mi(um(a),l,c);return _m(t,o,d)}else return[]}function Sv(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,_)=>{const x=mt(h,s);i=i||li(_,x),o=o||Fr(_)});let a=t.syncPointTree_.get(s);a?(o=o||Fr(a),i=i||li(a,ie())):(a=new e2,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=V.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,x)=>{const g=li(x,ie());g&&(i=i.updateImmediateChild(_,g))}));const c=OC(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Tu(e);O(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=v2();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const d=dm(t.pendingWriteTree_,s);let f=i2(a,e,n,d,i,l);if(!c&&!o&&!r){const h=AC(a,e);f=f.concat(_2(t,e,h))}return f}function gm(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=mt(o,e),c=li(a,l);if(c)return c});return bC(s,e,i,n,!0)}function Xi(t,e){return DC(e,t.syncPointTree_,null,dm(t.pendingWriteTree_,ie()))}function DC(t,e,n,r){if(X(t.path))return LC(t,e,n,r);{const s=e.get(ie());n==null&&s!=null&&(n=li(s,ie()));let i=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=TC(r,o);i=i.concat(DC(a,l,c,d))}return s&&(i=i.concat(mm(s,t,r,n))),i}}function LC(t,e,n,r){const s=e.get(ie());n==null&&s!=null&&(n=li(s,ie()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=TC(r,o),d=t.operationForChild(o);d&&(i=i.concat(LC(d,a,l,c)))}),s&&(i=i.concat(mm(s,t,r,n))),i}function jC(t,e){const n=e.query,r=$c(t,n);return{hashFn:()=>(YL(e)||V.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?h2(t,n._path,r):f2(t,n._path);{const i=dD(s,n);return ch(t,n,null,i)}}}}function $c(t,e){const n=Tu(e);return t.queryToTagMap.get(n)}function Tu(t){return t._path.toString()+"$"+t._queryIdentifier}function ym(t,e){return t.tagToQueryMap.get(e)}function vm(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function _m(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const s=dm(t.pendingWriteTree_,e);return mm(r,n,s,null)}function g2(t){return t.fold((e,n,r)=>{if(n&&Fr(n))return[Su(n)];{let s=[];return n&&(s=RC(n)),qe(r,(i,o)=>{s=s.concat(o)}),s}})}function Ho(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(l2())(t._repo,t._path):t}function y2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Tu(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function v2(){return c2++}function _2(t,e,n){const r=e._path,s=$c(t,e),i=jC(t,n),o=t.listenProvider_.startListening(Ho(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)O(!Fr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!X(c)&&d&&Fr(d))return[Su(d).query];{let h=[];return d&&(h=h.concat(RC(d).map(_=>_.query))),qe(f,(_,x)=>{h=h.concat(x)}),h}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Ho(d),$c(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wm(n)}node(){return this.node_}}class xm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new xm(this.syncTree_,n)}node(){return gm(this.syncTree_,this.path_)}}const w2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},bv=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return x2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return E2(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},x2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},E2=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},FC=function(t,e,n,r){return Em(e,new xm(n,t),r)},UC=function(t,e,n){return Em(t,new wm(e),n)};function Em(t,e,n){const r=t.getPriority().val(),s=bv(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=bv(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new je(a,$e(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new je(s))),o.forEachChild(ke,(a,l)=>{const c=Em(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Sm(t,e){let n=e instanceof de?e:new de(e),r=t,s=Q(n);for(;s!==null;){const i=ki(r.node.children,s)||{children:{},childCount:0};r=new Cm(s,r,i),n=me(n),s=Q(n)}return r}function Ji(t){return t.node.value}function $C(t,e){t.node.value=e,uh(t)}function HC(t){return t.node.childCount>0}function C2(t){return Ji(t)===void 0&&!HC(t)}function Iu(t,e){qe(t.node.children,(n,r)=>{e(new Cm(n,t,r))})}function WC(t,e,n,r){n&&!r&&e(t),Iu(t,s=>{WC(s,e,!0,r)}),n&&r&&e(t)}function S2(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function $a(t){return new de(t.parent===null?t.name:$a(t.parent)+"/"+t.name)}function uh(t){t.parent!==null&&b2(t.parent,t.name,t)}function b2(t,e,n){const r=C2(n),s=Sn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,uh(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,uh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/[\[\].#$\/\u0000-\u001F\u007F]/,I2=/[\[\].#$\u0000-\u001F\u007F]/,Pd=10*1024*1024,bm=function(t){return typeof t=="string"&&t.length!==0&&!T2.test(t)},zC=function(t){return typeof t=="string"&&t.length!==0&&!I2.test(t)},N2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zC(t)},k2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Xp(t)||t&&typeof t=="object"&&Sn(t,".sv")},BC=function(t,e,n,r){r&&e===void 0||Nu(yu(t,"value"),e,n)},Nu=function(t,e,n){const r=n instanceof de?new VD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yr(r)+" with contents = "+e.toString());if(Xp(e))throw new Error(t+"contains "+e.toString()+" "+Yr(r));if(typeof e=="string"&&e.length>Pd/3&&vu(e)>Pd)throw new Error(t+"contains a string greater than "+Pd+" utf8 bytes "+Yr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(qe(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!bm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GD(r,o),Nu(t,a,r),KD(r)}),s&&i)throw new Error(t+' contains ".value" child '+Yr(r)+" in addition to actual children.")}},P2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=pa(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!bm(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(BD);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Ft(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},R2=function(t,e,n,r){const s=yu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];qe(e,(o,a)=>{const l=new de(o);if(Nu(s,a,Ne(n,l)),nm(l)===".priority"&&!k2(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),P2(s,i)},VC=function(t,e,n,r){if(!zC(n))throw new Error(yu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},A2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),VC(t,e,n)},GC=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},O2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!N2(n))throw new Error(yu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ku(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!rm(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function KC(t,e,n){ku(t,n),qC(t,r=>rm(r,e))}function on(t,e,n){ku(t,n),qC(t,r=>Ft(r,e)||Ft(e,r))}function qC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(D2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function D2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();jo&&Ve("event: "+n.toString()),Yi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="repo_interrupt",j2=25;class F2{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new M2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oc(),this.transactionQueueTree_=new Cm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U2(t,e,n){if(t.stats_=em(t.repoInfo_),t.forceRestClient_||mD())t.server_=new Ac(t.repoInfo_,(r,s,i,o)=>{Tv(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Iv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ln(t.repoInfo_,e,(r,s,i,o)=>{Tv(t,r,s,i,o)},r=>{Iv(t,r)},r=>{$2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=wD(t.repoInfo_,()=>new _L(t.stats_,t.server_)),t.infoData_=new pL,t.infoSyncTree_=new Cv({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=bu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Tm(t,"connected",!1),t.serverSyncTree_=new Cv({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);on(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function QC(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pu(t){return w2({timestamp:QC(t)})}function Tv(t,e,n,r,s){t.dataUpdateCount++;const i=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=xc(n,c=>$e(c));o=m2(t.serverSyncTree_,i,l,s)}else{const l=$e(n);o=p2(t.serverSyncTree_,i,l,s)}else if(r){const l=xc(n,c=>$e(c));o=d2(t.serverSyncTree_,i,l)}else{const l=$e(n);o=bu(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Li(t,i)),on(t.eventQueue_,a,o)}function Iv(t,e){Tm(t,"connected",e),e===!1&&z2(t)}function $2(t,e){qe(e,(n,r)=>{Tm(t,n,r)})}function Tm(t,e,n){const r=new de("/.info/"+e),s=$e(n);t.infoData_.updateSnapshot(r,s);const i=bu(t.infoSyncTree_,r,s);on(t.eventQueue_,r,i)}function Im(t){return t.nextWriteId_++}function H2(t,e,n,r,s){Ru(t,"set",{path:e.toString(),value:n,priority:r});const i=Pu(t),o=$e(n,r),a=gm(t.serverSyncTree_,e),l=UC(o,a,i),c=Im(t),d=MC(t.serverSyncTree_,e,l,c,!0);ku(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,_)=>{const x=h==="ok";x||lt("set at "+e+" failed: "+h);const g=vr(t.serverSyncTree_,c,!x);on(t.eventQueue_,e,g),dh(t,s,h,_)});const f=km(t,e);Li(t,f),on(t.eventQueue_,f,[])}function W2(t,e,n,r){Ru(t,"update",{path:e.toString(),value:n});let s=!0;const i=Pu(t),o={};if(qe(n,(a,l)=>{s=!1,o[a]=FC(Ne(e,a),$e(l),t.serverSyncTree_,i)}),s)Ve("update() called with empty data.  Don't do anything."),dh(t,r,"ok",void 0);else{const a=Im(t),l=u2(t.serverSyncTree_,e,o,a);ku(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const f=c==="ok";f||lt("update at "+e+" failed: "+c);const h=vr(t.serverSyncTree_,a,!f),_=h.length>0?Li(t,e):e;on(t.eventQueue_,_,h),dh(t,r,c,d)}),qe(n,c=>{const d=km(t,Ne(e,c));Li(t,d)}),on(t.eventQueue_,e,[])}}function z2(t){Ru(t,"onDisconnectEvents");const e=Pu(t),n=Oc();nh(t.onDisconnect_,ie(),(s,i)=>{const o=FC(s,i,t.serverSyncTree_,e);xC(n,s,o)});let r=[];nh(n,ie(),(s,i)=>{r=r.concat(bu(t.serverSyncTree_,s,i));const o=km(t,s);Li(t,o)}),t.onDisconnect_=Oc(),on(t.eventQueue_,ie(),r)}function B2(t,e,n){let r;Q(e._path)===".info"?r=Sv(t.infoSyncTree_,e,n):r=Sv(t.serverSyncTree_,e,n),KC(t.eventQueue_,e._path,r)}function Nv(t,e,n){let r;Q(e._path)===".info"?r=ch(t.infoSyncTree_,e,n):r=ch(t.serverSyncTree_,e,n),KC(t.eventQueue_,e._path,r)}function V2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(L2)}function Ru(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ve(n,...e)}function dh(t,e,n,r){e&&Yi(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function YC(t,e,n){return gm(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Nm(t,e=t.transactionQueueTree_){if(e||Au(t,e),Ji(e)){const n=JC(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&G2(t,$a(e),n)}else HC(e)&&Iu(e,n=>{Nm(t,n)})}function G2(t,e,n){const r=n.map(c=>c.currentWriteId),s=YC(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];O(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=mt(e,d.path);i=i.updateChild(f,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ru(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(vr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Au(t,Sm(t.transactionQueueTree_,e)),Nm(t,t.transactionQueueTree_),on(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Yi(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{lt("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Li(t,e)}},o)}function Li(t,e){const n=XC(t,e),r=$a(n),s=JC(t,n);return K2(t,s,r),r}function K2(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=mt(n,l.path);let d=!1,f;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,s=s.concat(vr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=j2)d=!0,f="maxretry",s=s.concat(vr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=YC(t,l.path,o);l.currentInputSnapshot=h;const _=e[a].update(h.val());if(_!==void 0){Nu("transaction failed: Data returned ",_,l.path);let x=$e(_);typeof _=="object"&&_!=null&&Sn(_,".priority")||(x=x.updatePriority(h.getPriority()));const w=l.currentWriteId,y=Pu(t),m=UC(x,h,y);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=m,l.currentWriteId=Im(t),o.splice(o.indexOf(w),1),s=s.concat(MC(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),s=s.concat(vr(t.serverSyncTree_,w,!0))}else d=!0,f="nodata",s=s.concat(vr(t.serverSyncTree_,l.currentWriteId,!0))}on(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Au(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Yi(r[a]);Nm(t,t.transactionQueueTree_)}function XC(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&Ji(r)===void 0;)r=Sm(r,n),e=me(e),n=Q(e);return r}function JC(t,e){const n=[];return ZC(t,e,n),n.sort((r,s)=>r.order-s.order),n}function ZC(t,e,n){const r=Ji(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Iu(e,s=>{ZC(t,s,n)})}function Au(t,e){const n=Ji(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$C(e,n.length>0?n:void 0)}Iu(e,r=>{Au(t,r)})}function km(t,e){const n=$a(XC(t,e)),r=Sm(t.transactionQueueTree_,e);return S2(r,s=>{Rd(t,s)}),Rd(t,r),WC(r,s=>{Rd(t,s)}),n}function Rd(t,e){const n=Ji(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(vr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?$C(e,void 0):n.length=i+1,on(t.eventQueue_,$a(e),s);for(let o=0;o<r.length;o++)Yi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Q2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${n}' in query '${t}'`)}return e}const kv=function(t,e){const n=Y2(t),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oD();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sC(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new de(n.pathString)}},Y2=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(s=q2(t.substring(d,f)));const h=Q2(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",X2=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Pv.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Pv.charAt(e[s]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class Z2{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return X(this._path)?null:nm(this._path)}get ref(){return new Br(this._repo,this._path)}get _queryIdentifier(){const e=hv(this._queryParams),n=Jp(e);return n==="{}"?"default":n}get _queryObject(){return hv(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof Pm))return!1;const n=this._repo===e._repo,r=rm(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+zD(this._path)}}class Br extends Pm{constructor(e,n){super(e,n,new am,!1)}get parent(){const e=hC(this._path);return e===null?null:new Br(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Hc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),r=_a(this.ref,e);return new Hc(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Hc(s,_a(this.ref,r),ke)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xt(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?_a(t._root,e):t._root}function _a(t,e){return t=ft(t),Q(t._path)===null?A2("child","path",e):VC("child","path",e),new Br(t._repo,Ne(t._path,e))}function tj(t,e){t=ft(t),GC("push",t._path),BC("push",e,t._path,!0);const n=QC(t._repo),r=X2(n),s=_a(t,r),i=_a(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function nj(t,e){t=ft(t),GC("set",t._path),BC("set",e,t._path,!1);const n=new Ra;return H2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Zn(t,e){R2("update",e,t._path);const n=new Ra;return W2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Rm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new J2("value",this,new Hc(e.snapshotNode,new Br(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Z2(this,e,n):null}matches(e){return e instanceof Rm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rj(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,f)=>{Nv(t._repo,t,a),l(d,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new ej(n,i||void 0),a=new Rm(o);return B2(t._repo,t,a),()=>Nv(t._repo,t,a)}function pl(t,e,n,r){return rj(t,"value",e,n,r)}t2(Br);a2(Br);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="FIREBASE_DATABASE_EMULATOR_HOST",fh={};let ij=!1;function oj(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=Gi(i);t.repoInfo_=new sC(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function aj(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=kv(i,s),a=o.repoInfo,l;typeof process<"u"&&Qy&&(l=Qy[sj]),l?(i=`http://${l}?ns=${a.namespace}`,o=kv(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new yD(t.name,t.options,e);O2("Invalid Firebase Database URL",o),X(o.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=cj(a,t,c,new gD(t,n));return new uj(d,t)}function lj(t,e){const n=fh[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),V2(t),delete n[t.key]}function cj(t,e,n,r){let s=fh[e.name];s||(s={},fh[e.name]=s);let i=s[t.toURLString()];return i&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new F2(t,ij,n,r),s[t.toURLString()]=i,i}class uj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(U2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Br(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}}function dj(t=aE(),e){const n=Wp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=cR("database");r&&fj(n,...r)}return n}function fj(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&hs(r,i.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hl(Hl.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:uR(r.mockUserToken,t.app.options.projectId);o=new Hl(a)}Gi(e)&&(Z0(e),eE("Database",!0)),oj(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){eD(qi),Pi(new ps("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return aj(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Pr(Yy,Xy,t),Pr(Yy,Xy,"esm2020")}Ln.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ln.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hj();const pj={apiKey:"AIzaSyCEtbJ-KR_UV9LAlYlnvgoxliRs5FkSdXk",authDomain:"kicked-in-the-disc.firebaseapp.com",databaseURL:"https://kicked-in-the-disc-default-rtdb.firebaseio.com",projectId:"kicked-in-the-disc",storageBucket:"kicked-in-the-disc.firebasestorage.app",appId:"1:987543051729:web:c258be8a9deaa79a52d4f0"},eS=oE(pj),ml=JM(eS),Et=dj(eS);function Ns(){const[t,e]=v.useState(null),[n,r]=v.useState(!0),{toast:s}=Ia();return v.useEffect(()=>ml.onAuthStateChanged(c=>{e(c),r(!1)}),[]),{user:t,loading:n,signUp:async(l,c,d)=>{try{const f=await DO(ml,l,c);return await FO(f.user,{displayName:d}),s({title:"Account created successfully!",description:"Welcome to Kicked in the Disc"}),f}catch(f){throw s({title:"Error creating account",description:f.message,variant:"destructive"}),f}},signIn:async(l,c)=>{try{const d=await LO(ml,l,c);return s({title:"Signed in successfully!",description:"Welcome back"}),d}catch(d){throw s({title:"Error signing in",description:d.message,variant:"destructive"}),d}},logout:async()=>{try{await HO(ml),s({title:"Signed out successfully"})}catch(l){s({title:"Error signing out",description:l.message,variant:"destructive"})}}}}const ee=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("rounded-2xl border-3 border-logo-dark bg-card text-card-foreground cartoon-shadow card-hover",t),...e}));ee.displayName="Card";const mj=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));mj.displayName="CardHeader";const gj=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("text-2xl font-bold font-logo leading-none tracking-tight text-logo-dark",t),...e}));gj.displayName="CardTitle";const yj=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));yj.displayName="CardDescription";const te=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));te.displayName="CardContent";const vj=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));vj.displayName="CardFooter";const gn=v.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));gn.displayName="Input";const _j=Sp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium font-logo ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"cartoon-button text-white font-semibold",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border-2 border-logo-dark",outline:"border-3 border-logo-dark bg-white hover:bg-logo-green/20 hover:text-logo-dark font-semibold cartoon-shadow",secondary:"bg-brand-secondary text-white hover:bg-brand-secondary/80 border-2 border-logo-dark font-semibold",ghost:"hover:bg-white/20 hover:text-logo-dark font-medium",link:"text-brand-primary underline-offset-4 hover:underline font-medium",cartoon:"bg-brand-accent text-logo-dark hover:bg-brand-accent/90 border-3 border-logo-dark cartoon-shadow font-bold",gradient:"bg-text-gradient text-white border-2 border-logo-dark cartoon-shadow font-bold"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-lg px-4",lg:"h-14 rounded-xl px-10 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),se=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?FI:"button";return u.jsx(o,{className:xe(_j({variant:e,size:n,className:t})),ref:i,...s})});se.displayName="Button";var wj="Label",tS=v.forwardRef((t,e)=>u.jsx(fe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tS.displayName=wj;var nS=tS;const xj=Sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_r=v.forwardRef(({className:t,...e},n)=>u.jsx(nS,{ref:n,className:xe(xj(),t),...e}));_r.displayName=nS.displayName;function Ej(){const[t,e]=v.useState(!0),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(""),{signIn:d,signUp:f}=Ns(),h=async _=>{if(_.preventDefault(),t)await d(n,s);else{if(s!==l)return;await f(n,s,o)}};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-6 floating-animation",children:"🥏"}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-white/80 mb-8",children:t?"Sign in to track your disc golf games":"Join the disc golf community"}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),u.jsx(gn,{type:"email",value:n,onChange:_=>r(_.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter your email",required:!0})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Display Name"}),u.jsx(gn,{type:"text",value:o,onChange:_=>a(_.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Choose a display name",required:!0})]}),u.jsxs("div",{className:"text-left",children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),u.jsx(gn,{type:"password",value:s,onChange:_=>i(_.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:t?"Enter your password":"Minimum 6 characters",required:!0,minLength:6})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),u.jsx(gn,{type:"password",value:l,onChange:_=>c(_.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Confirm your password",required:!0})]}),u.jsx(se,{type:"submit",className:"w-full bg-white text-brand-primary font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:t?"Sign In":"Create Account"}),u.jsx(se,{type:"button",onClick:()=>e(!t),className:"w-full bg-transparent border border-white/30 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors",children:t?"Create Account":"Back to Sign In"})]})]})})})}function gl({title:t,description:e,icon:n,onClick:r,disabled:s,className:i}){return u.jsx(ee,{className:xe("p-6 card-hover cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95",s&&"opacity-50 cursor-not-allowed hover:scale-100",i),onClick:s?void 0:r,children:u.jsxs(te,{className:"p-0 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-brand-primary/20 rounded-2xl flex items-center justify-center cartoon-shadow border-2 border-logo-dark",children:n}),u.jsx("h3",{className:"font-logo font-bold text-lg mb-2 text-logo-dark",children:t}),u.jsx("p",{className:"text-muted-foreground font-medium",children:e})]})})}const Cj=[{id:"stranger",name:"The Stranger",category:"Before Throw",description:"Make an opponent throw their next throw with their offhand.",copies:4,effect:"force_offhand"},{id:"shrink_ray",name:"Shrink Ray",category:"Before Throw",description:"Make an opponent throw a mini on their next throw.",copies:4,effect:"force_mini"},{id:"because_i_said_so",name:"Because I Said So",category:"Before Throw",description:"Make a mando all other players must make. (mando must be on current hole)",copies:4,effect:"force_mando"},{id:"im_you_silly",name:"I'm You Silly",category:"Before Throw",description:"Take an opponent's throw for them.",copies:4,effect:"take_throw"},{id:"is_that_what_youre_throwing",name:"Is That What You're Throwing",category:"Before Throw",description:"Make an opponent throw a disc of your choosing from yours or their bag.",copies:4,effect:"force_disc_choice"},{id:"gremlins",name:"Gremlins",category:"After Throw",description:"Move an opponent's disc 10 paces in any direction.",copies:4,effect:"move_opponent_disc"},{id:"thats_my_disc",name:"That's My Disc",category:"After Throw",description:"Swap lies with an opponent.",copies:4,effect:"swap_lies"},{id:"merely_a_flesh_wound",name:"Merely a Flesh Wound",category:"After Throw",description:"Make all opponents throw from their knees (both knees must be touching the ground).",copies:4,effect:"force_knees"},{id:"thats_not_fair",name:"That's Not Fair",category:"After Throw",description:"Make an opponent rethrow last throw and take worst lie.",copies:4,effect:"force_rethrow_worst"},{id:"instant_replay",name:"Instant Replay",category:"After Throw",description:"Make all opponents rethrow last throw and take the worst lie.",copies:4,effect:"force_all_rethrow_worst"},{id:"im_rubber_you_glue",name:"I'm Rubber You Glue",category:"Self",description:"Reflects a card played on you back at the person who played it.",copies:4,effect:"reflect_card"},{id:"i_reject_your_reality",name:"I Reject Your Reality",category:"Self",description:"Redirects a card played on you to another opponent.",copies:4,effect:"redirect_card"},{id:"it_was_here_i_swear",name:"It Was Here I Swear",category:"Self",description:"Move your disc 10 paces in any direction.",copies:4,effect:"move_own_disc"},{id:"mulligan",name:"Mulligan",category:"Self",description:"Rethrow last throw and take best lie.",copies:4,effect:"rethrow_best"},{id:"seeing_double",name:"Seeing Double",category:"Self",description:"Putt twice take the best lie.",copies:4,effect:"double_putt_best"},{id:"jealousy",name:"Jealousy",category:"Wild",description:"Change scorecards with an opponent of your choosing. If reflected back, trade with last place or +3 if you're last.",copies:1,effect:"swap_scorecards"},{id:"i_need_some_space",name:"I Need Some Space",category:"Wild",description:"Move your disc 10 paces closer to the basket and all other players must move theirs 10 further away.",copies:1,effect:"move_closer_others_further"},{id:"hear_it_ring",name:"Hear It Ring",category:"Wild",description:"If your disc hits metal it counts as in the basket.",copies:1,effect:"metal_counts_in"},{id:"whats_par_again",name:"What's Par Again",category:"Wild",description:"Add +1 to par for you and -1 to par for all opponents on this hole.",copies:1,effect:"adjust_par"},{id:"ace_run",name:"Ace Run",category:"Wild",description:"Next throw counts as an ace.",copies:1,effect:"next_throw_ace"}];function ks(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),{user:s}=Ns(),{toast:i}=Ia();v.useEffect(()=>{if(s){const p=xt(Et,`users/${s.uid}`);return pl(p,C=>{const b=C.val();r((b==null?void 0:b.hasHostingPrivilege)||!1)})}},[s]);const o=()=>Math.random().toString(36).substring(2,8).toUpperCase(),a=()=>{const p=[];Cj.forEach(E=>{for(let C=0;C<E.copies;C++)p.push({...E,id:`${E.id}_${C}`})});for(let E=p.length-1;E>0;E--){const C=Math.floor(Math.random()*(E+1));[p[E],p[C]]=[p[C],p[E]]}return p},l=(p,E)=>{const C={...p},b=[...E];return Object.keys(C).forEach(S=>{const T=[];for(let k=0;k<5;k++)b.length>0&&T.push(b.pop());C[S].hand=T}),{players:C,remainingDeck:b}},c=async(p,E)=>{if(!s||!n){i({title:"Cannot create game",description:"You need hosting privileges to create a game",variant:"destructive"});return}try{const C=o(),b=tj(xt(Et,"games")),S={id:s.uid,name:s.displayName||s.email,isHost:!0,isReady:!0,strokes:[],scores:[],totalScore:0,hand:[]},T={id:b.key,gameCode:C,hostId:s.uid,courseName:E,totalHoles:p,currentHole:1,currentPar:3,pars:Array.from({length:p},()=>3),parsSet:Array.from({length:p},()=>!1),gamePhase:"lobby",players:{[s.uid]:S},gameActivity:[`${s.displayName||s.email} created the game`],deck:[],discardPile:[],gameRound:"before_throw"};return await nj(b,T),i({title:"Game created!",description:`Game code: ${C}`}),C}catch(C){i({title:"Error creating game",description:C.message,variant:"destructive"})}},d=async p=>{if(s)try{const E=xt(Et,"games");pl(E,C=>{const b=C.val(),S=Object.entries(b||{}).find(([,L])=>L.gameCode===p.toUpperCase());if(!S){i({title:"Game not found",description:"Please check the game code and try again",variant:"destructive"});return}const[T,k]=S;if(Object.keys(k.players).length>=6){i({title:"Game is full",description:"This game already has 6 players",variant:"destructive"});return}const P={id:s.uid,name:s.displayName||s.email,isHost:!1,isReady:!1,strokes:[],scores:[],totalScore:0,hand:[]},j={[`games/${T}/players/${s.uid}`]:P,[`games/${T}/gameActivity`]:[...k.gameActivity||[],`${s.displayName||s.email} joined the game`]};Zn(xt(Et),j),i({title:"Joined game!",description:`Welcome to ${k.courseName||"the game"}`})},{onlyOnce:!0})}catch(E){i({title:"Error joining game",description:E.message,variant:"destructive"})}},f=p=>{const E=xt(Et,`games/${p}`);return pl(E,C=>{const b=C.val();b&&e(S=>({...b,id:p}))})},h=async p=>{if(s)try{const E=xt(Et,"games");return new Promise((C,b)=>{pl(E,S=>{const T=S.val(),k=Object.entries(T||{}).find(([,P])=>P.gameCode===p.toUpperCase());if(k){const[P,j]=k;e({...j,id:P}),C(j)}else b(new Error("Game not found"))},{onlyOnce:!0})})}catch(E){throw i({title:"Error finding game",description:E.message,variant:"destructive"}),E}},_=async p=>{if(!(!s||!t))try{const E=a(),{players:C,remainingDeck:b}=l(t.players,E),S=xt(Et,`games/${p}`);await Zn(S,{gamePhase:"playing",players:C,deck:b,currentPlayerTurn:null,gameRound:"scoring",gameActivity:[...t.gameActivity||[],`${s.displayName||s.email} started the game`,"Cards have been dealt to all players!"]}),i({title:"Game started!",description:"Cards have been dealt to all players"})}catch(E){i({title:"Error starting game",description:E.message,variant:"destructive"})}},x=async(p,E,C)=>{var b;if(!(!s||!t))try{const S=t.players[s.uid];if(!S){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const T=S.hand.findIndex(H=>H.id===E);if(T===-1){i({title:"Error",description:"Card not found in hand",variant:"destructive"});return}const k=S.hand[T],P=[...S.hand];P.splice(T,1);const j=[...t.discardPile||[],k],L={[`games/${p}/players/${s.uid}/hand`]:P,[`games/${p}/discardPile`]:j,[`games/${p}/gameActivity`]:[...t.gameActivity||[],`${s.displayName||s.email} played ${k.name}`+(C?` on ${((b=t.players[C])==null?void 0:b.name)||"a player"}`:"")]};await Zn(xt(Et),L),i({title:"Card played!",description:`${k.name} has been played`})}catch(S){i({title:"Error playing card",description:S.message,variant:"destructive"})}},g=async(p,E,C)=>{var b,S;if(!(!s||!t))try{if(!(((b=t.parsSet)==null?void 0:b[E])??!1)){i({title:"Cannot submit score",description:"The host must set par for this hole first",variant:"destructive"});return}const k=t.players[s.uid];if(!k){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const P=[...k.strokes||[]];P[E]=C;const j=((S=t.pars)==null?void 0:S[E])??t.currentPar??3,L=C-j,H=[...k.scores||[]];H[E]=L;const M=H.reduce((I,A)=>I+(A||0),0),G={[`games/${p}/players/${s.uid}/strokes`]:P,[`games/${p}/players/${s.uid}/scores`]:H,[`games/${p}/players/${s.uid}/totalScore`]:M};await Zn(xt(Et),G);const $=L>0?`+${L}`:L.toString();i({title:"Score submitted!",description:`Hole ${E+1}: ${C} strokes (${$})`}),(()=>{var W;if(!t)return;const I=t.currentHole-1;if(!(((W=t.parsSet)==null?void 0:W[I])??!1))return;Object.values(t.players).every(re=>{var Le;return re.id===s.uid?typeof H[I]=="number":typeof((Le=re.scores)==null?void 0:Le[I])=="number"})&&setTimeout(()=>{y(p)},1500)})()}catch(T){i({title:"Error submitting score",description:T.message,variant:"destructive"})}},w=async(p,E)=>{if(!s||!t||s.uid!==t.hostId)return;const C=[...t.pars||Array.from({length:t.totalHoles},()=>3)];C[t.currentHole-1]=E;const b=[...t.parsSet||Array.from({length:t.totalHoles},()=>!1)];b[t.currentHole-1]=!0;const S={currentPar:E,pars:C,parsSet:b,gameActivity:[...t.gameActivity||[],`Par set to ${E} for hole ${t.currentHole}`]};await Zn(xt(Et,`games/${p}`),S)},y=async p=>{var b,S,T;if(!s||!t)return;const E=t.currentHole+1;if(E>t.totalHoles){console.log("🏁 Game finishing! nextHole:",E,"totalHoles:",t.totalHoles),await Zn(xt(Et,`games/${p}`),{gamePhase:"finished",gameActivity:[...t.gameActivity||[],"Game finished!"]}),console.log("🏁 Game phase set to finished in Firebase"),i({title:"Round complete!",description:"Game has been finished."});return}let C={[`games/${p}/currentHole`]:E,[`games/${p}/gameActivity`]:[...t.gameActivity||[],`Advanced to hole ${E}`]};if((b=t.parsSet)!=null&&b[E-1]?C[`games/${p}/currentPar`]=((S=t.pars)==null?void 0:S[E-1])??3:C[`games/${p}/currentPar`]=3,(E-1)%3===0){const P=Object.values(t.players).sort((j,L)=>(L.totalScore||0)-(j.totalScore||0))[0];if(P){const j=[...t.deck||[]],L=j.pop();if(L){const H=[...((T=t.players[P.id])==null?void 0:T.hand)||[]];H.push(L),C={...C,[`games/${p}/deck`]:j,[`games/${p}/players/${P.id}/hand`]:H,[`games/${p}/gameActivity`]:[...C[`games/${p}/gameActivity`]||[],`${P.name} received a bonus card for being in last place`]}}}}await Zn(xt(Et),C)};return{currentGame:t,hasHostingPrivilege:n,createGame:c,joinGame:d,listenToGame:f,findGameByCode:h,startGame:_,playCard:x,submitScore:g,setParForHole:w,advanceToNextHole:y,purchaseHosting:async()=>{if(s)try{const p=xt(Et,`users/${s.uid}`);await Zn(p,{hasHostingPrivilege:!0}),i({title:"Purchase successful!",description:"You can now host games"})}catch(p){i({title:"Purchase failed",description:p.message,variant:"destructive"})}}}}function Sj(){var r;const{user:t,logout:e}=Ns(),{hasHostingPrivilege:n}=ks();return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"glass-card p-4 m-4 rounded-2xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"text-4xl floating-animation",children:"🥏"}),u.jsx("h1",{className:"text-2xl font-logo font-bold text-gradient text-outline",children:"KICKED IN THE DISC"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-white/80 text-sm",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),u.jsx(se,{onClick:e,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",size:"sm",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:u.jsx(te,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["Welcome, ",((r=t==null?void 0:t.displayName)==null?void 0:r.split(" ")[0])||"Player","!"]}),u.jsx("p",{className:"text-white/70",children:"Ready to play some disc golf?"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-white/70 text-sm",children:"Hosting Privilege:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:n?"✅ Purchased":"❌ Not Purchased"})]})})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx(Ol,{href:"/host",children:u.jsx(gl,{title:"Host Game",description:"Create a new game for up to 6 players",disabled:!n,icon:u.jsx(jN,{className:"w-8 h-8 text-brand-accent"}),className:n?"":"opacity-50"})}),u.jsx(Ol,{href:"/join",children:u.jsx(gl,{title:"Join Game",description:"Enter a game code to join an existing game",icon:u.jsx(WN,{className:"w-8 h-8 text-blue-400"})})}),u.jsx(Ol,{href:"/store",children:u.jsx(gl,{title:"Store",description:"Purchase hosting privileges and upgrades",icon:u.jsx($N,{className:"w-8 h-8 text-purple-400"})})}),u.jsx(gl,{title:"Statistics",description:"View your game history and performance",icon:u.jsx(NN,{className:"w-8 h-8 text-green-400"})})]}),u.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Games"}),u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-white/70",children:"No recent games found"}),u.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Join or host a game to get started!"})]})]})})]})]})}function bj(){const{hasHostingPrivilege:t,purchaseHosting:e}=ks();return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Store"}),u.jsx("p",{className:"text-white/70",children:"Enhance your disc golf experience"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-brand-accent/20 rounded-3xl flex items-center justify-center",children:u.jsx(UN,{className:"w-10 h-10 text-brand-accent"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Hosting Privilege"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Unlock the ability to host games for up to 6 players with custom hole counts"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$9.99"}),u.jsx(se,{onClick:e,disabled:t,className:`w-full font-semibold py-3 rounded-xl transition-colors ${t?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-brand-accent text-white hover:bg-brand-accent/90"}`,children:t?"Purchased ✅":"Purchase Now"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"One-time purchase • Lifetime access"})]})}),u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(HN,{className:"w-10 h-10 text-purple-400"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Premium Features"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Advanced statistics, custom scoring rules, and exclusive themes"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$4.99"}),u.jsx(se,{disabled:!0,className:"w-full bg-purple-500/20 text-purple-300 font-semibold py-3 rounded-xl opacity-50 cursor-not-allowed",children:"Coming Soon"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"Monthly subscription"})]})})]}),u.jsx("div",{className:"text-center",children:u.jsx(Ol,{href:"/",children:u.jsx(se,{className:"bg-white/10 text-white px-8 py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})})})]})}function Tj(){const[t,e]=v.useState(18),[n,r]=v.useState(""),{createGame:s}=ks(),[,i]=Hi(),o=async()=>{const l=await s(t,n||void 0);l&&i(`/lobby/${l}`)},a=[9,18,24];return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Host New Game"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-3",children:"Number of Holes"}),u.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:a.map(l=>u.jsxs(se,{onClick:()=>e(l),className:`p-4 rounded-xl font-semibold transition-colors border ${t===l?"bg-white/20 border-white/40 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[l," Holes"]},l))}),u.jsxs("div",{className:"mt-3",children:[u.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:l=>e(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),u.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-1",children:[u.jsx("span",{children:"1"}),u.jsxs("span",{children:["Custom: ",t," holes"]}),u.jsx("span",{children:"24"})]})]})]}),u.jsxs("div",{children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Mode"}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"p-4 bg-white/20 rounded-xl border-2 border-white/40 cursor-pointer",children:[u.jsx("div",{className:"text-white font-semibold",children:"Standard Stroke Play"}),u.jsx("div",{className:"text-white/70 text-sm",children:"Traditional scoring - lowest score wins"})]})})]}),u.jsxs("div",{children:[u.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-3",children:"Course Information (Optional)"}),u.jsx(gn,{type:"text",value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter course name"})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-8",children:[u.jsx(se,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Create Game"}),u.jsx(se,{onClick:()=>i("/"),className:"px-8 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})}function Ij(){const[t,e]=v.useState(""),{joinGame:n}=ks(),[,r]=Hi(),s=async()=>{t.length===6&&(await n(t),r(`/lobby/${t.toUpperCase()}`))};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(MN,{className:"w-10 h-10 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Game"}),u.jsx("p",{className:"text-white/70 mb-8",children:"Enter the game code provided by the host"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(gn,{type:"text",value:t,onChange:i=>e(i.target.value.toUpperCase()),className:"w-full px-4 py-4 text-center text-2xl font-mono rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40 uppercase tracking-wider",placeholder:"ABC123",maxLength:6}),u.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Game codes are 6 characters long"})]}),u.jsx(se,{onClick:s,disabled:t.length!==6,className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50",children:"Join Game"}),u.jsx(se,{onClick:()=>r("/"),className:"w-full bg-white/10 text-white font-semibold py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})]})]})})})}function rS({player:t,position:e,showScore:n}){var o;const r=(a,l=0)=>a<l?"text-green-400":a===l?"text-white":"text-red-400",s=a=>a===1?"bg-yellow-500":a===2?"bg-gray-400":a===3?"bg-orange-600":"bg-white/20",i=(t.strokes||[]).reduce((a,l)=>a+(l||0),0);return u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all duration-200 ${t.isHost?"bg-brand-gradient":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[e&&u.jsx("div",{className:`w-8 h-8 ${s(e)} rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white font-bold text-sm",children:e})}),u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-semibold",children:t.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white font-semibold flex items-center",children:t.name}),u.jsxs("div",{className:"text-white/70 text-sm",children:[t.isHost?"👑 Host":"Player",!n&&(t.isReady?" • Ready ✓":" • Waiting..."),n&&` • ${((o=t.hand)==null?void 0:o.length)||0} cards`]})]})]}),n&&u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`text-2xl font-bold ${r(t.totalScore)}`,children:[t.totalScore>0?"+":"",t.totalScore]}),u.jsxs("div",{className:"text-white/70 text-sm",children:[i," strokes"]})]})]})}function Nj(){const[t,e]=gp("/lobby/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,startGame:i,setParForHole:o}=ks(),{user:a}=Ns(),[,l]=Hi(),{toast:c}=Ia(),[d,f]=v.useState(!1),[h,_]=v.useState(!0),[x,g]=v.useState("");v.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(_(!0),s(e.gameCode).then(()=>{_(!1)}).catch(T=>{console.error("Error finding game:",T),_(!1),c({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),l("/")}))},[t,e==null?void 0:e.gameCode,n,s,l,c]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),v.useEffect(()=>{n&&g(n.currentPar??"")},[n==null?void 0:n.currentPar]),v.useEffect(()=>{(n==null?void 0:n.gamePhase)==="playing"&&(c({title:"Game starting!",description:"Redirecting to game..."}),l(`/game/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,l,c]);const w=async()=>{if(n!=null&&n.gameCode)try{await navigator.clipboard.writeText(n.gameCode),f(!0),c({title:"Game code copied!",description:"Share this code with your friends to join the game."}),setTimeout(()=>f(!1),2e3)}catch{c({title:"Failed to copy",description:"Please copy the game code manually.",variant:"destructive"})}},y=async()=>{if(n!=null&&n.gameCode){const T=`${window.location.origin}/join`,k=`Join my disc golf game! 🥏

Game Code: ${n.gameCode}

Sign up and join here: ${T}`;if(navigator.share)try{await navigator.share({title:"Join my Disc Golf Game",text:k,url:T})}catch{}else try{await navigator.clipboard.writeText(k),c({title:"Game link copied!",description:"Share this message with your friends to invite them."})}catch{c({title:"Failed to copy",description:"Please share the game code manually.",variant:"destructive"})}}},m=()=>{if(n!=null&&n.gameCode){const T=`${window.location.origin}/join`,k=`Join my disc golf game! 🥏

Game Code: ${n.gameCode}

Sign up and join here: ${T}`,P=`sms:?body=${encodeURIComponent(k)}`;window.open(P,"_blank")}};if(h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🔍"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Looking for game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we find your game"})]})})});if(!n||!a)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(se,{onClick:()=>l("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const p=n.hostId===a.uid,E=Object.values(n.players),C=async()=>{n!=null&&n.id&&(await i(n.id),l(`/game/${n.gameCode}`))},b=async()=>{!(n!=null&&n.id)||x===""||(await o(n.id,Number(x)),c({title:"Par set",description:`Par set to ${x} for hole 1`}))},S=()=>{l("/")};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:n.courseName||"Disc Golf Game"}),u.jsxs("p",{className:"text-white/70",children:[n.totalHoles," holes • Standard Stroke Play"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-3xl font-mono font-bold text-brand-accent",children:n.gameCode}),u.jsx("div",{className:"text-white/70 text-sm",children:"Game Code"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/70 text-sm",children:["Players: ",u.jsx("span",{className:"text-white font-semibold",children:E.length}),"/6"]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Status: ",u.jsx("span",{className:"text-yellow-400 font-semibold",children:"Waiting for players"})]})]})]})}),u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Share Game Code"}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx("div",{className:"flex-1 bg-white/10 rounded-xl p-4 border border-white/20",children:u.jsx("div",{className:"text-2xl font-mono font-bold text-brand-accent text-center",children:n.gameCode})}),u.jsx(se,{onClick:w,className:`px-4 py-4 rounded-xl transition-colors ${d?"bg-green-500/20 text-green-300 border-green-400/40":"bg-white/10 text-white hover:bg-white/20 border-white/20"}`,children:d?u.jsx(r0,{className:"w-5 h-5"}):u.jsx(RN,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs(se,{onClick:y,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-xl hover:bg-brand-primary/90 transition-colors",children:[u.jsx(FN,{className:"w-4 h-4 mr-2"}),"Share Link"]}),u.jsxs(se,{onClick:m,className:"flex-1 bg-brand-secondary text-white font-semibold py-3 rounded-xl hover:bg-brand-secondary/90 transition-colors",children:[u.jsx(DN,{className:"w-4 h-4 mr-2"}),"Send Text"]})]})]})}),u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:E.map(T=>u.jsx(rS,{player:T},T.id))})]})}),p&&u.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Host Controls"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white/80 text-sm mb-1",children:"Par for hole 1"}),u.jsx(gn,{type:"number",min:1,value:x,onChange:T=>g(T.target.value===""?"":Number(T.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Par"})]}),u.jsx(se,{onClick:b,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"}),u.jsx(se,{onClick:C,disabled:E.length<1,className:"flex-1 bg-brand-accent text-white font-semibold py-3 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}),u.jsx(se,{onClick:S,className:"px-8 bg-red-500/20 text-red-300 font-semibold py-3 rounded-xl hover:bg-red-500/30 transition-colors",children:"Cancel Game"})]})]})}),!p&&u.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsx(te,{className:"p-0 text-center",children:u.jsx(se,{onClick:S,className:"bg-red-500/20 text-red-300 font-semibold py-3 px-8 rounded-xl hover:bg-red-500/30 transition-colors",children:"Leave Game"})})})]})}function Rv(t,[e,n]){return Math.min(n,Math.max(e,t))}var kj=v.createContext(void 0);function Pj(t){const e=v.useContext(kj);return t||e||"ltr"}var Ad=0;function Rj(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Av()),document.body.insertAdjacentElement("beforeend",t[1]??Av()),Ad++,()=>{Ad===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ad--}},[])}function Av(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Od="focusScope.autoFocusOnMount",Md="focusScope.autoFocusOnUnmount",Ov={bubbles:!1,cancelable:!0},Aj="FocusScope",sS=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Pt(s),d=Pt(i),f=v.useRef(null),h=Pe(e,g=>l(g)),_=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let g=function(p){if(_.paused||!a)return;const E=p.target;a.contains(E)?f.current=E:nr(f.current,{select:!0})},w=function(p){if(_.paused||!a)return;const E=p.relatedTarget;E!==null&&(a.contains(E)||nr(f.current,{select:!0}))},y=function(p){if(document.activeElement===document.body)for(const C of p)C.removedNodes.length>0&&nr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const m=new MutationObserver(y);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),m.disconnect()}}},[r,a,_.paused]),v.useEffect(()=>{if(a){Dv.add(_);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(Od,Ov);a.addEventListener(Od,c),a.dispatchEvent(y),y.defaultPrevented||(Oj(Fj(iS(a)),{select:!0}),document.activeElement===g&&nr(a))}return()=>{a.removeEventListener(Od,c),setTimeout(()=>{const y=new CustomEvent(Md,Ov);a.addEventListener(Md,d),a.dispatchEvent(y),y.defaultPrevented||nr(g??document.body,{select:!0}),a.removeEventListener(Md,d),Dv.remove(_)},0)}}},[a,c,d,_]);const x=v.useCallback(g=>{if(!n&&!r||_.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const m=g.currentTarget,[p,E]=Mj(m);p&&E?!g.shiftKey&&y===E?(g.preventDefault(),n&&nr(p,{select:!0})):g.shiftKey&&y===p&&(g.preventDefault(),n&&nr(E,{select:!0})):y===m&&g.preventDefault()}},[n,r,_.paused]);return u.jsx(fe.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});sS.displayName=Aj;function Oj(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(nr(r,{select:e}),document.activeElement!==n)return}function Mj(t){const e=iS(t),n=Mv(e,t),r=Mv(e.reverse(),t);return[n,r]}function iS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mv(t,e){for(const n of t)if(!Dj(n,{upTo:e}))return n}function Dj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lj(t){return t instanceof HTMLInputElement&&"select"in t}function nr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Lj(t)&&e&&t.select()}}var Dv=jj();function jj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Lv(t,e),t.unshift(e)},remove(e){var n;t=Lv(t,e),(n=t[0])==null||n.resume()}}}function Lv(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Fj(t){return t.filter(e=>e.tagName!=="A")}function Uj(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $j=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},As=new WeakMap,yl=new WeakMap,vl={},Dd=0,oS=function(t){return t&&(t.host||oS(t.parentNode))},Hj=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=oS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Wj=function(t,e,n,r){var s=Hj(e,Array.isArray(t)?t:[t]);vl[n]||(vl[n]=new WeakMap);var i=vl[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var _=h.getAttribute(r),x=_!==null&&_!=="false",g=(As.get(h)||0)+1,w=(i.get(h)||0)+1;As.set(h,g),i.set(h,w),o.push(h),g===1&&x&&yl.set(h,!0),w===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),Dd++,function(){o.forEach(function(f){var h=As.get(f)-1,_=i.get(f)-1;As.set(f,h),i.set(f,_),h||(yl.has(f)||f.removeAttribute(r),yl.delete(f)),_||f.removeAttribute(n)}),Dd--,Dd||(As=new WeakMap,As=new WeakMap,yl=new WeakMap,vl={})}},zj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=$j(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Wj(r,s,n,"aria-hidden")):function(){return null}},mn=function(){return mn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mn.apply(this,arguments)};function aS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Bj(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Wl="right-scroll-bar-position",zl="width-before-scroll-bar",Vj="with-scroll-bars-hidden",Gj="--removed-body-scroll-bar-size";function Ld(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Kj(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var qj=typeof window<"u"?v.useLayoutEffect:v.useEffect,jv=new WeakMap;function Qj(t,e){var n=Kj(null,function(r){return t.forEach(function(s){return Ld(s,r)})});return qj(function(){var r=jv.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ld(a,null)}),i.forEach(function(a){s.has(a)||Ld(a,o)})}jv.set(n,t)},[t]),n}function Yj(t){return t}function Xj(t,e){e===void 0&&(e=Yj);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Jj(t){t===void 0&&(t={});var e=Xj(null);return e.options=mn({async:!0,ssr:!1},t),e}var lS=function(t){var e=t.sideCar,n=aS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,mn({},n))};lS.isSideCarExport=!0;function Zj(t,e){return t.useMedium(e),lS}var cS=Jj(),jd=function(){},Ou=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:jd,onWheelCapture:jd,onTouchMoveCapture:jd}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,_=t.noIsolation,x=t.inert,g=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,m=t.gapMode,p=aS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=Qj([n,e]),b=mn(mn({},p),s);return v.createElement(v.Fragment,null,d&&v.createElement(E,{sideCar:cS,removeScrollBar:c,shards:f,noIsolation:_,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:m}),o?v.cloneElement(v.Children.only(a),mn(mn({},b),{ref:C})):v.createElement(y,mn({},b,{className:l,ref:C}),a))});Ou.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ou.classNames={fullWidth:zl,zeroRight:Wl};var e4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=e4();return e&&t.setAttribute("nonce",e),t}function n4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function r4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var s4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=t4())&&(n4(e,n),r4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},i4=function(){var t=s4();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uS=function(){var t=i4(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},o4={left:0,top:0,right:0,gap:0},Fd=function(t){return parseInt(t||"",10)||0},a4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Fd(n),Fd(r),Fd(s)]},l4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return o4;var e=a4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},c4=uS(),ci="data-scroll-locked",u4=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Vj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wl," .").concat(Wl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zl," .").concat(zl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(Gj,": ").concat(a,`px;
  }
`)},Fv=function(){var t=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(t)?t:0},d4=function(){v.useEffect(function(){return document.body.setAttribute(ci,(Fv()+1).toString()),function(){var t=Fv()-1;t<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,t.toString())}},[])},f4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;d4();var i=v.useMemo(function(){return l4(s)},[s]);return v.createElement(c4,{styles:u4(i,!e,s,n?"":"!important")})},hh=!1;if(typeof window<"u")try{var _l=Object.defineProperty({},"passive",{get:function(){return hh=!0,!0}});window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{hh=!1}var Os=hh?{passive:!1}:!1,h4=function(t){return t.tagName==="TEXTAREA"},dS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!h4(t)&&n[e]==="visible")},p4=function(t){return dS(t,"overflowY")},m4=function(t){return dS(t,"overflowX")},Uv=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fS(t,r);if(s){var i=hS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},g4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},y4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},fS=function(t,e){return t==="v"?p4(e):m4(e)},hS=function(t,e){return t==="v"?g4(e):y4(e)},v4=function(t,e){return t==="h"&&e==="rtl"?-1:1},_4=function(t,e,n,r,s){var i=v4(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var _=hS(t,a),x=_[0],g=_[1],w=_[2],y=g-w-i*x;(x||y)&&fS(t,a)&&(f+=y,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},wl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$v=function(t){return[t.deltaX,t.deltaY]},Hv=function(t){return t&&"current"in t?t.current:t},w4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},x4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E4=0,Ms=[];function C4(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(E4++)[0],i=v.useState(uS)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Bj([t.lockRef.current],(t.shards||[]).map(Hv),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=wl(g),m=n.current,p="deltaX"in g?g.deltaX:m[0]-y[0],E="deltaY"in g?g.deltaY:m[1]-y[1],C,b=g.target,S=Math.abs(p)>Math.abs(E)?"h":"v";if("touches"in g&&S==="h"&&b.type==="range")return!1;var T=Uv(S,b);if(!T)return!0;if(T?C=S:(C=S==="v"?"h":"v",T=Uv(S,b)),!T)return!1;if(!r.current&&"changedTouches"in g&&(p||E)&&(r.current=C),!C)return!0;var k=r.current||C;return _4(k,w,g,k==="h"?p:E,!0)},[]),l=v.useCallback(function(g){var w=g;if(!(!Ms.length||Ms[Ms.length-1]!==i)){var y="deltaY"in w?$v(w):wl(w),m=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&w4(C.delta,y)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var p=(o.current.shards||[]).map(Hv).filter(Boolean).filter(function(C){return C.contains(w.target)}),E=p.length>0?a(w,p[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),c=v.useCallback(function(g,w,y,m){var p={name:g,delta:w,target:y,should:m,shadowParent:S4(y)};e.current.push(p),setTimeout(function(){e.current=e.current.filter(function(E){return E!==p})},1)},[]),d=v.useCallback(function(g){n.current=wl(g),r.current=void 0},[]),f=v.useCallback(function(g){c(g.type,$v(g),g.target,a(g,t.lockRef.current))},[]),h=v.useCallback(function(g){c(g.type,wl(g),g.target,a(g,t.lockRef.current))},[]);v.useEffect(function(){return Ms.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Os),document.addEventListener("touchmove",l,Os),document.addEventListener("touchstart",d,Os),function(){Ms=Ms.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Os),document.removeEventListener("touchmove",l,Os),document.removeEventListener("touchstart",d,Os)}},[]);var _=t.removeScrollBar,x=t.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:x4(s)}):null,_?v.createElement(f4,{gapMode:t.gapMode}):null)}function S4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const b4=Zj(cS,C4);var pS=v.forwardRef(function(t,e){return v.createElement(Ou,mn({},t,{ref:e,sideCar:b4}))});pS.classNames=Ou.classNames;var T4=[" ","Enter","ArrowUp","ArrowDown"],I4=[" ","Enter"],Ha="Select",[Mu,Du,N4]=Px(Ha),[Zi,hF]=Na(Ha,[N4,pu]),Lu=pu(),[k4,Vr]=Zi(Ha),[P4,R4]=Zi(Ha),mS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:_,form:x}=t,g=Lu(e),[w,y]=v.useState(null),[m,p]=v.useState(null),[E,C]=v.useState(!1),b=Pj(c),[S=!1,T]=Mf({prop:r,defaultProp:s,onChange:i}),[k,P]=Mf({prop:o,defaultProp:a,onChange:l}),j=v.useRef(null),L=w?x||!!w.closest("form"):!0,[H,M]=v.useState(new Set),G=Array.from(H).map($=>$.props.value).join(";");return u.jsx(MP,{...g,children:u.jsxs(k4,{required:_,scope:e,trigger:w,onTriggerChange:y,valueNode:m,onValueNodeChange:p,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Tp(),value:k,onValueChange:P,open:S,onOpenChange:T,dir:b,triggerPointerDownPosRef:j,disabled:h,children:[u.jsx(Mu.Provider,{scope:e,children:u.jsx(P4,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback($=>{M(D=>new Set(D).add($))},[]),onNativeOptionRemove:v.useCallback($=>{M(D=>{const I=new Set(D);return I.delete($),I})},[]),children:n})}),L?u.jsxs($S,{"aria-hidden":!0,required:_,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:$=>P($.target.value),disabled:h,form:x,children:[k===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},G):null]})})};mS.displayName=Ha;var gS="SelectTrigger",yS=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Lu(n),o=Vr(gS,n),a=o.disabled||r,l=Pe(e,o.onTriggerChange),c=Du(n),d=v.useRef("touch"),[f,h,_]=HS(g=>{const w=c().filter(p=>!p.disabled),y=w.find(p=>p.value===o.value),m=WS(w,g,y);m!==void 0&&o.onValueChange(m.value)}),x=g=>{a||(o.onOpenChange(!0),_()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(D0,{asChild:!0,...i,children:u.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":US(o.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:Z(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Z(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&T4.includes(g.key)&&(x(),g.preventDefault())})})})});yS.displayName=gS;var vS="SelectValue",_S=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Vr(vS,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=Pe(e,l.onValueNodeChange);return nt(()=>{c(d)},[c,d]),u.jsx(fe.span,{...a,ref:f,style:{pointerEvents:"none"},children:US(l.value)?u.jsx(u.Fragment,{children:o}):i})});_S.displayName=vS;var A4="SelectIcon",wS=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(fe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});wS.displayName=A4;var O4="SelectPortal",xS=t=>u.jsx(_p,{asChild:!0,...t});xS.displayName=O4;var xs="SelectContent",ES=v.forwardRef((t,e)=>{const n=Vr(xs,t.__scopeSelect),[r,s]=v.useState();if(nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ss.createPortal(u.jsx(CS,{scope:t.__scopeSelect,children:u.jsx(Mu.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(SS,{...t,ref:e})});ES.displayName=xs;var zt=10,[CS,Gr]=Zi(xs),M4="SelectContentImpl",D4=aa("SelectContent.RemoveScroll"),SS=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:_,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=t,m=Vr(xs,n),[p,E]=v.useState(null),[C,b]=v.useState(null),S=Pe(e,z=>E(z)),[T,k]=v.useState(null),[P,j]=v.useState(null),L=Du(n),[H,M]=v.useState(!1),G=v.useRef(!1);v.useEffect(()=>{if(p)return zj(p)},[p]),Rj();const $=v.useCallback(z=>{const[ye,...Qe]=L().map(ce=>ce.ref.current),[he]=Qe.slice(-1),le=document.activeElement;for(const ce of z)if(ce===le||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ye&&C&&(C.scrollTop=0),ce===he&&C&&(C.scrollTop=C.scrollHeight),ce==null||ce.focus(),document.activeElement!==le))return},[L,C]),D=v.useCallback(()=>$([T,p]),[$,T,p]);v.useEffect(()=>{H&&D()},[H,D]);const{onOpenChange:I,triggerPointerDownPosRef:A}=m;v.useEffect(()=>{if(p){let z={x:0,y:0};const ye=he=>{var le,ce;z={x:Math.abs(Math.round(he.pageX)-(((le=A.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ce=A.current)==null?void 0:ce.y)??0))}},Qe=he=>{z.x<=10&&z.y<=10?he.preventDefault():p.contains(he.target)||I(!1),document.removeEventListener("pointermove",ye),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[p,I,A]),v.useEffect(()=>{const z=()=>I(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[I]);const[F,W]=HS(z=>{const ye=L().filter(le=>!le.disabled),Qe=ye.find(le=>le.ref.current===document.activeElement),he=WS(ye,z,Qe);he&&setTimeout(()=>he.ref.current.focus())}),re=v.useCallback((z,ye,Qe)=>{const he=!G.current&&!Qe;(m.value!==void 0&&m.value===ye||he)&&(k(z),he&&(G.current=!0))},[m.value]),Le=v.useCallback(()=>p==null?void 0:p.focus(),[p]),Oe=v.useCallback((z,ye,Qe)=>{const he=!G.current&&!Qe;(m.value!==void 0&&m.value===ye||he)&&j(z)},[m.value]),an=r==="popper"?ph:bS,rt=an===ph?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:_,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return u.jsx(CS,{scope:n,content:p,viewport:C,onViewportChange:b,itemRefCallback:re,selectedItem:T,onItemLeave:Le,itemTextRefCallback:Oe,focusSelectedItem:D,selectedItemText:P,position:r,isPositioned:H,searchRef:F,children:u.jsx(pS,{as:D4,allowPinchZoom:!0,children:u.jsx(sS,{asChild:!0,trapped:m.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Z(s,z=>{var ye;(ye=m.trigger)==null||ye.focus({preventScroll:!0}),z.preventDefault()}),children:u.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:u.jsx(an,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:z=>z.preventDefault(),...y,...rt,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,z=>{const ye=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!ye&&z.key.length===1&&W(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let he=L().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(z.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const le=z.target,ce=he.indexOf(le);he=he.slice(ce+1)}setTimeout(()=>$(he)),z.preventDefault()}})})})})})})});SS.displayName=M4;var L4="SelectItemAlignedPosition",bS=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Vr(xs,n),o=Gr(xs,n),[a,l]=v.useState(null),[c,d]=v.useState(null),f=Pe(e,S=>d(S)),h=Du(n),_=v.useRef(!1),x=v.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:m}=o,p=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&y){const S=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const le=P.left-T.left,ce=k.left-le,wt=S.left-ce,ln=S.width+wt,eo=Math.max(ln,T.width),to=window.innerWidth-zt,no=Rv(ce,[zt,Math.max(zt,to-eo)]);a.style.minWidth=ln+"px",a.style.left=no+"px"}else{const le=T.right-P.right,ce=window.innerWidth-k.right-le,wt=window.innerWidth-S.right-ce,ln=S.width+wt,eo=Math.max(ln,T.width),to=window.innerWidth-zt,no=Rv(ce,[zt,Math.max(zt,to-eo)]);a.style.minWidth=ln+"px",a.style.right=no+"px"}const j=h(),L=window.innerHeight-zt*2,H=g.scrollHeight,M=window.getComputedStyle(c),G=parseInt(M.borderTopWidth,10),$=parseInt(M.paddingTop,10),D=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),A=G+$+H+I+D,F=Math.min(w.offsetHeight*5,A),W=window.getComputedStyle(g),re=parseInt(W.paddingTop,10),Le=parseInt(W.paddingBottom,10),Oe=S.top+S.height/2-zt,an=L-Oe,rt=w.offsetHeight/2,z=w.offsetTop+rt,ye=G+$+z,Qe=A-ye;if(ye<=Oe){const le=j.length>0&&w===j[j.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-g.offsetTop-g.offsetHeight,wt=Math.max(an,rt+(le?Le:0)+ce+D),ln=ye+wt;a.style.height=ln+"px"}else{const le=j.length>0&&w===j[0].ref.current;a.style.top="0px";const wt=Math.max(Oe,G+g.offsetTop+(le?re:0)+rt)+Qe;a.style.height=wt+"px",g.scrollTop=ye-Oe+g.offsetTop}a.style.margin=`${zt}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[h,i.trigger,i.valueNode,a,c,g,w,y,i.dir,r]);nt(()=>p(),[p]);const[E,C]=v.useState();nt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const b=v.useCallback(S=>{S&&x.current===!0&&(p(),m==null||m(),x.current=!1)},[p,m]);return u.jsx(F4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:_,onScrollButtonChange:b,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:u.jsx(fe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bS.displayName=L4;var j4="SelectPopperPosition",ph=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zt,...i}=t,o=Lu(n);return u.jsx(L0,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ph.displayName=j4;var[F4,Am]=Zi(xs,{}),mh="SelectViewport",TS=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Gr(mh,n),o=Am(mh,n),a=Pe(e,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Mu.Slot,{scope:n,children:u.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const _=Math.abs(l.current-d.scrollTop);if(_>0){const x=window.innerHeight-zt*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<x){const m=y+_,p=Math.min(x,m),E=m-p;f.style.height=p+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});TS.displayName=mh;var IS="SelectGroup",[U4,$4]=Zi(IS),H4=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Tp();return u.jsx(U4,{scope:n,id:s,children:u.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});H4.displayName=IS;var NS="SelectLabel",kS=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$4(NS,n);return u.jsx(fe.div,{id:s.id,...r,ref:e})});kS.displayName=NS;var Wc="SelectItem",[W4,PS]=Zi(Wc),RS=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Vr(Wc,n),l=Gr(Wc,n),c=a.value===r,[d,f]=v.useState(i??""),[h,_]=v.useState(!1),x=Pe(e,m=>{var p;return(p=l.itemRefCallback)==null?void 0:p.call(l,m,r,s)}),g=Tp(),w=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(W4,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:v.useCallback(m=>{f(p=>p||((m==null?void 0:m.textContent)??"").trim())},[]),children:u.jsx(Mu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(fe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Z(o.onFocus,()=>_(!0)),onBlur:Z(o.onBlur,()=>_(!1)),onClick:Z(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Z(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Z(o.onPointerDown,m=>{w.current=m.pointerType}),onPointerMove:Z(o.onPointerMove,m=>{var p;w.current=m.pointerType,s?(p=l.onItemLeave)==null||p.call(l):w.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,m=>{var p;m.currentTarget===document.activeElement&&((p=l.onItemLeave)==null||p.call(l))}),onKeyDown:Z(o.onKeyDown,m=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&m.key===" "||(I4.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});RS.displayName=Wc;var So="SelectItemText",AS=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Vr(So,n),a=Gr(So,n),l=PS(So,n),c=R4(So,n),[d,f]=v.useState(null),h=Pe(e,y=>f(y),l.onItemTextChange,y=>{var m;return(m=a.itemTextRefCallback)==null?void 0:m.call(a,y,l.value,l.disabled)}),_=d==null?void 0:d.textContent,x=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:_},l.value),[l.disabled,l.value,_]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return nt(()=>(g(x),()=>w(x)),[g,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(fe.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ss.createPortal(i.children,o.valueNode):null]})});AS.displayName=So;var OS="SelectItemIndicator",MS=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PS(OS,n).isSelected?u.jsx(fe.span,{"aria-hidden":!0,...r,ref:e}):null});MS.displayName=OS;var gh="SelectScrollUpButton",DS=v.forwardRef((t,e)=>{const n=Gr(gh,t.__scopeSelect),r=Am(gh,t.__scopeSelect),[s,i]=v.useState(!1),o=Pe(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(jS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});DS.displayName=gh;var yh="SelectScrollDownButton",LS=v.forwardRef((t,e)=>{const n=Gr(yh,t.__scopeSelect),r=Am(yh,t.__scopeSelect),[s,i]=v.useState(!1),o=Pe(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(jS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});LS.displayName=yh;var jS=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Gr("SelectScrollButton",n),o=v.useRef(null),a=Du(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),nt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(fe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),z4="SelectSeparator",FS=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(fe.div,{"aria-hidden":!0,...r,ref:e})});FS.displayName=z4;var vh="SelectArrow",B4=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Lu(n),i=Vr(vh,n),o=Gr(vh,n);return i.open&&o.position==="popper"?u.jsx(j0,{...s,...r,ref:e}):null});B4.displayName=vh;function US(t){return t===""||t===void 0}var $S=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=Pe(e,s),o=Uj(n);return v.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(ka,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});$S.displayName="BubbleSelect";function HS(t){const e=Pt(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function WS(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=V4(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function V4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G4=mS,zS=yS,K4=_S,q4=wS,Q4=xS,BS=ES,Y4=TS,VS=kS,GS=RS,X4=AS,J4=MS,KS=DS,qS=LS,QS=FS;const Z4=G4,eF=K4,YS=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(zS,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(q4,{asChild:!0,children:u.jsx(s0,{className:"h-4 w-4 opacity-50"})})]}));YS.displayName=zS.displayName;const XS=v.forwardRef(({className:t,...e},n)=>u.jsx(KS,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(kN,{className:"h-4 w-4"})}));XS.displayName=KS.displayName;const JS=v.forwardRef(({className:t,...e},n)=>u.jsx(qS,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(s0,{className:"h-4 w-4"})}));JS.displayName=qS.displayName;const ZS=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(Q4,{children:u.jsxs(BS,{ref:s,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(XS,{}),u.jsx(Y4,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(JS,{})]})}));ZS.displayName=BS.displayName;const tF=v.forwardRef(({className:t,...e},n)=>u.jsx(VS,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tF.displayName=VS.displayName;const e1=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(GS,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(J4,{children:u.jsx(r0,{className:"h-4 w-4"})})}),u.jsx(X4,{children:e})]}));e1.displayName=GS.displayName;const nF=v.forwardRef(({className:t,...e},n)=>u.jsx(QS,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));nF.displayName=QS.displayName;function rF(){var $;const[t,e]=gp("/game/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,playCard:i,submitScore:o,setParForHole:a,advanceToNextHole:l}=ks(),{user:c}=Ns(),[,d]=Hi(),[f,h]=v.useState(!0),[_,x]=v.useState(!0),[g,w]=v.useState(""),[y,m]=v.useState(""),[p,E]=v.useState({});v.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(h(!0),s(e.gameCode).then(()=>{h(!1)}).catch(D=>{console.error("Error finding game:",D),h(!1),d("/")}))},[t,e==null?void 0:e.gameCode,n,s,d]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),v.useEffect(()=>{(n==null?void 0:n.gamePhase)==="finished"&&(console.log("🏁 Game phase is finished, redirecting to results:",`/results/${n.gameCode}`),d(`/results/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,d]),v.useEffect(()=>{var A,F;if(!n||!c)return;w(n.currentPar??"");const D=n.currentHole-1,I=(F=(A=n.players[c.uid])==null?void 0:A.strokes)==null?void 0:F[D];m(typeof I=="number"?I:"")},[n==null?void 0:n.currentHole,n==null?void 0:n.currentPar,n==null?void 0:n.id,c==null?void 0:c.uid]);const C=async D=>{if(!(n!=null&&n.id))return;const I=p[D.id];await i(n.id,D.id,I)},b=async()=>{if(!(n!=null&&n.id)||!c||y==="")return;const D=n.currentHole-1;await o(n.id,D,Number(y))},S=async()=>{!(n!=null&&n.id)||g===""||await a(n.id,Number(g))},T=()=>{var A;if(!n)return!1;const D=n.currentHole-1;return(((A=n.parsSet)==null?void 0:A[D])??!1)&&Object.values(n.players).every(F=>{var W;return typeof((W=F.scores)==null?void 0:W[D])=="number"})},k=async()=>{n!=null&&n.id&&await l(n.id)},P=D=>{switch(D){case"Before Throw":return"bg-blue-500/20 border-blue-400/40";case"After Throw":return"bg-red-500/20 border-red-400/40";case"Self":return"bg-green-500/20 border-green-400/40";case"Wild":return"bg-purple-500/20 border-purple-400/40";default:return"bg-white/10 border-white/20"}};if(f)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🥏"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load your game"})]})})});if(!n||!c)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(se,{onClick:()=>d("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});if(n.gamePhase!=="playing")return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"⏳"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not started"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The host hasn't started the game yet. Please wait in the lobby."}),u.jsx(se,{onClick:()=>d(`/lobby/${n.gameCode}`),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Lobby"})]})})});const j=n.players[c.uid];if(!j)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Player not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You are not a player in this game."})]})})});if(!j.hand||j.hand.length===0)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"🃏"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Dealing cards..."}),u.jsx("p",{className:"text-white/70 mb-6",children:"Please wait while cards are being dealt to all players."})]})})});const H=Object.values(n.players).sort((D,I)=>(D.totalScore||0)-(I.totalScore||0)),M=n.currentHole/n.totalHoles*100,G=n.hostId===c.uid;return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hole ",n.currentHole," of ",n.totalHoles]}),u.jsx("p",{className:"text-white/70",children:n.courseName||"Disc Golf Course"}),G&&u.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[u.jsx(gn,{type:"number",min:1,value:g,onChange:D=>w(D.target.value===""?"":Number(D.target.value)),className:"w-24 bg-white/10 border-white/20 text-white",placeholder:"Par"}),u.jsx(se,{onClick:S,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-white/70 text-sm",children:"Par"}),u.jsx("div",{className:"text-3xl font-bold text-white",children:n.currentPar})]})]}),u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-500",style:{width:`${M}%`}})}),u.jsxs("div",{className:"text-white/70 text-sm mt-2 text-center",children:[Math.round(M),"% Complete"]})]})}),u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(te,{className:"p-0",children:(()=>{var A;const D=n.currentHole-1,I=((A=n.parsSet)==null?void 0:A[D])??!1;return u.jsxs("div",{className:"flex items-end space-x-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-white/80 text-sm mb-1",children:["Your strokes for hole ",n.currentHole," (Par ",n.currentPar,")"]}),u.jsx(gn,{type:"number",min:1,value:y,onChange:F=>m(F.target.value===""?"":Number(F.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:I?"Enter strokes":"Waiting for host to set par...",disabled:!I}),I?y!==""&&typeof y=="number"?u.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["Golf score: ",y-(n.currentPar||3)>0?"+":"",y-(n.currentPar||3)]}):null:u.jsx("div",{className:"text-yellow-400 text-xs mt-1",children:"⏳ Host must set par before you can submit your score"})]}),u.jsx(se,{onClick:b,disabled:!I||y==="",className:"bg-brand-accent text-white h-10 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Score"})]})})()})}),j&&u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:["Your Hand (",(($=j.hand)==null?void 0:$.length)||0," cards)"]}),u.jsxs(se,{onClick:()=>x(!_),variant:"ghost",className:"text-white hover:bg-white/10",children:[_?u.jsx(AN,{className:"w-4 h-4"}):u.jsx(ON,{className:"w-4 h-4"}),_?"Hide":"Show"," Hand"]})]}),_&&j.hand&&j.hand.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.hand.map(D=>u.jsx(ee,{className:`${P(D.category)} border-2 transition-all duration-200 hover:scale-105`,children:u.jsx(te,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:D.category}),u.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:D.name}),u.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:D.description}),D.category!=="Self"&&u.jsx("div",{className:"mb-3",children:u.jsxs(Z4,{value:p[D.id]||"",onValueChange:I=>E(A=>({...A,[D.id]:I})),children:[u.jsx(YS,{className:"w-full bg-white/10 border-white/20 text-white",children:u.jsx(eF,{placeholder:"Target player (optional)"})}),u.jsx(ZS,{children:Object.values(n.players).filter(I=>I.id!==c.uid).map(I=>u.jsx(e1,{value:I.id,children:I.name},I.id))})]})}),u.jsxs(se,{onClick:()=>C(D),className:"w-full bg-brand-accent text-white font-semibold py-2 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(LN,{className:"w-4 h-4 mr-2"}),"Play Card"]})]})})},D.id))}):_?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"🃏"}),u.jsx("p",{className:"text-white/70",children:"No cards in hand"})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"👁️"}),u.jsx("p",{className:"text-white/70",children:"Hand is hidden"})]})]})}),u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:H.map((D,I)=>u.jsx(rS,{player:D,position:I+1,showScore:!0},D.id))})]})}),G&&u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(te,{className:"p-0",children:T()?u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:"⚡"}),u.jsx("div",{className:"text-sm",children:"Auto-advancing to next hole..."})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/80 text-sm",children:["Waiting for all players to submit scores for hole ",n.currentHole]}),u.jsx(se,{onClick:k,disabled:!T(),className:"bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Manual Advance"})]})})}),!G&&T()&&u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(te,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:"⚡"}),u.jsx("div",{className:"text-sm",children:"Advancing to next hole..."})]})})}),n.gameActivity&&n.gameActivity.length>0&&u.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Game Activity"}),u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.gameActivity.slice(-10).map((D,I)=>u.jsx("div",{className:"text-white/70 text-sm p-2 bg-white/5 rounded-lg",children:D},I))})]})})]})}function sF(){const[t,e]=gp("/results/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s}=ks(),{user:i}=Ns(),[,o]=Hi(),{toast:a}=Ia(),[l,c]=v.useState(!0);if(v.useEffect(()=>{console.log("🏁 GameResults useEffect - match:",t,"gameCode:",e==null?void 0:e.gameCode,"currentGame:",!!n),t&&(e!=null&&e.gameCode)&&!n?(c(!0),console.log("🏁 GameResults finding game by code:",e.gameCode),s(e.gameCode).then(()=>{console.log("🏁 GameResults game found successfully"),c(!1)}).catch(w=>{console.error("🏁 GameResults error finding game:",w),c(!1),a({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),o("/")})):n&&(console.log("🏁 GameResults currentGame already exists, gamePhase:",n.gamePhase),c(!1))},[t,e==null?void 0:e.gameCode,n,s,o,a]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),l)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"⏳"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading Results..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load the game results"})]})})});if(!n||!i)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(te,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(se,{onClick:()=>o("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const d=Object.values(n.players),f=d.sort((w,y)=>w.totalScore-y.totalScore),h=f[0],_=()=>{o("/host")},x=()=>{o("/")},g=()=>{const w=window.location.href,y=f.map((p,E)=>`${E+1}. ${p.name}: ${p.totalScore>0?"+":""}${p.totalScore}`).join(`
`),m=`🏌️‍♂️ Just finished a game of Kicked in the Disc! 🥏

🏆 WINNER: ${h.name} (${h.totalScore>0?"+":""}${h.totalScore})

📊 Final Leaderboard:
${y}

${n.totalHoles} holes played on ${n.courseName||"Disc Golf Course"}

Play with us: ${w}`;navigator.share?navigator.share({title:"Kicked in the Disc - Game Results",text:m,url:w}).catch(console.error):navigator.clipboard.writeText(m).then(()=>{a({title:"Results copied!",description:"Game results copied to clipboard. Paste and share!"})}).catch(()=>{a({title:"Share manually",description:"Copy the results from the game activity to share",variant:"destructive"})})};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"animate-bounce text-8xl mb-4",children:"🏆"}),u.jsx("div",{className:"animate-pulse text-yellow-400 text-2xl mb-2",children:"✨ CHAMPION ✨"}),u.jsx("h1",{className:"text-7xl md:text-8xl font-black text-transparent bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text drop-shadow-lg mb-4 animate-pulse",children:h.name.toUpperCase()}),u.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:"🎉 WINS THE GAME! 🎉"}),u.jsxs("div",{className:"inline-block bg-gradient-to-r from-green-400 to-blue-500 text-white text-xl font-bold px-6 py-3 rounded-full transform rotate-2 shadow-lg",children:["Final Score: ",h.totalScore>0?"+":"",h.totalScore," strokes"]})]}),u.jsx(ee,{className:"glass-card rounded-3xl p-4 text-center mb-8 border-2 border-yellow-400/50 bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:u.jsx(te,{className:"p-0",children:u.jsxs("div",{className:"text-white/90 text-lg",children:["🏌️‍♂️ ",n.totalHoles," holes completed at ",u.jsx("span",{className:"font-bold text-yellow-300",children:n.courseName||"Disc Golf Course"})]})})}),u.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-8 border-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30",children:u.jsxs(te,{className:"p-0",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:"🏅 FINAL LEADERBOARD 🏅"}),u.jsx("div",{className:"text-lg text-white/80",children:"Who came out on top?"})]}),u.jsx("div",{className:"space-y-4",children:f.map((w,y)=>{const m=y===0,p=y===1,E=y===2;return u.jsx("div",{className:`
                    relative rounded-2xl p-4 border-2 transition-all transform hover:scale-105
                    ${m?"bg-gradient-to-r from-yellow-400/30 to-yellow-600/30 border-yellow-400 animate-pulse":p?"bg-gradient-to-r from-gray-300/30 to-gray-500/30 border-gray-400":E?"bg-gradient-to-r from-orange-400/30 to-orange-600/30 border-orange-400":"bg-white/10 border-white/20"}
                  `,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`
                        text-3xl font-black w-12 h-12 rounded-full flex items-center justify-center
                        ${m?"bg-yellow-400 text-yellow-900":p?"bg-gray-400 text-gray-900":E?"bg-orange-400 text-orange-900":"bg-white/20 text-white"}
                      `,children:m?"👑":p?"🥈":E?"🥉":y+1}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-xl font-bold ${m?"text-yellow-100":"text-white"}`,children:[w.name,m&&u.jsx("span",{className:"ml-2 text-yellow-300",children:"🌟"})]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Total strokes: ",(w.strokes||[]).reduce((C,b)=>C+(b||0),0)]})]})]}),u.jsxs("div",{className:`text-2xl font-bold ${w.totalScore<0?"text-green-400":w.totalScore>0?"text-red-400":"text-white"}`,children:[w.totalScore>0?"+":"",w.totalScore]})]})},w.id)})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(se,{onClick:g,className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white font-bold py-4 rounded-xl hover:from-pink-600 hover:to-violet-600 transition-all transform hover:scale-105 shadow-lg",children:"📱 Share Results"}),u.jsx(se,{onClick:_,className:"bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold py-4 rounded-xl hover:from-green-600 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg",children:"🔄 Play Again"}),u.jsx(se,{onClick:x,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white font-bold py-4 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-lg",children:"🏠 Main Menu"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"🕐"}),u.jsx("div",{className:"text-sm text-white/70",children:"Game Duration"}),u.jsx("div",{className:"text-white font-bold",children:"Epic!"})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"👥"}),u.jsx("div",{className:"text-sm text-white/70",children:"Players"}),u.jsx("div",{className:"text-white font-bold",children:d.length})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"🎯"}),u.jsx("div",{className:"text-sm text-white/70",children:"Best Score"}),u.jsx("div",{className:"text-green-400 font-bold",children:Math.min(...d.map(w=>w.totalScore))})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"🏌️‍♂️"}),u.jsx("div",{className:"text-sm text-white/70",children:"Holes"}),u.jsx("div",{className:"text-white font-bold",children:n.totalHoles})]})]})]})}function iF(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(ee,{className:"w-full max-w-md mx-4",children:u.jsxs(te,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(PN,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function oF(){const{user:t,loading:e}=Ns();return e?u.jsx("div",{className:"min-h-screen bg-brand-gradient flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"floating-animation text-8xl mb-6",children:"🥏"}),u.jsx("h1",{className:"font-logo text-5xl font-bold mb-4 text-gradient text-outline",children:"KICKED IN THE DISC"}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl mx-auto max-w-sm",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-logo-cyan border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-logo-dark font-medium",children:"Loading awesome disc golf action..."})]})]})}):t?u.jsxs(sI,{children:[u.jsx(Qn,{path:"/",component:Sj}),u.jsx(Qn,{path:"/store",component:bj}),u.jsx(Qn,{path:"/host",component:Tj}),u.jsx(Qn,{path:"/join",component:Ij}),u.jsx(Qn,{path:"/lobby/:gameCode",component:Nj}),u.jsx(Qn,{path:"/game/:gameCode",component:rF}),u.jsx(Qn,{path:"/results/:gameCode",component:sF}),u.jsx(Qn,{component:iF})]}):u.jsx(Ej,{})}function aF(){return u.jsx(NI,{client:RI,children:u.jsx(JP,{children:u.jsxs("div",{className:"min-h-screen bg-brand-gradient bg-pattern-dots",children:[u.jsx(bk,{}),u.jsx(oF,{})]})})})}ux(document.getElementById("root")).render(u.jsx(aF,{}));
