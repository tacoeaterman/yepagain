var Mm=t=>{throw TypeError(t)};var ju=(t,e,n)=>e.has(t)||Mm("Cannot "+n);var N=(t,e,n)=>(ju(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?Mm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(ju(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qe=(t,e,n)=>(ju(t,e,"access private method"),n);var Wa=(t,e,n,r)=>({set _(i){q(t,e,i,n)},get _(){return N(t,e,r)}});function n1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jv={exports:{}},Wc={},Zv={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),r1=Symbol.for("react.portal"),i1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),a1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),d1=Symbol.for("react.memo"),f1=Symbol.for("react.lazy"),Dm=Symbol.iterator;function h1(t){return t===null||typeof t!="object"?null:(t=Dm&&t[Dm]||t["@@iterator"],typeof t=="function"?t:null)}var e_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t_=Object.assign,n_={};function js(t,e,n){this.props=t,this.context=e,this.refs=n_,this.updater=n||e_}js.prototype.isReactComponent={};js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r_(){}r_.prototype=js.prototype;function _h(t,e,n){this.props=t,this.context=e,this.refs=n_,this.updater=n||e_}var wh=_h.prototype=new r_;wh.constructor=_h;t_(wh,js.prototype);wh.isPureReactComponent=!0;var Lm=Array.isArray,i_=Object.prototype.hasOwnProperty,xh={current:null},s_={key:!0,ref:!0,__self:!0,__source:!0};function o_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)i_.call(e,r)&&!s_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ea,type:t,key:s,ref:o,props:i,_owner:xh.current}}function p1(t,e){return{$$typeof:Ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ea}function m1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jm=/\/+/g;function Fu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m1(""+t.key):e.toString(36)}function wl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ea:case r1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fu(o,0):r,Lm(i)?(n="",t!=null&&(n=t.replace(jm,"$&/")+"/"),wl(i,e,n,"",function(c){return c})):i!=null&&(Eh(i)&&(i=p1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Fu(s,a);o+=wl(s,e,n,l,i)}else if(l=h1(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Fu(s,a++),o+=wl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function za(t,e,n){if(t==null)return t;var r=[],i=0;return wl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function g1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},xl={transition:null},y1={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:xl,ReactCurrentOwner:xh};function a_(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:za,forEach:function(t,e,n){za(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return za(t,function(){e++}),e},toArray:function(t){return za(t,function(e){return e})||[]},only:function(t){if(!Eh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=js;J.Fragment=i1;J.Profiler=o1;J.PureComponent=_h;J.StrictMode=s1;J.Suspense=u1;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;J.act=a_;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=t_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)i_.call(e,l)&&!s_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ea,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:l1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a1,_context:t},t.Consumer=t};J.createElement=o_;J.createFactory=function(t){var e=o_.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:c1,render:t}};J.isValidElement=Eh;J.lazy=function(t){return{$$typeof:f1,_payload:{_status:-1,_result:t},_init:g1}};J.memo=function(t,e){return{$$typeof:d1,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=xl.transition;xl.transition={};try{t()}finally{xl.transition=e}};J.unstable_act=a_;J.useCallback=function(t,e){return ut.current.useCallback(t,e)};J.useContext=function(t){return ut.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};J.useEffect=function(t,e){return ut.current.useEffect(t,e)};J.useId=function(){return ut.current.useId()};J.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ut.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};J.useRef=function(t){return ut.current.useRef(t)};J.useState=function(t){return ut.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ut.current.useTransition()};J.version="18.3.1";Zv.exports=J;var y=Zv.exports;const er=Xv(y),l_=n1({__proto__:null,default:er},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=y,_1=Symbol.for("react.element"),w1=Symbol.for("react.fragment"),x1=Object.prototype.hasOwnProperty,E1=v1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C1={key:!0,ref:!0,__self:!0,__source:!0};function c_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)x1.call(e,r)&&!C1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_1,type:t,key:s,ref:o,props:i,_owner:E1.current}}Wc.Fragment=w1;Wc.jsx=c_;Wc.jsxs=c_;Jv.exports=Wc;var f=Jv.exports,u_={exports:{}},Rt={},d_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var U=I.length;I.push(O);e:for(;0<U;){var G=U-1>>>1,ae=I[G];if(0<i(ae,O))I[G]=O,I[U]=ae,U=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],U=I.pop();if(U!==O){I[0]=U;e:for(var G=0,ae=I.length,nt=ae>>>1;G<nt;){var Oe=2*(G+1)-1,an=I[Oe],rt=Oe+1,$=I[rt];if(0>i(an,U))rt<ae&&0>i($,an)?(I[G]=$,I[rt]=U,G=rt):(I[G]=an,I[Oe]=U,G=Oe);else if(rt<ae&&0>i($,U))I[G]=$,I[rt]=U,G=rt;else break e}}return O}function i(I,O){var U=I.sortIndex-O.sortIndex;return U!==0?U:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,v=!1,w=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=I)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function E(I){if(p=!1,g(I),!w)if(n(l)!==null)w=!0,H(C);else{var O=n(c);O!==null&&M(E,O.startTime-I)}}function C(I,O){w=!1,p&&(p=!1,_(T),T=-1),v=!0;var U=h;try{for(g(O),d=n(l);d!==null&&(!(d.expirationTime>O)||I&&!L());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var ae=G(d.expirationTime<=O);O=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),g(O)}else r(l);d=n(l)}if(d!==null)var nt=!0;else{var Oe=n(c);Oe!==null&&M(E,Oe.startTime-O),nt=!1}return nt}finally{d=null,h=U,v=!1}}var b=!1,S=null,T=-1,k=5,P=-1;function L(){return!(t.unstable_now()-P<k)}function j(){if(S!==null){var I=t.unstable_now();P=I;var O=!0;try{O=S(!0,I)}finally{O?B():(b=!1,S=null)}}else b=!1}var B;if(typeof m=="function")B=function(){m(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=j,B=function(){V.postMessage(null)}}else B=function(){x(j,0)};function H(I){S=I,b||(b=!0,B())}function M(I,O){T=x(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,H(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var U=h;h=O;try{return I()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=h;h=I;try{return O()}finally{h=U}},t.unstable_scheduleCallback=function(I,O,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,I){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=U+ae,I={id:u++,callback:O,priorityLevel:I,startTime:U,expirationTime:ae,sortIndex:-1},U>G?(I.sortIndex=U,e(c,I),n(l)===null&&I===n(c)&&(p?(_(T),T=-1):p=!0,M(E,U-G))):(I.sortIndex=ae,e(l,I),w||v||(w=!0,H(C))),I},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(I){var O=h;return function(){var U=h;h=O;try{return I.apply(this,arguments)}finally{h=U}}}})(f_);d_.exports=f_;var S1=d_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=y,kt=S1;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h_=new Set,Wo={};function Ei(t,e){_s(t,e),_s(t+"Capture",e)}function _s(t,e){for(Wo[t]=e,t=0;t<e.length;t++)h_.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,T1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fm={},Um={};function I1(t){return Ud.call(Um,t)?!0:Ud.call(Fm,t)?!1:T1.test(t)?Um[t]=!0:(Fm[t]=!0,!1)}function N1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k1(t,e,n,r){if(e===null||typeof e>"u"||N1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ch=/[\-:]([a-z])/g;function Sh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ch,Sh);Ge[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ch,Sh);Ge[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ch,Sh);Ge[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function bh(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(k1(e,n,i,r)&&(n=null),r||i===null?I1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),m_=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),$d=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),g_=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Uu;function vo(t){if(Uu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uu=e&&e[1]||""}return`
`+Uu+t}var Hu=!1;function $u(t,e){if(!t||Hu)return"";Hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vo(t):""}function P1(t){switch(t.tag){case 5:return vo(t.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return t=$u(t.type,!1),t;case 11:return t=$u(t.type.render,!1),t;case 1:return t=$u(t.type,!0),t;default:return""}}function zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Li:return"Fragment";case Di:return"Portal";case Hd:return"Profiler";case Th:return"StrictMode";case $d:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m_:return(t.displayName||"Context")+".Consumer";case p_:return(t._context.displayName||"Context")+".Provider";case Ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nh:return e=t.displayName||null,e!==null?e:zd(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return zd(t(e))}catch{}}return null}function R1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zd(e);case 8:return e===Th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A1(t){var e=y_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Va(t){t._valueTracker||(t._valueTracker=A1(t))}function v_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bd(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $m(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function __(t,e){e=e.checked,e!=null&&bh(t,"checked",e,!1)}function Vd(t,e){__(t,e);var n=Ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gd(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gd(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _o=Array.isArray;function Qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(_o(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function w_(t,e){var n=Ar(e.value),r=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ga,E_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O1=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(t){O1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bo[e]=bo[t]})});function C_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bo.hasOwnProperty(t)&&bo[t]?(""+e).trim():e+"px"}function S_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var M1=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(t,e){if(e){if(M1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Yd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function kh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jd=null,Yi=null,Xi=null;function Vm(t){if(t=ba(t)){if(typeof Jd!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Kc(e),Jd(t.stateNode,t.type,e))}}function b_(t){Yi?Xi?Xi.push(t):Xi=[t]:Yi=t}function T_(){if(Yi){var t=Yi,e=Xi;if(Xi=Yi=null,Vm(t),e)for(t=0;t<e.length;t++)Vm(e[t])}}function I_(t,e){return t(e)}function N_(){}var Wu=!1;function k_(t,e,n){if(Wu)return t(e,n);Wu=!0;try{return I_(t,e,n)}finally{Wu=!1,(Yi!==null||Xi!==null)&&(N_(),T_())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=Kc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Zd=!1;if(jn)try{var io={};Object.defineProperty(io,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Zd=!1}function D1(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var To=!1,Bl=null,Vl=!1,ef=null,L1={onError:function(t){To=!0,Bl=t}};function j1(t,e,n,r,i,s,o,a,l){To=!1,Bl=null,D1.apply(L1,arguments)}function F1(t,e,n,r,i,s,o,a,l){if(j1.apply(this,arguments),To){if(To){var c=Bl;To=!1,Bl=null}else throw Error(R(198));Vl||(Vl=!0,ef=c)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gm(t){if(Ci(t)!==t)throw Error(R(188))}function U1(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gm(i),t;if(s===r)return Gm(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function R_(t){return t=U1(t),t!==null?A_(t):null}function A_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=A_(t);if(e!==null)return e;t=t.sibling}return null}var O_=kt.unstable_scheduleCallback,Km=kt.unstable_cancelCallback,H1=kt.unstable_shouldYield,$1=kt.unstable_requestPaint,Re=kt.unstable_now,W1=kt.unstable_getCurrentPriorityLevel,Ph=kt.unstable_ImmediatePriority,M_=kt.unstable_UserBlockingPriority,Gl=kt.unstable_NormalPriority,z1=kt.unstable_LowPriority,D_=kt.unstable_IdlePriority,zc=null,yn=null;function B1(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(zc,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:K1,V1=Math.log,G1=Math.LN2;function K1(t){return t>>>=0,t===0?32:31-(V1(t)/G1|0)|0}var Ka=64,qa=4194304;function wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wo(a):(s&=o,s!==0&&(r=wo(s)))}else o=n&~i,o!==0?r=wo(o):s!==0&&(r=wo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function q1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=q1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L_(){var t=Ka;return Ka<<=1,!(Ka&4194240)&&(Ka=64),t}function zu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function Y1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var oe=0;function j_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F_,Ah,U_,H_,$_,nf=!1,Qa=[],wr=null,xr=null,Er=null,Vo=new Map,Go=new Map,sr=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qm(t,e){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(e.pointerId)}}function so(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ba(e),e!==null&&Ah(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J1(t,e,n,r,i){switch(e){case"focusin":return wr=so(wr,t,e,n,r,i),!0;case"dragenter":return xr=so(xr,t,e,n,r,i),!0;case"mouseover":return Er=so(Er,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vo.set(s,so(Vo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Go.set(s,so(Go.get(s)||null,t,e,n,r,i)),!0}return!1}function W_(t){var e=Xr(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=P_(n),e!==null){t.blockedOn=e,$_(t.priority,function(){U_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function El(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xd=r,n.target.dispatchEvent(r),Xd=null}else return e=ba(n),e!==null&&Ah(e),t.blockedOn=n,!1;e.shift()}return!0}function Qm(t,e,n){El(t)&&n.delete(e)}function Z1(){nf=!1,wr!==null&&El(wr)&&(wr=null),xr!==null&&El(xr)&&(xr=null),Er!==null&&El(Er)&&(Er=null),Vo.forEach(Qm),Go.forEach(Qm)}function oo(t,e){t.blockedOn===e&&(t.blockedOn=null,nf||(nf=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Z1)))}function Ko(t){function e(i){return oo(i,t)}if(0<Qa.length){oo(Qa[0],t);for(var n=1;n<Qa.length;n++){var r=Qa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wr!==null&&oo(wr,t),xr!==null&&oo(xr,t),Er!==null&&oo(Er,t),Vo.forEach(e),Go.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)W_(n),n.blockedOn===null&&sr.shift()}var Ji=Gn.ReactCurrentBatchConfig,ql=!0;function eb(t,e,n,r){var i=oe,s=Ji.transition;Ji.transition=null;try{oe=1,Oh(t,e,n,r)}finally{oe=i,Ji.transition=s}}function tb(t,e,n,r){var i=oe,s=Ji.transition;Ji.transition=null;try{oe=4,Oh(t,e,n,r)}finally{oe=i,Ji.transition=s}}function Oh(t,e,n,r){if(ql){var i=rf(t,e,n,r);if(i===null)Zu(t,e,r,Ql,n),qm(t,r);else if(J1(i,t,e,n,r))r.stopPropagation();else if(qm(t,r),e&4&&-1<X1.indexOf(t)){for(;i!==null;){var s=ba(i);if(s!==null&&F_(s),s=rf(t,e,n,r),s===null&&Zu(t,e,r,Ql,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zu(t,e,r,null,n)}}var Ql=null;function rf(t,e,n,r){if(Ql=null,t=kh(r),t=Xr(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ql=t,null}function z_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W1()){case Ph:return 1;case M_:return 4;case Gl:case z1:return 16;case D_:return 536870912;default:return 16}default:return 16}}var gr=null,Mh=null,Cl=null;function B_(){if(Cl)return Cl;var t,e=Mh,n=e.length,r,i="value"in gr?gr.value:gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Cl=i.slice(t,1<r?1-r:void 0)}function Sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ya(){return!0}function Ym(){return!1}function At(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ya:Ym,this.isPropagationStopped=Ym,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),e}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=At(Fs),Sa=be({},Fs,{view:0,detail:0}),nb=At(Sa),Bu,Vu,ao,Bc=be({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Bu=t.screenX-ao.screenX,Vu=t.screenY-ao.screenY):Vu=Bu=0,ao=t),Bu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),Xm=At(Bc),rb=be({},Bc,{dataTransfer:0}),ib=At(rb),sb=be({},Sa,{relatedTarget:0}),Gu=At(sb),ob=be({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),ab=At(ob),lb=be({},Fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cb=At(lb),ub=be({},Fs,{data:0}),Jm=At(ub),db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hb[t])?!!e[t]:!1}function Lh(){return pb}var mb=be({},Sa,{key:function(t){if(t.key){var e=db[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gb=At(mb),yb=be({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=At(yb),vb=be({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),_b=At(vb),wb=be({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=At(wb),Eb=be({},Bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=At(Eb),Sb=[9,13,27,32],jh=jn&&"CompositionEvent"in window,Io=null;jn&&"documentMode"in document&&(Io=document.documentMode);var bb=jn&&"TextEvent"in window&&!Io,V_=jn&&(!jh||Io&&8<Io&&11>=Io),eg=" ",tg=!1;function G_(t,e){switch(t){case"keyup":return Sb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function Tb(t,e){switch(t){case"compositionend":return K_(e);case"keypress":return e.which!==32?null:(tg=!0,eg);case"textInput":return t=e.data,t===eg&&tg?null:t;default:return null}}function Ib(t,e){if(ji)return t==="compositionend"||!jh&&G_(t,e)?(t=B_(),Cl=Mh=gr=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V_&&e.locale!=="ko"?null:e.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nb[t.type]:e==="textarea"}function q_(t,e,n,r){b_(r),e=Yl(e,"onChange"),0<e.length&&(n=new Dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var No=null,qo=null;function kb(t){sw(t,0)}function Vc(t){var e=Hi(t);if(v_(e))return t}function Pb(t,e){if(t==="change")return e}var Q_=!1;if(jn){var Ku;if(jn){var qu="oninput"in document;if(!qu){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),qu=typeof rg.oninput=="function"}Ku=qu}else Ku=!1;Q_=Ku&&(!document.documentMode||9<document.documentMode)}function ig(){No&&(No.detachEvent("onpropertychange",Y_),qo=No=null)}function Y_(t){if(t.propertyName==="value"&&Vc(qo)){var e=[];q_(e,qo,t,kh(t)),k_(kb,e)}}function Rb(t,e,n){t==="focusin"?(ig(),No=e,qo=n,No.attachEvent("onpropertychange",Y_)):t==="focusout"&&ig()}function Ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vc(qo)}function Ob(t,e){if(t==="click")return Vc(e)}function Mb(t,e){if(t==="input"||t==="change")return Vc(e)}function Db(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:Db;function Qo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ud.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,e){var n=sg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sg(n)}}function X_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J_(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function Fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lb(t){var e=J_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X_(n.ownerDocument.documentElement,n)){if(r!==null&&Fh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=og(n,s);var o=og(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jb=jn&&"documentMode"in document&&11>=document.documentMode,Fi=null,sf=null,ko=null,of=!1;function ag(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||Fi==null||Fi!==zl(r)||(r=Fi,"selectionStart"in r&&Fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Qo(ko,r)||(ko=r,r=Yl(sf,"onSelect"),0<r.length&&(e=new Dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fi)))}function Xa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ui={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},Qu={},Z_={};jn&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Gc(t){if(Qu[t])return Qu[t];if(!Ui[t])return t;var e=Ui[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z_)return Qu[t]=e[n];return t}var ew=Gc("animationend"),tw=Gc("animationiteration"),nw=Gc("animationstart"),rw=Gc("transitionend"),iw=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){iw.set(t,e),Ei(e,[t])}for(var Yu=0;Yu<lg.length;Yu++){var Xu=lg[Yu],Fb=Xu.toLowerCase(),Ub=Xu[0].toUpperCase()+Xu.slice(1);Ur(Fb,"on"+Ub)}Ur(ew,"onAnimationEnd");Ur(tw,"onAnimationIteration");Ur(nw,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(rw,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function cg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F1(r,e,void 0,t),t.currentTarget=null}function sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cg(i,a,c),s=l}}}if(Vl)throw t=ef,Vl=!1,ef=null,t}function _e(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var r=t+"__bubble";n.has(r)||(ow(e,t,2,!1),n.add(r))}function Ju(t,e,n){var r=0;e&&(r|=4),ow(n,t,r,e)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[Ja]){t[Ja]=!0,h_.forEach(function(n){n!=="selectionchange"&&(Hb.has(n)||Ju(n,!1,t),Ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ja]||(e[Ja]=!0,Ju("selectionchange",!1,e))}}function ow(t,e,n,r){switch(z_(e)){case 1:var i=eb;break;case 4:i=tb;break;default:i=Oh}n=i.bind(null,e,n,t),i=void 0,!Zd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}k_(function(){var c=s,u=kh(n),d=[];e:{var h=iw.get(t);if(h!==void 0){var v=Dh,w=t;switch(t){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":v=gb;break;case"focusin":w="focus",v=Gu;break;case"focusout":w="blur",v=Gu;break;case"beforeblur":case"afterblur":v=Gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_b;break;case ew:case tw:case nw:v=ab;break;case rw:v=xb;break;case"scroll":v=nb;break;case"wheel":v=Cb;break;case"copy":case"cut":case"paste":v=cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Zm}var p=(e&4)!==0,x=!p&&t==="scroll",_=p?h!==null?h+"Capture":null:h;p=[];for(var m=c,g;m!==null;){g=m;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,_!==null&&(E=Bo(m,_),E!=null&&p.push(Xo(m,E,g)))),x)break;m=m.return}0<p.length&&(h=new v(h,w,null,n,u),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==Xd&&(w=n.relatedTarget||n.fromElement)&&(Xr(w)||w[Fn]))break e;if((v||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?Xr(w):null,w!==null&&(x=Ci(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(p=Xm,E="onMouseLeave",_="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=Zm,E="onPointerLeave",_="onPointerEnter",m="pointer"),x=v==null?h:Hi(v),g=w==null?h:Hi(w),h=new p(E,m+"leave",v,n,u),h.target=x,h.relatedTarget=g,E=null,Xr(u)===c&&(p=new p(_,m+"enter",w,n,u),p.target=g,p.relatedTarget=x,E=p),x=E,v&&w)t:{for(p=v,_=w,m=0,g=p;g;g=Pi(g))m++;for(g=0,E=_;E;E=Pi(E))g++;for(;0<m-g;)p=Pi(p),m--;for(;0<g-m;)_=Pi(_),g--;for(;m--;){if(p===_||_!==null&&p===_.alternate)break t;p=Pi(p),_=Pi(_)}p=null}else p=null;v!==null&&ug(d,h,v,p,!1),w!==null&&x!==null&&ug(d,x,w,p,!0)}}e:{if(h=c?Hi(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var C=Pb;else if(ng(h))if(Q_)C=Mb;else{C=Ab;var b=Rb}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=Ob);if(C&&(C=C(t,c))){q_(d,C,n,u);break e}b&&b(t,h,c),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Gd(h,"number",h.value)}switch(b=c?Hi(c):window,t){case"focusin":(ng(b)||b.contentEditable==="true")&&(Fi=b,sf=c,ko=null);break;case"focusout":ko=sf=Fi=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,ag(d,n,u);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":ag(d,n,u)}var S;if(jh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ji?G_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(V_&&n.locale!=="ko"&&(ji||T!=="onCompositionStart"?T==="onCompositionEnd"&&ji&&(S=B_()):(gr=u,Mh="value"in gr?gr.value:gr.textContent,ji=!0)),b=Yl(c,T),0<b.length&&(T=new Jm(T,t,null,n,u),d.push({event:T,listeners:b}),S?T.data=S:(S=K_(n),S!==null&&(T.data=S)))),(S=bb?Tb(t,n):Ib(t,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(u=new Jm("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}sw(d,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bo(t,n),s!=null&&r.unshift(Xo(t,s,i)),s=Bo(t,e),s!=null&&r.push(Xo(t,s,i))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ug(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Bo(n,s),l!=null&&o.unshift(Xo(n,l,a))):i||(l=Bo(n,s),l!=null&&o.push(Xo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $b=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function dg(t){return(typeof t=="string"?t:""+t).replace($b,`
`).replace(Wb,"")}function Za(t,e,n){if(e=dg(e),dg(t)!==e&&n)throw Error(R(425))}function Xl(){}var af=null,lf=null;function cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(t){return fg.resolve(null).then(t).catch(Vb)}:uf;function Vb(t){setTimeout(function(){throw t})}function ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ko(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Us=Math.random().toString(36).slice(2),pn="__reactFiber$"+Us,Jo="__reactProps$"+Us,Fn="__reactContainer$"+Us,df="__reactEvents$"+Us,Gb="__reactListeners$"+Us,Kb="__reactHandles$"+Us;function Xr(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hg(t);t!==null;){if(n=t[pn])return n;t=hg(t)}return e}t=n,n=t.parentNode}return null}function ba(t){return t=t[pn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Kc(t){return t[Jo]||null}var ff=[],$i=-1;function Hr(t){return{current:t}}function we(t){0>$i||(t.current=ff[$i],ff[$i]=null,$i--)}function ge(t,e){$i++,ff[$i]=t.current,t.current=e}var Or={},et=Hr(Or),yt=Hr(!1),ai=Or;function ws(t,e){var n=t.type.contextTypes;if(!n)return Or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vt(t){return t=t.childContextTypes,t!=null}function Jl(){we(yt),we(et)}function pg(t,e,n){if(et.current!==Or)throw Error(R(168));ge(et,e),ge(yt,n)}function aw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,R1(t)||"Unknown",i));return be({},n,r)}function Zl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,ai=et.current,ge(et,t),ge(yt,yt.current),!0}function mg(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=aw(t,e,ai),r.__reactInternalMemoizedMergedChildContext=t,we(yt),we(et),ge(et,t)):we(yt),ge(yt,n)}var Nn=null,qc=!1,td=!1;function lw(t){Nn===null?Nn=[t]:Nn.push(t)}function qb(t){qc=!0,lw(t)}function $r(){if(!td&&Nn!==null){td=!0;var t=0,e=oe;try{var n=Nn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,qc=!1}catch(i){throw Nn!==null&&(Nn=Nn.slice(t+1)),O_(Ph,$r),i}finally{oe=e,td=!1}}return null}var Wi=[],zi=0,ec=null,tc=0,Mt=[],Dt=0,li=null,kn=1,Pn="";function Kr(t,e){Wi[zi++]=tc,Wi[zi++]=ec,ec=t,tc=e}function cw(t,e,n){Mt[Dt++]=kn,Mt[Dt++]=Pn,Mt[Dt++]=li,li=t;var r=kn;t=Pn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kn=1<<32-Jt(e)+i|n<<i|r,Pn=s+t}else kn=1<<s|n<<i|r,Pn=t}function Uh(t){t.return!==null&&(Kr(t,1),cw(t,1,0))}function Hh(t){for(;t===ec;)ec=Wi[--zi],Wi[zi]=null,tc=Wi[--zi],Wi[zi]=null;for(;t===li;)li=Mt[--Dt],Mt[Dt]=null,Pn=Mt[--Dt],Mt[Dt]=null,kn=Mt[--Dt],Mt[Dt]=null}var It=null,Tt=null,Ee=!1,qt=null;function uw(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,Tt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,Tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=li!==null?{id:kn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,Tt=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pf(t){if(Ee){var e=Tt;if(e){var n=e;if(!gg(t,e)){if(hf(t))throw Error(R(418));e=Cr(n.nextSibling);var r=It;e&&gg(t,e)?uw(r,n):(t.flags=t.flags&-4097|2,Ee=!1,It=t)}}else{if(hf(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ee=!1,It=t}}}function yg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function el(t){if(t!==It)return!1;if(!Ee)return yg(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cf(t.type,t.memoizedProps)),e&&(e=Tt)){if(hf(t))throw dw(),Error(R(418));for(;e;)uw(t,e),e=Cr(e.nextSibling)}if(yg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tt=null}}else Tt=It?Cr(t.stateNode.nextSibling):null;return!0}function dw(){for(var t=Tt;t;)t=Cr(t.nextSibling)}function xs(){Tt=It=null,Ee=!1}function $h(t){qt===null?qt=[t]:qt.push(t)}var Qb=Gn.ReactCurrentBatchConfig;function lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function tl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vg(t){var e=t._init;return e(t._payload)}function fw(t){function e(_,m){if(t){var g=_.deletions;g===null?(_.deletions=[m],_.flags|=16):g.push(m)}}function n(_,m){if(!t)return null;for(;m!==null;)e(_,m),m=m.sibling;return null}function r(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function i(_,m){return _=Ir(_,m),_.index=0,_.sibling=null,_}function s(_,m,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<m?(_.flags|=2,m):g):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,m,g,E){return m===null||m.tag!==6?(m=ld(g,_.mode,E),m.return=_,m):(m=i(m,g),m.return=_,m)}function l(_,m,g,E){var C=g.type;return C===Li?u(_,m,g.props.children,E,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&vg(C)===m.type)?(E=i(m,g.props),E.ref=lo(_,m,g),E.return=_,E):(E=Rl(g.type,g.key,g.props,null,_.mode,E),E.ref=lo(_,m,g),E.return=_,E)}function c(_,m,g,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=cd(g,_.mode,E),m.return=_,m):(m=i(m,g.children||[]),m.return=_,m)}function u(_,m,g,E,C){return m===null||m.tag!==7?(m=oi(g,_.mode,E,C),m.return=_,m):(m=i(m,g),m.return=_,m)}function d(_,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ld(""+m,_.mode,g),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ba:return g=Rl(m.type,m.key,m.props,null,_.mode,g),g.ref=lo(_,null,m),g.return=_,g;case Di:return m=cd(m,_.mode,g),m.return=_,m;case rr:var E=m._init;return d(_,E(m._payload),g)}if(_o(m)||ro(m))return m=oi(m,_.mode,g,null),m.return=_,m;tl(_,m)}return null}function h(_,m,g,E){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(_,m,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ba:return g.key===C?l(_,m,g,E):null;case Di:return g.key===C?c(_,m,g,E):null;case rr:return C=g._init,h(_,m,C(g._payload),E)}if(_o(g)||ro(g))return C!==null?null:u(_,m,g,E,null);tl(_,g)}return null}function v(_,m,g,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(g)||null,a(m,_,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ba:return _=_.get(E.key===null?g:E.key)||null,l(m,_,E,C);case Di:return _=_.get(E.key===null?g:E.key)||null,c(m,_,E,C);case rr:var b=E._init;return v(_,m,g,b(E._payload),C)}if(_o(E)||ro(E))return _=_.get(g)||null,u(m,_,E,C,null);tl(m,E)}return null}function w(_,m,g,E){for(var C=null,b=null,S=m,T=m=0,k=null;S!==null&&T<g.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var P=h(_,S,g[T],E);if(P===null){S===null&&(S=k);break}t&&S&&P.alternate===null&&e(_,S),m=s(P,m,T),b===null?C=P:b.sibling=P,b=P,S=k}if(T===g.length)return n(_,S),Ee&&Kr(_,T),C;if(S===null){for(;T<g.length;T++)S=d(_,g[T],E),S!==null&&(m=s(S,m,T),b===null?C=S:b.sibling=S,b=S);return Ee&&Kr(_,T),C}for(S=r(_,S);T<g.length;T++)k=v(S,_,T,g[T],E),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),m=s(k,m,T),b===null?C=k:b.sibling=k,b=k);return t&&S.forEach(function(L){return e(_,L)}),Ee&&Kr(_,T),C}function p(_,m,g,E){var C=ro(g);if(typeof C!="function")throw Error(R(150));if(g=C.call(g),g==null)throw Error(R(151));for(var b=C=null,S=m,T=m=0,k=null,P=g.next();S!==null&&!P.done;T++,P=g.next()){S.index>T?(k=S,S=null):k=S.sibling;var L=h(_,S,P.value,E);if(L===null){S===null&&(S=k);break}t&&S&&L.alternate===null&&e(_,S),m=s(L,m,T),b===null?C=L:b.sibling=L,b=L,S=k}if(P.done)return n(_,S),Ee&&Kr(_,T),C;if(S===null){for(;!P.done;T++,P=g.next())P=d(_,P.value,E),P!==null&&(m=s(P,m,T),b===null?C=P:b.sibling=P,b=P);return Ee&&Kr(_,T),C}for(S=r(_,S);!P.done;T++,P=g.next())P=v(S,_,T,P.value,E),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?T:P.key),m=s(P,m,T),b===null?C=P:b.sibling=P,b=P);return t&&S.forEach(function(j){return e(_,j)}),Ee&&Kr(_,T),C}function x(_,m,g,E){if(typeof g=="object"&&g!==null&&g.type===Li&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ba:e:{for(var C=g.key,b=m;b!==null;){if(b.key===C){if(C=g.type,C===Li){if(b.tag===7){n(_,b.sibling),m=i(b,g.props.children),m.return=_,_=m;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&vg(C)===b.type){n(_,b.sibling),m=i(b,g.props),m.ref=lo(_,b,g),m.return=_,_=m;break e}n(_,b);break}else e(_,b);b=b.sibling}g.type===Li?(m=oi(g.props.children,_.mode,E,g.key),m.return=_,_=m):(E=Rl(g.type,g.key,g.props,null,_.mode,E),E.ref=lo(_,m,g),E.return=_,_=E)}return o(_);case Di:e:{for(b=g.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(_,m.sibling),m=i(m,g.children||[]),m.return=_,_=m;break e}else{n(_,m);break}else e(_,m);m=m.sibling}m=cd(g,_.mode,E),m.return=_,_=m}return o(_);case rr:return b=g._init,x(_,m,b(g._payload),E)}if(_o(g))return w(_,m,g,E);if(ro(g))return p(_,m,g,E);tl(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(_,m.sibling),m=i(m,g),m.return=_,_=m):(n(_,m),m=ld(g,_.mode,E),m.return=_,_=m),o(_)):n(_,m)}return x}var Es=fw(!0),hw=fw(!1),nc=Hr(null),rc=null,Bi=null,Wh=null;function zh(){Wh=Bi=rc=null}function Bh(t){var e=nc.current;we(nc),t._currentValue=e}function mf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zi(t,e){rc=t,Wh=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Wh!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(rc===null)throw Error(R(308));Bi=t,rc.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Jr=null;function Vh(t){Jr===null?Jr=[t]:Jr.push(t)}function pw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,Vh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rh(t,n)}}function _g(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ic(t,e,n,r){var i=t.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,v=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,p=a;switch(h=e,v=n,p.tag){case 1:if(w=p.payload,typeof w=="function"){d=w.call(v,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=p.payload,h=typeof w=="function"?w.call(v,d,h):w,h==null)break e;d=be({},d,h);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=d):u=u.next=v,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ui|=o,t.lanes=o,t.memoizedState=d}}function wg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Ta={},vn=Hr(Ta),Zo=Hr(Ta),ea=Hr(Ta);function Zr(t){if(t===Ta)throw Error(R(174));return t}function Kh(t,e){switch(ge(ea,e),ge(Zo,t),ge(vn,Ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qd(e,t)}we(vn),ge(vn,e)}function Cs(){we(vn),we(Zo),we(ea)}function gw(t){Zr(ea.current);var e=Zr(vn.current),n=qd(e,t.type);e!==n&&(ge(Zo,t),ge(vn,n))}function qh(t){Zo.current===t&&(we(vn),we(Zo))}var Ce=Hr(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nd=[];function Qh(){for(var t=0;t<nd.length;t++)nd[t]._workInProgressVersionPrimary=null;nd.length=0}var Tl=Gn.ReactCurrentDispatcher,rd=Gn.ReactCurrentBatchConfig,ci=0,Se=null,Me=null,je=null,oc=!1,Po=!1,ta=0,Yb=0;function Ye(){throw Error(R(321))}function Yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Xh(t,e,n,r,i,s){if(ci=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tl.current=t===null||t.memoizedState===null?eT:tT,t=n(r,i),Po){s=0;do{if(Po=!1,ta=0,25<=s)throw Error(R(301));s+=1,je=Me=null,e.updateQueue=null,Tl.current=nT,t=n(r,i)}while(Po)}if(Tl.current=ac,e=Me!==null&&Me.next!==null,ci=0,je=Me=Se=null,oc=!1,e)throw Error(R(300));return t}function Jh(){var t=ta!==0;return ta=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Se.memoizedState=je=t:je=je.next=t,je}function $t(){if(Me===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=je===null?Se.memoizedState:je.next;if(e!==null)je=e,Me=t;else{if(t===null)throw Error(R(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},je===null?Se.memoizedState=je=t:je=je.next=t}return je}function na(t,e){return typeof e=="function"?e(t):e}function id(t){var e=$t(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ci&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Se.lanes|=u,ui|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,ui|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sd(t){var e=$t(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yw(){}function vw(t,e){var n=Se,r=$t(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,pt=!0),r=r.queue,Zh(xw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,ra(9,ww.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(R(349));ci&30||_w(n,e,i)}return i}function _w(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ww(t,e,n,r){e.value=n,e.getSnapshot=r,Ew(e)&&Cw(t)}function xw(t,e,n){return n(function(){Ew(e)&&Cw(t)})}function Ew(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function Cw(t){var e=Un(t,1);e!==null&&Zt(e,t,1,-1)}function xg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},e.queue=t,t=t.dispatch=Zb.bind(null,Se,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sw(){return $t().memoizedState}function Il(t,e,n,r){var i=un();Se.flags|=t,i.memoizedState=ra(1|e,n,void 0,r===void 0?null:r)}function Qc(t,e,n,r){var i=$t();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&Yh(r,o.deps)){i.memoizedState=ra(e,n,s,r);return}}Se.flags|=t,i.memoizedState=ra(1|e,n,s,r)}function Eg(t,e){return Il(8390656,8,t,e)}function Zh(t,e){return Qc(2048,8,t,e)}function bw(t,e){return Qc(4,2,t,e)}function Tw(t,e){return Qc(4,4,t,e)}function Iw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nw(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4,4,Iw.bind(null,e,t),n)}function ep(){}function kw(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pw(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rw(t,e,n){return ci&21?(tn(n,e)||(n=L_(),Se.lanes|=n,ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function Xb(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=rd.transition;rd.transition={};try{t(!1),e()}finally{oe=n,rd.transition=r}}function Aw(){return $t().memoizedState}function Jb(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ow(t))Mw(e,n);else if(n=pw(t,e,n,r),n!==null){var i=at();Zt(n,t,r,i),Dw(n,e,r)}}function Zb(t,e,n){var r=Tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ow(t))Mw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(i.next=i,Vh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pw(t,e,i,r),n!==null&&(i=at(),Zt(n,t,r,i),Dw(n,e,r))}}function Ow(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function Mw(t,e){Po=oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rh(t,n)}}var ac={readContext:Ht,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},eT={readContext:Ht,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:Eg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Il(4194308,4,Iw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Il(4194308,4,t,e)},useInsertionEffect:function(t,e){return Il(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jb.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:xg,useDebugValue:ep,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=xg(!1),e=t[0];return t=Xb.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=un();if(Ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),$e===null)throw Error(R(349));ci&30||_w(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Eg(xw.bind(null,r,s,t),[t]),r.flags|=2048,ra(9,ww.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=un(),e=$e.identifierPrefix;if(Ee){var n=Pn,r=kn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tT={readContext:Ht,useCallback:kw,useContext:Ht,useEffect:Zh,useImperativeHandle:Nw,useInsertionEffect:bw,useLayoutEffect:Tw,useMemo:Pw,useReducer:id,useRef:Sw,useState:function(){return id(na)},useDebugValue:ep,useDeferredValue:function(t){var e=$t();return Rw(e,Me.memoizedState,t)},useTransition:function(){var t=id(na)[0],e=$t().memoizedState;return[t,e]},useMutableSource:yw,useSyncExternalStore:vw,useId:Aw,unstable_isNewReconciler:!1},nT={readContext:Ht,useCallback:kw,useContext:Ht,useEffect:Zh,useImperativeHandle:Nw,useInsertionEffect:bw,useLayoutEffect:Tw,useMemo:Pw,useReducer:sd,useRef:Sw,useState:function(){return sd(na)},useDebugValue:ep,useDeferredValue:function(t){var e=$t();return Me===null?e.memoizedState=t:Rw(e,Me.memoizedState,t)},useTransition:function(){var t=sd(na)[0],e=$t().memoizedState;return[t,e]},useMutableSource:yw,useSyncExternalStore:vw,useId:Aw,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yc={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),i=Tr(t),s=Mn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Sr(t,s,i),e!==null&&(Zt(e,t,i,r),bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),i=Tr(t),s=Mn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Sr(t,s,i),e!==null&&(Zt(e,t,i,r),bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=Tr(t),i=Mn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sr(t,i,r),e!==null&&(Zt(e,t,r,n),bl(e,t,r))}};function Cg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qo(n,r)||!Qo(i,s):!0}function Lw(t,e,n){var r=!1,i=Or,s=e.contextType;return typeof s=="object"&&s!==null?s=Ht(s):(i=vt(e)?ai:et.current,r=e.contextTypes,s=(r=r!=null)?ws(t,i):Or),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Sg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yc.enqueueReplaceState(e,e.state,null)}function yf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ht(s):(s=vt(e)?ai:et.current,i.context=ws(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yc.enqueueReplaceState(i,i.state,null),ic(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e){try{var n="",r=e;do n+=P1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function od(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function jw(t,e,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cc||(cc=!0,Nf=r),vf(t,e)},n}function Fw(t,e,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vf(t,e),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yT.bind(null,t,e,n),e.then(t,t))}function Tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ig(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mn(-1,1),e.tag=2,Sr(n,e,1))),n.lanes|=1),t)}var iT=Gn.ReactCurrentOwner,pt=!1;function st(t,e,n,r){e.child=t===null?hw(e,null,n,r):Es(e,t.child,n,r)}function Ng(t,e,n,r,i){n=n.render;var s=e.ref;return Zi(e,i),r=Xh(t,e,n,r,s,i),n=Jh(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(Ee&&n&&Uh(e),e.flags|=1,st(t,e,r,i),e.child)}function kg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Uw(t,e,s,r,i)):(t=Rl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(o,r)&&t.ref===e.ref)return Hn(t,e,i)}return e.flags|=1,t=Ir(s,r),t.ref=e.ref,t.return=e,e.child=t}function Uw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qo(s,r)&&t.ref===e.ref)if(pt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,Hn(t,e,i)}return _f(t,e,n,r,i)}function Hw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Gi,St),St|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Gi,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(Gi,St),St|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ge(Gi,St),St|=r;return st(t,e,i,n),e.child}function $w(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _f(t,e,n,r,i){var s=vt(n)?ai:et.current;return s=ws(e,s),Zi(e,i),n=Xh(t,e,n,r,s,i),r=Jh(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(Ee&&r&&Uh(e),e.flags|=1,st(t,e,n,i),e.child)}function Pg(t,e,n,r,i){if(vt(n)){var s=!0;Zl(e)}else s=!1;if(Zi(e,i),e.stateNode===null)Nl(t,e),Lw(e,n,r),yf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ht(c):(c=vt(n)?ai:et.current,c=ws(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Sg(e,o,r,c),ir=!1;var h=e.memoizedState;o.state=h,ic(e,r,o,i),l=e.memoizedState,a!==r||h!==l||yt.current||ir?(typeof u=="function"&&(gf(e,n,u,r),l=e.memoizedState),(a=ir||Cg(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bt(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=vt(n)?ai:et.current,l=ws(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Sg(e,o,r,l),ir=!1,h=e.memoizedState,o.state=h,ic(e,r,o,i);var w=e.memoizedState;a!==d||h!==w||yt.current||ir?(typeof v=="function"&&(gf(e,n,v,r),w=e.memoizedState),(c=ir||Cg(e,n,c,r,h,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return wf(t,e,n,r,s,i)}function wf(t,e,n,r,i,s){$w(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mg(e,n,!1),Hn(t,e,s);r=e.stateNode,iT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Es(e,t.child,null,s),e.child=Es(e,null,a,s)):st(t,e,a,s),e.memoizedState=r.state,i&&mg(e,n,!0),e.child}function Ww(t){var e=t.stateNode;e.pendingContext?pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pg(t,e.context,!1),Kh(t,e.containerInfo)}function Rg(t,e,n,r,i){return xs(),$h(i),e.flags|=256,st(t,e,n,r),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function zw(t,e,n){var r=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(Ce,i&1),t===null)return pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zc(o,r,0,null),t=oi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ef(n),e.memoizedState=xf,t):tp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ir(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ir(a,s):(s=oi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xf,r}return s=t.child,t=s.sibling,r=Ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tp(t,e){return e=Zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nl(t,e,n,r){return r!==null&&$h(r),Es(e,t.child,null,n),t=tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=od(Error(R(422))),nl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zc({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Es(e,t.child,null,o),e.child.memoizedState=Ef(o),e.memoizedState=xf,s);if(!(e.mode&1))return nl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=od(s,r,void 0),nl(t,e,o,r)}if(a=(o&t.childLanes)!==0,pt||a){if(r=$e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Un(t,i),Zt(r,t,i,-1))}return ap(),r=od(Error(R(421))),nl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tt=Cr(i.nextSibling),It=e,Ee=!0,qt=null,t!==null&&(Mt[Dt++]=kn,Mt[Dt++]=Pn,Mt[Dt++]=li,kn=t.id,Pn=t.overflow,li=e),e=tp(e,r.children),e.flags|=4096,e)}function Ag(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mf(t.return,e,n)}function ad(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(st(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,n,e);else if(t.tag===19)Ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ad(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ad(e,!0,n,null,s);break;case"together":ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oT(t,e,n){switch(e.tag){case 3:Ww(e),xs();break;case 5:gw(e);break;case 1:vt(e.type)&&Zl(e);break;case 4:Kh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(nc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?zw(t,e,n):(ge(Ce,Ce.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);ge(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Bw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,Hw(t,e,n)}return Hn(t,e,n)}var Vw,Cf,Gw,Kw;Vw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cf=function(){};Gw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zr(vn.current);var s=null;switch(n){case"input":i=Bd(t,i),r=Bd(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=Kd(t,i),r=Kd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xl)}Qd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Kw=function(t,e,n,r){n!==r&&(e.flags|=4)};function co(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aT(t,e,n){var r=e.pendingProps;switch(Hh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return vt(e.type)&&Jl(),Xe(e),null;case 3:return r=e.stateNode,Cs(),we(yt),we(et),Qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qt!==null&&(Rf(qt),qt=null))),Cf(t,e),Xe(e),null;case 5:qh(e);var i=Zr(ea.current);if(n=e.type,t!==null&&e.stateNode!=null)Gw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Xe(e),null}if(t=Zr(vn.current),el(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pn]=e,r[Jo]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<xo.length;i++)_e(xo[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":$m(r,s),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_e("invalid",r);break;case"textarea":zm(r,s),_e("invalid",r)}Qd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Za(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Za(r.textContent,a,t),i=["children",""+a]):Wo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Va(r),Wm(r,s,!0);break;case"textarea":Va(r),Bm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[Jo]=r,Vw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yd(n,r),n){case"dialog":_e("cancel",t),_e("close",t),i=r;break;case"iframe":case"object":case"embed":_e("load",t),i=r;break;case"video":case"audio":for(i=0;i<xo.length;i++)_e(xo[i],t);i=r;break;case"source":_e("error",t),i=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),i=r;break;case"details":_e("toggle",t),i=r;break;case"input":$m(t,r),i=Bd(t,r),_e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),_e("invalid",t);break;case"textarea":zm(t,r),i=Kd(t,r),_e("invalid",t);break;default:i=r}Qd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?S_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zo(t,l):typeof l=="number"&&zo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_e("scroll",t):l!=null&&bh(t,s,l,o))}switch(n){case"input":Va(t),Wm(t,r,!1);break;case"textarea":Va(t),Bm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ar(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)Kw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Zr(ea.current),Zr(vn.current),el(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(s=r.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:Za(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Za(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return Xe(e),null;case 13:if(we(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Tt!==null&&e.mode&1&&!(e.flags&128))dw(),xs(),e.flags|=98560,s=!1;else if(s=el(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[pn]=e}else xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),s=!1}else qt!==null&&(Rf(qt),qt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?De===0&&(De=3):ap())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return Cs(),Cf(t,e),t===null&&Yo(e.stateNode.containerInfo),Xe(e),null;case 10:return Bh(e.type._context),Xe(e),null;case 17:return vt(e.type)&&Jl(),Xe(e),null;case 19:if(we(Ce),s=e.memoizedState,s===null)return Xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)co(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sc(t),o!==null){for(e.flags|=128,co(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>bs&&(e.flags|=128,r=!0,co(s,!1),e.lanes=4194304)}else{if(!r)if(t=sc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),co(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return Xe(e),null}else 2*Re()-s.renderingStartTime>bs&&n!==1073741824&&(e.flags|=128,r=!0,co(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,n=Ce.current,ge(Ce,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return op(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?St&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function lT(t,e){switch(Hh(e),e.tag){case 1:return vt(e.type)&&Jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cs(),we(yt),we(et),Qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qh(e),null;case 13:if(we(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ce),null;case 4:return Cs(),null;case 10:return Bh(e.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var rl=!1,Ze=!1,cT=typeof WeakSet=="function"?WeakSet:Set,F=null;function Vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Sf(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Og=!1;function uT(t,e){if(af=ql,t=J_(),Fh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:t,selectionRange:n},ql=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var p=w.memoizedProps,x=w.memoizedState,_=e.stateNode,m=_.getSnapshotBeforeUpdate(e.elementType===e.type?p:Bt(e.type,p),x);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Ie(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return w=Og,Og=!1,w}function Ro(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sf(e,n,s)}i=i.next}while(i!==r)}}function Xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qw(t){var e=t.alternate;e!==null&&(t.alternate=null,qw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[Jo],delete e[df],delete e[Gb],delete e[Kb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qw(t){return t.tag===5||t.tag===3||t.tag===4}function Mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xl));else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}function If(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(If(t,e,n),t=t.sibling;t!==null;)If(t,e,n),t=t.sibling}var ze=null,Kt=!1;function qn(t,e,n){for(n=n.child;n!==null;)Yw(t,e,n),n=n.sibling}function Yw(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 5:Ze||Vi(n,e);case 6:var r=ze,i=Kt;ze=null,qn(t,e,n),ze=r,Kt=i,ze!==null&&(Kt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Kt?(t=ze,n=n.stateNode,t.nodeType===8?ed(t.parentNode,n):t.nodeType===1&&ed(t,n),Ko(t)):ed(ze,n.stateNode));break;case 4:r=ze,i=Kt,ze=n.stateNode.containerInfo,Kt=!0,qn(t,e,n),ze=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sf(n,e,o),i=i.next}while(i!==r)}qn(t,e,n);break;case 1:if(!Ze&&(Vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,qn(t,e,n),Ze=r):qn(t,e,n);break;default:qn(t,e,n)}}function Dg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cT),e.forEach(function(r){var i=_T.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Kt=!1;break e;case 3:ze=a.stateNode.containerInfo,Kt=!0;break e;case 4:ze=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(ze===null)throw Error(R(160));Yw(s,o,i),ze=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ie(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xw(e,t),e=e.sibling}function Xw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),cn(t),r&4){try{Ro(3,t,t.return),Xc(3,t)}catch(p){Ie(t,t.return,p)}try{Ro(5,t,t.return)}catch(p){Ie(t,t.return,p)}}break;case 1:Wt(e,t),cn(t),r&512&&n!==null&&Vi(n,n.return);break;case 5:if(Wt(e,t),cn(t),r&512&&n!==null&&Vi(n,n.return),t.flags&32){var i=t.stateNode;try{zo(i,"")}catch(p){Ie(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&__(i,s),Yd(a,o);var c=Yd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?S_(i,d):u==="dangerouslySetInnerHTML"?E_(i,d):u==="children"?zo(i,d):bh(i,u,d,c)}switch(a){case"input":Vd(i,s);break;case"textarea":w_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Qi(i,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Qi(i,!!s.multiple,s.defaultValue,!0):Qi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jo]=s}catch(p){Ie(t,t.return,p)}}break;case 6:if(Wt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Ie(t,t.return,p)}}break;case 3:if(Wt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(p){Ie(t,t.return,p)}break;case 4:Wt(e,t),cn(t);break;case 13:Wt(e,t),cn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ip=Re())),r&4&&Dg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(c=Ze)||u,Wt(e,t),Ze=c):Wt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(F=t,u=t.child;u!==null;){for(d=F=u;F!==null;){switch(h=F,v=h.child,h.tag){case 0:case 11:case 14:case 15:Ro(4,h,h.return);break;case 1:Vi(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(p){Ie(r,n,p)}}break;case 5:Vi(h,h.return);break;case 22:if(h.memoizedState!==null){jg(d);continue}}v!==null?(v.return=h,F=v):jg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C_("display",o))}catch(p){Ie(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){Ie(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(e,t),cn(t),r&4&&Dg(t);break;case 21:break;default:Wt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qw(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zo(i,""),r.flags&=-33);var s=Mg(t);If(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mg(t);Tf(t,a,o);break;default:throw Error(R(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dT(t,e,n){F=t,Jw(t)}function Jw(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ze;a=rl;var c=Ze;if(rl=o,(Ze=l)&&!c)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Fg(i):l!==null?(l.return=o,F=l):Fg(i);for(;s!==null;)F=s,Jw(s),s=s.sibling;F=i,rl=a,Ze=c}Lg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Lg(t)}}function Lg(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||Xc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ko(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ze||e.flags&512&&bf(e)}catch(h){Ie(e,e.return,h)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function jg(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Fg(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xc(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var s=e.return;try{bf(e)}catch(l){Ie(e,s,l)}break;case 5:var o=e.return;try{bf(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var fT=Math.ceil,lc=Gn.ReactCurrentDispatcher,np=Gn.ReactCurrentOwner,Ut=Gn.ReactCurrentBatchConfig,ne=0,$e=null,Ae=null,Ve=0,St=0,Gi=Hr(0),De=0,ia=null,ui=0,Jc=0,rp=0,Ao=null,ht=null,ip=0,bs=1/0,In=null,cc=!1,Nf=null,br=null,il=!1,yr=null,uc=0,Oo=0,kf=null,kl=-1,Pl=0;function at(){return ne&6?Re():kl!==-1?kl:kl=Re()}function Tr(t){return t.mode&1?ne&2&&Ve!==0?Ve&-Ve:Qb.transition!==null?(Pl===0&&(Pl=L_()),Pl):(t=oe,t!==0||(t=window.event,t=t===void 0?16:z_(t.type)),t):1}function Zt(t,e,n,r){if(50<Oo)throw Oo=0,kf=null,Error(R(185));Ca(t,n,r),(!(ne&2)||t!==$e)&&(t===$e&&(!(ne&2)&&(Jc|=n),De===4&&or(t,Ve)),_t(t,r),n===1&&ne===0&&!(e.mode&1)&&(bs=Re()+500,qc&&$r()))}function _t(t,e){var n=t.callbackNode;Q1(t,e);var r=Kl(t,t===$e?Ve:0);if(r===0)n!==null&&Km(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Km(n),e===1)t.tag===0?qb(Ug.bind(null,t)):lw(Ug.bind(null,t)),Bb(function(){!(ne&6)&&$r()}),n=null;else{switch(j_(r)){case 1:n=Ph;break;case 4:n=M_;break;case 16:n=Gl;break;case 536870912:n=D_;break;default:n=Gl}n=o0(n,Zw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zw(t,e){if(kl=-1,Pl=0,ne&6)throw Error(R(327));var n=t.callbackNode;if(es()&&t.callbackNode!==n)return null;var r=Kl(t,t===$e?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dc(t,r);else{e=r;var i=ne;ne|=2;var s=t0();($e!==t||Ve!==e)&&(In=null,bs=Re()+500,si(t,e));do try{mT();break}catch(a){e0(t,a)}while(!0);zh(),lc.current=s,ne=i,Ae!==null?e=0:($e=null,Ve=0,e=De)}if(e!==0){if(e===2&&(i=tf(t),i!==0&&(r=i,e=Pf(t,i))),e===1)throw n=ia,si(t,0),or(t,r),_t(t,Re()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!hT(i)&&(e=dc(t,r),e===2&&(s=tf(t),s!==0&&(r=s,e=Pf(t,s))),e===1))throw n=ia,si(t,0),or(t,r),_t(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:qr(t,ht,In);break;case 3:if(or(t,r),(r&130023424)===r&&(e=ip+500-Re(),10<e)){if(Kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){at(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uf(qr.bind(null,t,ht,In),e);break}qr(t,ht,In);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fT(r/1960))-r,10<r){t.timeoutHandle=uf(qr.bind(null,t,ht,In),r);break}qr(t,ht,In);break;case 5:qr(t,ht,In);break;default:throw Error(R(329))}}}return _t(t,Re()),t.callbackNode===n?Zw.bind(null,t):null}function Pf(t,e){var n=Ao;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=dc(t,e),t!==2&&(e=ht,ht=n,e!==null&&Rf(e)),t}function Rf(t){ht===null?ht=t:ht.push.apply(ht,t)}function hT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~rp,e&=~Jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Ug(t){if(ne&6)throw Error(R(327));es();var e=Kl(t,0);if(!(e&1))return _t(t,Re()),null;var n=dc(t,e);if(t.tag!==0&&n===2){var r=tf(t);r!==0&&(e=r,n=Pf(t,r))}if(n===1)throw n=ia,si(t,0),or(t,e),_t(t,Re()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,ht,In),_t(t,Re()),null}function sp(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(bs=Re()+500,qc&&$r())}}function di(t){yr!==null&&yr.tag===0&&!(ne&6)&&es();var e=ne;ne|=1;var n=Ut.transition,r=oe;try{if(Ut.transition=null,oe=1,t)return t()}finally{oe=r,Ut.transition=n,ne=e,!(ne&6)&&$r()}}function op(){St=Gi.current,we(Gi)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zb(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(Hh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:Cs(),we(yt),we(et),Qh();break;case 5:qh(r);break;case 4:Cs();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Bh(r.type._context);break;case 22:case 23:op()}n=n.return}if($e=t,Ae=t=Ir(t.current,null),Ve=St=e,De=0,ia=null,rp=Jc=ui=0,ht=Ao=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Jr=null}return t}function e0(t,e){do{var n=Ae;try{if(zh(),Tl.current=ac,oc){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oc=!1}if(ci=0,je=Me=Se=null,Po=!1,ta=0,np.current=null,n===null||n.return===null){De=1,ia=e,Ae=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=Tg(o);if(v!==null){v.flags&=-257,Ig(v,o,a,s,e),v.mode&1&&bg(s,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var p=new Set;p.add(l),e.updateQueue=p}else w.add(l);break e}else{if(!(e&1)){bg(s,c,e),ap();break e}l=Error(R(426))}}else if(Ee&&a.mode&1){var x=Tg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ig(x,o,a,s,e),$h(Ss(l,a));break e}}s=l=Ss(l,a),De!==4&&(De=2),Ao===null?Ao=[s]:Ao.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=jw(s,l,e);_g(s,_);break e;case 1:a=l;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(br===null||!br.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Fw(s,a,e);_g(s,E);break e}}s=s.return}while(s!==null)}r0(n)}catch(C){e=C,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function t0(){var t=lc.current;return lc.current=ac,t===null?ac:t}function ap(){(De===0||De===3||De===2)&&(De=4),$e===null||!(ui&268435455)&&!(Jc&268435455)||or($e,Ve)}function dc(t,e){var n=ne;ne|=2;var r=t0();($e!==t||Ve!==e)&&(In=null,si(t,e));do try{pT();break}catch(i){e0(t,i)}while(!0);if(zh(),ne=n,lc.current=r,Ae!==null)throw Error(R(261));return $e=null,Ve=0,De}function pT(){for(;Ae!==null;)n0(Ae)}function mT(){for(;Ae!==null&&!H1();)n0(Ae)}function n0(t){var e=s0(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?r0(t):Ae=e,np.current=null}function r0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lT(n,e),n!==null){n.flags&=32767,Ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ae=null;return}}else if(n=aT(n,e,St),n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);De===0&&(De=5)}function qr(t,e,n){var r=oe,i=Ut.transition;try{Ut.transition=null,oe=1,gT(t,e,n,r)}finally{Ut.transition=i,oe=r}return null}function gT(t,e,n,r){do es();while(yr!==null);if(ne&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Y1(t,s),t===$e&&(Ae=$e=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||il||(il=!0,o0(Gl,function(){return es(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ut.transition,Ut.transition=null;var o=oe;oe=1;var a=ne;ne|=4,np.current=null,uT(t,n),Xw(n,t),Lb(lf),ql=!!af,lf=af=null,t.current=n,dT(n),$1(),ne=a,oe=o,Ut.transition=s}else t.current=n;if(il&&(il=!1,yr=t,uc=i),s=t.pendingLanes,s===0&&(br=null),B1(n.stateNode),_t(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,t=Nf,Nf=null,t;return uc&1&&t.tag!==0&&es(),s=t.pendingLanes,s&1?t===kf?Oo++:(Oo=0,kf=t):Oo=0,$r(),null}function es(){if(yr!==null){var t=j_(uc),e=Ut.transition,n=oe;try{if(Ut.transition=null,oe=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,uc=0,ne&6)throw Error(R(331));var i=ne;for(ne|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(F=c;F!==null;){var u=F;switch(u.tag){case 0:case 11:case 15:Ro(8,u,s)}var d=u.child;if(d!==null)d.return=u,F=d;else for(;F!==null;){u=F;var h=u.sibling,v=u.return;if(qw(u),u===c){F=null;break}if(h!==null){h.return=v,F=h;break}F=v}}}var w=s.alternate;if(w!==null){var p=w.child;if(p!==null){w.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ro(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,F=_;break e}F=s.return}}var m=t.current;for(F=m;F!==null;){o=F;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,F=g;else e:for(o=m;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xc(9,a)}}catch(C){Ie(a,a.return,C)}if(a===o){F=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,F=E;break e}F=a.return}}if(ne=i,$r(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(zc,t)}catch{}r=!0}return r}finally{oe=n,Ut.transition=e}}return!1}function Hg(t,e,n){e=Ss(n,e),e=jw(t,e,1),t=Sr(t,e,1),e=at(),t!==null&&(Ca(t,1,e),_t(t,e))}function Ie(t,e,n){if(t.tag===3)Hg(t,t,n);else for(;e!==null;){if(e.tag===3){Hg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){t=Ss(n,t),t=Fw(e,t,1),e=Sr(e,t,1),t=at(),e!==null&&(Ca(e,1,t),_t(e,t));break}}e=e.return}}function yT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Ve&n)===n&&(De===4||De===3&&(Ve&130023424)===Ve&&500>Re()-ip?si(t,0):rp|=n),_t(t,e)}function i0(t,e){e===0&&(t.mode&1?(e=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):e=1);var n=at();t=Un(t,e),t!==null&&(Ca(t,e,n),_t(t,n))}function vT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i0(t,n)}function _T(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),i0(t,n)}var s0;s0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,oT(t,e,n);pt=!!(t.flags&131072)}else pt=!1,Ee&&e.flags&1048576&&cw(e,tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nl(t,e),t=e.pendingProps;var i=ws(e,et.current);Zi(e,n),i=Xh(null,e,r,t,i,n);var s=Jh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(r)?(s=!0,Zl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gh(e),i.updater=Yc,e.stateNode=i,i._reactInternals=e,yf(e,r,t,n),e=wf(null,e,r,!0,s,n)):(e.tag=0,Ee&&s&&Uh(e),st(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xT(r),t=Bt(r,t),i){case 0:e=_f(null,e,r,t,n);break e;case 1:e=Pg(null,e,r,t,n);break e;case 11:e=Ng(null,e,r,t,n);break e;case 14:e=kg(null,e,r,Bt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),_f(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Pg(t,e,r,i,n);case 3:e:{if(Ww(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mw(t,e),ic(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ss(Error(R(423)),e),e=Rg(t,e,r,n,i);break e}else if(r!==i){i=Ss(Error(R(424)),e),e=Rg(t,e,r,n,i);break e}else for(Tt=Cr(e.stateNode.containerInfo.firstChild),It=e,Ee=!0,qt=null,n=hw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===i){e=Hn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return gw(e),t===null&&pf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,cf(r,i)?o=null:s!==null&&cf(r,s)&&(e.flags|=32),$w(t,e),st(t,e,o,n),e.child;case 6:return t===null&&pf(e),null;case 13:return zw(t,e,n);case 4:return Kh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Es(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Ng(t,e,r,i,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(nc,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!yt.current){e=Hn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),mf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}st(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zi(e,n),i=Ht(i),r=r(i),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),kg(t,e,r,i,n);case 15:return Uw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Nl(t,e),e.tag=1,vt(r)?(t=!0,Zl(e)):t=!1,Zi(e,n),Lw(e,r,i),yf(e,r,i,n),wf(null,e,r,!0,t,n);case 19:return Bw(t,e,n);case 22:return Hw(t,e,n)}throw Error(R(156,e.tag))};function o0(t,e){return O_(t,e)}function wT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new wT(t,e,n,r)}function lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xT(t){if(typeof t=="function")return lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ih)return 11;if(t===Nh)return 14}return 2}function Ir(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Li:return oi(n.children,i,s,e);case Th:o=8,i|=8;break;case Hd:return t=jt(12,n,e,i|2),t.elementType=Hd,t.lanes=s,t;case $d:return t=jt(13,n,e,i),t.elementType=$d,t.lanes=s,t;case Wd:return t=jt(19,n,e,i),t.elementType=Wd,t.lanes=s,t;case g_:return Zc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p_:o=10;break e;case m_:o=9;break e;case Ih:o=11;break e;case Nh:o=14;break e;case rr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oi(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function Zc(t,e,n,r){return t=jt(22,t,r,e),t.elementType=g_,t.lanes=n,t.stateNode={isHidden:!1},t}function ld(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function cd(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ET(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cp(t,e,n,r,i,s,o,a,l){return t=new ET(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(s),t}function CT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function a0(t){if(!t)return Or;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(vt(n))return aw(t,n,e)}return e}function l0(t,e,n,r,i,s,o,a,l){return t=cp(n,r,!0,t,i,s,o,a,l),t.context=a0(null),n=t.current,r=at(),i=Tr(n),s=Mn(r,i),s.callback=e??null,Sr(n,s,i),t.current.lanes=i,Ca(t,i,r),_t(t,r),t}function eu(t,e,n,r){var i=e.current,s=at(),o=Tr(i);return n=a0(n),e.context===null?e.context=n:e.pendingContext=n,e=Mn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sr(i,e,o),t!==null&&(Zt(t,i,o,s),bl(t,i,o)),o}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $g(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function up(t,e){$g(t,e),(t=t.alternate)&&$g(t,e)}function ST(){return null}var c0=typeof reportError=="function"?reportError:function(t){console.error(t)};function dp(t){this._internalRoot=t}tu.prototype.render=dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));eu(t,e,null,null)};tu.prototype.unmount=dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){eu(null,t,null,null)}),e[Fn]=null}};function tu(t){this._internalRoot=t}tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=H_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&W_(t)}};function fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function bT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fc(o);s.call(c)}}var o=l0(e,r,t,0,null,!1,!1,"",Wg);return t._reactRootContainer=o,t[Fn]=o.current,Yo(t.nodeType===8?t.parentNode:t),di(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fc(l);a.call(c)}}var l=cp(t,0,!1,null,null,!1,!1,"",Wg);return t._reactRootContainer=l,t[Fn]=l.current,Yo(t.nodeType===8?t.parentNode:t),di(function(){eu(e,l,n,r)}),l}function ru(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fc(o);a.call(l)}}eu(e,o,t,i)}else o=bT(n,e,t,i,r);return fc(o)}F_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wo(e.pendingLanes);n!==0&&(Rh(e,n|1),_t(e,Re()),!(ne&6)&&(bs=Re()+500,$r()))}break;case 13:di(function(){var r=Un(t,1);if(r!==null){var i=at();Zt(r,t,1,i)}}),up(t,1)}};Ah=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=at();Zt(e,t,134217728,n)}up(t,134217728)}};U_=function(t){if(t.tag===13){var e=Tr(t),n=Un(t,e);if(n!==null){var r=at();Zt(n,t,e,r)}up(t,e)}};H_=function(){return oe};$_=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};Jd=function(t,e,n){switch(e){case"input":if(Vd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kc(r);if(!i)throw Error(R(90));v_(r),Vd(r,i)}}}break;case"textarea":w_(t,n);break;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}};I_=sp;N_=di;var TT={usingClientEntryPoint:!1,Events:[ba,Hi,Kc,b_,T_,sp]},uo={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IT={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R_(t),t===null?null:t.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||ST,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{zc=sl.inject(IT),yn=sl}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;Rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(e))throw Error(R(200));return CT(t,e,null,n)};Rt.createRoot=function(t,e){if(!fp(t))throw Error(R(299));var n=!1,r="",i=c0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cp(t,1,!1,null,null,n,!1,r,i),t[Fn]=e.current,Yo(t.nodeType===8?t.parentNode:t),new dp(e)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=R_(e),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return di(t)};Rt.hydrate=function(t,e,n){if(!nu(e))throw Error(R(200));return ru(null,t,e,!0,n)};Rt.hydrateRoot=function(t,e,n){if(!fp(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=c0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=l0(e,null,t,1,n??null,i,!1,s,o),t[Fn]=e.current,Yo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tu(e)};Rt.render=function(t,e,n){if(!nu(e))throw Error(R(200));return ru(null,t,e,!1,n)};Rt.unmountComponentAtNode=function(t){if(!nu(t))throw Error(R(40));return t._reactRootContainer?(di(function(){ru(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Rt.unstable_batchedUpdates=sp;Rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return ru(t,e,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function u0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u0)}catch(t){console.error(t)}}u0(),u_.exports=Rt;var Si=u_.exports;const NT=Xv(Si);var d0,zg=Si;d0=zg.createRoot,zg.hydrateRoot;function kT(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var f0={exports:{}},h0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=y;function PT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RT=typeof Object.is=="function"?Object.is:PT,AT=Ts.useState,OT=Ts.useEffect,MT=Ts.useLayoutEffect,DT=Ts.useDebugValue;function LT(t,e){var n=e(),r=AT({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return MT(function(){i.value=n,i.getSnapshot=e,ud(i)&&s({inst:i})},[t,n,e]),OT(function(){return ud(i)&&s({inst:i}),t(function(){ud(i)&&s({inst:i})})},[t]),DT(n),n}function ud(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RT(t,n)}catch{return!0}}function jT(t,e){return e()}var FT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jT:LT;h0.useSyncExternalStore=Ts.useSyncExternalStore!==void 0?Ts.useSyncExternalStore:FT;f0.exports=h0;var UT=f0.exports;const HT=l_.useInsertionEffect,$T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WT=$T?y.useLayoutEffect:y.useEffect,zT=HT||WT,p0=t=>{const e=y.useRef([t,(...n)=>e[0](...n)]).current;return zT(()=>{e[0]=t}),e[1]},BT="popstate",hp="pushState",pp="replaceState",VT="hashchange",Bg=[BT,hp,pp,VT],GT=t=>{for(const e of Bg)addEventListener(e,t);return()=>{for(const e of Bg)removeEventListener(e,t)}},m0=(t,e)=>UT.useSyncExternalStore(GT,t,e),KT=()=>location.search,qT=({ssrSearch:t=""}={})=>m0(KT,()=>t),Vg=()=>location.pathname,QT=({ssrPath:t}={})=>m0(Vg,t?()=>t:Vg),YT=(t,{replace:e=!1,state:n=null}={})=>history[e?pp:hp](n,"",t),XT=(t={})=>[QT(t),YT],Gg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Gg]>"u"){for(const t of[hp,pp]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Gg,{value:!0})}const JT=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",g0=(t="")=>t==="/"?"":t,ZT=(t,e)=>t[0]==="~"?t.slice(1):g0(e)+t,eI=(t="",e)=>JT(Kg(g0(t)),Kg(e)),Kg=t=>{try{return decodeURI(t)}catch{return t}},y0={hook:XT,searchHook:qT,parser:kT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},v0=y.createContext(y0),Hs=()=>y.useContext(v0),_0={},w0=y.createContext(_0),tI=()=>y.useContext(w0),iu=t=>{const[e,n]=t.hook(t);return[eI(t.base,e),p0((r,i)=>n(ZT(r,t.base),i))]},$s=()=>iu(Hs()),mp=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,h)=>[d,l[h]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},gp=t=>mp(Hs().parser,t,$s()[0]),nI=({children:t,...e})=>{var u,d;const n=Hs(),r=e.hook?y0:n;let i=r;const[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=y.useRef({}),l=a.current,c=l;for(let h in r){const v=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&v!==c[h]&&(a.current=c={...c}),c[h]=v,v!==r[h]&&(i=c)}return y.createElement(v0.Provider,{value:i,children:t})},qg=({children:t,component:e},n)=>e?y.createElement(e,{params:n}):typeof t=="function"?t(n):t,rI=t=>{let e=y.useRef(_0),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Qn=({path:t,nest:e,match:n,...r})=>{const i=Hs(),[s]=iu(i),[o,a,l]=n??mp(i.parser,t,s,e),c=rI({...tI(),...a});if(!o)return null;const u=l?y.createElement(nI,{base:l},qg(r,c)):qg(r,c);return y.createElement(w0.Provider,{value:c,children:u})},Al=y.forwardRef((t,e)=>{const n=Hs(),[r,i]=iu(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:d,state:h,...v}=t,w=p0(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(o,t)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&y.isValidElement(c)?y.cloneElement(c,{onClick:w,href:p}):y.createElement("a",{...v,onClick:w,href:p,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),x0=t=>Array.isArray(t)?t.flatMap(e=>x0(e&&e.type===y.Fragment?e.props.children:e)):[t],iI=({children:t,location:e})=>{const n=Hs(),[r]=iu(n);for(const i of x0(t)){let s=0;if(y.isValidElement(i)&&(s=mp(n.parser,i.props.path,e||r,i.props.nest))[0])return y.cloneElement(i,{match:s})}return null};var su=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ou=typeof window>"u"||"Deno"in globalThis;function Vt(){}function sI(t,e){return typeof t=="function"?t(e):t}function oI(t){return typeof t=="number"&&t>=0&&t!==1/0}function aI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qg(t,e){return typeof t=="function"?t(e):t}function lI(t,e){return typeof t=="function"?t(e):t}function Yg(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==yp(o,e.options))return!1}else if(!oa(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Xg(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(sa(e.options.mutationKey)!==sa(s))return!1}else if(!oa(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function yp(t,e){return((e==null?void 0:e.queryKeyHashFn)||sa)(t)}function sa(t){return JSON.stringify(t,(e,n)=>Af(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function oa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!oa(t[n],e[n])):!1}function E0(t,e){if(t===e)return t;const n=Jg(t)&&Jg(e);if(n||Af(t)&&Af(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=E0(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Jg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Af(t){if(!Zg(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Zg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Zg(t){return Object.prototype.toString.call(t)==="[object Object]"}function cI(t){return new Promise(e=>{setTimeout(e,t)})}function uI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?E0(t,e):e}function dI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vp=Symbol();function C0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ti,dr,us,zv,hI=(zv=class extends su{constructor(){super();ie(this,ti);ie(this,dr);ie(this,us);q(this,us,e=>{if(!ou&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,dr)||this.setEventListener(N(this,us))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,dr))==null||e.call(this),q(this,dr,void 0))}setEventListener(e){var n;q(this,us,e),(n=N(this,dr))==null||n.call(this),q(this,dr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,ti)!==e&&(q(this,ti,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,ti)=="boolean"?N(this,ti):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ti=new WeakMap,dr=new WeakMap,us=new WeakMap,zv),S0=new hI,ds,fr,fs,Bv,pI=(Bv=class extends su{constructor(){super();ie(this,ds,!0);ie(this,fr);ie(this,fs);q(this,fs,e=>{if(!ou&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,fr)||this.setEventListener(N(this,fs))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,fr))==null||e.call(this),q(this,fr,void 0))}setEventListener(e){var n;q(this,fs,e),(n=N(this,fr))==null||n.call(this),q(this,fr,e(this.setOnline.bind(this)))}setOnline(e){N(this,ds)!==e&&(q(this,ds,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,ds)}},ds=new WeakMap,fr=new WeakMap,fs=new WeakMap,Bv),hc=new pI;function mI(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function gI(t){return Math.min(1e3*2**t,3e4)}function b0(t){return(t??"online")==="online"?hc.isOnline():!0}var T0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dd(t){return t instanceof T0}function I0(t){let e=!1,n=0,r=!1,i;const s=mI(),o=p=>{var x;r||(h(new T0(p)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>S0.isFocused()&&(t.networkMode==="always"||hc.isOnline())&&t.canRun(),u=()=>b0(t.networkMode)&&t.canRun(),d=p=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,p),i==null||i(),s.resolve(p))},h=p=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,p),i==null||i(),s.reject(p))},v=()=>new Promise(p=>{var x;i=_=>{(r||c())&&p(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var p;i=void 0,r||(p=t.onContinue)==null||p.call(t)}),w=()=>{if(r)return;let p;const x=n===0?t.initialPromise:void 0;try{p=x??t.fn()}catch(_){p=Promise.reject(_)}Promise.resolve(p).then(d).catch(_=>{var b;if(r)return;const m=t.retry??(ou?0:3),g=t.retryDelay??gI,E=typeof g=="function"?g(n,_):g,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,_);if(e||!C){h(_);return}n++,(b=t.onFail)==null||b.call(t,n,_),cI(E).then(()=>c()?void 0:v()).then(()=>{e?h(_):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?w():v().then(w),s)}}function yI(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ot=yI(),ni,Vv,N0=(Vv=class{constructor(){ie(this,ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oI(this.gcTime)&&q(this,ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ou?1/0:5*60*1e3))}clearGcTimeout(){N(this,ni)&&(clearTimeout(N(this,ni)),q(this,ni,void 0))}},ni=new WeakMap,Vv),hs,ps,Ot,Je,wa,ri,Gt,Tn,Gv,vI=(Gv=class extends N0{constructor(e){super();ie(this,Gt);ie(this,hs);ie(this,ps);ie(this,Ot);ie(this,Je);ie(this,wa);ie(this,ri);q(this,ri,!1),q(this,wa,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,Ot,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,hs,wI(this.options)),this.state=e.state??N(this,hs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Je))==null?void 0:e.promise}setOptions(e){this.options={...N(this,wa),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Ot).remove(this)}setData(e,n){const r=uI(this.state.data,e,this.options);return Qe(this,Gt,Tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Qe(this,Gt,Tn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=N(this,Je))==null?void 0:r.promise;return(i=N(this,Je))==null||i.cancel(e),n?n.then(Vt).catch(Vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,hs))}isActive(){return this.observers.some(e=>lI(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!aI(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Je))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,Je))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,Ot).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(N(this,Je)&&(N(this,ri)?N(this,Je).cancel({revert:!0}):N(this,Je).cancelRetry()),this.scheduleGc()),N(this,Ot).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,Gt,Tn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Je))return N(this,Je).continueRetry(),N(this,Je).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(q(this,ri,!0),r.signal)})},s=()=>{const d=C0(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),q(this,ri,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),q(this,ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Qe(this,Gt,Tn).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,v,w,p;dd(d)&&d.silent||Qe(this,Gt,Tn).call(this,{type:"error",error:d}),dd(d)||((v=(h=N(this,Ot).config).onError)==null||v.call(h,d,this),(p=(w=N(this,Ot).config).onSettled)==null||p.call(w,this.state.data,d,this)),this.scheduleGc()};return q(this,Je,I0({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,v,w,p;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){a(x);return}(v=(h=N(this,Ot).config).onSuccess)==null||v.call(h,d,this),(p=(w=N(this,Ot).config).onSettled)==null||p.call(w,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{Qe(this,Gt,Tn).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Qe(this,Gt,Tn).call(this,{type:"pause"})},onContinue:()=>{Qe(this,Gt,Tn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),N(this,Je).start()}},hs=new WeakMap,ps=new WeakMap,Ot=new WeakMap,Je=new WeakMap,wa=new WeakMap,ri=new WeakMap,Gt=new WeakSet,Tn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._I(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return dd(i)&&i.revert&&N(this,ps)?{...N(this,ps),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,Ot).notify({query:this,type:"updated",action:e})})},Gv);function _I(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dn,Kv,xI=(Kv=class extends su{constructor(e={}){super();ie(this,dn);this.config=e,q(this,dn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??yp(i,n);let o=this.get(s);return o||(o=new vI({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,dn).has(e.queryHash)||(N(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,dn).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,dn).get(e)}getAll(){return[...N(this,dn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Yg(e,r)):n}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,Kv),fn,it,ii,hn,tr,qv,EI=(qv=class extends N0{constructor(e){super();ie(this,hn);ie(this,fn);ie(this,it);ie(this,ii);this.mutationId=e.mutationId,q(this,it,e.mutationCache),q(this,fn,[]),this.state=e.state||CI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,fn).includes(e)||(N(this,fn).push(e),this.clearGcTimeout(),N(this,it).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,fn,N(this,fn).filter(n=>n!==e)),this.scheduleGc(),N(this,it).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,fn).length||(this.state.status==="pending"?this.scheduleGc():N(this,it).remove(this))}continue(){var e;return((e=N(this,ii))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,u,d,h,v,w,p,x,_,m,g,E,C,b,S;q(this,ii,I0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{Qe(this,hn,tr).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{Qe(this,hn,tr).call(this,{type:"pause"})},onContinue:()=>{Qe(this,hn,tr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,it).canRun(this)}));const n=this.state.status==="pending",r=!N(this,ii).canStart();try{if(!n){Qe(this,hn,tr).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=N(this,it).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&Qe(this,hn,tr).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const T=await N(this,ii).start();return await((c=(l=N(this,it).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((v=(h=N(this,it).config).onSettled)==null?void 0:v.call(h,T,null,this.state.variables,this.state.context,this)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,T,null,e,this.state.context)),Qe(this,hn,tr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(x=N(this,it).config).onError)==null?void 0:_.call(x,T,e,this.state.context,this)),await((g=(m=this.options).onError)==null?void 0:g.call(m,T,e,this.state.context)),await((C=(E=N(this,it).config).onSettled)==null?void 0:C.call(E,void 0,T,this.state.variables,this.state.context,this)),await((S=(b=this.options).onSettled)==null?void 0:S.call(b,void 0,T,e,this.state.context)),T}finally{Qe(this,hn,tr).call(this,{type:"error",error:T})}}finally{N(this,it).runNext(this)}}},fn=new WeakMap,it=new WeakMap,ii=new WeakMap,hn=new WeakSet,tr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ot.batch(()=>{N(this,fn).forEach(r=>{r.onMutationUpdate(e)}),N(this,it).notify({mutation:this,type:"updated",action:e})})},qv);function CI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ct,xa,Qv,SI=(Qv=class extends su{constructor(e={}){super();ie(this,Ct);ie(this,xa);this.config=e,q(this,Ct,new Map),q(this,xa,Date.now())}build(e,n,r){const i=new EI({mutationCache:this,mutationId:++Wa(this,xa)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ol(e),r=N(this,Ct).get(n)??[];r.push(e),N(this,Ct).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ol(e);if(N(this,Ct).has(n)){const i=(r=N(this,Ct).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?N(this,Ct).delete(n):N(this,Ct).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=N(this,Ct).get(ol(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=N(this,Ct).get(ol(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...N(this,Ct).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Xg(n,r))}findAll(e={}){return this.getAll().filter(n=>Xg(e,n))}notify(e){ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vt))))}},Ct=new WeakMap,xa=new WeakMap,Qv);function ol(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ey(t){return{onFetch:(e,n)=>{var u,d,h,v,w;const r=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((v=e.state.data)==null?void 0:v.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const x=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},_=C0(e.options,e.fetchOptions),m=async(g,E,C)=>{if(p)return Promise.reject();if(E==null&&g.pages.length)return Promise.resolve(g);const b={queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};x(b);const S=await _(b),{maxPages:T}=e.options,k=C?fI:dI;return{pages:k(g.pages,S,T),pageParams:k(g.pageParams,E,T)}};if(i&&s.length){const g=i==="backward",E=g?bI:ty,C={pages:s,pageParams:o},b=E(r,C);a=await m(C,b,g)}else{const g=t??s.length;do{const E=l===0?o[0]??r.initialPageParam:ty(r,a);if(l>0&&E==null)break;a=await m(a,E),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ty(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Te,hr,pr,ms,gs,mr,ys,vs,Yv,TI=(Yv=class{constructor(t={}){ie(this,Te);ie(this,hr);ie(this,pr);ie(this,ms);ie(this,gs);ie(this,mr);ie(this,ys);ie(this,vs);q(this,Te,t.queryCache||new xI),q(this,hr,t.mutationCache||new SI),q(this,pr,t.defaultOptions||{}),q(this,ms,new Map),q(this,gs,new Map),q(this,mr,0)}mount(){Wa(this,mr)._++,N(this,mr)===1&&(q(this,ys,S0.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Te).onFocus())})),q(this,vs,hc.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Te).onOnline())})))}unmount(){var t,e;Wa(this,mr)._--,N(this,mr)===0&&((t=N(this,ys))==null||t.call(this),q(this,ys,void 0),(e=N(this,vs))==null||e.call(this),q(this,vs,void 0))}isFetching(t){return N(this,Te).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,hr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,Te).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=N(this,Te).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Qg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return N(this,Te).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=N(this,Te).get(r.queryHash),s=i==null?void 0:i.state.data,o=sI(e,s);if(o!==void 0)return N(this,Te).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ot.batch(()=>N(this,Te).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,Te).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,Te);ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,Te),r={type:"active",...t};return ot.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ot.batch(()=>N(this,Te).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Vt).catch(Vt)}invalidateQueries(t={},e={}){return ot.batch(()=>{if(N(this,Te).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ot.batch(()=>N(this,Te).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,Te).build(this,e);return n.isStaleByTime(Qg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vt).catch(Vt)}fetchInfiniteQuery(t){return t.behavior=ey(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vt).catch(Vt)}ensureInfiniteQueryData(t){return t.behavior=ey(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hc.isOnline()?N(this,hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Te)}getMutationCache(){return N(this,hr)}getDefaultOptions(){return N(this,pr)}setDefaultOptions(t){q(this,pr,t)}setQueryDefaults(t,e){N(this,ms).set(sa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,ms).values()];let n={};return e.forEach(r=>{oa(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){N(this,gs).set(sa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,gs).values()];let n={};return e.forEach(r=>{oa(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,pr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,pr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,Te).clear(),N(this,hr).clear()}},Te=new WeakMap,hr=new WeakMap,pr=new WeakMap,ms=new WeakMap,gs=new WeakMap,mr=new WeakMap,ys=new WeakMap,vs=new WeakMap,Yv),II=y.createContext(void 0),NI=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(II.Provider,{value:t,children:e}));async function kI(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const PI=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await kI(n),await n.json())},RI=new TI({defaultOptions:{queries:{queryFn:PI({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AI=1,OI=1e6;let fd=0;function MI(){return fd=(fd+1)%Number.MAX_SAFE_INTEGER,fd.toString()}const hd=new Map,ny=t=>{if(hd.has(t))return;const e=setTimeout(()=>{hd.delete(t),Mo({type:"REMOVE_TOAST",toastId:t})},OI);hd.set(t,e)},DI=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ny(n):t.toasts.forEach(r=>{ny(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ol=[];let Ml={toasts:[]};function Mo(t){Ml=DI(Ml,t),Ol.forEach(e=>{e(Ml)})}function LI({...t}){const e=MI(),n=i=>Mo({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Mo({type:"DISMISS_TOAST",toastId:e});return Mo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function au(){const[t,e]=y.useState(Ml);return y.useEffect(()=>(Ol.push(e),()=>{const n=Ol.indexOf(e);n>-1&&Ol.splice(n,1)}),[t]),{...t,toast:LI,dismiss:n=>Mo({type:"DISMISS_TOAST",toastId:n})}}function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ry(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function k0(...t){return e=>{let n=!1;const r=t.map(i=>{const s=ry(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ry(t[i],null)}}}}function Pe(...t){return y.useCallback(k0(...t),t)}function Ia(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:h,children:v,...w}=d,p=((_=h==null?void 0:h[t])==null?void 0:_[l])||a,x=y.useMemo(()=>w,Object.values(w));return f.jsx(p.Provider,{value:x,children:v})};c.displayName=s+"Provider";function u(d,h){var p;const v=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,w=y.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,jI(i,...e)]}function jI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function aa(t){const e=UI(t),n=y.forwardRef((r,i)=>{const{children:s,...o}=r,a=y.Children.toArray(s),l=a.find($I);if(l){const c=l.props.children,u=a.map(d=>d===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...o,ref:i,children:y.isValidElement(c)?y.cloneElement(c,void 0,u):null})}return f.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var FI=aa("Slot");function UI(t){const e=y.forwardRef((n,r)=>{const{children:i,...s}=n;if(y.isValidElement(i)){const o=zI(i),a=WI(s,i.props);return i.type!==y.Fragment&&(a.ref=r?k0(r,o):o),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P0=Symbol("radix.slottable");function HI(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=P0,e}function $I(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P0}function WI(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function zI(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function R0(t){const e=t+"CollectionProvider",[n,r]=Ia(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:_}=p,m=er.useRef(null),g=er.useRef(new Map).current;return f.jsx(i,{scope:x,itemMap:g,collectionRef:m,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=aa(a),c=er.forwardRef((p,x)=>{const{scope:_,children:m}=p,g=s(a,_),E=Pe(x,g.collectionRef);return f.jsx(l,{ref:E,children:m})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=aa(u),v=er.forwardRef((p,x)=>{const{scope:_,children:m,...g}=p,E=er.useRef(null),C=Pe(x,E),b=s(u,_);return er.useEffect(()=>(b.itemMap.set(E,{ref:E,...g}),()=>void b.itemMap.delete(E))),f.jsx(h,{[d]:"",ref:C,children:m})});v.displayName=u;function w(p){const x=s(t+"CollectionConsumer",p);return er.useCallback(()=>{const m=x.collectionRef.current;if(!m)return[];const g=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((b,S)=>g.indexOf(b.ref.current)-g.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:v},w,r]}var BI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fe=BI.reduce((t,e)=>{const n=aa(`Primitive.${e}`),r=y.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function A0(t,e){t&&Si.flushSync(()=>t.dispatchEvent(e))}function Pt(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function VI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var GI="DismissableLayer",Of="dismissableLayer.update",KI="dismissableLayer.pointerDownOutside",qI="dismissableLayer.focusOutside",iy,O0=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(O0),[u,d]=y.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),w=Pe(e,S=>d(S)),p=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=p.indexOf(x),m=u?p.indexOf(u):-1,g=c.layersWithOutsidePointerEventsDisabled.size>0,E=m>=_,C=YI(S=>{const T=S.target,k=[...c.branches].some(P=>P.contains(T));!E||k||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),b=XI(S=>{const T=S.target;[...c.branches].some(P=>P.contains(T))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return VI(S=>{m===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),y.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(iy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),sy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=iy)}},[u,h,n,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),sy())},[u,c]),y.useEffect(()=>{const S=()=>v({});return document.addEventListener(Of,S),()=>document.removeEventListener(Of,S)},[]),f.jsx(fe.div,{...l,ref:w,style:{pointerEvents:g?E?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,b.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,C.onPointerDownCapture)})});lu.displayName=GI;var QI="DismissableLayerBranch",M0=y.forwardRef((t,e)=>{const n=y.useContext(O0),r=y.useRef(null),i=Pe(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(fe.div,{...t,ref:i})});M0.displayName=QI;function YI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){D0(KI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function XI(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&D0(qI,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sy(){const t=new CustomEvent(Of);document.dispatchEvent(t)}function D0(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?A0(i,s):i.dispatchEvent(s)}var JI=lu,ZI=M0,tt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},eN="Portal",_p=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);tt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?NT.createPortal(f.jsx(fe.div,{...r,ref:e}),o):null});_p.displayName=eN;function tN(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var wp=t=>{const{present:e,children:n}=t,r=nN(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Pe(r.ref,rN(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};wp.displayName="Presence";function nN(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=al(r.current);s.current=a==="mounted"?c:"none"},[a]),tt(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,v=al(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),tt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=v=>{const p=al(r.current).includes(v.animationName);if(v.target===e&&p&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=v=>{v.target===e&&(s.current=al(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function al(t){return(t==null?void 0:t.animationName)||"none"}function rN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mf({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=iN({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Pt(n),l=y.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function iN({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=Pt(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var sN="VisuallyHidden",Na=y.forwardRef((t,e)=>f.jsx(fe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Na.displayName=sN;var oN=Na,xp="ToastProvider",[Ep,aN,lN]=R0("Toast"),[L0,c4]=Ia("Toast",[lN]),[cN,cu]=L0(xp),j0=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),d=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xp}\`. Expected non-empty \`string\`.`),f.jsx(Ep.Provider,{scope:e,children:f.jsx(cN,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(v=>v+1),[]),onToastRemove:y.useCallback(()=>u(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};j0.displayName=xp;var F0="ToastViewport",uN=["F8"],Df="toast.viewportPause",Lf="toast.viewportResume",U0=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=uN,label:i="Notifications ({hotkey})",...s}=t,o=cu(F0,n),a=aN(n),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=Pe(e,d,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;y.useEffect(()=>{const x=_=>{var g;r.length!==0&&r.every(E=>_[E]||_.code===E)&&((g=d.current)==null||g.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,_=d.current;if(w&&x&&_){const m=()=>{if(!o.isClosePausedRef.current){const b=new CustomEvent(Df);_.dispatchEvent(b),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const b=new CustomEvent(Lf);_.dispatchEvent(b),o.isClosePausedRef.current=!1}},E=b=>{!x.contains(b.relatedTarget)&&g()},C=()=>{x.contains(document.activeElement)||g()};return x.addEventListener("focusin",m),x.addEventListener("focusout",E),x.addEventListener("pointermove",m),x.addEventListener("pointerleave",C),window.addEventListener("blur",m),window.addEventListener("focus",g),()=>{x.removeEventListener("focusin",m),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",m),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",m),window.removeEventListener("focus",g)}}},[w,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:x})=>{const m=a().map(g=>{const E=g.ref.current,C=[E,...CN(E)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?m.reverse():m).flat()},[a]);return y.useEffect(()=>{const x=d.current;if(x){const _=m=>{var C,b,S;const g=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!g){const T=document.activeElement,k=m.shiftKey;if(m.target===x&&k){(C=c.current)==null||C.focus();return}const j=p({tabbingDirection:k?"backwards":"forwards"}),B=j.findIndex(D=>D===T);pd(j.slice(B+1))?m.preventDefault():k?(b=c.current)==null||b.focus():(S=u.current)==null||S.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,p]),f.jsxs(ZI,{ref:l,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(jf,{ref:c,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});pd(x)}}),f.jsx(Ep.Slot,{scope:n,children:f.jsx(fe.ol,{tabIndex:-1,...s,ref:h})}),w&&f.jsx(jf,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});pd(x)}})]})});U0.displayName=F0;var H0="ToastFocusProxy",jf=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=cu(H0,n);return f.jsx(Na,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});jf.displayName=H0;var uu="Toast",dN="toast.swipeStart",fN="toast.swipeMove",hN="toast.swipeCancel",pN="toast.swipeEnd",$0=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Mf({prop:r,defaultProp:i,onChange:s});return f.jsx(wp,{present:n||a,children:f.jsx(yN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Pt(t.onPause),onResume:Pt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});$0.displayName=uu;var[mN,gN]=L0(uu,{onClose(){}}),yN=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:v,...w}=t,p=cu(uu,n),[x,_]=y.useState(null),m=Pe(e,D=>_(D)),g=y.useRef(null),E=y.useRef(null),C=i||p.duration,b=y.useRef(0),S=y.useRef(C),T=y.useRef(0),{onToastAdd:k,onToastRemove:P}=p,L=Pt(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=p.viewport)==null||V.focus()),o()}),j=y.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),b.current=new Date().getTime(),T.current=window.setTimeout(L,D))},[L]);y.useEffect(()=>{const D=p.viewport;if(D){const V=()=>{j(S.current),c==null||c()},H=()=>{const M=new Date().getTime()-b.current;S.current=S.current-M,window.clearTimeout(T.current),l==null||l()};return D.addEventListener(Df,H),D.addEventListener(Lf,V),()=>{D.removeEventListener(Df,H),D.removeEventListener(Lf,V)}}},[p.viewport,C,l,c,j]),y.useEffect(()=>{s&&!p.isClosePausedRef.current&&j(C)},[s,C,p.isClosePausedRef,j]),y.useEffect(()=>(k(),()=>P()),[k,P]);const B=y.useMemo(()=>x?q0(x):null,[x]);return p.viewport?f.jsxs(f.Fragment,{children:[B&&f.jsx(vN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),f.jsx(mN,{scope:n,onClose:L,children:Si.createPortal(f.jsx(Ep.ItemSlot,{scope:n,children:f.jsx(JI,{asChild:!0,onEscapeKeyDown:Z(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||L(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...w,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Z(t.onPointerDown,D=>{D.button===0&&(g.current={x:D.clientX,y:D.clientY})}),onPointerMove:Z(t.onPointerMove,D=>{if(!g.current)return;const V=D.clientX-g.current.x,H=D.clientY-g.current.y,M=!!E.current,I=["left","right"].includes(p.swipeDirection),O=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,U=I?O(0,V):0,G=I?0:O(0,H),ae=D.pointerType==="touch"?10:2,nt={x:U,y:G},Oe={originalEvent:D,delta:nt};M?(E.current=nt,ll(fN,d,Oe,{discrete:!1})):oy(nt,p.swipeDirection,ae)?(E.current=nt,ll(dN,u,Oe,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(V)>ae||Math.abs(H)>ae)&&(g.current=null)}),onPointerUp:Z(t.onPointerUp,D=>{const V=E.current,H=D.target;if(H.hasPointerCapture(D.pointerId)&&H.releasePointerCapture(D.pointerId),E.current=null,g.current=null,V){const M=D.currentTarget,I={originalEvent:D,delta:V};oy(V,p.swipeDirection,p.swipeThreshold)?ll(pN,v,I,{discrete:!0}):ll(hN,h,I,{discrete:!0}),M.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),vN=t=>{const{__scopeToast:e,children:n,...r}=t,i=cu(uu,e),[s,o]=y.useState(!1),[a,l]=y.useState(!1);return xN(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(_p,{asChild:!0,children:f.jsx(Na,{...r,children:s&&f.jsxs(f.Fragment,{children:[i.label," ",n]})})})},_N="ToastTitle",W0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(fe.div,{...r,ref:e})});W0.displayName=_N;var wN="ToastDescription",z0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(fe.div,{...r,ref:e})});z0.displayName=wN;var B0="ToastAction",V0=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(K0,{altText:n,asChild:!0,children:f.jsx(Cp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${B0}\`. Expected non-empty \`string\`.`),null)});V0.displayName=B0;var G0="ToastClose",Cp=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=gN(G0,n);return f.jsx(K0,{asChild:!0,children:f.jsx(fe.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,i.onClose)})})});Cp.displayName=G0;var K0=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return f.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function q0(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),EN(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...q0(r))}}),e}function ll(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?A0(i,s):i.dispatchEvent(s)}var oy=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function xN(t=()=>{}){const e=Pt(t);tt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function EN(t){return t.nodeType===t.ELEMENT_NODE}function CN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pd(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SN=j0,Q0=U0,Y0=$0,X0=W0,J0=z0,Z0=V0,ex=Cp;function tx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tx(t))&&(r&&(r+=" "),r+=e);return r}const ay=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ly=nx,Sp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ly(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=ay(u)||ay(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...v}=u;return Object.entries(v).every(w=>{let[p,x]=w;return Array.isArray(x)?x.includes({...s,...a}[p]):{...s,...a}[p]===x})?[...c,d,h]:c},[]);return ly(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rx=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...TN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rx("lucide",i),...a},[...o.map(([c,u])=>y.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(IN,{ref:s,iconNode:e,className:rx(`lucide-${bN(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=We("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=We("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=We("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=We("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=We("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=We("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bp="-",BN=t=>{const e=GN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(bp);return a[0]===""&&a.length!==1&&a.shift(),ox(a,e)||VN(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},ox=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ox(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(bp);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},cy=/^\[(.+)\]$/,VN=t=>{if(cy.test(t)){const e=cy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},GN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qN(Object.entries(t.classGroups),n).forEach(([s,o])=>{Ff(o,r,s,e)}),r},Ff=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:uy(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(KN(i)){Ff(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Ff(o,uy(e,s),n,r)})})},uy=(t,e)=>{let n=t;return e.split(bp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KN=t=>t.isThemeGetter,qN=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,QN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},ax="!",YN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let _=a[x];if(c===0){if(_===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(_==="/"){d=x;continue}}_==="["?c++:_==="]"&&c--}const h=l.length===0?a:a.substring(u),v=h.startsWith(ax),w=v?h.substring(1):h,p=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},XN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JN=t=>({cache:QN(t.cacheSize),parseClassName:YN(t),...BN(t)}),ZN=/\s+/,ek=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ZN);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:v}=n(c);let w=!!v,p=r(w?h.substring(0,v):h);if(!p){if(!w){a=c+(a.length>0?" "+a:a);continue}if(p=r(h),!p){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=XN(u).join(":"),_=d?x+ax:x,m=_+p;if(s.includes(m))continue;s.push(m);const g=i(p,w);for(let E=0;E<g.length;++E){const C=g[E];s.push(_+C)}a=c+(a.length>0?" "+a:a)}return a};function tk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=lx(e))&&(r&&(r+=" "),r+=n);return r}const lx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=lx(t[r]))&&(n&&(n+=" "),n+=e);return n};function nk(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=JN(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=ek(l,n);return i(l,u),u}return function(){return s(tk.apply(null,arguments))}}const ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cx=/^\[(?:([a-z-]+):)?(.+)\]$/i,rk=/^\d+\/\d+$/,ik=new Set(["px","full","screen"]),sk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ok=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ak=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ck=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bn=t=>ts(t)||ik.has(t)||rk.test(t),Yn=t=>Ws(t,"length",yk),ts=t=>!!t&&!Number.isNaN(Number(t)),md=t=>Ws(t,"number",ts),fo=t=>!!t&&Number.isInteger(Number(t)),uk=t=>t.endsWith("%")&&ts(t.slice(0,-1)),K=t=>cx.test(t),Xn=t=>sk.test(t),dk=new Set(["length","size","percentage"]),fk=t=>Ws(t,dk,ux),hk=t=>Ws(t,"position",ux),pk=new Set(["image","url"]),mk=t=>Ws(t,pk,_k),gk=t=>Ws(t,"",vk),ho=()=>!0,Ws=(t,e,n)=>{const r=cx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yk=t=>ok.test(t)&&!ak.test(t),ux=()=>!1,vk=t=>lk.test(t),_k=t=>ck.test(t),wk=()=>{const t=ve("colors"),e=ve("spacing"),n=ve("blur"),r=ve("brightness"),i=ve("borderColor"),s=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),l=ve("contrast"),c=ve("grayscale"),u=ve("hueRotate"),d=ve("invert"),h=ve("gap"),v=ve("gradientColorStops"),w=ve("gradientColorStopPositions"),p=ve("inset"),x=ve("margin"),_=ve("opacity"),m=ve("padding"),g=ve("saturate"),E=ve("scale"),C=ve("sepia"),b=ve("skew"),S=ve("space"),T=ve("translate"),k=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",K,e],j=()=>[K,e],B=()=>["",bn,Yn],D=()=>["auto",ts,K],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",K],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[ts,K];return{cacheSize:500,separator:":",theme:{colors:[ho],spacing:[bn,Yn],blur:["none","",Xn,K],brightness:G(),borderColor:[t],borderRadius:["none","","full",Xn,K],borderSpacing:j(),borderWidth:B(),contrast:G(),grayscale:O(),hueRotate:G(),invert:O(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[uk,Yn],inset:L(),margin:L(),opacity:G(),padding:j(),saturate:G(),scale:G(),sepia:O(),skew:G(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Xn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),K]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,K]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",fo,K]}],"grid-cols":[{"grid-cols":[ho]}],"col-start-end":[{col:["auto",{span:["full",fo,K]},K]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ho]}],"row-start-end":[{row:["auto",{span:[fo,K]},K]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[Xn]},Xn]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xn,Yn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",md]}],"font-family":[{font:[ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",ts,md]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bn,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bn,Yn]}],"underline-offset":[{"underline-offset":["auto",bn,K]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),hk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[bn,K]}],"outline-w":[{outline:[bn,Yn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[bn,Yn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xn,gk]}],"shadow-color":[{shadow:[ho]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xn,K]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[g]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[fo,K]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bn,Yn,md]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xk=nk(wk);function xe(...t){return xk(nx(t))}const Ek=SN,dx=y.forwardRef(({className:t,...e},n)=>f.jsx(Q0,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dx.displayName=Q0.displayName;const Ck=Sp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fx=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(Y0,{ref:r,className:xe(Ck({variant:e}),t),...n}));fx.displayName=Y0.displayName;const Sk=y.forwardRef(({className:t,...e},n)=>f.jsx(Z0,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sk.displayName=Z0.displayName;const hx=y.forwardRef(({className:t,...e},n)=>f.jsx(ex,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(zN,{className:"h-4 w-4"})}));hx.displayName=ex.displayName;const px=y.forwardRef(({className:t,...e},n)=>f.jsx(X0,{ref:n,className:xe("text-sm font-semibold",t),...e}));px.displayName=X0.displayName;const mx=y.forwardRef(({className:t,...e},n)=>f.jsx(J0,{ref:n,className:xe("text-sm opacity-90",t),...e}));mx.displayName=J0.displayName;function bk(){const{toasts:t}=au();return f.jsxs(Ek,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return f.jsxs(fx,{...s,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(px,{children:n}),r&&f.jsx(mx,{children:r})]}),i,f.jsx(hx,{})]},e)}),f.jsx(dx,{})]})}var Tk=l_[" useId ".trim().toString()]||(()=>{}),Ik=0;function Tp(t){const[e,n]=y.useState(Tk());return tt(()=>{n(r=>r??String(Ik++))},[t]),e?`radix-${e}`:""}const Nk=["top","right","bottom","left"],Mr=Math.min,bt=Math.max,pc=Math.round,cl=Math.floor,_n=t=>({x:t,y:t}),kk={left:"right",right:"left",bottom:"top",top:"bottom"},Pk={start:"end",end:"start"};function Uf(t,e,n){return bt(t,Mr(e,n))}function $n(t,e){return typeof t=="function"?t(e):t}function Wn(t){return t.split("-")[0]}function zs(t){return t.split("-")[1]}function Ip(t){return t==="x"?"y":"x"}function Np(t){return t==="y"?"height":"width"}function Dr(t){return["top","bottom"].includes(Wn(t))?"y":"x"}function kp(t){return Ip(Dr(t))}function Rk(t,e,n){n===void 0&&(n=!1);const r=zs(t),i=kp(t),s=Np(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mc(o)),[o,mc(o)]}function Ak(t){const e=mc(t);return[Hf(t),e,Hf(e)]}function Hf(t){return t.replace(/start|end/g,e=>Pk[e])}function Ok(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Mk(t,e,n,r){const i=zs(t);let s=Ok(Wn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Hf)))),s}function mc(t){return t.replace(/left|right|bottom|top/g,e=>kk[e])}function Dk(t){return{top:0,right:0,bottom:0,left:0,...t}}function gx(t){return typeof t!="number"?Dk(t):{top:t,right:t,bottom:t,left:t}}function gc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function dy(t,e,n){let{reference:r,floating:i}=t;const s=Dr(e),o=kp(e),a=Np(o),l=Wn(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:u,y:r.y-i.height};break;case"bottom":v={x:u,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:d};break;case"left":v={x:r.x-i.width,y:d};break;default:v={x:r.x,y:r.y}}switch(zs(e)){case"start":v[o]-=h*(n&&c?-1:1);break;case"end":v[o]+=h*(n&&c?-1:1);break}return v}const Lk=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=dy(c,r,l),h=r,v={},w=0;for(let p=0;p<a.length;p++){const{name:x,fn:_}=a[p],{x:m,y:g,data:E,reset:C}=await _({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});u=m??u,d=g??d,v={...v,[x]:{...v[x],...E}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=dy(c,h,l)),p=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:v}};async function la(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:v=0}=$n(e,t),w=gx(v),x=a[h?d==="floating"?"reference":"floating":d],_=gc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,g=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(g))?await(s.getScale==null?void 0:s.getScale(g))||{x:1,y:1}:{x:1,y:1},C=gc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:g,strategy:l}):m);return{top:(_.top-C.top+w.top)/E.y,bottom:(C.bottom-_.bottom+w.bottom)/E.y,left:(_.left-C.left+w.left)/E.x,right:(C.right-_.right+w.right)/E.x}}const jk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=$n(t,e)||{};if(c==null)return{};const d=gx(u),h={x:n,y:r},v=kp(i),w=Np(v),p=await o.getDimensions(c),x=v==="y",_=x?"top":"left",m=x?"bottom":"right",g=x?"clientHeight":"clientWidth",E=s.reference[w]+s.reference[v]-h[v]-s.floating[w],C=h[v]-s.reference[v],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=b?b[g]:0;(!S||!await(o.isElement==null?void 0:o.isElement(b)))&&(S=a.floating[g]||s.floating[w]);const T=E/2-C/2,k=S/2-p[w]/2-1,P=Mr(d[_],k),L=Mr(d[m],k),j=P,B=S-p[w]-L,D=S/2-p[w]/2+T,V=Uf(j,D,B),H=!l.arrow&&zs(i)!=null&&D!==V&&s.reference[w]/2-(D<j?P:L)-p[w]/2<0,M=H?D<j?D-j:D-B:0;return{[v]:h[v]+M,data:{[v]:V,centerOffset:D-V-M,...H&&{alignmentOffset:M}},reset:H}}}),Fk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...x}=$n(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Wn(i),m=Dr(a),g=Wn(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(g||!p?[mc(a)]:Ak(a)),b=w!=="none";!h&&b&&C.push(...Mk(a,p,w,E));const S=[a,...C],T=await la(e,x),k=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(T[_]),d){const D=Rk(i,o,E);k.push(T[D[0]],T[D[1]])}if(P=[...P,{placement:i,overflows:k}],!k.every(D=>D<=0)){var L,j;const D=(((L=s.flip)==null?void 0:L.index)||0)+1,V=S[D];if(V)return{data:{index:D,overflows:P},reset:{placement:V}};let H=(j=P.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:j.placement;if(!H)switch(v){case"bestFit":{var B;const M=(B=P.filter(I=>{if(b){const O=Dr(I.placement);return O===m||O==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(O=>O>0).reduce((O,U)=>O+U,0)]).sort((I,O)=>I[1]-O[1])[0])==null?void 0:B[0];M&&(H=M);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function fy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hy(t){return Nk.some(e=>t[e]>=0)}const Uk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=$n(t,e);switch(r){case"referenceHidden":{const s=await la(e,{...i,elementContext:"reference"}),o=fy(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hy(o)}}}case"escaped":{const s=await la(e,{...i,altBoundary:!0}),o=fy(s,n.floating);return{data:{escapedOffsets:o,escaped:hy(o)}}}default:return{}}}}};async function Hk(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Wn(n),a=zs(n),l=Dr(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=$n(e,t);let{mainAxis:h,crossAxis:v,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(v=a==="end"?w*-1:w),l?{x:v*u,y:h*c}:{x:h*c,y:v*u}}const $k=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Hk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Wk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:m}=x;return{x:_,y:m}}},...l}=$n(t,e),c={x:n,y:r},u=await la(e,l),d=Dr(Wn(i)),h=Ip(d);let v=c[h],w=c[d];if(s){const x=h==="y"?"top":"left",_=h==="y"?"bottom":"right",m=v+u[x],g=v-u[_];v=Uf(m,v,g)}if(o){const x=d==="y"?"top":"left",_=d==="y"?"bottom":"right",m=w+u[x],g=w-u[_];w=Uf(m,w,g)}const p=a.fn({...e,[h]:v,[d]:w});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:s,[d]:o}}}}}},zk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=$n(t,e),u={x:n,y:r},d=Dr(i),h=Ip(d);let v=u[h],w=u[d];const p=$n(a,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const g=h==="y"?"height":"width",E=s.reference[h]-s.floating[g]+x.mainAxis,C=s.reference[h]+s.reference[g]-x.mainAxis;v<E?v=E:v>C&&(v=C)}if(c){var _,m;const g=h==="y"?"width":"height",E=["top","left"].includes(Wn(i)),C=s.reference[d]-s.floating[g]+(E&&((_=o.offset)==null?void 0:_[d])||0)+(E?0:x.crossAxis),b=s.reference[d]+s.reference[g]+(E?0:((m=o.offset)==null?void 0:m[d])||0)-(E?x.crossAxis:0);w<C?w=C:w>b&&(w=b)}return{[h]:v,[d]:w}}}},Bk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=$n(t,e),u=await la(e,c),d=Wn(i),h=zs(i),v=Dr(i)==="y",{width:w,height:p}=s.floating;let x,_;d==="top"||d==="bottom"?(x=d,_=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=d,x=h==="end"?"top":"bottom");const m=p-u.top-u.bottom,g=w-u.left-u.right,E=Mr(p-u[x],m),C=Mr(w-u[_],g),b=!e.middlewareData.shift;let S=E,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=g),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=m),b&&!h){const P=bt(u.left,0),L=bt(u.right,0),j=bt(u.top,0),B=bt(u.bottom,0);v?T=w-2*(P!==0||L!==0?P+L:bt(u.left,u.right)):S=p-2*(j!==0||B!==0?j+B:bt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:S});const k=await o.getDimensions(a.floating);return w!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function du(){return typeof window<"u"}function Bs(t){return yx(t)?(t.nodeName||"").toLowerCase():"#document"}function Nt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(yx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yx(t){return du()?t instanceof Node||t instanceof Nt(t).Node:!1}function nn(t){return du()?t instanceof Element||t instanceof Nt(t).Element:!1}function En(t){return du()?t instanceof HTMLElement||t instanceof Nt(t).HTMLElement:!1}function py(t){return!du()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nt(t).ShadowRoot}function ka(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Vk(t){return["table","td","th"].includes(Bs(t))}function fu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Pp(t){const e=Rp(),n=nn(t)?rn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Gk(t){let e=Lr(t);for(;En(e)&&!Is(e);){if(Pp(e))return e;if(fu(e))return null;e=Lr(e)}return null}function Rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Is(t){return["html","body","#document"].includes(Bs(t))}function rn(t){return Nt(t).getComputedStyle(t)}function hu(t){return nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lr(t){if(Bs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||py(t)&&t.host||Cn(t);return py(e)?e.host:e}function vx(t){const e=Lr(t);return Is(e)?t.ownerDocument?t.ownerDocument.body:t.body:En(e)&&ka(e)?e:vx(e)}function ca(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=vx(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Nt(i);if(s){const a=$f(o);return e.concat(o,o.visualViewport||[],ka(i)?i:[],a&&n?ca(a):[])}return e.concat(i,ca(i,[],n))}function $f(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _x(t){const e=rn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=En(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=pc(n)!==s||pc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ap(t){return nn(t)?t:t.contextElement}function ns(t){const e=Ap(t);if(!En(e))return _n(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=_x(e);let o=(s?pc(n.width):n.width)/r,a=(s?pc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Kk=_n(0);function wx(t){const e=Nt(t);return!Rp()||!e.visualViewport?Kk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nt(t)?!1:e}function fi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ap(t);let o=_n(1);e&&(r?nn(r)&&(o=ns(r)):o=ns(t));const a=qk(s,n,r)?wx(s):_n(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Nt(s),v=r&&nn(r)?Nt(r):r;let w=h,p=$f(w);for(;p&&r&&v!==w;){const x=ns(p),_=p.getBoundingClientRect(),m=rn(p),g=_.left+(p.clientLeft+parseFloat(m.paddingLeft))*x.x,E=_.top+(p.clientTop+parseFloat(m.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=g,c+=E,w=Nt(p),p=$f(w)}}return gc({width:u,height:d,x:l,y:c})}function Op(t,e){const n=hu(t).scrollLeft;return e?e.left+n:fi(Cn(t)).left+n}function xx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Op(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Qk(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Cn(r),a=e?fu(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=_n(1);const u=_n(0),d=En(r);if((d||!d&&!s)&&((Bs(r)!=="body"||ka(o))&&(l=hu(r)),En(r))){const v=fi(r);c=ns(r),u.x=v.x+r.clientLeft,u.y=v.y+r.clientTop}const h=o&&!d&&!s?xx(o,l,!0):_n(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Yk(t){return Array.from(t.getClientRects())}function Xk(t){const e=Cn(t),n=hu(t),r=t.ownerDocument.body,i=bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Op(t);const a=-n.scrollTop;return rn(r).direction==="rtl"&&(o+=bt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Jk(t,e){const n=Nt(t),r=Cn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Rp();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Zk(t,e){const n=fi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=En(t)?ns(t):_n(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function my(t,e,n){let r;if(e==="viewport")r=Jk(t,n);else if(e==="document")r=Xk(Cn(t));else if(nn(e))r=Zk(e,n);else{const i=wx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gc(r)}function Ex(t,e){const n=Lr(t);return n===e||!nn(n)||Is(n)?!1:rn(n).position==="fixed"||Ex(n,e)}function eP(t,e){const n=e.get(t);if(n)return n;let r=ca(t,[],!1).filter(a=>nn(a)&&Bs(a)!=="body"),i=null;const s=rn(t).position==="fixed";let o=s?Lr(t):t;for(;nn(o)&&!Is(o);){const a=rn(o),l=Pp(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ka(o)&&!l&&Ex(t,o))?r=r.filter(u=>u!==o):i=a,o=Lr(o)}return e.set(t,r),r}function tP(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?fu(e)?[]:eP(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=my(e,u,i);return c.top=bt(d.top,c.top),c.right=Mr(d.right,c.right),c.bottom=Mr(d.bottom,c.bottom),c.left=bt(d.left,c.left),c},my(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nP(t){const{width:e,height:n}=_x(t);return{width:e,height:n}}function rP(t,e,n){const r=En(e),i=Cn(e),s=n==="fixed",o=fi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=_n(0);if(r||!r&&!s)if((Bs(e)!=="body"||ka(i))&&(a=hu(e)),r){const h=fi(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=Op(i));const c=i&&!r&&!s?xx(i,a):_n(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function gd(t){return rn(t).position==="static"}function gy(t,e){if(!En(t)||rn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cn(t)===n&&(n=n.ownerDocument.body),n}function Cx(t,e){const n=Nt(t);if(fu(t))return n;if(!En(t)){let i=Lr(t);for(;i&&!Is(i);){if(nn(i)&&!gd(i))return i;i=Lr(i)}return n}let r=gy(t,e);for(;r&&Vk(r)&&gd(r);)r=gy(r,e);return r&&Is(r)&&gd(r)&&!Pp(r)?n:r||Gk(t)||n}const iP=async function(t){const e=this.getOffsetParent||Cx,n=this.getDimensions,r=await n(t.floating);return{reference:rP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sP(t){return rn(t).direction==="rtl"}const oP={convertOffsetParentRelativeRectToViewportRelativeRect:Qk,getDocumentElement:Cn,getClippingRect:tP,getOffsetParent:Cx,getElementRects:iP,getClientRects:Yk,getDimensions:nP,getScale:ns,isElement:nn,isRTL:sP};function Sx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aP(t,e){let n=null,r;const i=Cn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:v}=c;if(a||e(),!h||!v)return;const w=cl(d),p=cl(i.clientWidth-(u+h)),x=cl(i.clientHeight-(d+v)),_=cl(u),g={rootMargin:-w+"px "+-p+"px "+-x+"px "+-_+"px",threshold:bt(0,Mr(1,l))||1};let E=!0;function C(b){const S=b[0].intersectionRatio;if(S!==l){if(!E)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Sx(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,g)}n.observe(t)}return o(!0),s}function lP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ap(t),u=i||s?[...c?ca(c):[],...ca(e)]:[];u.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const d=c&&a?aP(c,n):null;let h=-1,v=null;o&&(v=new ResizeObserver(_=>{let[m]=_;m&&m.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=v)==null||g.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let w,p=l?fi(t):null;l&&x();function x(){const _=fi(t);p&&!Sx(p,_)&&n(),p=_,w=requestAnimationFrame(x)}return n(),()=>{var _;u.forEach(m=>{i&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),d==null||d(),(_=v)==null||_.disconnect(),v=null,l&&cancelAnimationFrame(w)}}const cP=$k,uP=Wk,dP=Fk,fP=Bk,hP=Uk,yy=jk,pP=zk,mP=(t,e,n)=>{const r=new Map,i={platform:oP,...n},s={...i.platform,_c:r};return Lk(t,e,{...i,platform:s})};var Dl=typeof document<"u"?y.useLayoutEffect:y.useEffect;function yc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!yc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vy(t,e){const n=bx(t);return Math.round(e*n)/n}function yd(t){const e=y.useRef(t);return Dl(()=>{e.current=t}),e}function gP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,v]=y.useState(r);yc(h,r)||v(r);const[w,p]=y.useState(null),[x,_]=y.useState(null),m=y.useCallback(I=>{I!==b.current&&(b.current=I,p(I))},[]),g=y.useCallback(I=>{I!==S.current&&(S.current=I,_(I))},[]),E=s||w,C=o||x,b=y.useRef(null),S=y.useRef(null),T=y.useRef(u),k=l!=null,P=yd(l),L=yd(i),j=yd(c),B=y.useCallback(()=>{if(!b.current||!S.current)return;const I={placement:e,strategy:n,middleware:h};L.current&&(I.platform=L.current),mP(b.current,S.current,I).then(O=>{const U={...O,isPositioned:j.current!==!1};D.current&&!yc(T.current,U)&&(T.current=U,Si.flushSync(()=>{d(U)}))})},[h,e,n,L,j]);Dl(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const D=y.useRef(!1);Dl(()=>(D.current=!0,()=>{D.current=!1}),[]),Dl(()=>{if(E&&(b.current=E),C&&(S.current=C),E&&C){if(P.current)return P.current(E,C,B);B()}},[E,C,B,P,k]);const V=y.useMemo(()=>({reference:b,floating:S,setReference:m,setFloating:g}),[m,g]),H=y.useMemo(()=>({reference:E,floating:C}),[E,C]),M=y.useMemo(()=>{const I={position:n,left:0,top:0};if(!H.floating)return I;const O=vy(H.floating,u.x),U=vy(H.floating,u.y);return a?{...I,transform:"translate("+O+"px, "+U+"px)",...bx(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:U}},[n,a,H.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:B,refs:V,elements:H,floatingStyles:M}),[u,B,V,H,M])}const yP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?yy({element:r.current,padding:i}).fn(n):{}:r?yy({element:r,padding:i}).fn(n):{}}}},vP=(t,e)=>({...cP(t),options:[t,e]}),_P=(t,e)=>({...uP(t),options:[t,e]}),wP=(t,e)=>({...pP(t),options:[t,e]}),xP=(t,e)=>({...dP(t),options:[t,e]}),EP=(t,e)=>({...fP(t),options:[t,e]}),CP=(t,e)=>({...hP(t),options:[t,e]}),SP=(t,e)=>({...yP(t),options:[t,e]});var bP="Arrow",Tx=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(fe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tx.displayName=bP;var TP=Tx;function IP(t){const[e,n]=y.useState(void 0);return tt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mp="Popper",[Ix,pu]=Ia(Mp),[NP,Nx]=Ix(Mp),kx=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return f.jsx(NP,{scope:e,anchor:r,onAnchorChange:i,children:n})};kx.displayName=Mp;var Px="PopperAnchor",Rx=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Nx(Px,n),o=y.useRef(null),a=Pe(e,o);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(fe.div,{...i,ref:a})});Rx.displayName=Px;var Dp="PopperContent",[kP,PP]=Ix(Dp),Ax=y.forwardRef((t,e)=>{var $,ye,qe,he,le,ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:w,...p}=t,x=Nx(Dp,n),[_,m]=y.useState(null),g=Pe(e,wt=>m(wt)),[E,C]=y.useState(null),b=IP(E),S=(b==null?void 0:b.width)??0,T=(b==null?void 0:b.height)??0,k=r+(s!=="center"?"-"+s:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],j=L.length>0,B={padding:P,boundary:L.filter(AP),altBoundary:j},{refs:D,floatingStyles:V,placement:H,isPositioned:M,middlewareData:I}=gP({strategy:"fixed",placement:k,whileElementsMounted:(...wt)=>lP(...wt,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[vP({mainAxis:i+T,alignmentAxis:o}),l&&_P({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?wP():void 0,...B}),l&&xP({...B}),EP({...B,apply:({elements:wt,rects:ln,availableWidth:eo,availableHeight:to})=>{const{width:no,height:t1}=ln.reference,$a=wt.floating.style;$a.setProperty("--radix-popper-available-width",`${eo}px`),$a.setProperty("--radix-popper-available-height",`${to}px`),$a.setProperty("--radix-popper-anchor-width",`${no}px`),$a.setProperty("--radix-popper-anchor-height",`${t1}px`)}}),E&&SP({element:E,padding:a}),OP({arrowWidth:S,arrowHeight:T}),h&&CP({strategy:"referenceHidden",...B})]}),[O,U]=Dx(H),G=Pt(w);tt(()=>{M&&(G==null||G())},[M,G]);const ae=($=I.arrow)==null?void 0:$.x,nt=(ye=I.arrow)==null?void 0:ye.y,Oe=((qe=I.arrow)==null?void 0:qe.centerOffset)!==0,[an,rt]=y.useState();return tt(()=>{_&&rt(window.getComputedStyle(_).zIndex)},[_]),f.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:M?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:an,"--radix-popper-transform-origin":[(he=I.transformOrigin)==null?void 0:he.x,(le=I.transformOrigin)==null?void 0:le.y].join(" "),...((ce=I.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(kP,{scope:n,placedSide:O,onArrowChange:C,arrowX:ae,arrowY:nt,shouldHideArrow:Oe,children:f.jsx(fe.div,{"data-side":O,"data-align":U,...p,ref:g,style:{...p.style,animation:M?void 0:"none"}})})})});Ax.displayName=Dp;var Ox="PopperArrow",RP={top:"bottom",right:"left",bottom:"top",left:"right"},Mx=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=PP(Ox,r),o=RP[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(TP,{...i,ref:n,style:{...i.style,display:"block"}})})});Mx.displayName=Ox;function AP(t){return t!==null}var OP=t=>({name:"transformOrigin",options:t,fn(e){var x,_,m;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Dx(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,v=(((m=i.arrow)==null?void 0:m.y)??0)+l/2;let w="",p="";return c==="bottom"?(w=o?d:`${h}px`,p=`${-l}px`):c==="top"?(w=o?d:`${h}px`,p=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,p=o?d:`${v}px`):c==="left"&&(w=`${r.floating.width+l}px`,p=o?d:`${v}px`),{data:{x:w,y:p}}}});function Dx(t){const[e,n="center"]=t.split("-");return[e,n]}var MP=kx,Lx=Rx,jx=Ax,Fx=Mx,[mu,u4]=Ia("Tooltip",[pu]),Lp=pu(),Ux="TooltipProvider",DP=700,_y="tooltip.open",[LP,Hx]=mu(Ux),$x=t=>{const{__scopeTooltip:e,delayDuration:n=DP,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(LP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};$x.displayName=Ux;var Wx="Tooltip",[d4,gu]=mu(Wx),Wf="TooltipTrigger",jP=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=gu(Wf,n),s=Hx(Wf,n),o=Lp(n),a=y.useRef(null),l=Pe(e,a,i.onTriggerChange),c=y.useRef(!1),u=y.useRef(!1),d=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(Lx,{asChild:!0,...o,children:f.jsx(fe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Z(t.onBlur,i.onClose),onClick:Z(t.onClick,i.onClose)})})});jP.displayName=Wf;var FP="TooltipPortal",[f4,UP]=mu(FP,{forceMount:void 0}),Ns="TooltipContent",zx=y.forwardRef((t,e)=>{const n=UP(Ns,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=gu(Ns,t.__scopeTooltip);return f.jsx(wp,{present:r||o.open,children:o.disableHoverableContent?f.jsx(Bx,{side:i,...s,ref:e}):f.jsx(HP,{side:i,...s,ref:e})})}),HP=y.forwardRef((t,e)=>{const n=gu(Ns,t.__scopeTooltip),r=Hx(Ns,t.__scopeTooltip),i=y.useRef(null),s=Pe(e,i),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,h=y.useCallback(()=>{a(null),d(!1)},[d]),v=y.useCallback((w,p)=>{const x=w.currentTarget,_={x:w.clientX,y:w.clientY},m=VP(_,x.getBoundingClientRect()),g=GP(_,m),E=KP(p.getBoundingClientRect()),C=QP([...g,...E]);a(C),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&u){const w=x=>v(x,u),p=x=>v(x,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",p)}}},[l,u,v,h]),y.useEffect(()=>{if(o){const w=p=>{const x=p.target,_={x:p.clientX,y:p.clientY},m=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),g=!qP(_,o);m?h():g&&(h(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,h]),f.jsx(Bx,{...t,ref:s})}),[$P,WP]=mu(Wx,{isInside:!1}),zP=HI("TooltipContent"),Bx=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=gu(Ns,n),c=Lp(n),{onClose:u}=l;return y.useEffect(()=>(document.addEventListener(_y,u),()=>document.removeEventListener(_y,u)),[u]),y.useEffect(()=>{if(l.trigger){const d=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(jx,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(zP,{children:r}),f.jsx($P,{scope:n,isInside:!0,children:f.jsx(oN,{id:l.contentId,role:"tooltip",children:i||r})})]})})});zx.displayName=Ns;var Vx="TooltipArrow",BP=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Lp(n);return WP(Vx,n).isInside?null:f.jsx(Fx,{...i,...r,ref:e})});BP.displayName=Vx;function VP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function GP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function KP(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function qP(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function QP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YP(e)}function YP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var XP=$x,Gx=zx;const JP=XP,ZP=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(Gx,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));ZP.displayName=Gx.displayName;const eR=()=>{};var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(t,e){if(!t)throw Vs(e)},Vs=function(t){return new Error("Firebase Database ("+Kx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(h=64)),r.push(n[u],n[d],n[h],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new nR;const h=s<<2|a>>4;if(r.push(h),c!==64){const v=a<<4&240|c>>2;if(r.push(v),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qx=function(t){const e=qx(t);return jp.encodeByteArray(e,!0)},vc=function(t){return Qx(t).replace(/\./g,"")},_c=function(t){try{return jp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){return Yx(void 0,t)}function Yx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iR(n)||(t[n]=Yx(t[n],e[n]));return t}function iR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>sR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof wy>"u")return;const t=wy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_c(t[1]);return e&&JSON.parse(e)},Fp=()=>{try{return eR()||oR()||aR()||lR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xx=t=>{var e,n;return(n=(e=Fp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cR=t=>{const e=Xx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jx=()=>{var t;return(t=Fp())==null?void 0:t.config},Zx=t=>{var e;return(e=Fp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vc(JSON.stringify(n)),vc(JSON.stringify(o)),""].join(".")}const Do={};function dR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?t.emulator.push(e):t.prod.push(e);return t}function fR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xy=!1;function tE(t,e){if(typeof window>"u"||typeof document>"u"||!Gs(window.location.host)||Do[t]===e||Do[t]||xy)return;Do[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=dR().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,v){h.setAttribute("width","24"),h.setAttribute("id",v),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xy=!0,o()},h}function u(h,v){h.setAttribute("id",v),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=fR(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),p=n("learnmore"),x=document.getElementById(p)||document.createElement("a"),_=n("preprendIcon"),m=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const g=h.element;a(g),u(x,p);const E=c();l(m,_),g.append(m,w,x,E),document.body.appendChild(g)}s?(w.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Up(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rE(){return Kx.NODE_ADMIN===!0}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vR,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ra.prototype.create)}}class Ra{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_R(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wr(i,a,r)}}function _R(t,e){return t.replace(wR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ua(_c(s[0])||""),n=ua(_c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},xR=function(t){const e=iE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ER=function(t){const e=iE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ks(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ey(s)&&Ey(o)){if(!hi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ey(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Co(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function SR(t,e){const n=new bR(t,e);return n.subscribe.bind(n)}class bR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vd),i.error===void 0&&(i.error=vd),i.complete===void 0&&(i.complete=vd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vd(){}function yu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,A(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kR(t){return t===Qr?void 0:t}function PR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const AR={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},OR=ue.INFO,MR={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},DR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=DR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const LR=(t,e)=>e.some(n=>t instanceof n);let Cy,Sy;function jR(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return Sy||(Sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,Bf=new WeakMap,oE=new WeakMap,_d=new WeakMap,$p=new WeakMap;function UR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sE.set(n,t)}).catch(()=>{}),$p.set(e,t),e}function HR(t){if(Bf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bf.set(t,e)}let Vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $R(t){Vf=t(Vf)}function WR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wd(this),e,...n);return oE.set(r,e.sort?e.sort():[e]),Nr(r)}:FR().includes(t)?function(...e){return t.apply(wd(this),e),Nr(sE.get(this))}:function(...e){return Nr(t.apply(wd(this),e))}}function zR(t){return typeof t=="function"?WR(t):(t instanceof IDBTransaction&&HR(t),LR(t,jR())?new Proxy(t,Vf):t)}function Nr(t){if(t instanceof IDBRequest)return UR(t);if(_d.has(t))return _d.get(t);const e=zR(t);return e!==t&&(_d.set(t,e),$p.set(e,t)),e}const wd=t=>$p.get(t);function BR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Nr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nr(o.result),l.oldVersion,l.newVersion,Nr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const VR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],xd=new Map;function by(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return xd.set(e,s),s}$R(t=>({...t,get:(e,n,r)=>by(e,n)||t.get(e,n,r),has:(e,n)=>!!by(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gf="@firebase/app",Ty="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new Hp("@firebase/app"),QR="@firebase/app-compat",YR="@firebase/analytics-compat",XR="@firebase/analytics",JR="@firebase/app-check-compat",ZR="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",oA="@firebase/functions-compat",aA="@firebase/installations",lA="@firebase/installations-compat",cA="@firebase/messaging",uA="@firebase/messaging-compat",dA="@firebase/performance",fA="@firebase/performance-compat",hA="@firebase/remote-config",pA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",vA="@firebase/ai",_A="@firebase/firestore-compat",wA="firebase",xA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",EA={[Gf]:"fire-core",[QR]:"fire-core-compat",[XR]:"fire-analytics",[YR]:"fire-analytics-compat",[ZR]:"fire-app-check",[JR]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[oA]:"fire-fn-compat",[aA]:"fire-iid",[lA]:"fire-iid-compat",[cA]:"fire-fcm",[uA]:"fire-fcm-compat",[dA]:"fire-perf",[fA]:"fire-perf-compat",[hA]:"fire-rc",[pA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[_A]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,CA=new Map,qf=new Map;function Iy(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ps(t){const e=t.name;if(qf.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,t);for(const n of xc.values())Iy(n,t);for(const n of CA.values())Iy(n,t);return!0}function Wp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Ra("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=xA;function aE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=Jx()),!n)throw kr.create("no-options");const s=xc.get(i);if(s){if(hi(n,s.options)&&hi(r,s.config))return s;throw kr.create("duplicate-app",{appName:i})}const o=new RR(i);for(const l of qf.values())o.addComponent(l);const a=new bA(n,r,o);return xc.set(i,a),a}function lE(t=Kf){const e=xc.get(t);if(!e&&t===Kf&&Jx())return aE();if(!e)throw kr.create("no-app",{appName:t});return e}function Pr(t,e,n){let r=EA[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(o.join(" "));return}Ps(new pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",IA=1,da="firebase-heartbeat-store";let Ed=null;function cE(){return Ed||(Ed=BR(TA,IA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),Ed}async function NA(t){try{const n=(await cE()).transaction(da),r=await n.objectStore(da).get(uE(t));return await n.done,r}catch(e){if(e instanceof Wr)zn.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function Ny(t,e){try{const r=(await cE()).transaction(da,"readwrite");await r.objectStore(da).put(e,uE(t)),await r.done}catch(n){if(n instanceof Wr)zn.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function uE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1024,PA=30;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ky();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>PA){const o=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ky(),{heartbeatsToSend:r,unsentEntries:i}=AA(this._heartbeatsCache.heartbeats),s=vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zn.warn(n),""}}}function ky(){return new Date().toISOString().substring(0,10)}function AA(t,e=kA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Py(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Py(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Py(t){return vc(JSON.stringify({version:2,heartbeats:t})).length}function MA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){Ps(new pi("platform-logger",e=>new KR(e),"PRIVATE")),Ps(new pi("heartbeat",e=>new RA(e),"PRIVATE")),Pr(Gf,Ty,t),Pr(Gf,Ty,"esm2020"),Pr("fire-js","")}DA("");var LA="firebase",jA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(LA,jA,"app");function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FA=dE,fE=new Ra("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Hp("@firebase/auth");function UA(t,...e){Ec.logLevel<=ue.WARN&&Ec.warn(`Auth (${qs}): ${t}`,...e)}function Ll(t,...e){Ec.logLevel<=ue.ERROR&&Ec.error(`Auth (${qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,...e){throw zp(t,...e)}function wn(t,...e){return zp(t,...e)}function hE(t,e,n){const r={...FA(),[e]:n};return new Ra("auth","Firebase",r).create(e,{appName:t.name})}function Dn(t){return hE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fE.create(t,...e)}function W(t,e,...n){if(!t)throw zp(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ll(e),new Error(e)}function Bn(t,e){t||Rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HA(){return Ry()==="http:"||Ry()==="https:"}function Ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HA()||pR()||"connection"in navigator)?navigator.onLine:!0}function WA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bn(n>e,"Short delay should be less than long delay!"),this.isMobile=Up()||nE()}get(){return $A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VA=new Aa(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kn(t,e,n,r,i={}){return mE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ks({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return hR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Gs(t.emulatorConfig.host)&&(c.credentials="include"),pE.fetch()(await gE(t,t.config.apiHost,n,a),c)})}async function mE(t,e,n){t._canInitEmulator=!1;const r={...zA,...e};try{const i=new KA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ul(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ul(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ul(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ul(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hE(t,u,c);sn(t,u)}}catch(i){if(i instanceof Wr)throw i;sn(t,"network-request-failed",{message:String(i)})}}async function Oa(t,e,n,r,i={}){const s=await Kn(t,e,n,r,i);return"mfaPendingCredential"in s&&sn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function gE(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Bp(t.config,i):`${t.config.apiScheme}://${i}`;return BA.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function GA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),VA.get())})}}function ul(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wn(t,e,r);return i.customData._tokenResponse=n,i}function Ay(t){return t!==void 0&&t.enterprise!==void 0}class qA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QA(t,e){return Kn(t,"GET","/v2/recaptchaConfig",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e){return Kn(t,"POST","/v1/accounts:delete",e)}async function Cc(t,e){return Kn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Vp(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lo(Cd(i.auth_time)),issuedAtTime:Lo(Cd(i.iat)),expirationTime:Lo(Cd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cd(t){return Number(t)*1e3}function Vp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ll("JWT malformed, contained fewer than 3 sections"),null;try{const i=_c(n);return i?JSON.parse(i):(Ll("Failed to decode base64 JWT payload"),null)}catch(i){return Ll("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Oy(t){const e=Vp(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&JA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Rs(t,Cc(e,{idToken:n}));W(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?yE(i.providerUserInfo):[],o=tO(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yf(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function eO(t){const e=ft(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e){const n=await mE(t,{},async()=>{const r=Ks({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await gE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gs(t.emulatorConfig.host)&&(l.credentials="include"),pE.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rO(t,e){return Kn(t,"POST","/v2/accounts:revokeToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Oy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=Oy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await nO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new rs;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rs,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yt{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Rs(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XA(this,e)}reload(){return eO(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lt(this.auth.app))return Promise.reject(Dn(this.auth));const e=await this.getIdToken();return await Rs(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:v,providerData:w,stsTokenManager:p}=n;W(d&&p,e,"internal-error");const x=rs.fromJSON(this.name,p);W(typeof d=="string",e,"internal-error"),Jn(r,e.name),Jn(i,e.name),W(typeof h=="boolean",e,"internal-error"),W(typeof v=="boolean",e,"internal-error"),Jn(s,e.name),Jn(o,e.name),Jn(a,e.name),Jn(l,e.name),Jn(c,e.name),Jn(u,e.name);const _=new Yt({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:u});return w&&Array.isArray(w)&&(_.providerData=w.map(m=>({...m}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new rs;i.updateFromServerResponse(n);const s=new Yt({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new rs;a.updateFromIdToken(r);const l=new Yt({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map;function An(t){Bn(t instanceof Function,"Expected a class definition");let e=My.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,My.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vE.type="NONE";const Dy=vE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,e,n){return`firebase:${t}:${e}:${n}`}class is{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jl(this.userKey,i.apiKey,s),this.fullPersistenceKey=jl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cc(this.auth,{idToken:e}).catch(()=>{});return n?Yt._fromGetAccountInfoResponse(this.auth,n,e):null}return Yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new is(An(Dy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||An(Dy);const o=jl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const h=await Cc(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Yt._fromGetAccountInfoResponse(e,h,u)}else d=Yt._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new is(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new is(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SE(e))return"Blackberry";if(bE(e))return"Webos";if(wE(e))return"Safari";if((e.includes("chrome/")||xE(e))&&!e.includes("edge/"))return"Chrome";if(CE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _E(t=ct()){return/firefox\//i.test(t)}function wE(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xE(t=ct()){return/crios\//i.test(t)}function EE(t=ct()){return/iemobile/i.test(t)}function CE(t=ct()){return/android/i.test(t)}function SE(t=ct()){return/blackberry/i.test(t)}function bE(t=ct()){return/webos/i.test(t)}function Gp(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iO(t=ct()){var e;return Gp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function sO(){return mR()&&document.documentMode===10}function TE(t=ct()){return Gp(t)||CE(t)||bE(t)||SE(t)||/windows phone/i.test(t)||EE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t,e=[]){let n;switch(t){case"Browser":n=Ly(ct());break;case"Worker":n=`${Ly(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e={}){return Kn(t,"GET","/v2/passwordPolicy",zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=6;class cO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jy(this),this.idTokenSubscription=new jy(this),this.beforeStateQueue=new oO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await is.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cc(this,{idToken:e}),r=await Yt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Lt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lt(this.app))return Promise.reject(Dn(this));const n=e?ft(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lt(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lt(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aO(this),n=new cO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ra("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await is.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bi(t){return ft(t)}class jy{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dO(t){_u=t}function NE(t){return _u.loadJS(t)}function fO(){return _u.recaptchaEnterpriseScript}function hO(){return _u.gapiScript}function pO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mO{constructor(){this.enterprise=new gO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yO="recaptcha-enterprise",kE="NO_RECAPTCHA";class vO{constructor(e){this.type=yO,this.auth=bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{QA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new qA(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Ay(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(kE)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ay(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fO();l.length!==0&&(l+=a),NE(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Fy(t,e,n,r=!1,i=!1){const s=new vO(t);let o;if(i)o=kE;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xf(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Fy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Fy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){const n=Wp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hi(s,e??{}))return i;sn(i,"already-initialized")}return n.initialize({options:e})}function wO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xO(t,e,n){const r=bi(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=PE(e),{host:o,port:a}=EO(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(hi(c,r.config.emulator)&&hi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Gs(o)?(eE(`${s}//${o}${l}`),tE("Auth",!0)):CO()}function PE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EO(t){const e=PE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Uy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Uy(o)}}}function Uy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}async function SO(t,e){return Kn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return Oa(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return Oa(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function IO(t,e){return Oa(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Kp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,n,"signInWithPassword",bO);case"emailLink":return TO(e,{email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,r,"signUpPassword",SO);case"emailLink":return IO(e,{idToken:n,email:this._email,oobCode:this._password});default:sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t,e){return Oa(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="http://localhost";class mi extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new mi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ss(e,n)}buildRequest(){const e={requestUri:NO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ks(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PO(t){const e=Eo(Co(t)).link,n=e?Eo(Co(e)).deep_link_id:null,r=Eo(Co(t)).deep_link_id;return(r?Eo(Co(r)).link:null)||r||n||e||t}class qp{constructor(e){const n=Eo(Co(e)),r=n.apiKey??null,i=n.oobCode??null,s=kO(n.mode??null);W(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PO(e);try{return new qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.providerId=Qs.PROVIDER_ID}static credential(e,n){return fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qp.parseLink(n);return W(r,"argument-error"),fa._fromEmailAndCode(e,r.code,r.tenantId)}}Qs.PROVIDER_ID="password";Qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends RE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Ma{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ma{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ma{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(t,e){return Oa(t,"POST","/v1/accounts:signUp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yt._fromIdTokenResponse(e,r,i),o=Hy(r);return new gi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hy(r);return new gi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Wr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bc(e,n,r,i)}}function AE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bc._fromErrorAndOperation(t,s,e,r):s})}async function AO(t,e,n=!1){const r=await Rs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e,n=!1){const{auth:r}=t;if(Lt(r.app))return Promise.reject(Dn(r));const i="reauthenticate";try{const s=await Rs(t,AE(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=Vp(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),gi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&sn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(t,e,n=!1){if(Lt(t.app))return Promise.reject(Dn(t));const r="signIn",i=await AE(t,r,e),s=await gi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MO(t,e){return OE(bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(t){const e=bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DO(t,e,n){if(Lt(t.app))return Promise.reject(Dn(t));const r=bi(t),o=await Xf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ME(t),l}),a=await gi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LO(t,e,n){return Lt(t.app)?Promise.reject(Dn(t)):MO(ft(t),Qs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ME(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return Kn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Rs(r,jO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function UO(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function HO(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function $O(t){return ft(t).signOut()}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1e3,zO=10;class LE extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LE.type="LOCAL";const BO=LE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const FE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await VO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Qp("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function KO(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function qO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function YO(){return UE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",XO=1,Ic="firebaseLocalStorage",$E="fbase_key";class Da{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xu(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function JO(){const t=indexedDB.deleteDatabase(HE);return new Da(t).toPromise()}function Jf(){const t=indexedDB.open(HE,XO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ic,{keyPath:$E})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ic)?e(r):(r.close(),await JO(),e(await Jf()))})})}async function $y(t,e,n){const r=xu(t,!0).put({[$E]:e,value:n});return new Da(r).toPromise()}async function ZO(t,e){const n=xu(t,!1).get(e),r=await new Da(n).toPromise();return r===void 0?null:r.value}function Wy(t,e){const n=xu(t,!0).delete(e);return new Da(n).toPromise()}const eM=800,tM=3;class WE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wu._getInstance(YO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new GO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jf();return await $y(e,Tc,"1"),await Wy(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$y(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xu(i,!1).getAll();return new Da(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WE.type="LOCAL";const nM=WE;new Aa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e){return e?An(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ss(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ss(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iM(t){return OE(t.auth,new Yp(t),t.bypassAuthState)}function sM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),OO(n,new Yp(t),t.bypassAuthState)}async function oM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),AO(n,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iM;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return sM;default:sn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Aa(2e3,1e4);class Ki extends zE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aM.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="pendingRedirect",Fl=new Map;class cM extends zE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fl.get(this.auth._key());if(!e){try{const r=await uM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fl.set(this.auth._key(),e)}return this.bypassAuthState||Fl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uM(t,e){const n=hM(e),r=fM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dM(t,e){Fl.set(t._key(),e)}function fM(t){return An(t._redirectPersistence)}function hM(t){return jl(lM,t.config.apiKey,t.name)}async function pM(t,e,n=!1){if(Lt(t.app))return Promise.reject(Dn(t));const r=bi(t),i=rM(r,e),o=await new cM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=10*60*1e3;class gM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mM&&this.cachedEventUids.clear(),this.cachedEventUids.has(zy(e))}saveEventToCache(e){this.cachedEventUids.add(zy(e)),this.lastProcessedEventTime=Date.now()}}function zy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return Kn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function xM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vM(t);for(const n of e)try{if(EM(n))return}catch{}sn(t,"unauthorized-domain")}function EM(t){const e=Qf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wM.test(n))return!1;if(_M.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Aa(3e4,6e4);function By(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SM(t){return new Promise((e,n)=>{var i,s,o;function r(){By(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{By(),n(wn(t,"network-request-failed"))},timeout:CM.get()})}if((s=(i=xn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=xn().gapi)!=null&&o.load)r();else{const a=pO("iframefcb");return xn()[a]=()=>{gapi.load?r():n(wn(t,"network-request-failed"))},NE(`${hO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ul=null,e})}let Ul=null;function bM(t){return Ul=Ul||SM(t),Ul}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Aa(5e3,15e3),IM="__/auth/iframe",NM="emulator/auth/iframe",kM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bp(e,NM):`https://${t.config.authDomain}/${IM}`,r={apiKey:e.apiKey,appName:t.name,v:qs},i=PM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ks(r).slice(1)}`}async function AM(t){const e=await bM(t),n=xn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:RM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=xn().setTimeout(()=>{s(o)},TM.get());function l(){xn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MM=500,DM=600,LM="_blank",jM="http://localhost";class Vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FM(t,e,n,r=MM,i=DM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...OM,width:r.toString(),height:i.toString(),top:s,left:o},c=ct().toLowerCase();n&&(a=xE(c)?LM:n),_E(c)&&(e=e||jM,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[v,w])=>`${h}${v}=${w},`,"");if(iO(c)&&a!=="_self")return UM(e||"",a),new Vy(null);const d=window.open(e||"",a,u);W(d,t,"popup-blocked");try{d.focus()}catch{}return new Vy(d)}function UM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="__/auth/handler",$M="emulator/auth/handler",WM=encodeURIComponent("fac");async function Gy(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qs,eventId:i};if(e instanceof RE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Ma){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${WM}=${encodeURIComponent(l)}`:"";return`${zM(t)}?${Ks(a).slice(1)}${c}`}function zM({config:t}){return t.emulator?Bp(t,$M):`https://${t.authDomain}/${HM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class BM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=pM,this._overrideRedirectResult=dM}async _openPopup(e,n,r,i){var o;Bn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Gy(e,n,r,Qf(),i);return FM(e,s,Qp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Gy(e,n,r,Qf(),i);return KO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AM(e),r=new gM(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sd,{type:Sd},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Sd];s!==void 0&&n(!!s),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TE()||wE()||Gp()}}const VM=BM;var Ky="@firebase/auth",qy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qM(t){Ps(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IE(t)},c=new uO(r,i,s,l);return wO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ps(new pi("auth-internal",e=>{const n=bi(e.getProvider("auth").getImmediate());return(r=>new GM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(Ky,qy,KM(t)),Pr(Ky,qy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=5*60,YM=Zx("authIdTokenMaxAge")||QM;let Qy=null;const XM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YM)return;const i=n==null?void 0:n.token;Qy!==i&&(Qy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JM(t=lE()){const e=Wp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_O(t,{popupRedirectResolver:VM,persistence:[nM,BO,FE]}),r=Zx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=XM(s.toString());HO(n,o,()=>o(n.currentUser)),UO(n,a=>o(a))}}const i=Xx("auth");return i&&xO(n,`http://${i}`),n}function ZM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}dO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ZM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qM("Browser");var Yy={};const Xy="@firebase/database",Jy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE="";function eD(t){VE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ua(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tD(e)}}catch{}return new nD},ei=GE("localStorage"),rD=GE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Hp("@firebase/database"),iD=function(){let t=1;return function(){return t++}}(),KE=function(t){const e=IR(t),n=new CR;n.update(e);const r=n.digest();return jp.encodeByteArray(r)},La=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=La.apply(null,r):typeof r=="object"?e+=He(r):e+=r,e+=" "}return e};let jo=null,Zy=!0;const sD=function(t,e){A(!e,"Can't turn on custom loggers persistently."),os.logLevel=ue.VERBOSE,jo=os.log.bind(os)},Be=function(...t){if(Zy===!0&&(Zy=!1,jo===null&&rD.get("logging_enabled")===!0&&sD()),jo){const e=La.apply(null,t);jo(e)}},ja=function(t){return function(...e){Be(t,...e)}},Zf=function(...t){const e="FIREBASE INTERNAL ERROR: "+La(...t);os.error(e)},Vn=function(...t){const e=`FIREBASE FATAL ERROR: ${La(...t)}`;throw os.error(e),new Error(e)},lt=function(...t){const e="FIREBASE WARNING: "+La(...t);os.warn(e)},oD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},As="[MIN_NAME]",yi="[MAX_NAME]",Ti=function(t,e){if(t===e)return 0;if(t===As||e===yi)return-1;if(e===As||t===yi)return 1;{const n=ev(t),r=ev(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lD=function(t,e){return t===e?0:t<e?-1:1},po=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},Jp=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=He(e[r]),n+=":",n+=Jp(t[e[r]]);return n+="}",n},qE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ke(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const QE=function(t){A(!Xp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},cD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const fD=new RegExp("^-?(0*)\\d{1,10}$"),hD=-2147483648,pD=2147483647,ev=function(t){if(fD.test(t)){const e=Number(t);if(e>=hD&&e<=pD)return e}return null},Ys=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},mD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Lt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}}class Hl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="5",YE="v",XE="s",JE="r",ZE="f",eC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tC="ls",nC="p",eh="ac",rC="websocket",iC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function oC(t,e,n){A(typeof e=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(e===rC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vD(t)&&(n.ns=t.namespace);const i=[];return Ke(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.counters_={}}incrementCounter(e,n=1){Sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd={},Td={};function em(t){const e=t.toString();return bd[e]||(bd[e]=new _D),bd[e]}function wD(t,e){const n=t.toString();return Td[n]||(Td[n]=e()),Td[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ys(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="start",ED="close",CD="pLPCommand",SD="pRTLPCB",aC="id",lC="pw",cC="ser",bD="cb",TD="seg",ID="ts",ND="d",kD="dframe",uC=1870,dC=30,PD=uC-dC,RD=25e3,AD=3e4;class qi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ja(e),this.stats_=em(n),this.urlFn=l=>(this.appCheckToken&&(l[eh]=this.appCheckToken),oC(n,iC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AD)),aD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tm((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tv)this.id=a,this.password=l;else if(o===ED)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[tv]="t",r[cC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[YE]=Zp,this.transportSessionId&&(r[XE]=this.transportSessionId),this.lastSessionId&&(r[tC]=this.lastSessionId),this.applicationId&&(r[nC]=this.applicationId),this.appCheckToken&&(r[eh]=this.appCheckToken),typeof location<"u"&&location.hostname&&eC.test(location.hostname)&&(r[JE]=ZE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qi.forceAllow_=!0}static forceDisallow(){qi.forceDisallow_=!0}static isAvailable(){return qi.forceAllow_?!0:!qi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cD()&&!uD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Qx(n),i=qE(r,PD);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[kD]="t",r[aC]=e,r[lC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tm{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iD(),window[CD+this.uniqueCallbackIdentifier]=e,window[SD+this.uniqueCallbackIdentifier]=n,this.myIFrame=tm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Be("frame writing exception"),a.stack&&Be(a.stack),Be(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Be("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aC]=this.myID,e[lC]=this.myPW,e[cC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dC+r.length<=uC;){const o=this.pendingSegs.shift();r=r+"&"+TD+i+"="+o.seg+"&"+ID+i+"="+o.ts+"&"+ND+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(RD)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Be("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=16384,MD=45e3;let Nc=null;typeof MozWebSocket<"u"?Nc=MozWebSocket:typeof WebSocket<"u"&&(Nc=WebSocket);class Qt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ja(this.connId),this.stats_=em(n),this.connURL=Qt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[YE]=Zp,typeof location<"u"&&location.hostname&&eC.test(location.hostname)&&(o[JE]=ZE),n&&(o[XE]=n),r&&(o[tC]=r),i&&(o[eh]=i),s&&(o[nC]=s),oC(e,rC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ei.set("previous_websocket_failure",!0);try{let r;rE(),this.mySock=new Nc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Nc!==null&&!Qt.forceDisallow_}static previouslyFailed(){return ei.isInMemoryStorage||ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){ei.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ua(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(A(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qE(n,OD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static get ALL_TRANSPORTS(){return[qi,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Qt&&Qt.isAvailable();let r=n&&!Qt.previouslyFailed();if(e.webSocketOnly&&(n||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qt];else{const i=this.transports_=[];for(const s of ha.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ha.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ha.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=6e4,LD=5e3,jD=10*1024,FD=100*1024,Id="t",nv="d",UD="s",rv="r",HD="e",iv="o",sv="a",ov="n",av="p",$D="h";class WD{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ja("c:"+this.id+":"),this.transportManager_=new ha(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Id in e){const n=e[Id];n===sv?this.upgradeIfSecondaryHealthy_():n===rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===iv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=po("t",e),r=po("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:av,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ov,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=po("t",e),r=po("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=po(Id,e);if(nv in e){const r=e[nv];if(n===$D){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ov){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UD?this.onConnectionShutdown_(r):n===rv?this.onReset_(r):n===HD?Zf("Server Error: "+r):n===iv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zp!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:av,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.allowedEvents_=e,this.listeners_={},A(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){A(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends hC{static getInstance(){return new kc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Up()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return A(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=32,cv=768;class de{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function re(){return new de("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jr(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function nm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function mt(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return mt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function BD(t,e){const n=pa(t,0),r=pa(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ti(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function rm(t,e){if(jr(t)!==jr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ft(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jr(t)>jr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class VD{constructor(e,n){this.errorPrefix_=n,this.parts_=pa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=vu(this.parts_[r]);mC(this)}}function GD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=vu(e),mC(t)}function KD(t){const e=t.parts_.pop();t.byteLength_-=vu(e),t.parts_.length>0&&(t.byteLength_-=1)}function mC(t){if(t.byteLength_>cv)throw new Error(t.errorPrefix_+"has a key path longer than "+cv+" bytes ("+t.byteLength_+").");if(t.parts_.length>lv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lv+") or object contains a cycle "+Yr(t))}function Yr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends hC{static getInstance(){return new im}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return A(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=1e3,qD=60*5*1e3,uv=30*1e3,QD=1.3,YD=3e4,XD="server_kill",dv=3;class Ln extends fC{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ln.nextPersistentConnectionId_++,this.log_=ja("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mo,this.maxReconnectDelay_=qD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");im.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(He(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Pa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ln.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sn(e,"w")){const r=ks(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ER(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zf("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YD&&(this.reconnectDelay_=mo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ln.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){A(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new WD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{lt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(XD)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&lt(d),l())}}}interrupt(e){Be("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Be("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zf(this.interruptReasons_)&&(this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Jp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new de(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Be("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dv&&(this.reconnectDelay_=uv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Be("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+VE.replace(/\./g,"-")]=1,Up()?e["framework.cordova"]=1:nE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kc.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&e}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y(As,e),i=new Y(As,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;class gC extends Eu{static get __EMPTY_NODE(){return dl}static set __EMPTY_NODE(e){dl=e}compare(e,n){return Ti(e.name,n.name)}isDefinedOn(e){throw Vs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(yi,dl)}makePost(e,n){return A(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,dl)}toString(){return".key"}}const as=new gC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fe.RED,this.left=i??gt.EMPTY_NODE,this.right=s??gt.EMPTY_NODE}copy(e,n,r,i,s){return new Fe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class JD{copy(e,n,r,i,s){return this}insert(e,n,r){return new Fe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(e,n=gt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(e){return new gt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fl(this.root_,null,this.comparator_,!0,e)}}gt.EMPTY_NODE=new JD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e){return Ti(t.name,e.name)}function sm(t,e){return Ti(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;function eL(t){th=t}const yC=function(t){return typeof t=="number"?"number:"+QE(t):"string:"+t},vC=function(t){if(t.isLeafNode()){const e=t.val();A(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sn(e,".sv"),"Priority must be a string or number.")}else A(t===th||t.isEmpty(),"priority of unexpected type.");A(t===th||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv;class Le{static set __childrenNodeConstructor(e){fv=e}static get __childrenNodeConstructor(){return fv}constructor(e,n=Le.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Le(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return X(e)?this:Q(e)===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||jr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Le.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=QE(this.value_):e+=this.value_,this.lazyHash_=KE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Le.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Le.__childrenNodeConstructor?-1:(A(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Le.VALUE_TYPE_ORDER.indexOf(n),s=Le.VALUE_TYPE_ORDER.indexOf(r);return A(i>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _C,wC;function tL(t){_C=t}function nL(t){wC=t}class rL extends Eu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ti(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(yi,new Le("[PRIORITY-POST]",wC))}makePost(e,n){const r=_C(e);return new Y(n,new Le("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new rL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=Math.log(2);class sL{constructor(e){const n=s=>parseInt(Math.log(s)/iL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Pc=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Fe(h,d.node,Fe.BLACK,null,null);{const v=parseInt(u/2,10)+l,w=i(l,v),p=i(v+1,c);return d=t[v],h=n?n(d):d,new Fe(h,d.node,Fe.BLACK,w,p)}},s=function(l){let c=null,u=null,d=t.length;const h=function(w,p){const x=d-w,_=d;d-=w;const m=i(x+1,_),g=t[x],E=n?n(g):g;v(new Fe(E,g.node,p,null,m))},v=function(w){c?(c.left=w,c=w):(u=w,c=w)};for(let w=0;w<l.count;++w){const p=l.nextBitIsOne(),x=Math.pow(2,l.count-(w+1));p?h(x,Fe.BLACK):(h(x,Fe.BLACK),h(x,Fe.RED))}return u},o=new sL(t.length),a=s(o);return new gt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd;const Ri={};class On{static get Default(){return A(Ri&&ke,"ChildrenNode.ts has not been loaded"),Nd=Nd||new On({".priority":Ri},{".priority":ke}),Nd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ks(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gt?n:null}hasIndex(e){return Sn(this.indexSet_,e.toString())}addIndex(e,n){A(e!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Y.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Pc(r,e.getCompare()):a=Ri;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new On(u,c)}addToIndexes(e,n){const r=wc(this.indexes_,(i,s)=>{const o=ks(this.indexSet_,s);if(A(o,"Missing index implementation for "+s),i===Ri)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Y.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Pc(a,o.getCompare())}else return Ri;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new On(r,this.indexSet_)}removeFromIndexes(e,n){const r=wc(this.indexes_,i=>{if(i===Ri)return i;{const s=n.get(e.name);return s?i.remove(new Y(e.name,s)):i}});return new On(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class z{static get EMPTY_NODE(){return go||(go=new z(new gt(sm),null,On.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vC(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||go}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?go:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(A(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?go:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{A(Q(e)!==".priority"||jr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ke,(o,a)=>{n[o]=a.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yC(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":KE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Y(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fa?-1:0}withIndex(e){if(e===as||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===as||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===as?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oL extends z{constructor(){super(new gt(sm),z.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const Fa=new oL;Object.defineProperties(Y,{MIN:{value:new Y(As,z.EMPTY_NODE)},MAX:{value:new Y(yi,Fa)}});gC.__EMPTY_NODE=z.EMPTY_NODE;Le.__childrenNodeConstructor=z;eL(Fa);nL(Fa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=!0;function Ue(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),A(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Le(n,Ue(e))}if(!(t instanceof Array)&&aL){const n=[];let r=!1;if(Ke(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ue(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(o,l)))}}),n.length===0)return z.EMPTY_NODE;const s=Pc(n,ZD,o=>o.name,sm);if(r){const o=Pc(n,ke.getCompare());return new z(s,Ue(e),new On({".priority":o},{".priority":ke}))}else return new z(s,Ue(e),On.Default)}else{let n=z.EMPTY_NODE;return Ke(t,(r,i)=>{if(Sn(t,r)&&r.substring(0,1)!=="."){const s=Ue(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ue(e))}}tL(Ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends Eu{constructor(e){super(),this.indexPath_=e,A(!X(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ti(e.name,n.name):s}makePost(e,n){const r=Ue(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,Fa);return new Y(yi,e)}toString(){return pa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends Eu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ti(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=Ue(e);return new Y(n,r)}toString(){return".value"}}const uL=new cL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){return{type:"value",snapshotNode:t}}function Os(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ma(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ga(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){A(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ma(n,a)):A(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Os(n,r)):o.trackChildChange(ga(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,s)=>{n.hasChild(i)||r.trackChildChange(ma(i,s))}),n.isLeafNode()||n.forEachChild(ke,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ga(i,s,o))}else r.trackChildChange(Os(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.indexedFilter_=new om(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ya.getStartPost_(e),this.endPost_=ya.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Y(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(ke,(o,a)=>{s.matches(new Y(o,a))||(i=i.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ya(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Y(n,r))||(r=z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,v)=>d(v,h)}else o=this.index_.getCompare();const a=e;A(a.numChildren()===this.limit_,"");const l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const v=h==null?1:o(h,l);if(u&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(ga(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ma(n,d));const p=a.updateImmediateChild(n,z.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Os(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(ma(c.name,c.node)),s.trackChildChange(Os(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:As}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new am;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hL(t){return t.loadsAllData()?new om(t.getIndex()):t.hasLimit()?new fL(t):new ya(t)}function hv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===uL?n="$value":t.index_===as?n="$key":(A(t.index_ instanceof lL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=He(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+He(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=He(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends fC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(A(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ja("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Rc.getListenId_(e,r),a={};this.listens_[o]=a;const l=hv(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ks(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Rc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hv(e._queryParams),r=e._path.toString(),i=new Pa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ks(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ua(a.responseText)}catch{lt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&lt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(){return{value:null,children:new Map}}function EC(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,Ac());const i=t.children.get(r);e=me(e),EC(i,e,n)}}function nh(t,e,n){t.value!==null?n(e,t.value):mL(t,(r,i)=>{const s=new de(e.toString()+"/"+r);nh(i,s,n)})}function mL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=10*1e3,yL=30*1e3,vL=5*60*1e3;class _L{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gL(e);const r=mv+(yL-mv)*Math.random();Fo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ke(e,(i,s)=>{s>0&&Sn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*vL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xt||(Xt={}));function lm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function um(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xt.ACK_USER_WRITE,this.source=lm()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new Oc(re(),n,this.revert)}}else return A(Q(this.path)===e,"operationForChild called for unrelated child."),new Oc(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.source=e,this.path=n,this.type=Xt.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new va(this.source,re()):new va(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xt.OVERWRITE}operationForChild(e){return X(this.path)?new vi(this.source,re(),this.snap.getImmediateChild(e)):new vi(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xt.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new vi(this.source,re(),n.value):new Ms(this.source,re(),n)}else return A(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ms(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xL(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(dL(o.childName,o.snapshotNode))}),yo(t,i,"child_removed",e,r,n),yo(t,i,"child_added",e,r,n),yo(t,i,"child_moved",s,r,n),yo(t,i,"child_changed",e,r,n),yo(t,i,"value",e,r,n),i}function yo(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>CL(t,a,l)),o.forEach(a=>{const l=EL(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function EL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CL(t,e,n){if(e.childName==null||n.childName==null)throw Vs("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){return{eventCache:t,serverCache:e}}function Uo(t,e,n,r){return Cu(new _i(e,n,r),t.serverCache)}function CC(t,e,n,r){return Cu(t.eventCache,new _i(e,n,r))}function rh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const SL=()=>(kd||(kd=new gt(lD)),kd);class pe{static fromObject(e){let n=new pe(null);return Ke(e,(r,i)=>{n=n.set(new de(r),i)}),n}constructor(e,n=SL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(X(e))return null;{const r=Q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(me(e),n);return s!=null?{path:Ne(new de(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new pe(null)}}set(e,n){if(X(e))return new pe(n,this.children);{const r=Q(e),s=(this.children.get(r)||new pe(null)).set(me(e),n),o=this.children.insert(r,s);return new pe(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const i=r.remove(me(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pe(null):new pe(this.value,s)}else return this}}get(e){if(X(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(X(e))return n;{const r=Q(e),s=(this.children.get(r)||new pe(null)).setTree(me(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pe(this.value,o)}}fold(e){return this.fold_(re(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(X(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(me(e),Ne(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);const i=Q(e),s=this.children.get(i);return s?s.foreachOnPath_(me(e),Ne(n,i),r):new pe(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new pe(null))}}function Ho(t,e,n){if(X(e))return new en(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=mt(i,e);return s=s.updateChild(o,n),new en(t.writeTree_.set(i,s))}else{const i=new pe(n),s=t.writeTree_.setTree(e,i);return new en(s)}}}function ih(t,e,n){let r=t;return Ke(n,(i,s)=>{r=Ho(r,Ne(e,i),s)}),r}function gv(t,e){if(X(e))return en.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new en(n)}}function sh(t,e){return Ii(t,e)!=null}function Ii(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mt(n.path,e)):null}function yv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function Rr(t,e){if(X(e))return t;{const n=Ii(t,e);return n!=null?new en(new pe(n)):new en(t.writeTree_.subtree(e))}}function oh(t){return t.writeTree_.isEmpty()}function Ds(t,e){return SC(re(),t.writeTree_,e)}function SC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=SC(Ne(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){return NC(e,t)}function bL(t,e,n,r,i){A(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ho(t.visibleWrites,e,n)),t.lastWriteId=r}function TL(t,e,n,r){A(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ih(t.visibleWrites,e,n),t.lastWriteId=r}function IL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function NL(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);A(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&kL(a,r.path)?i=!1:Ft(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return PL(t),!0;if(r.snap)t.visibleWrites=gv(t.visibleWrites,r.path);else{const a=r.children;Ke(a,l=>{t.visibleWrites=gv(t.visibleWrites,Ne(r.path,l))})}return!0}else return!1}function kL(t,e){if(t.snap)return Ft(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ft(Ne(t.path,n),e))return!0;return!1}function PL(t){t.visibleWrites=bC(t.allWrites,RL,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RL(t){return t.visible}function bC(t,e,n){let r=en.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ft(n,o)?(a=mt(n,o),r=Ho(r,a,s.snap)):Ft(o,n)&&(a=mt(o,n),r=Ho(r,re(),s.snap.getChild(a)));else if(s.children){if(Ft(n,o))a=mt(n,o),r=ih(r,a,s.children);else if(Ft(o,n))if(a=mt(o,n),X(a))r=ih(r,re(),s.children);else{const l=ks(s.children,Q(a));if(l){const c=l.getChild(me(a));r=Ho(r,re(),c)}}}else throw Vs("WriteRecord should have .snap or .children")}}return r}function TC(t,e,n,r,i){if(!r&&!i){const s=Ii(t.visibleWrites,e);if(s!=null)return s;{const o=Rr(t.visibleWrites,e);if(oh(o))return n;if(n==null&&!sh(o,re()))return null;{const a=n||z.EMPTY_NODE;return Ds(o,a)}}}else{const s=Rr(t.visibleWrites,e);if(!i&&oh(s))return n;if(!i&&n==null&&!sh(s,re()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ft(c.path,e)||Ft(e,c.path))},a=bC(t.allWrites,o,e),l=n||z.EMPTY_NODE;return Ds(a,l)}}}function AL(t,e,n){let r=z.EMPTY_NODE;const i=Ii(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Rr(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{const l=Ds(Rr(s,new de(o)),a);r=r.updateImmediateChild(o,l)}),yv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Rr(t.visibleWrites,e);return yv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function OL(t,e,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ne(e,n);if(sh(t.visibleWrites,s))return null;{const o=Rr(t.visibleWrites,s);return oh(o)?i.getChild(n):Ds(o,i.getChild(n))}}function ML(t,e,n,r){const i=Ne(e,n),s=Ii(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Rr(t.visibleWrites,i);return Ds(o,r.getNode().getImmediateChild(n))}else return null}function DL(t,e){return Ii(t.visibleWrites,e)}function LL(t,e,n,r,i,s,o){let a;const l=Rr(t.visibleWrites,e),c=Ii(l,re());if(c!=null)a=c;else if(n!=null)a=Ds(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=h.getNext();for(;v&&u.length<i;)d(v,r)!==0&&u.push(v),v=h.getNext();return u}else return[]}function jL(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function Mc(t,e,n,r){return TC(t.writeTree,t.treePath,e,n,r)}function fm(t,e){return AL(t.writeTree,t.treePath,e)}function vv(t,e,n,r){return OL(t.writeTree,t.treePath,e,n,r)}function Dc(t,e){return DL(t.writeTree,Ne(t.treePath,e))}function FL(t,e,n,r,i,s){return LL(t.writeTree,t.treePath,e,n,r,i,s)}function hm(t,e,n){return ML(t.writeTree,t.treePath,e,n)}function IC(t,e){return NC(Ne(t.treePath,e),t.writeTree)}function NC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ga(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ma(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Os(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ga(r,e.snapshotNode,i.oldSnap));else throw Vs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const kC=new HL;class pm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _i(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wi(this.viewCache_),s=FL(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return{filter:t}}function WL(t,e){A(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),A(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function zL(t,e,n,r,i){const s=new UL;let o,a;if(n.type===Xt.OVERWRITE){const c=n;c.source.fromUser?o=ah(t,e,c.path,c.snap,r,i,s):(A(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),o=Lc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Xt.MERGE){const c=n;c.source.fromUser?o=VL(t,e,c.path,c.children,r,i,s):(A(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=lh(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Xt.ACK_USER_WRITE){const c=n;c.revert?o=qL(t,e,c.path,r,i,s):o=GL(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Xt.LISTEN_COMPLETE)o=KL(t,e,n.path,r,s);else throw Vs("Unknown operation type: "+n.type);const l=s.getChanges();return BL(e,o,l),{viewCache:o,changes:l}}function BL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(xC(rh(e)))}}function PC(t,e,n,r,i,s){const o=e.eventCache;if(Dc(r,n)!=null)return e;{let a,l;if(X(n))if(A(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=wi(e),u=c instanceof z?c:z.EMPTY_NODE,d=fm(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Mc(r,wi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Q(n);if(c===".priority"){A(jr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=vv(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=me(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=vv(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=hm(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Uo(e,a,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function Lc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(X(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),v,null)}else{const v=Q(n);if(!l.isCompleteForPath(n)&&jr(n)>1)return e;const w=me(n),x=l.getNode().getImmediateChild(v).updateChild(w,r);v===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),v,x,w,kC,null)}const d=CC(e,c,l.isFullyInitialized()||X(n),u.filtersNodes()),h=new pm(i,d,s);return PC(t,d,n,i,h,a)}function ah(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new pm(i,e,s);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Uo(e,c,!0,t.filter.filtersNodes());else{const d=Q(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Uo(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=me(n),v=a.getNode().getImmediateChild(d);let w;if(X(h))w=r;else{const p=u.getCompleteChild(d);p!=null?nm(h)===".priority"&&p.getChild(pC(h)).isEmpty()?w=p:w=p.updateChild(h,r):w=z.EMPTY_NODE}if(v.equals(w))l=e;else{const p=t.filter.updateChild(a.getNode(),d,w,h,u,o);l=Uo(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _v(t,e){return t.eventCache.isCompleteForChild(e)}function VL(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Ne(n,l);_v(e,Q(u))&&(a=ah(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Ne(n,l);_v(e,Q(u))||(a=ah(t,a,u,c,i,s,o))}),a}function wv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new pe(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const v=e.serverCache.getNode().getImmediateChild(d),w=wv(t,v,h);l=Lc(t,l,new de(d),w,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const v=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!v){const w=e.serverCache.getNode().getImmediateChild(d),p=wv(t,w,h);l=Lc(t,l,new de(d),p,i,s,o,a)}}),l}function GL(t,e,n,r,i,s,o){if(Dc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Lc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(X(n)){let c=new pe(null);return l.getNode().forEachChild(as,(u,d)=>{c=c.set(new de(u),d)}),lh(t,e,n,c,i,s,a,o)}else return e}else{let c=new pe(null);return r.foreach((u,d)=>{const h=Ne(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),lh(t,e,n,c,i,s,a,o)}}function KL(t,e,n,r,i){const s=e.serverCache,o=CC(e,s.getNode(),s.isFullyInitialized()||X(n),s.isFiltered());return PC(t,o,n,r,kC,i)}function qL(t,e,n,r,i,s){let o;if(Dc(r,n)!=null)return e;{const a=new pm(r,e,i),l=e.eventCache.getNode();let c;if(X(n)||Q(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Mc(r,wi(e));else{const d=e.serverCache.getNode();A(d instanceof z,"serverChildren would be complete if leaf node"),u=fm(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Q(n);let d=hm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,me(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,z.EMPTY_NODE,me(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mc(r,wi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Dc(r,re())!=null,Uo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new om(r.getIndex()),s=hL(r);this.processor_=$L(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(z.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(z.EMPTY_NODE,a.getNode(),null),u=new _i(l,o.isFullyInitialized(),i.filtersNodes()),d=new _i(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Cu(d,u),this.eventGenerator_=new wL(this.query_)}get query(){return this.query_}}function YL(t){return t.viewCache_.serverCache.getNode()}function XL(t,e){const n=wi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function xv(t){return t.eventRegistrations_.length===0}function JL(t,e){t.eventRegistrations_.push(e)}function Ev(t,e,n){const r=[];if(n){A(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Cv(t,e,n,r){e.type===Xt.MERGE&&e.source.queryId!==null&&(A(wi(t.viewCache_),"We should always have a full cache before handling merges"),A(rh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=zL(t.processor_,i,e,n,r);return WL(t.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,RC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function ZL(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(s,o)=>{r.push(Os(s,o))}),n.isFullyInitialized()&&r.push(xC(n.getNode())),RC(t,r,n.getNode(),e)}function RC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return xL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;class e2{constructor(){this.views=new Map}}function t2(t){A(!jc,"__referenceConstructor has already been defined"),jc=t}function n2(){return A(jc,"Reference.ts has not been loaded"),jc}function r2(t){return t.views.size===0}function mm(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return A(s!=null,"SyncTree gave us an op for an invalid query."),Cv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Cv(o,e,n,r));return s}}function i2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Mc(n,i?r:null),l=!1;a?l=!0:r instanceof z?(a=fm(n,r),l=!1):(a=z.EMPTY_NODE,l=!1);const c=Cu(new _i(a,l,!1),new _i(r,i,!1));return new QL(e,c)}return o}function s2(t,e,n,r,i,s){const o=i2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),JL(o,n),ZL(o,n)}function o2(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Fr(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Ev(c,n,r)),xv(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Ev(l,n,r)),xv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Fr(t)&&s.push(new(n2())(e._repo,e._path)),{removed:s,events:o}}function AC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ls(t,e){let n=null;for(const r of t.views.values())n=n||XL(r,e);return n}function OC(t,e){if(e._queryParams.loadsAllData())return Su(t);{const r=e._queryIdentifier;return t.views.get(r)}}function MC(t,e){return OC(t,e)!=null}function Fr(t){return Su(t)!=null}function Su(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;function a2(t){A(!Fc,"__referenceConstructor has already been defined"),Fc=t}function l2(){return A(Fc,"Reference.ts has not been loaded"),Fc}let c2=1;class Sv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=jL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DC(t,e,n,r,i){return bL(t.pendingWriteTree_,e,n,r,i),i?Xs(t,new vi(lm(),e,n)):[]}function u2(t,e,n,r){TL(t.pendingWriteTree_,e,n,r);const i=pe.fromObject(n);return Xs(t,new Ms(lm(),e,i))}function vr(t,e,n=!1){const r=IL(t.pendingWriteTree_,e);if(NL(t.pendingWriteTree_,e)){let s=new pe(null);return r.snap!=null?s=s.set(re(),!0):Ke(r.children,o=>{s=s.set(new de(o),!0)}),Xs(t,new Oc(r.path,s,n))}else return[]}function bu(t,e,n){return Xs(t,new vi(cm(),e,n))}function d2(t,e,n){const r=pe.fromObject(n);return Xs(t,new Ms(cm(),e,r))}function f2(t,e){return Xs(t,new va(cm(),e))}function h2(t,e,n){const r=ym(t,n);if(r){const i=vm(r),s=i.path,o=i.queryId,a=mt(s,e),l=new va(um(o),a);return _m(t,s,l)}else return[]}function ch(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||MC(o,e))){const l=o2(o,e,n,r);r2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,v)=>Fr(v));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const v=g2(h);for(let w=0;w<v.length;++w){const p=v[w],x=p.query,_=FC(t,p);t.listenProvider_.startListening($o(x),Uc(t,x),_.hashFn,_.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening($o(e),null):c.forEach(h=>{const v=t.queryToTagMap.get(Tu(h));t.listenProvider_.stopListening($o(h),v)}))}y2(t,c)}return a}function p2(t,e,n,r){const i=ym(t,r);if(i!=null){const s=vm(i),o=s.path,a=s.queryId,l=mt(o,e),c=new vi(um(a),l,n);return _m(t,o,c)}else return[]}function m2(t,e,n,r){const i=ym(t,r);if(i){const s=vm(i),o=s.path,a=s.queryId,l=mt(o,e),c=pe.fromObject(n),u=new Ms(um(a),l,c);return _m(t,o,u)}else return[]}function bv(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,v)=>{const w=mt(h,i);s=s||ls(v,w),o=o||Fr(v)});let a=t.syncPointTree_.get(i);a?(o=o||Fr(a),s=s||ls(a,re())):(a=new e2,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,w)=>{const p=ls(w,re());p&&(s=s.updateImmediateChild(v,p))}));const c=MC(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Tu(e);A(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const v=v2();t.queryToTagMap.set(h,v),t.tagToQueryMap.set(v,h)}const u=dm(t.pendingWriteTree_,i);let d=s2(a,e,n,u,s,l);if(!c&&!o&&!r){const h=OC(a,e);d=d.concat(_2(t,e,h))}return d}function gm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=mt(o,e),c=ls(a,l);if(c)return c});return TC(i,e,s,n,!0)}function Xs(t,e){return LC(e,t.syncPointTree_,null,dm(t.pendingWriteTree_,re()))}function LC(t,e,n,r){if(X(t.path))return jC(t,e,n,r);{const i=e.get(re());n==null&&i!=null&&(n=ls(i,re()));let s=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=IC(r,o);s=s.concat(LC(a,l,c,u))}return i&&(s=s.concat(mm(i,t,r,n))),s}}function jC(t,e,n,r){const i=e.get(re());n==null&&i!=null&&(n=ls(i,re()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=IC(r,o),u=t.operationForChild(o);u&&(s=s.concat(jC(u,a,l,c)))}),i&&(s=s.concat(mm(i,t,r,n))),s}function FC(t,e){const n=e.query,r=Uc(t,n);return{hashFn:()=>(YL(e)||z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?h2(t,n._path,r):f2(t,n._path);{const s=dD(i,n);return ch(t,n,null,s)}}}}function Uc(t,e){const n=Tu(e);return t.queryToTagMap.get(n)}function Tu(t){return t._path.toString()+"$"+t._queryIdentifier}function ym(t,e){return t.tagToQueryMap.get(e)}function vm(t){const e=t.indexOf("$");return A(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function _m(t,e,n){const r=t.syncPointTree_.get(e);A(r,"Missing sync point for query tag that we're tracking");const i=dm(t.pendingWriteTree_,e);return mm(r,n,i,null)}function g2(t){return t.fold((e,n,r)=>{if(n&&Fr(n))return[Su(n)];{let i=[];return n&&(i=AC(n)),Ke(r,(s,o)=>{i=i.concat(o)}),i}})}function $o(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(l2())(t._repo,t._path):t}function y2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Tu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function v2(){return c2++}function _2(t,e,n){const r=e._path,i=Uc(t,e),s=FC(t,n),o=t.listenProvider_.startListening($o(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)A(!Fr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!X(c)&&u&&Fr(u))return[Su(u).query];{let h=[];return u&&(h=h.concat(AC(u).map(v=>v.query))),Ke(d,(v,w)=>{h=h.concat(w)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening($o(u),Uc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wm(n)}node(){return this.node_}}class xm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new xm(this.syncTree_,n)}node(){return gm(this.syncTree_,this.path_)}}const w2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Tv=function(t,e,n){if(!t||typeof t!="object")return t;if(A(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return x2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return E2(t[".sv"],e);A(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},x2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+t)}},E2=function(t,e,n){t.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const i=e.node();if(A(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},UC=function(t,e,n,r){return Em(e,new xm(n,t),r)},HC=function(t,e,n){return Em(t,new wm(e),n)};function Em(t,e,n){const r=t.getPriority().val(),i=Tv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Tv(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Le(a,Ue(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Le(i))),o.forEachChild(ke,(a,l)=>{const c=Em(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Sm(t,e){let n=e instanceof de?e:new de(e),r=t,i=Q(n);for(;i!==null;){const s=ks(r.node.children,i)||{children:{},childCount:0};r=new Cm(i,r,s),n=me(n),i=Q(n)}return r}function Js(t){return t.node.value}function $C(t,e){t.node.value=e,uh(t)}function WC(t){return t.node.childCount>0}function C2(t){return Js(t)===void 0&&!WC(t)}function Iu(t,e){Ke(t.node.children,(n,r)=>{e(new Cm(n,t,r))})}function zC(t,e,n,r){n&&!r&&e(t),Iu(t,i=>{zC(i,e,!0,r)}),n&&r&&e(t)}function S2(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ua(t){return new de(t.parent===null?t.name:Ua(t.parent)+"/"+t.name)}function uh(t){t.parent!==null&&b2(t.parent,t.name,t)}function b2(t,e,n){const r=C2(n),i=Sn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,uh(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,uh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/[\[\].#$\/\u0000-\u001F\u007F]/,I2=/[\[\].#$\u0000-\u001F\u007F]/,Pd=10*1024*1024,bm=function(t){return typeof t=="string"&&t.length!==0&&!T2.test(t)},BC=function(t){return typeof t=="string"&&t.length!==0&&!I2.test(t)},N2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),BC(t)},k2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Xp(t)||t&&typeof t=="object"&&Sn(t,".sv")},VC=function(t,e,n,r){r&&e===void 0||Nu(yu(t,"value"),e,n)},Nu=function(t,e,n){const r=n instanceof de?new VD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yr(r)+" with contents = "+e.toString());if(Xp(e))throw new Error(t+"contains "+e.toString()+" "+Yr(r));if(typeof e=="string"&&e.length>Pd/3&&vu(e)>Pd)throw new Error(t+"contains a string greater than "+Pd+" utf8 bytes "+Yr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ke(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GD(r,o),Nu(t,a,r),KD(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yr(r)+" in addition to actual children.")}},P2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=pa(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!bm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(BD);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ft(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},R2=function(t,e,n,r){const i=yu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ke(e,(o,a)=>{const l=new de(o);if(Nu(i,a,Ne(n,l)),nm(l)===".priority"&&!k2(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),P2(i,s)},GC=function(t,e,n,r){if(!BC(n))throw new Error(yu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},A2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),GC(t,e,n)},KC=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},O2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!N2(n))throw new Error(yu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ku(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!rm(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function qC(t,e,n){ku(t,n),QC(t,r=>rm(r,e))}function on(t,e,n){ku(t,n),QC(t,r=>Ft(r,e)||Ft(e,r))}function QC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(D2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function D2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();jo&&Be("event: "+n.toString()),Ys(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="repo_interrupt",j2=25;class F2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new M2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ac(),this.transactionQueueTree_=new Cm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U2(t,e,n){if(t.stats_=em(t.repoInfo_),t.forceRestClient_||mD())t.server_=new Rc(t.repoInfo_,(r,i,s,o)=>{Iv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Nv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ln(t.repoInfo_,e,(r,i,s,o)=>{Iv(t,r,i,s,o)},r=>{Nv(t,r)},r=>{H2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=wD(t.repoInfo_,()=>new _L(t.stats_,t.server_)),t.infoData_=new pL,t.infoSyncTree_=new Sv({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=bu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Tm(t,"connected",!1),t.serverSyncTree_=new Sv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);on(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function YC(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pu(t){return w2({timestamp:YC(t)})}function Iv(t,e,n,r,i){t.dataUpdateCount++;const s=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=wc(n,c=>Ue(c));o=m2(t.serverSyncTree_,s,l,i)}else{const l=Ue(n);o=p2(t.serverSyncTree_,s,l,i)}else if(r){const l=wc(n,c=>Ue(c));o=d2(t.serverSyncTree_,s,l)}else{const l=Ue(n);o=bu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ls(t,s)),on(t.eventQueue_,a,o)}function Nv(t,e){Tm(t,"connected",e),e===!1&&z2(t)}function H2(t,e){Ke(e,(n,r)=>{Tm(t,n,r)})}function Tm(t,e,n){const r=new de("/.info/"+e),i=Ue(n);t.infoData_.updateSnapshot(r,i);const s=bu(t.infoSyncTree_,r,i);on(t.eventQueue_,r,s)}function Im(t){return t.nextWriteId_++}function $2(t,e,n,r,i){Ru(t,"set",{path:e.toString(),value:n,priority:r});const s=Pu(t),o=Ue(n,r),a=gm(t.serverSyncTree_,e),l=HC(o,a,s),c=Im(t),u=DC(t.serverSyncTree_,e,l,c,!0);ku(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,v)=>{const w=h==="ok";w||lt("set at "+e+" failed: "+h);const p=vr(t.serverSyncTree_,c,!w);on(t.eventQueue_,e,p),dh(t,i,h,v)});const d=km(t,e);Ls(t,d),on(t.eventQueue_,d,[])}function W2(t,e,n,r){Ru(t,"update",{path:e.toString(),value:n});let i=!0;const s=Pu(t),o={};if(Ke(n,(a,l)=>{i=!1,o[a]=UC(Ne(e,a),Ue(l),t.serverSyncTree_,s)}),i)Be("update() called with empty data.  Don't do anything."),dh(t,r,"ok",void 0);else{const a=Im(t),l=u2(t.serverSyncTree_,e,o,a);ku(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||lt("update at "+e+" failed: "+c);const h=vr(t.serverSyncTree_,a,!d),v=h.length>0?Ls(t,e):e;on(t.eventQueue_,v,h),dh(t,r,c,u)}),Ke(n,c=>{const u=km(t,Ne(e,c));Ls(t,u)}),on(t.eventQueue_,e,[])}}function z2(t){Ru(t,"onDisconnectEvents");const e=Pu(t),n=Ac();nh(t.onDisconnect_,re(),(i,s)=>{const o=UC(i,s,t.serverSyncTree_,e);EC(n,i,o)});let r=[];nh(n,re(),(i,s)=>{r=r.concat(bu(t.serverSyncTree_,i,s));const o=km(t,i);Ls(t,o)}),t.onDisconnect_=Ac(),on(t.eventQueue_,re(),r)}function B2(t,e,n){let r;Q(e._path)===".info"?r=bv(t.infoSyncTree_,e,n):r=bv(t.serverSyncTree_,e,n),qC(t.eventQueue_,e._path,r)}function kv(t,e,n){let r;Q(e._path)===".info"?r=ch(t.infoSyncTree_,e,n):r=ch(t.serverSyncTree_,e,n),qC(t.eventQueue_,e._path,r)}function V2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(L2)}function Ru(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Be(n,...e)}function dh(t,e,n,r){e&&Ys(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function XC(t,e,n){return gm(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Nm(t,e=t.transactionQueueTree_){if(e||Au(t,e),Js(e)){const n=ZC(t,e);A(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&G2(t,Ua(e),n)}else WC(e)&&Iu(e,n=>{Nm(t,n)})}function G2(t,e,n){const r=n.map(c=>c.currentWriteId),i=XC(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];A(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=mt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ru(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(vr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Au(t,Sm(t.transactionQueueTree_,e)),Nm(t,t.transactionQueueTree_),on(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Ys(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{lt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ls(t,e)}},o)}function Ls(t,e){const n=JC(t,e),r=Ua(n),i=ZC(t,n);return K2(t,i,r),r}function K2(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=mt(n,l.path);let u=!1,d;if(A(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(vr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=j2)u=!0,d="maxretry",i=i.concat(vr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=XC(t,l.path,o);l.currentInputSnapshot=h;const v=e[a].update(h.val());if(v!==void 0){Nu("transaction failed: Data returned ",v,l.path);let w=Ue(v);typeof v=="object"&&v!=null&&Sn(v,".priority")||(w=w.updatePriority(h.getPriority()));const x=l.currentWriteId,_=Pu(t),m=HC(w,h,_);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=m,l.currentWriteId=Im(t),o.splice(o.indexOf(x),1),i=i.concat(DC(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(vr(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(vr(t.serverSyncTree_,l.currentWriteId,!0))}on(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Au(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ys(r[a]);Nm(t,t.transactionQueueTree_)}function JC(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&Js(r)===void 0;)r=Sm(r,n),e=me(e),n=Q(e);return r}function ZC(t,e){const n=[];return eS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function eS(t,e,n){const r=Js(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Iu(e,i=>{eS(t,i,n)})}function Au(t,e){const n=Js(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,$C(e,n.length>0?n:void 0)}Iu(e,r=>{Au(t,r)})}function km(t,e){const n=Ua(JC(t,e)),r=Sm(t.transactionQueueTree_,e);return S2(r,i=>{Rd(t,i)}),Rd(t,r),zC(r,i=>{Rd(t,i)}),n}function Rd(t,e){const n=Js(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(A(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(A(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?$C(e,void 0):n.length=s+1,on(t.eventQueue_,Ua(e),i);for(let o=0;o<r.length;o++)Ys(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Q2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Pv=function(t,e){const n=Y2(t),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oD();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new de(n.pathString)}},Y2=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=q2(t.substring(u,d)));const h=Q2(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",X2=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Rv.charAt(n%64),n=Math.floor(n/64);A(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Rv.charAt(e[i]);return A(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class Z2{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:nm(this._path)}get ref(){return new Br(this._repo,this._path)}get _queryIdentifier(){const e=pv(this._queryParams),n=Jp(e);return n==="{}"?"default":n}get _queryObject(){return pv(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof Pm))return!1;const n=this._repo===e._repo,r=rm(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zD(this._path)}}class Br extends Pm{constructor(e,n){super(e,n,new am,!1)}get parent(){const e=pC(this._path);return e===null?null:new Br(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Hc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),r=_a(this.ref,e);return new Hc(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Hc(i,_a(this.ref,r),ke)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xt(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?_a(t._root,e):t._root}function _a(t,e){return t=ft(t),Q(t._path)===null?A2("child","path",e):GC("child","path",e),new Br(t._repo,Ne(t._path,e))}function tj(t,e){t=ft(t),KC("push",t._path),VC("push",e,t._path,!0);const n=YC(t._repo),r=X2(n),i=_a(t,r),s=_a(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function nj(t,e){t=ft(t),KC("set",t._path),VC("set",e,t._path,!1);const n=new Pa;return $2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Zn(t,e){R2("update",e,t._path);const n=new Pa;return W2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Rm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new J2("value",this,new Hc(e.snapshotNode,new Br(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Z2(this,e,n):null}matches(e){return e instanceof Rm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rj(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{kv(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new ej(n,s||void 0),a=new Rm(o);return B2(t._repo,t,a),()=>kv(t._repo,t,a)}function hl(t,e,n,r){return rj(t,"value",e,n,r)}t2(Br);a2(Br);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="FIREBASE_DATABASE_EMULATOR_HOST",fh={};let sj=!1;function oj(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Gs(s);t.repoInfo_=new sC(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function aj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Pv(s,i),a=o.repoInfo,l;typeof process<"u"&&Yy&&(l=Yy[ij]),l?(s=`http://${l}?ns=${a.namespace}`,o=Pv(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new yD(t.name,t.options,e);O2("Invalid Firebase Database URL",o),X(o.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=cj(a,t,c,new gD(t,n));return new uj(u,t)}function lj(t,e){const n=fh[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),V2(t),delete n[t.key]}function cj(t,e,n,r){let i=fh[e.name];i||(i={},fh[e.name]=i);let s=i[t.toURLString()];return s&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new F2(t,sj,n,r),i[t.toURLString()]=s,s}class uj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(U2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Br(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}}function dj(t=lE(),e){const n=Wp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=cR("database");r&&fj(n,...r)}return n}function fj(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&hi(r,s.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hl(Hl.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:uR(r.mockUserToken,t.app.options.projectId);o=new Hl(a)}Gs(e)&&(eE(e),tE("Database",!0)),oj(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){eD(qs),Ps(new pi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return aj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Pr(Xy,Jy,t),Pr(Xy,Jy,"esm2020")}Ln.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ln.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hj();const pj={apiKey:"AIzaSyCEtbJ-KR_UV9LAlYlnvgoxliRs5FkSdXk",authDomain:"kicked-in-the-disc.firebaseapp.com",databaseURL:"https://kicked-in-the-disc-default-rtdb.firebaseio.com",projectId:"kicked-in-the-disc",storageBucket:"kicked-in-the-disc.firebasestorage.app",appId:"1:987543051729:web:c258be8a9deaa79a52d4f0"},tS=aE(pj),pl=JM(tS),Et=dj(tS);function Ni(){const[t,e]=y.useState(null),[n,r]=y.useState(!0),{toast:i}=au();return y.useEffect(()=>pl.onAuthStateChanged(c=>{e(c),r(!1)}),[]),{user:t,loading:n,signUp:async(l,c,u)=>{try{const d=await DO(pl,l,c);return await FO(d.user,{displayName:u}),i({title:"Account created successfully!",description:"Welcome to Kicked in the Disc"}),d}catch(d){throw i({title:"Error creating account",description:d.message,variant:"destructive"}),d}},signIn:async(l,c)=>{try{const u=await LO(pl,l,c);return i({title:"Signed in successfully!",description:"Welcome back"}),u}catch(u){throw i({title:"Error signing in",description:u.message,variant:"destructive"}),u}},logout:async()=>{try{await $O(pl),i({title:"Signed out successfully"})}catch(l){i({title:"Error signing out",description:l.message,variant:"destructive"})}}}}const ee=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("rounded-2xl border-3 border-logo-dark bg-card text-card-foreground cartoon-shadow card-hover",t),...e}));ee.displayName="Card";const mj=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));mj.displayName="CardHeader";const gj=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("text-2xl font-bold font-logo leading-none tracking-tight text-logo-dark",t),...e}));gj.displayName="CardTitle";const yj=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));yj.displayName="CardDescription";const te=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));te.displayName="CardContent";const vj=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));vj.displayName="CardFooter";const gn=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));gn.displayName="Input";const _j=Sp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium font-logo ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"cartoon-button text-white font-semibold",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border-2 border-logo-dark",outline:"border-3 border-logo-dark bg-white hover:bg-logo-green/20 hover:text-logo-dark font-semibold cartoon-shadow",secondary:"bg-brand-secondary text-white hover:bg-brand-secondary/80 border-2 border-logo-dark font-semibold",ghost:"hover:bg-white/20 hover:text-logo-dark font-medium",link:"text-brand-primary underline-offset-4 hover:underline font-medium",cartoon:"bg-brand-accent text-logo-dark hover:bg-brand-accent/90 border-3 border-logo-dark cartoon-shadow font-bold",gradient:"bg-text-gradient text-white border-2 border-logo-dark cartoon-shadow font-bold"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-lg px-4",lg:"h-14 rounded-xl px-10 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),se=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?FI:"button";return f.jsx(o,{className:xe(_j({variant:e,size:n,className:t})),ref:s,...i})});se.displayName="Button";var wj="Label",nS=y.forwardRef((t,e)=>f.jsx(fe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nS.displayName=wj;var rS=nS;const xj=Sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_r=y.forwardRef(({className:t,...e},n)=>f.jsx(rS,{ref:n,className:xe(xj(),t),...e}));_r.displayName=rS.displayName;function Ej(){const[t,e]=y.useState(!0),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(""),{signIn:u,signUp:d}=Ni(),h=async v=>{if(v.preventDefault(),t)await u(n,i);else{if(i!==l)return;await d(n,i,o)}};return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-6 floating-animation",children:"🥏"}),f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t?"Welcome Back":"Create Account"}),f.jsx("p",{className:"text-white/80 mb-8",children:t?"Sign in to track your disc golf games":"Join the disc golf community"}),f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{className:"text-left",children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),f.jsx(gn,{type:"email",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter your email",required:!0})]}),!t&&f.jsxs("div",{className:"text-left",children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Display Name"}),f.jsx(gn,{type:"text",value:o,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Choose a display name",required:!0})]}),f.jsxs("div",{className:"text-left",children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),f.jsx(gn,{type:"password",value:i,onChange:v=>s(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:t?"Enter your password":"Minimum 6 characters",required:!0,minLength:6})]}),!t&&f.jsxs("div",{className:"text-left",children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),f.jsx(gn,{type:"password",value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Confirm your password",required:!0})]}),f.jsx(se,{type:"submit",className:"w-full bg-white text-brand-primary font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:t?"Sign In":"Create Account"}),f.jsx(se,{type:"button",onClick:()=>e(!t),className:"w-full bg-transparent border border-white/30 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors",children:t?"Create Account":"Back to Sign In"})]})]})})})}function ml({title:t,description:e,icon:n,onClick:r,disabled:i,className:s}){return f.jsx(ee,{className:xe("p-6 card-hover cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95",i&&"opacity-50 cursor-not-allowed hover:scale-100",s),onClick:i?void 0:r,children:f.jsxs(te,{className:"p-0 text-center",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-brand-primary/20 rounded-2xl flex items-center justify-center cartoon-shadow border-2 border-logo-dark",children:n}),f.jsx("h3",{className:"font-logo font-bold text-lg mb-2 text-logo-dark",children:t}),f.jsx("p",{className:"text-muted-foreground font-medium",children:e})]})})}const Cj=[{id:"stranger",name:"The Stranger",category:"Before Throw",description:"Make an opponent throw their next throw with their offhand.",copies:4,effect:"force_offhand"},{id:"shrink_ray",name:"Shrink Ray",category:"Before Throw",description:"Make an opponent throw a mini on their next throw.",copies:4,effect:"force_mini"},{id:"because_i_said_so",name:"Because I Said So",category:"Before Throw",description:"Make a mando all other players must make. (mando must be on current hole)",copies:4,effect:"force_mando"},{id:"im_you_silly",name:"I'm You Silly",category:"Before Throw",description:"Take an opponent's throw for them.",copies:4,effect:"take_throw"},{id:"is_that_what_youre_throwing",name:"Is That What You're Throwing",category:"Before Throw",description:"Make an opponent throw a disc of your choosing from yours or their bag.",copies:4,effect:"force_disc_choice"},{id:"gremlins",name:"Gremlins",category:"After Throw",description:"Move an opponent's disc 10 paces in any direction.",copies:4,effect:"move_opponent_disc"},{id:"thats_my_disc",name:"That's My Disc",category:"After Throw",description:"Swap lies with an opponent.",copies:4,effect:"swap_lies"},{id:"merely_a_flesh_wound",name:"Merely a Flesh Wound",category:"After Throw",description:"Make all opponents throw from their knees (both knees must be touching the ground).",copies:4,effect:"force_knees"},{id:"thats_not_fair",name:"That's Not Fair",category:"After Throw",description:"Make an opponent rethrow last throw and take worst lie.",copies:4,effect:"force_rethrow_worst"},{id:"instant_replay",name:"Instant Replay",category:"After Throw",description:"Make all opponents rethrow last throw and take the worst lie.",copies:4,effect:"force_all_rethrow_worst"},{id:"im_rubber_you_glue",name:"I'm Rubber You Glue",category:"Self",description:"Reflects a card played on you back at the person who played it.",copies:4,effect:"reflect_card"},{id:"i_reject_your_reality",name:"I Reject Your Reality",category:"Self",description:"Redirects a card played on you to another opponent.",copies:4,effect:"redirect_card"},{id:"it_was_here_i_swear",name:"It Was Here I Swear",category:"Self",description:"Move your disc 10 paces in any direction.",copies:4,effect:"move_own_disc"},{id:"mulligan",name:"Mulligan",category:"Self",description:"Rethrow last throw and take best lie.",copies:4,effect:"rethrow_best"},{id:"seeing_double",name:"Seeing Double",category:"Self",description:"Putt twice take the best lie.",copies:4,effect:"double_putt_best"},{id:"jealousy",name:"Jealousy",category:"Wild",description:"Change scorecards with an opponent of your choosing. If reflected back, trade with last place or +3 if you're last.",copies:1,effect:"swap_scorecards"},{id:"i_need_some_space",name:"I Need Some Space",category:"Wild",description:"Move your disc 10 paces closer to the basket and all other players must move theirs 10 further away.",copies:1,effect:"move_closer_others_further"},{id:"hear_it_ring",name:"Hear It Ring",category:"Wild",description:"If your disc hits metal it counts as in the basket.",copies:1,effect:"metal_counts_in"},{id:"whats_par_again",name:"What's Par Again",category:"Wild",description:"Add +1 to par for you and -1 to par for all opponents on this hole.",copies:1,effect:"adjust_par"},{id:"ace_run",name:"Ace Run",category:"Wild",description:"Next throw counts as an ace.",copies:1,effect:"next_throw_ace"}];function ki(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),{user:i}=Ni(),{toast:s}=au();y.useEffect(()=>{if(i){const g=xt(Et,`users/${i.uid}`);return hl(g,C=>{const b=C.val();r((b==null?void 0:b.hasHostingPrivilege)||!1)})}},[i]);const o=()=>Math.random().toString(36).substring(2,8).toUpperCase(),a=()=>{const g=[];Cj.forEach(E=>{for(let C=0;C<E.copies;C++)g.push({...E,id:`${E.id}_${C}`})});for(let E=g.length-1;E>0;E--){const C=Math.floor(Math.random()*(E+1));[g[E],g[C]]=[g[C],g[E]]}return g},l=(g,E)=>{const C={...g},b=[...E];return Object.keys(C).forEach(S=>{const T=[];for(let k=0;k<5;k++)b.length>0&&T.push(b.pop());C[S].hand=T}),{players:C,remainingDeck:b}};return{currentGame:t,hasHostingPrivilege:n,createGame:async(g,E)=>{if(!i||!n){s({title:"Cannot create game",description:"You need hosting privileges to create a game",variant:"destructive"});return}try{const C=o(),b=tj(xt(Et,"games")),S={id:i.uid,name:i.displayName||i.email,isHost:!0,isReady:!0,scores:[],totalScore:0,hand:[]},T={id:b.key,gameCode:C,hostId:i.uid,courseName:E,totalHoles:g,currentHole:1,currentPar:3,pars:Array.from({length:g},()=>3),gamePhase:"lobby",players:{[i.uid]:S},gameActivity:[`${i.displayName||i.email} created the game`],deck:[],discardPile:[],gameRound:"before_throw"};return await nj(b,T),s({title:"Game created!",description:`Game code: ${C}`}),C}catch(C){s({title:"Error creating game",description:C.message,variant:"destructive"})}},joinGame:async g=>{if(i)try{const E=xt(Et,"games");hl(E,C=>{const b=C.val(),S=Object.entries(b||{}).find(([,j])=>j.gameCode===g.toUpperCase());if(!S){s({title:"Game not found",description:"Please check the game code and try again",variant:"destructive"});return}const[T,k]=S;if(Object.keys(k.players).length>=6){s({title:"Game is full",description:"This game already has 6 players",variant:"destructive"});return}const P={id:i.uid,name:i.displayName||i.email,isHost:!1,isReady:!1,scores:[],totalScore:0,hand:[]},L={[`games/${T}/players/${i.uid}`]:P,[`games/${T}/gameActivity`]:[...k.gameActivity||[],`${i.displayName||i.email} joined the game`]};Zn(xt(Et),L),s({title:"Joined game!",description:`Welcome to ${k.courseName||"the game"}`})},{onlyOnce:!0})}catch(E){s({title:"Error joining game",description:E.message,variant:"destructive"})}},listenToGame:g=>{const E=xt(Et,`games/${g}`);return hl(E,C=>{const b=C.val();b&&e(S=>({...b,id:g}))})},findGameByCode:async g=>{if(i)try{const E=xt(Et,"games");return new Promise((C,b)=>{hl(E,S=>{const T=S.val(),k=Object.entries(T||{}).find(([,P])=>P.gameCode===g.toUpperCase());if(k){const[P,L]=k;e({...L,id:P}),C(L)}else b(new Error("Game not found"))},{onlyOnce:!0})})}catch(E){throw s({title:"Error finding game",description:E.message,variant:"destructive"}),E}},startGame:async g=>{if(!(!i||!t))try{const E=a(),{players:C,remainingDeck:b}=l(t.players,E),S=xt(Et,`games/${g}`);await Zn(S,{gamePhase:"playing",players:C,deck:b,currentPlayerTurn:null,gameRound:"scoring",gameActivity:[...t.gameActivity||[],`${i.displayName||i.email} started the game`,"Cards have been dealt to all players!"]}),s({title:"Game started!",description:"Cards have been dealt to all players"})}catch(E){s({title:"Error starting game",description:E.message,variant:"destructive"})}},playCard:async(g,E,C)=>{var b;if(!(!i||!t))try{const S=t.players[i.uid];if(!S){s({title:"Error",description:"Player not found in game",variant:"destructive"});return}const T=S.hand.findIndex(B=>B.id===E);if(T===-1){s({title:"Error",description:"Card not found in hand",variant:"destructive"});return}const k=S.hand[T],P=[...S.hand];P.splice(T,1);const L=[...t.discardPile||[],k],j={[`games/${g}/players/${i.uid}/hand`]:P,[`games/${g}/discardPile`]:L,[`games/${g}/gameActivity`]:[...t.gameActivity||[],`${i.displayName||i.email} played ${k.name}`+(C?` on ${((b=t.players[C])==null?void 0:b.name)||"a player"}`:"")]};await Zn(xt(Et),j),s({title:"Card played!",description:`${k.name} has been played`})}catch(S){s({title:"Error playing card",description:S.message,variant:"destructive"})}},submitScore:async(g,E,C)=>{if(!(!i||!t))try{const b=t.players[i.uid];if(!b){s({title:"Error",description:"Player not found in game",variant:"destructive"});return}const S=[...b.scores||[]];S[E]=C;const T=S.reduce((P,L)=>P+(L||0),0),k={[`games/${g}/players/${i.uid}/scores`]:S,[`games/${g}/players/${i.uid}/totalScore`]:T};await Zn(xt(Et),k),s({title:"Score submitted!",description:`Hole ${E+1}: ${C} strokes`})}catch(b){s({title:"Error submitting score",description:b.message,variant:"destructive"})}},setParForHole:async(g,E)=>{if(!i||!t||i.uid!==t.hostId)return;const C=[...t.pars||Array.from({length:t.totalHoles},()=>3)];C[t.currentHole-1]=E,await Zn(xt(Et,`games/${g}`),{currentPar:E,pars:C,gameActivity:[...t.gameActivity||[],`Par set to ${E} for hole ${t.currentHole}`]})},advanceToNextHole:async g=>{var b,S;if(!i||!t)return;const E=t.currentHole+1;if(E>t.totalHoles){await Zn(xt(Et,`games/${g}`),{gamePhase:"finished",gameActivity:[...t.gameActivity||[],"Game finished!"]}),s({title:"Round complete!",description:"Game has been finished."});return}let C={[`games/${g}/currentHole`]:E,[`games/${g}/currentPar`]:((b=t.pars)==null?void 0:b[E-1])??3,[`games/${g}/gameActivity`]:[...t.gameActivity||[],`Advanced to hole ${E}`]};if((E-1)%3===0){const k=Object.values(t.players).sort((P,L)=>(L.totalScore||0)-(P.totalScore||0))[0];if(k){const P=[...t.deck||[]],L=P.pop();if(L){const j=[...((S=t.players[k.id])==null?void 0:S.hand)||[]];j.push(L),C={...C,[`games/${g}/deck`]:P,[`games/${g}/players/${k.id}/hand`]:j,[`games/${g}/gameActivity`]:[...C[`games/${g}/gameActivity`]||[],`${k.name} received a bonus card for being in last place`]}}}}await Zn(xt(Et),C)},purchaseHosting:async()=>{if(i)try{const g=xt(Et,`users/${i.uid}`);await Zn(g,{hasHostingPrivilege:!0}),s({title:"Purchase successful!",description:"You can now host games"})}catch(g){s({title:"Purchase failed",description:g.message,variant:"destructive"})}}}}function Sj(){var r;const{user:t,logout:e}=Ni(),{hasHostingPrivilege:n}=ki();return f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"glass-card p-4 m-4 rounded-2xl",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"text-4xl floating-animation",children:"🥏"}),f.jsx("h1",{className:"text-2xl font-logo font-bold text-gradient text-outline",children:"KICKED IN THE DISC"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-white/80 text-sm",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),f.jsx(se,{onClick:e,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",size:"sm",children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:f.jsx(te,{className:"p-0",children:f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["Welcome, ",((r=t==null?void 0:t.displayName)==null?void 0:r.split(" ")[0])||"Player","!"]}),f.jsx("p",{className:"text-white/70",children:"Ready to play some disc golf?"})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx("span",{className:"text-white/70 text-sm",children:"Hosting Privilege:"}),f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:n?"✅ Purchased":"❌ Not Purchased"})]})})]})})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(Al,{href:"/host",children:f.jsx(ml,{title:"Host Game",description:"Create a new game for up to 6 players",disabled:!n,icon:f.jsx(jN,{className:"w-8 h-8 text-brand-accent"}),className:n?"":"opacity-50"})}),f.jsx(Al,{href:"/join",children:f.jsx(ml,{title:"Join Game",description:"Enter a game code to join an existing game",icon:f.jsx(WN,{className:"w-8 h-8 text-blue-400"})})}),f.jsx(Al,{href:"/store",children:f.jsx(ml,{title:"Store",description:"Purchase hosting privileges and upgrades",icon:f.jsx(HN,{className:"w-8 h-8 text-purple-400"})})}),f.jsx(ml,{title:"Statistics",description:"View your game history and performance",icon:f.jsx(NN,{className:"w-8 h-8 text-green-400"})})]}),f.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Games"}),f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-white/70",children:"No recent games found"}),f.jsx("p",{className:"text-white/50 text-sm mt-2",children:"Join or host a game to get started!"})]})]})})]})]})}function bj(){const{hasHostingPrivilege:t,purchaseHosting:e}=ki();return f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Store"}),f.jsx("p",{className:"text-white/70",children:"Enhance your disc golf experience"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-brand-accent/20 rounded-3xl flex items-center justify-center",children:f.jsx(UN,{className:"w-10 h-10 text-brand-accent"})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Hosting Privilege"}),f.jsx("p",{className:"text-white/70 mb-4",children:"Unlock the ability to host games for up to 6 players with custom hole counts"}),f.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$9.99"}),f.jsx(se,{onClick:e,disabled:t,className:`w-full font-semibold py-3 rounded-xl transition-colors ${t?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-brand-accent text-white hover:bg-brand-accent/90"}`,children:t?"Purchased ✅":"Purchase Now"}),f.jsx("div",{className:"mt-4 text-sm text-white/60",children:"One-time purchase • Lifetime access"})]})}),f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-3xl flex items-center justify-center",children:f.jsx($N,{className:"w-10 h-10 text-purple-400"})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Premium Features"}),f.jsx("p",{className:"text-white/70 mb-4",children:"Advanced statistics, custom scoring rules, and exclusive themes"}),f.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$4.99"}),f.jsx(se,{disabled:!0,className:"w-full bg-purple-500/20 text-purple-300 font-semibold py-3 rounded-xl opacity-50 cursor-not-allowed",children:"Coming Soon"}),f.jsx("div",{className:"mt-4 text-sm text-white/60",children:"Monthly subscription"})]})})]}),f.jsx("div",{className:"text-center",children:f.jsx(Al,{href:"/",children:f.jsx(se,{className:"bg-white/10 text-white px-8 py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})})})]})}function Tj(){const[t,e]=y.useState(18),[n,r]=y.useState(""),{createGame:i}=ki(),[,s]=$s(),o=async()=>{const l=await i(t,n||void 0);l&&s(`/lobby/${l}`)},a=[9,18,24];return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Host New Game"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-3",children:"Number of Holes"}),f.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:a.map(l=>f.jsxs(se,{onClick:()=>e(l),className:`p-4 rounded-xl font-semibold transition-colors border ${t===l?"bg-white/20 border-white/40 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[l," Holes"]},l))}),f.jsxs("div",{className:"mt-3",children:[f.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:l=>e(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),f.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-1",children:[f.jsx("span",{children:"1"}),f.jsxs("span",{children:["Custom: ",t," holes"]}),f.jsx("span",{children:"24"})]})]})]}),f.jsxs("div",{children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Mode"}),f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"p-4 bg-white/20 rounded-xl border-2 border-white/40 cursor-pointer",children:[f.jsx("div",{className:"text-white font-semibold",children:"Standard Stroke Play"}),f.jsx("div",{className:"text-white/70 text-sm",children:"Traditional scoring - lowest score wins"})]})})]}),f.jsxs("div",{children:[f.jsx(_r,{className:"block text-white/80 text-sm font-medium mb-3",children:"Course Information (Optional)"}),f.jsx(gn,{type:"text",value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter course name"})]})]}),f.jsxs("div",{className:"flex space-x-4 mt-8",children:[f.jsx(se,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Create Game"}),f.jsx(se,{onClick:()=>s("/"),className:"px-8 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})}function Ij(){const[t,e]=y.useState(""),{joinGame:n}=ki(),[,r]=$s(),i=async()=>{t.length===6&&(await n(t),r(`/lobby/${t.toUpperCase()}`))};return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-500/20 rounded-3xl flex items-center justify-center",children:f.jsx(MN,{className:"w-10 h-10 text-blue-400"})}),f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Game"}),f.jsx("p",{className:"text-white/70 mb-8",children:"Enter the game code provided by the host"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx(gn,{type:"text",value:t,onChange:s=>e(s.target.value.toUpperCase()),className:"w-full px-4 py-4 text-center text-2xl font-mono rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40 uppercase tracking-wider",placeholder:"ABC123",maxLength:6}),f.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Game codes are 6 characters long"})]}),f.jsx(se,{onClick:i,disabled:t.length!==6,className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50",children:"Join Game"}),f.jsx(se,{onClick:()=>r("/"),className:"w-full bg-white/10 text-white font-semibold py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})]})]})})})}function Am({player:t,position:e,showScore:n}){var o;const r=(a,l=0)=>a<l?"text-green-400":a===l?"text-white":"text-red-400",i=a=>a===1?"bg-yellow-500":a===2?"bg-gray-400":a===3?"bg-orange-600":"bg-white/20",s=(t.scores||[]).reduce((a,l)=>a+(l||0),0);return f.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all duration-200 ${t.isHost?"bg-brand-gradient":"bg-white/5"}`,children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[e&&f.jsx("div",{className:`w-8 h-8 ${i(e)} rounded-full flex items-center justify-center`,children:f.jsx("span",{className:"text-white font-bold text-sm",children:e})}),f.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-semibold",children:t.name.charAt(0).toUpperCase()}),f.jsxs("div",{children:[f.jsx("div",{className:"text-white font-semibold flex items-center",children:t.name}),f.jsxs("div",{className:"text-white/70 text-sm",children:[t.isHost?"👑 Host":"Player",!n&&(t.isReady?" • Ready ✓":" • Waiting..."),n&&` • ${((o=t.hand)==null?void 0:o.length)||0} cards`]})]})]}),n&&f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:`text-2xl font-bold ${r(t.totalScore)}`,children:[t.totalScore>0?"+":"",t.totalScore]}),f.jsxs("div",{className:"text-white/70 text-sm",children:[s," strokes"]})]})]})}function Nj(){const[t,e]=gp("/lobby/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:i,startGame:s,setParForHole:o}=ki(),{user:a}=Ni(),[,l]=$s(),{toast:c}=au(),[u,d]=y.useState(!1),[h,v]=y.useState(!0),[w,p]=y.useState("");y.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(v(!0),i(e.gameCode).then(()=>{v(!1)}).catch(T=>{console.error("Error finding game:",T),v(!1),c({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),l("/")}))},[t,e==null?void 0:e.gameCode,n,i,l,c]),y.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),y.useEffect(()=>{n&&p(n.currentPar??"")},[n==null?void 0:n.currentPar]),y.useEffect(()=>{(n==null?void 0:n.gamePhase)==="playing"&&(c({title:"Game starting!",description:"Redirecting to game..."}),l(`/game/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,l,c]);const x=async()=>{if(n!=null&&n.gameCode)try{await navigator.clipboard.writeText(n.gameCode),d(!0),c({title:"Game code copied!",description:"Share this code with your friends to join the game."}),setTimeout(()=>d(!1),2e3)}catch{c({title:"Failed to copy",description:"Please copy the game code manually.",variant:"destructive"})}},_=async()=>{if(n!=null&&n.gameCode){const T=`${window.location.origin}/join`,k=`Join my disc golf game! 🥏

Game Code: ${n.gameCode}

Sign up and join here: ${T}`;if(navigator.share)try{await navigator.share({title:"Join my Disc Golf Game",text:k,url:T})}catch{}else try{await navigator.clipboard.writeText(k),c({title:"Game link copied!",description:"Share this message with your friends to invite them."})}catch{c({title:"Failed to copy",description:"Please share the game code manually.",variant:"destructive"})}}},m=()=>{if(n!=null&&n.gameCode){const T=`${window.location.origin}/join`,k=`Join my disc golf game! 🥏

Game Code: ${n.gameCode}

Sign up and join here: ${T}`,P=`sms:?body=${encodeURIComponent(k)}`;window.open(P,"_blank")}};if(h)return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🔍"}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Looking for game..."}),f.jsx("p",{className:"text-white/70",children:"Please wait while we find your game"})]})})});if(!n||!a)return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4",children:"❌"}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),f.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),f.jsx(se,{onClick:()=>l("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const g=n.hostId===a.uid,E=Object.values(n.players),C=async()=>{n!=null&&n.id&&(await s(n.id),l(`/game/${n.gameCode}`))},b=async()=>{!(n!=null&&n.id)||w===""||(await o(n.id,Number(w)),c({title:"Par set",description:`Par set to ${w} for hole 1`}))},S=()=>{l("/")};return f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:n.courseName||"Disc Golf Game"}),f.jsxs("p",{className:"text-white/70",children:[n.totalHoles," holes • Standard Stroke Play"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-3xl font-mono font-bold text-brand-accent",children:n.gameCode}),f.jsx("div",{className:"text-white/70 text-sm",children:"Game Code"})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"text-white/70 text-sm",children:["Players: ",f.jsx("span",{className:"text-white font-semibold",children:E.length}),"/6"]}),f.jsxs("div",{className:"text-white/70 text-sm",children:["Status: ",f.jsx("span",{className:"text-yellow-400 font-semibold",children:"Waiting for players"})]})]})]})}),f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Share Game Code"}),f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx("div",{className:"flex-1 bg-white/10 rounded-xl p-4 border border-white/20",children:f.jsx("div",{className:"text-2xl font-mono font-bold text-brand-accent text-center",children:n.gameCode})}),f.jsx(se,{onClick:x,className:`px-4 py-4 rounded-xl transition-colors ${u?"bg-green-500/20 text-green-300 border-green-400/40":"bg-white/10 text-white hover:bg-white/20 border-white/20"}`,children:u?f.jsx(ix,{className:"w-5 h-5"}):f.jsx(RN,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsxs(se,{onClick:_,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-xl hover:bg-brand-primary/90 transition-colors",children:[f.jsx(FN,{className:"w-4 h-4 mr-2"}),"Share Link"]}),f.jsxs(se,{onClick:m,className:"flex-1 bg-brand-secondary text-white font-semibold py-3 rounded-xl hover:bg-brand-secondary/90 transition-colors",children:[f.jsx(DN,{className:"w-4 h-4 mr-2"}),"Send Text"]})]})]})}),f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),f.jsx("div",{className:"space-y-3",children:E.map(T=>f.jsx(Am,{player:T},T.id))})]})}),g&&f.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Host Controls"}),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-white/80 text-sm mb-1",children:"Par for hole 1"}),f.jsx(gn,{type:"number",min:1,value:w,onChange:T=>p(T.target.value===""?"":Number(T.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Par"})]}),f.jsx(se,{onClick:b,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"}),f.jsx(se,{onClick:C,disabled:E.length<1,className:"flex-1 bg-brand-accent text-white font-semibold py-3 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}),f.jsx(se,{onClick:S,className:"px-8 bg-red-500/20 text-red-300 font-semibold py-3 rounded-xl hover:bg-red-500/30 transition-colors",children:"Cancel Game"})]})]})}),!g&&f.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:f.jsx(te,{className:"p-0 text-center",children:f.jsx(se,{onClick:S,className:"bg-red-500/20 text-red-300 font-semibold py-3 px-8 rounded-xl hover:bg-red-500/30 transition-colors",children:"Leave Game"})})})]})}function Av(t,[e,n]){return Math.min(n,Math.max(e,t))}var kj=y.createContext(void 0);function Pj(t){const e=y.useContext(kj);return t||e||"ltr"}var Ad=0;function Rj(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ov()),document.body.insertAdjacentElement("beforeend",t[1]??Ov()),Ad++,()=>{Ad===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ad--}},[])}function Ov(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Od="focusScope.autoFocusOnMount",Md="focusScope.autoFocusOnUnmount",Mv={bubbles:!1,cancelable:!0},Aj="FocusScope",iS=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),c=Pt(i),u=Pt(s),d=y.useRef(null),h=Pe(e,p=>l(p)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let p=function(g){if(v.paused||!a)return;const E=g.target;a.contains(E)?d.current=E:nr(d.current,{select:!0})},x=function(g){if(v.paused||!a)return;const E=g.relatedTarget;E!==null&&(a.contains(E)||nr(d.current,{select:!0}))},_=function(g){if(document.activeElement===document.body)for(const C of g)C.removedNodes.length>0&&nr(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const m=new MutationObserver(_);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),m.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){Lv.add(v);const p=document.activeElement;if(!a.contains(p)){const _=new CustomEvent(Od,Mv);a.addEventListener(Od,c),a.dispatchEvent(_),_.defaultPrevented||(Oj(Fj(sS(a)),{select:!0}),document.activeElement===p&&nr(a))}return()=>{a.removeEventListener(Od,c),setTimeout(()=>{const _=new CustomEvent(Md,Mv);a.addEventListener(Md,u),a.dispatchEvent(_),_.defaultPrevented||nr(p??document.body,{select:!0}),a.removeEventListener(Md,u),Lv.remove(v)},0)}}},[a,c,u,v]);const w=y.useCallback(p=>{if(!n&&!r||v.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,_=document.activeElement;if(x&&_){const m=p.currentTarget,[g,E]=Mj(m);g&&E?!p.shiftKey&&_===E?(p.preventDefault(),n&&nr(g,{select:!0})):p.shiftKey&&_===g&&(p.preventDefault(),n&&nr(E,{select:!0})):_===m&&p.preventDefault()}},[n,r,v.paused]);return f.jsx(fe.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});iS.displayName=Aj;function Oj(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(nr(r,{select:e}),document.activeElement!==n)return}function Mj(t){const e=sS(t),n=Dv(e,t),r=Dv(e.reverse(),t);return[n,r]}function sS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dv(t,e){for(const n of t)if(!Dj(n,{upTo:e}))return n}function Dj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lj(t){return t instanceof HTMLInputElement&&"select"in t}function nr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Lj(t)&&e&&t.select()}}var Lv=jj();function jj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=jv(t,e),t.unshift(e)},remove(e){var n;t=jv(t,e),(n=t[0])==null||n.resume()}}}function jv(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Fj(t){return t.filter(e=>e.tagName!=="A")}function Uj(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Hj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ai=new WeakMap,gl=new WeakMap,yl={},Dd=0,oS=function(t){return t&&(t.host||oS(t.parentNode))},$j=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=oS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Wj=function(t,e,n,r){var i=$j(e,Array.isArray(t)?t:[t]);yl[n]||(yl[n]=new WeakMap);var s=yl[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var v=h.getAttribute(r),w=v!==null&&v!=="false",p=(Ai.get(h)||0)+1,x=(s.get(h)||0)+1;Ai.set(h,p),s.set(h,x),o.push(h),p===1&&w&&gl.set(h,!0),x===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return u(e),a.clear(),Dd++,function(){o.forEach(function(d){var h=Ai.get(d)-1,v=s.get(d)-1;Ai.set(d,h),s.set(d,v),h||(gl.has(d)||d.removeAttribute(r),gl.delete(d)),v||d.removeAttribute(n)}),Dd--,Dd||(Ai=new WeakMap,Ai=new WeakMap,gl=new WeakMap,yl={})}},zj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Hj(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Wj(r,i,n,"aria-hidden")):function(){return null}},mn=function(){return mn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mn.apply(this,arguments)};function aS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bj(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var $l="right-scroll-bar-position",Wl="width-before-scroll-bar",Vj="with-scroll-bars-hidden",Gj="--removed-body-scroll-bar-size";function Ld(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Kj(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var qj=typeof window<"u"?y.useLayoutEffect:y.useEffect,Fv=new WeakMap;function Qj(t,e){var n=Kj(null,function(r){return t.forEach(function(i){return Ld(i,r)})});return qj(function(){var r=Fv.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Ld(a,null)}),s.forEach(function(a){i.has(a)||Ld(a,o)})}Fv.set(n,t)},[t]),n}function Yj(t){return t}function Xj(t,e){e===void 0&&(e=Yj);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Jj(t){t===void 0&&(t={});var e=Xj(null);return e.options=mn({async:!0,ssr:!1},t),e}var lS=function(t){var e=t.sideCar,n=aS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,mn({},n))};lS.isSideCarExport=!0;function Zj(t,e){return t.useMedium(e),lS}var cS=Jj(),jd=function(){},Ou=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:jd,onWheelCapture:jd,onTouchMoveCapture:jd}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,v=t.noIsolation,w=t.inert,p=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,m=t.gapMode,g=aS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=Qj([n,e]),b=mn(mn({},g),i);return y.createElement(y.Fragment,null,u&&y.createElement(E,{sideCar:cS,removeScrollBar:c,shards:d,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!p,lockRef:n,gapMode:m}),o?y.cloneElement(y.Children.only(a),mn(mn({},b),{ref:C})):y.createElement(_,mn({},b,{className:l,ref:C}),a))});Ou.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ou.classNames={fullWidth:Wl,zeroRight:$l};var eF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eF();return e&&t.setAttribute("nonce",e),t}function nF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tF())&&(nF(e,n),rF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sF=function(){var t=iF();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uS=function(){var t=sF(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},oF={left:0,top:0,right:0,gap:0},Fd=function(t){return parseInt(t||"",10)||0},aF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Fd(n),Fd(r),Fd(i)]},lF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oF;var e=aF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cF=uS(),cs="data-scroll-locked",uF=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Vj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(cs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($l,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($l," .").concat($l,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wl," .").concat(Wl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cs,`] {
    `).concat(Gj,": ").concat(a,`px;
  }
`)},Uv=function(){var t=parseInt(document.body.getAttribute(cs)||"0",10);return isFinite(t)?t:0},dF=function(){y.useEffect(function(){return document.body.setAttribute(cs,(Uv()+1).toString()),function(){var t=Uv()-1;t<=0?document.body.removeAttribute(cs):document.body.setAttribute(cs,t.toString())}},[])},fF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;dF();var s=y.useMemo(function(){return lF(i)},[i]);return y.createElement(cF,{styles:uF(s,!e,i,n?"":"!important")})},hh=!1;if(typeof window<"u")try{var vl=Object.defineProperty({},"passive",{get:function(){return hh=!0,!0}});window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{hh=!1}var Oi=hh?{passive:!1}:!1,hF=function(t){return t.tagName==="TEXTAREA"},dS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hF(t)&&n[e]==="visible")},pF=function(t){return dS(t,"overflowY")},mF=function(t){return dS(t,"overflowX")},Hv=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=fS(t,r);if(i){var s=hS(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},fS=function(t,e){return t==="v"?pF(e):mF(e)},hS=function(t,e){return t==="v"?gF(e):yF(e)},vF=function(t,e){return t==="h"&&e==="rtl"?-1:1},_F=function(t,e,n,r,i){var s=vF(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var v=hS(t,a),w=v[0],p=v[1],x=v[2],_=p-x-s*w;(w||_)&&fS(t,a)&&(d+=_,h+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},_l=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$v=function(t){return[t.deltaX,t.deltaY]},Wv=function(t){return t&&"current"in t?t.current:t},wF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EF=0,Mi=[];function CF(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(EF++)[0],s=y.useState(uS)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var p=Bj([t.lockRef.current],(t.shards||[]).map(Wv),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var _=_l(p),m=n.current,g="deltaX"in p?p.deltaX:m[0]-_[0],E="deltaY"in p?p.deltaY:m[1]-_[1],C,b=p.target,S=Math.abs(g)>Math.abs(E)?"h":"v";if("touches"in p&&S==="h"&&b.type==="range")return!1;var T=Hv(S,b);if(!T)return!0;if(T?C=S:(C=S==="v"?"h":"v",T=Hv(S,b)),!T)return!1;if(!r.current&&"changedTouches"in p&&(g||E)&&(r.current=C),!C)return!0;var k=r.current||C;return _F(k,x,p,k==="h"?g:E,!0)},[]),l=y.useCallback(function(p){var x=p;if(!(!Mi.length||Mi[Mi.length-1]!==s)){var _="deltaY"in x?$v(x):_l(x),m=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&wF(C.delta,_)})[0];if(m&&m.should){x.cancelable&&x.preventDefault();return}if(!m){var g=(o.current.shards||[]).map(Wv).filter(Boolean).filter(function(C){return C.contains(x.target)}),E=g.length>0?a(x,g[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(p,x,_,m){var g={name:p,delta:x,target:_,should:m,shadowParent:SF(_)};e.current.push(g),setTimeout(function(){e.current=e.current.filter(function(E){return E!==g})},1)},[]),u=y.useCallback(function(p){n.current=_l(p),r.current=void 0},[]),d=y.useCallback(function(p){c(p.type,$v(p),p.target,a(p,t.lockRef.current))},[]),h=y.useCallback(function(p){c(p.type,_l(p),p.target,a(p,t.lockRef.current))},[]);y.useEffect(function(){return Mi.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Oi),document.addEventListener("touchmove",l,Oi),document.addEventListener("touchstart",u,Oi),function(){Mi=Mi.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Oi),document.removeEventListener("touchmove",l,Oi),document.removeEventListener("touchstart",u,Oi)}},[]);var v=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(s,{styles:xF(i)}):null,v?y.createElement(fF,{gapMode:t.gapMode}):null)}function SF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bF=Zj(cS,CF);var pS=y.forwardRef(function(t,e){return y.createElement(Ou,mn({},t,{ref:e,sideCar:bF}))});pS.classNames=Ou.classNames;var TF=[" ","Enter","ArrowUp","ArrowDown"],IF=[" ","Enter"],Ha="Select",[Mu,Du,NF]=R0(Ha),[Zs,h4]=Ia(Ha,[NF,pu]),Lu=pu(),[kF,Vr]=Zs(Ha),[PF,RF]=Zs(Ha),mS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:v,form:w}=t,p=Lu(e),[x,_]=y.useState(null),[m,g]=y.useState(null),[E,C]=y.useState(!1),b=Pj(c),[S=!1,T]=Mf({prop:r,defaultProp:i,onChange:s}),[k,P]=Mf({prop:o,defaultProp:a,onChange:l}),L=y.useRef(null),j=x?w||!!x.closest("form"):!0,[B,D]=y.useState(new Set),V=Array.from(B).map(H=>H.props.value).join(";");return f.jsx(MP,{...p,children:f.jsxs(kF,{required:v,scope:e,trigger:x,onTriggerChange:_,valueNode:m,onValueNodeChange:g,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Tp(),value:k,onValueChange:P,open:S,onOpenChange:T,dir:b,triggerPointerDownPosRef:L,disabled:h,children:[f.jsx(Mu.Provider,{scope:e,children:f.jsx(PF,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(H=>{D(M=>new Set(M).add(H))},[]),onNativeOptionRemove:y.useCallback(H=>{D(M=>{const I=new Set(M);return I.delete(H),I})},[]),children:n})}),j?f.jsxs(HS,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:H=>P(H.target.value),disabled:h,form:w,children:[k===void 0?f.jsx("option",{value:""}):null,Array.from(B)]},V):null]})})};mS.displayName=Ha;var gS="SelectTrigger",yS=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Lu(n),o=Vr(gS,n),a=o.disabled||r,l=Pe(e,o.onTriggerChange),c=Du(n),u=y.useRef("touch"),[d,h,v]=$S(p=>{const x=c().filter(g=>!g.disabled),_=x.find(g=>g.value===o.value),m=WS(x,p,_);m!==void 0&&o.onValueChange(m.value)}),w=p=>{a||(o.onOpenChange(!0),v()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return f.jsx(Lx,{asChild:!0,...s,children:f.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":US(o.value)?"":void 0,...i,ref:l,onClick:Z(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&w(p)}),onPointerDown:Z(i.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:Z(i.onKeyDown,p=>{const x=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&TF.includes(p.key)&&(w(),p.preventDefault())})})})});yS.displayName=gS;var vS="SelectValue",_S=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Vr(vS,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Pe(e,l.onValueNodeChange);return tt(()=>{c(u)},[c,u]),f.jsx(fe.span,{...a,ref:d,style:{pointerEvents:"none"},children:US(l.value)?f.jsx(f.Fragment,{children:o}):s})});_S.displayName=vS;var AF="SelectIcon",wS=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(fe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});wS.displayName=AF;var OF="SelectPortal",xS=t=>f.jsx(_p,{asChild:!0,...t});xS.displayName=OF;var xi="SelectContent",ES=y.forwardRef((t,e)=>{const n=Vr(xi,t.__scopeSelect),[r,i]=y.useState();if(tt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Si.createPortal(f.jsx(CS,{scope:t.__scopeSelect,children:f.jsx(Mu.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),s):null}return f.jsx(SS,{...t,ref:e})});ES.displayName=xi;var zt=10,[CS,Gr]=Zs(xi),MF="SelectContentImpl",DF=aa("SelectContent.RemoveScroll"),SS=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:v,sticky:w,hideWhenDetached:p,avoidCollisions:x,..._}=t,m=Vr(xi,n),[g,E]=y.useState(null),[C,b]=y.useState(null),S=Pe(e,$=>E($)),[T,k]=y.useState(null),[P,L]=y.useState(null),j=Du(n),[B,D]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(g)return zj(g)},[g]),Rj();const H=y.useCallback($=>{const[ye,...qe]=j().map(ce=>ce.ref.current),[he]=qe.slice(-1),le=document.activeElement;for(const ce of $)if(ce===le||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ye&&C&&(C.scrollTop=0),ce===he&&C&&(C.scrollTop=C.scrollHeight),ce==null||ce.focus(),document.activeElement!==le))return},[j,C]),M=y.useCallback(()=>H([T,g]),[H,T,g]);y.useEffect(()=>{B&&M()},[B,M]);const{onOpenChange:I,triggerPointerDownPosRef:O}=m;y.useEffect(()=>{if(g){let $={x:0,y:0};const ye=he=>{var le,ce;$={x:Math.abs(Math.round(he.pageX)-(((le=O.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ce=O.current)==null?void 0:ce.y)??0))}},qe=he=>{$.x<=10&&$.y<=10?he.preventDefault():g.contains(he.target)||I(!1),document.removeEventListener("pointermove",ye),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",qe,{capture:!0})}}},[g,I,O]),y.useEffect(()=>{const $=()=>I(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[I]);const[U,G]=$S($=>{const ye=j().filter(le=>!le.disabled),qe=ye.find(le=>le.ref.current===document.activeElement),he=WS(ye,$,qe);he&&setTimeout(()=>he.ref.current.focus())}),ae=y.useCallback(($,ye,qe)=>{const he=!V.current&&!qe;(m.value!==void 0&&m.value===ye||he)&&(k($),he&&(V.current=!0))},[m.value]),nt=y.useCallback(()=>g==null?void 0:g.focus(),[g]),Oe=y.useCallback(($,ye,qe)=>{const he=!V.current&&!qe;(m.value!==void 0&&m.value===ye||he)&&L($)},[m.value]),an=r==="popper"?ph:bS,rt=an===ph?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:v,sticky:w,hideWhenDetached:p,avoidCollisions:x}:{};return f.jsx(CS,{scope:n,content:g,viewport:C,onViewportChange:b,itemRefCallback:ae,selectedItem:T,onItemLeave:nt,itemTextRefCallback:Oe,focusSelectedItem:M,selectedItemText:P,position:r,isPositioned:B,searchRef:U,children:f.jsx(pS,{as:DF,allowPinchZoom:!0,children:f.jsx(iS,{asChild:!0,trapped:m.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Z(i,$=>{var ye;(ye=m.trigger)==null||ye.focus({preventScroll:!0}),$.preventDefault()}),children:f.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:f.jsx(an,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:$=>$.preventDefault(),..._,...rt,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Z(_.onKeyDown,$=>{const ye=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!ye&&$.key.length===1&&G($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let he=j().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes($.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const le=$.target,ce=he.indexOf(le);he=he.slice(ce+1)}setTimeout(()=>H(he)),$.preventDefault()}})})})})})})});SS.displayName=MF;var LF="SelectItemAlignedPosition",bS=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Vr(xi,n),o=Gr(xi,n),[a,l]=y.useState(null),[c,u]=y.useState(null),d=Pe(e,S=>u(S)),h=Du(n),v=y.useRef(!1),w=y.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:_,focusSelectedItem:m}=o,g=y.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&p&&x&&_){const S=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(s.dir!=="rtl"){const le=P.left-T.left,ce=k.left-le,wt=S.left-ce,ln=S.width+wt,eo=Math.max(ln,T.width),to=window.innerWidth-zt,no=Av(ce,[zt,Math.max(zt,to-eo)]);a.style.minWidth=ln+"px",a.style.left=no+"px"}else{const le=T.right-P.right,ce=window.innerWidth-k.right-le,wt=window.innerWidth-S.right-ce,ln=S.width+wt,eo=Math.max(ln,T.width),to=window.innerWidth-zt,no=Av(ce,[zt,Math.max(zt,to-eo)]);a.style.minWidth=ln+"px",a.style.right=no+"px"}const L=h(),j=window.innerHeight-zt*2,B=p.scrollHeight,D=window.getComputedStyle(c),V=parseInt(D.borderTopWidth,10),H=parseInt(D.paddingTop,10),M=parseInt(D.borderBottomWidth,10),I=parseInt(D.paddingBottom,10),O=V+H+B+I+M,U=Math.min(x.offsetHeight*5,O),G=window.getComputedStyle(p),ae=parseInt(G.paddingTop,10),nt=parseInt(G.paddingBottom,10),Oe=S.top+S.height/2-zt,an=j-Oe,rt=x.offsetHeight/2,$=x.offsetTop+rt,ye=V+H+$,qe=O-ye;if(ye<=Oe){const le=L.length>0&&x===L[L.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-p.offsetTop-p.offsetHeight,wt=Math.max(an,rt+(le?nt:0)+ce+M),ln=ye+wt;a.style.height=ln+"px"}else{const le=L.length>0&&x===L[0].ref.current;a.style.top="0px";const wt=Math.max(Oe,V+p.offsetTop+(le?ae:0)+rt)+qe;a.style.height=wt+"px",p.scrollTop=ye-Oe+p.offsetTop}a.style.margin=`${zt}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,s.trigger,s.valueNode,a,c,p,x,_,s.dir,r]);tt(()=>g(),[g]);const[E,C]=y.useState();tt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const b=y.useCallback(S=>{S&&w.current===!0&&(g(),m==null||m(),w.current=!1)},[g,m]);return f.jsx(FF,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:b,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:f.jsx(fe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bS.displayName=LF;var jF="SelectPopperPosition",ph=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zt,...s}=t,o=Lu(n);return f.jsx(jx,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ph.displayName=jF;var[FF,Om]=Zs(xi,{}),mh="SelectViewport",TS=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Gr(mh,n),o=Om(mh,n),a=Pe(e,s.onViewportChange),l=y.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Mu.Slot,{scope:n,children:f.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Z(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const v=Math.abs(l.current-u.scrollTop);if(v>0){const w=window.innerHeight-zt*2,p=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),_=Math.max(p,x);if(_<w){const m=_+v,g=Math.min(w,m),E=m-g;d.style.height=g+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});TS.displayName=mh;var IS="SelectGroup",[UF,HF]=Zs(IS),$F=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Tp();return f.jsx(UF,{scope:n,id:i,children:f.jsx(fe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});$F.displayName=IS;var NS="SelectLabel",kS=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=HF(NS,n);return f.jsx(fe.div,{id:i.id,...r,ref:e})});kS.displayName=NS;var $c="SelectItem",[WF,PS]=Zs($c),RS=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Vr($c,n),l=Gr($c,n),c=a.value===r,[u,d]=y.useState(s??""),[h,v]=y.useState(!1),w=Pe(e,m=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,m,r,i)}),p=Tp(),x=y.useRef("touch"),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(WF,{scope:n,value:r,disabled:i,textId:p,isSelected:c,onItemTextChange:y.useCallback(m=>{d(g=>g||((m==null?void 0:m.textContent)??"").trim())},[]),children:f.jsx(Mu.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:f.jsx(fe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Z(o.onFocus,()=>v(!0)),onBlur:Z(o.onBlur,()=>v(!1)),onClick:Z(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:Z(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:Z(o.onPointerDown,m=>{x.current=m.pointerType}),onPointerMove:Z(o.onPointerMove,m=>{var g;x.current=m.pointerType,i?(g=l.onItemLeave)==null||g.call(l):x.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,m=>{var g;m.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:Z(o.onKeyDown,m=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&m.key===" "||(IF.includes(m.key)&&_(),m.key===" "&&m.preventDefault())})})})})});RS.displayName=$c;var So="SelectItemText",AS=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Vr(So,n),a=Gr(So,n),l=PS(So,n),c=RF(So,n),[u,d]=y.useState(null),h=Pe(e,_=>d(_),l.onItemTextChange,_=>{var m;return(m=a.itemTextRefCallback)==null?void 0:m.call(a,_,l.value,l.disabled)}),v=u==null?void 0:u.textContent,w=y.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=c;return tt(()=>(p(w),()=>x(w)),[p,x,w]),f.jsxs(f.Fragment,{children:[f.jsx(fe.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Si.createPortal(s.children,o.valueNode):null]})});AS.displayName=So;var OS="SelectItemIndicator",MS=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PS(OS,n).isSelected?f.jsx(fe.span,{"aria-hidden":!0,...r,ref:e}):null});MS.displayName=OS;var gh="SelectScrollUpButton",DS=y.forwardRef((t,e)=>{const n=Gr(gh,t.__scopeSelect),r=Om(gh,t.__scopeSelect),[i,s]=y.useState(!1),o=Pe(e,r.onScrollButtonChange);return tt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(jS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});DS.displayName=gh;var yh="SelectScrollDownButton",LS=y.forwardRef((t,e)=>{const n=Gr(yh,t.__scopeSelect),r=Om(yh,t.__scopeSelect),[i,s]=y.useState(!1),o=Pe(e,r.onScrollButtonChange);return tt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(jS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});LS.displayName=yh;var jS=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Gr("SelectScrollButton",n),o=y.useRef(null),a=Du(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),tt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Z(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(i.onPointerLeave,()=>{l()})})}),zF="SelectSeparator",FS=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(fe.div,{"aria-hidden":!0,...r,ref:e})});FS.displayName=zF;var vh="SelectArrow",BF=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Lu(n),s=Vr(vh,n),o=Gr(vh,n);return s.open&&o.position==="popper"?f.jsx(Fx,{...i,...r,ref:e}):null});BF.displayName=vh;function US(t){return t===""||t===void 0}var HS=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=y.useRef(null),s=Pe(e,i),o=Uj(n);return y.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),f.jsx(Na,{asChild:!0,children:f.jsx("select",{...r,ref:s,defaultValue:n})})});HS.displayName="BubbleSelect";function $S(t){const e=Pt(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function WS(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=VF(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function VF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GF=mS,zS=yS,KF=_S,qF=wS,QF=xS,BS=ES,YF=TS,VS=kS,GS=RS,XF=AS,JF=MS,KS=DS,qS=LS,QS=FS;const ZF=GF,e4=KF,YS=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(zS,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(qF,{asChild:!0,children:f.jsx(sx,{className:"h-4 w-4 opacity-50"})})]}));YS.displayName=zS.displayName;const XS=y.forwardRef(({className:t,...e},n)=>f.jsx(KS,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(kN,{className:"h-4 w-4"})}));XS.displayName=KS.displayName;const JS=y.forwardRef(({className:t,...e},n)=>f.jsx(qS,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(sx,{className:"h-4 w-4"})}));JS.displayName=qS.displayName;const ZS=y.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>f.jsx(QF,{children:f.jsxs(BS,{ref:i,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(XS,{}),f.jsx(YF,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(JS,{})]})}));ZS.displayName=BS.displayName;const t4=y.forwardRef(({className:t,...e},n)=>f.jsx(VS,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));t4.displayName=VS.displayName;const e1=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(GS,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(JF,{children:f.jsx(ix,{className:"h-4 w-4"})})}),f.jsx(XF,{children:e})]}));e1.displayName=GS.displayName;const n4=y.forwardRef(({className:t,...e},n)=>f.jsx(QS,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));n4.displayName=QS.displayName;function r4(){var H;const[t,e]=gp("/game/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:i,playCard:s,submitScore:o,setParForHole:a,advanceToNextHole:l}=ki(),{user:c}=Ni(),[,u]=$s(),[d,h]=y.useState(!0),[v,w]=y.useState(!0),[p,x]=y.useState(""),[_,m]=y.useState(""),[g,E]=y.useState({});y.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(h(!0),i(e.gameCode).then(()=>{h(!1)}).catch(M=>{console.error("Error finding game:",M),h(!1),u("/")}))},[t,e==null?void 0:e.gameCode,n,i,u]),y.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),y.useEffect(()=>{(n==null?void 0:n.gamePhase)==="finished"&&u(`/results/${n.gameCode}`)},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,u]),y.useEffect(()=>{var O,U;if(!n||!c)return;x(n.currentPar??"");const M=n.currentHole-1,I=(U=(O=n.players[c.uid])==null?void 0:O.scores)==null?void 0:U[M];m(typeof I=="number"?I:"")},[n==null?void 0:n.currentHole,n==null?void 0:n.currentPar,n==null?void 0:n.id,c==null?void 0:c.uid]);const C=async M=>{if(!(n!=null&&n.id))return;const I=g[M.id];await s(n.id,M.id,I)},b=async()=>{if(!(n!=null&&n.id)||!c||_==="")return;const M=n.currentHole-1;await o(n.id,M,Number(_))},S=async()=>{!(n!=null&&n.id)||p===""||await a(n.id,Number(p))},T=()=>{if(!n)return!1;const M=n.currentHole-1;return Object.values(n.players).every(I=>{var O;return typeof((O=I.scores)==null?void 0:O[M])=="number"})},k=async()=>{n!=null&&n.id&&await l(n.id)},P=M=>{switch(M){case"Before Throw":return"bg-blue-500/20 border-blue-400/40";case"After Throw":return"bg-red-500/20 border-red-400/40";case"Self":return"bg-green-500/20 border-green-400/40";case"Wild":return"bg-purple-500/20 border-purple-400/40";default:return"bg-white/10 border-white/20"}};if(d)return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🥏"}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading game..."}),f.jsx("p",{className:"text-white/70",children:"Please wait while we load your game"})]})})});if(!n||!c)return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4",children:"❌"}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),f.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),f.jsx(se,{onClick:()=>u("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});if(n.gamePhase!=="playing")return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4",children:"⏳"}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not started"}),f.jsx("p",{className:"text-white/70 mb-6",children:"The host hasn't started the game yet. Please wait in the lobby."}),f.jsx(se,{onClick:()=>u(`/lobby/${n.gameCode}`),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Lobby"})]})})});const L=n.players[c.uid];if(!(L!=null&&L.hand)||L.hand.length===0)return f.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"🃏"}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Dealing cards..."}),f.jsx("p",{className:"text-white/70 mb-6",children:"Please wait while cards are being dealt to all players."})]})})});const B=Object.values(n.players).sort((M,I)=>(M.totalScore||0)-(I.totalScore||0)),D=n.currentHole/n.totalHoles*100,V=n.hostId===c.uid;return f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hole ",n.currentHole," of ",n.totalHoles]}),f.jsx("p",{className:"text-white/70",children:n.courseName||"Disc Golf Course"}),V&&f.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[f.jsx(gn,{type:"number",min:1,value:p,onChange:M=>x(M.target.value===""?"":Number(M.target.value)),className:"w-24 bg-white/10 border-white/20 text-white",placeholder:"Par"}),f.jsx(se,{onClick:S,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-white/70 text-sm",children:"Par"}),f.jsx("div",{className:"text-3xl font-bold text-white",children:n.currentPar})]})]}),f.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:f.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-500",style:{width:`${D}%`}})}),f.jsxs("div",{className:"text-white/70 text-sm mt-2 text-center",children:[Math.round(D),"% Complete"]})]})}),f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsx(te,{className:"p-0",children:f.jsxs("div",{className:"flex items-end space-x-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"text-white/80 text-sm mb-1",children:["Your strokes for hole ",n.currentHole]}),f.jsx(gn,{type:"number",min:1,value:_,onChange:M=>m(M.target.value===""?"":Number(M.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Enter strokes"})]}),f.jsx(se,{onClick:b,className:"bg-brand-accent text-white h-10 px-6",children:"Submit Score"})]})})}),L&&f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold text-white",children:["Your Hand (",((H=L.hand)==null?void 0:H.length)||0," cards)"]}),f.jsxs(se,{onClick:()=>w(!v),variant:"ghost",className:"text-white hover:bg-white/10",children:[v?f.jsx(AN,{className:"w-4 h-4"}):f.jsx(ON,{className:"w-4 h-4"}),v?"Hide":"Show"," Hand"]})]}),v&&L.hand&&L.hand.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.hand.map(M=>f.jsx(ee,{className:`${P(M.category)} border-2 transition-all duration-200 hover:scale-105`,children:f.jsx(te,{className:"p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:M.category}),f.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:M.name}),f.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:M.description}),M.category!=="Self"&&f.jsx("div",{className:"mb-3",children:f.jsxs(ZF,{value:g[M.id]||"",onValueChange:I=>E(O=>({...O,[M.id]:I})),children:[f.jsx(YS,{className:"w-full bg-white/10 border-white/20 text-white",children:f.jsx(e4,{placeholder:"Target player (optional)"})}),f.jsx(ZS,{children:Object.values(n.players).filter(I=>I.id!==c.uid).map(I=>f.jsx(e1,{value:I.id,children:I.name},I.id))})]})}),f.jsxs(se,{onClick:()=>C(M),className:"w-full bg-brand-accent text-white font-semibold py-2 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(LN,{className:"w-4 h-4 mr-2"}),"Play Card"]})]})})},M.id))}):v?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🃏"}),f.jsx("p",{className:"text-white/70",children:"No cards in hand"})]}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-6xl mb-4",children:"👁️"}),f.jsx("p",{className:"text-white/70",children:"Hand is hidden"})]})]})}),f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),f.jsx("div",{className:"space-y-3",children:B.map((M,I)=>f.jsx(Am,{player:M,position:I+1,showScore:!0},M.id))})]})}),V&&f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:f.jsx(te,{className:"p-0",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"text-white/80 text-sm",children:["All players submitted score for hole ",n.currentHole,"?"]}),f.jsx(se,{onClick:k,disabled:!T(),className:"bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Advance to Next Hole"})]})})}),n.gameActivity&&n.gameActivity.length>0&&f.jsx(ee,{className:"glass-card rounded-3xl p-6 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Game Activity"}),f.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.gameActivity.slice(-10).map((M,I)=>f.jsx("div",{className:"text-white/70 text-sm p-2 bg-white/5 rounded-lg",children:M},I))})]})})]})}function i4(){gp("/results/:gameCode");const{currentGame:t}=ki(),{user:e}=Ni(),[,n]=$s();if(!t||!e)return f.jsx("div",{children:"Loading..."});const r=Object.values(t.players),i=r.sort((l,c)=>l.totalScore-c.totalScore),s=i[0],o=()=>{n("/host")},a=()=>{n("/")};return f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[f.jsx(ee,{className:"glass-card rounded-3xl p-8 text-center mb-8 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-6xl mb-4",children:"🏆"}),f.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Game Complete!"}),f.jsxs("p",{className:"text-xl text-brand-accent font-semibold mb-4",children:[s.name," Wins!"]}),f.jsxs("p",{className:"text-white/70",children:["Final Score: ",s.totalScore>0?"+":"",s.totalScore," • ",t.totalHoles," holes • ",t.courseName||"Disc Golf Course"]})]})}),f.jsx(ee,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Final Results"}),f.jsx("div",{className:"space-y-4",children:i.map((l,c)=>f.jsx(Am,{player:l,position:c+1,showScore:!0},l.id))})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsx(ee,{className:"glass-card rounded-2xl p-6 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-3xl font-bold text-brand-accent mb-2",children:t.totalHoles}),f.jsx("div",{className:"text-white/70",children:"Holes Played"})]})}),f.jsx(ee,{className:"glass-card rounded-2xl p-6 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:r.length}),f.jsx("div",{className:"text-white/70",children:"Players"})]})}),f.jsx(ee,{className:"glass-card rounded-2xl p-6 text-center border-0",children:f.jsxs(te,{className:"p-0",children:[f.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:Math.min(...r.map(l=>l.totalScore))}),f.jsx("div",{className:"text-white/70",children:"Best Score"})]})})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(se,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Play Again"}),f.jsx(se,{onClick:a,className:"flex-1 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Main Menu"})]})]})}function s4(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(ee,{className:"w-full max-w-md mx-4",children:f.jsxs(te,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(PN,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function o4(){const{user:t,loading:e}=Ni();return e?f.jsx("div",{className:"min-h-screen bg-brand-gradient flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"floating-animation text-8xl mb-6",children:"🥏"}),f.jsx("h1",{className:"font-logo text-5xl font-bold mb-4 text-gradient text-outline",children:"KICKED IN THE DISC"}),f.jsxs("div",{className:"glass-card p-6 rounded-2xl mx-auto max-w-sm",children:[f.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-logo-cyan border-t-transparent rounded-full mx-auto"}),f.jsx("p",{className:"mt-4 text-logo-dark font-medium",children:"Loading awesome disc golf action..."})]})]})}):t?f.jsxs(iI,{children:[f.jsx(Qn,{path:"/",component:Sj}),f.jsx(Qn,{path:"/store",component:bj}),f.jsx(Qn,{path:"/host",component:Tj}),f.jsx(Qn,{path:"/join",component:Ij}),f.jsx(Qn,{path:"/lobby/:gameCode",component:Nj}),f.jsx(Qn,{path:"/game/:gameCode",component:r4}),f.jsx(Qn,{path:"/results/:gameCode",component:i4}),f.jsx(Qn,{component:s4})]}):f.jsx(Ej,{})}function a4(){return f.jsx(NI,{client:RI,children:f.jsx(JP,{children:f.jsxs("div",{className:"min-h-screen bg-brand-gradient bg-pattern-dots",children:[f.jsx(bk,{}),f.jsx(o4,{})]})})})}d0(document.getElementById("root")).render(f.jsx(a4,{}));
