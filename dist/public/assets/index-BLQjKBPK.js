var Qg=t=>{throw TypeError(t)};var Pd=(t,e,n)=>e.has(t)||Qg("Cannot "+n);var R=(t,e,n)=>(Pd(t,e,"read from private field"),n?n.call(t):e.get(t)),ce=(t,e,n)=>e.has(t)?Qg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Q=(t,e,n,r)=>(Pd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rt=(t,e,n)=>(Pd(t,e,"access private method"),n);var Nl=(t,e,n,r)=>({set _(s){Q(t,e,s,n)},get _(){return R(t,e,r)}});function aN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function C_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S_={exports:{}},Ou={},E_={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),lN=Symbol.for("react.portal"),cN=Symbol.for("react.fragment"),uN=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),fN=Symbol.for("react.provider"),hN=Symbol.for("react.context"),pN=Symbol.for("react.forward_ref"),mN=Symbol.for("react.suspense"),gN=Symbol.for("react.memo"),vN=Symbol.for("react.lazy"),Xg=Symbol.iterator;function yN(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k_=Object.assign,T_={};function lo(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||N_}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P_(){}P_.prototype=lo.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=T_,this.updater=n||N_}var Sp=Cp.prototype=new P_;Sp.constructor=Cp;k_(Sp,lo.prototype);Sp.isPureReactComponent=!0;var Jg=Array.isArray,I_=Object.prototype.hasOwnProperty,Ep={current:null},R_={key:!0,ref:!0,__self:!0,__source:!0};function A_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I_.call(e,r)&&!R_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ja,type:t,key:i,ref:o,props:s,_owner:Ep.current}}function wN(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function _N(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zg=/\/+/g;function Id(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_N(""+t.key):e.toString(36)}function rc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ja:case lN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Id(o,0):r,Jg(s)?(n="",t!=null&&(n=t.replace(Zg,"$&/")+"/"),rc(s,e,n,"",function(c){return c})):s!=null&&(Np(s)&&(s=wN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Id(i,a);o+=rc(i,e,n,l,s)}else if(l=yN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Id(i,a++),o+=rc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(t,e,n){if(t==null)return t;var r=[],s=0;return rc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function xN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},sc={transition:null},bN={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:sc,ReactCurrentOwner:Ep};function O_(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:kl,forEach:function(t,e,n){kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kl(t,function(){e++}),e},toArray:function(t){return kl(t,function(e){return e})||[]},only:function(t){if(!Np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=lo;ne.Fragment=cN;ne.Profiler=dN;ne.PureComponent=Cp;ne.StrictMode=uN;ne.Suspense=mN;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;ne.act=O_;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=k_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ep.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)I_.call(e,l)&&!R_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ja,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:hN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fN,_context:t},t.Consumer=t};ne.createElement=A_;ne.createFactory=function(t){var e=A_.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:pN,render:t}};ne.isValidElement=Np;ne.lazy=function(t){return{$$typeof:vN,_payload:{_status:-1,_result:t},_init:xN}};ne.memo=function(t,e){return{$$typeof:gN,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};ne.unstable_act=O_;ne.useCallback=function(t,e){return _t.current.useCallback(t,e)};ne.useContext=function(t){return _t.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};ne.useEffect=function(t,e){return _t.current.useEffect(t,e)};ne.useId=function(){return _t.current.useId()};ne.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return _t.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};ne.useRef=function(t){return _t.current.useRef(t)};ne.useState=function(t){return _t.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return _t.current.useTransition()};ne.version="18.3.1";E_.exports=ne;var v=E_.exports;const vr=C_(v),M_=aN({__proto__:null,default:vr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=v,SN=Symbol.for("react.element"),EN=Symbol.for("react.fragment"),NN=Object.prototype.hasOwnProperty,kN=CN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TN={key:!0,ref:!0,__self:!0,__source:!0};function D_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NN.call(e,r)&&!TN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:SN,type:t,key:i,ref:o,props:s,_owner:kN.current}}Ou.Fragment=EN;Ou.jsx=D_;Ou.jsxs=D_;S_.exports=Ou;var u=S_.exports,j_={exports:{}},Ht={},L_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,I){var F=E.length;E.push(I);e:for(;0<F;){var $=F-1>>>1,ee=E[$];if(0<s(ee,I))E[$]=I,E[F]=ee,F=$;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var I=E[0],F=E.pop();if(F!==I){E[0]=F;e:for(var $=0,ee=E.length,Fe=ee>>>1;$<Fe;){var Ae=2*($+1)-1,It=E[Ae],ze=Ae+1,z=E[ze];if(0>s(It,F))ze<ee&&0>s(z,It)?(E[$]=z,E[ze]=F,$=ze):(E[$]=It,E[Ae]=F,$=Ae);else if(ze<ee&&0>s(z,F))E[$]=z,E[ze]=F,$=ze;else break e}}return I}function s(E,I){var F=E.sortIndex-I.sortIndex;return F!==0?F:E.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,g=!1,_=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=E)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function b(E){if(m=!1,y(E),!_)if(n(l)!==null)_=!0,W(k);else{var I=n(c);I!==null&&O(b,I.startTime-E)}}function k(E,I){_=!1,m&&(m=!1,w(N),N=-1),g=!0;var F=h;try{for(y(I),f=n(l);f!==null&&(!(f.expirationTime>I)||E&&!L());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var ee=$(f.expirationTime<=I);I=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),y(I)}else r(l);f=n(l)}if(f!==null)var Fe=!0;else{var Ae=n(c);Ae!==null&&O(b,Ae.startTime-I),Fe=!1}return Fe}finally{f=null,h=F,g=!1}}var C=!1,S=null,N=-1,T=5,P=-1;function L(){return!(t.unstable_now()-P<T)}function A(){if(S!==null){var E=t.unstable_now();P=E;var I=!0;try{I=S(!0,E)}finally{I?H():(C=!1,S=null)}}else C=!1}var H;if(typeof p=="function")H=function(){p(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=A,H=function(){B.postMessage(null)}}else H=function(){x(A,0)};function W(E){S=E,C||(C=!0,H())}function O(E,I){N=x(function(){E(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,W(k))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var F=h;h=I;try{return E()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,I){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=h;h=E;try{return I()}finally{h=F}},t.unstable_scheduleCallback=function(E,I,F){var $=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,E){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,E={id:d++,callback:I,priorityLevel:E,startTime:F,expirationTime:ee,sortIndex:-1},F>$?(E.sortIndex=F,e(c,E),n(l)===null&&E===n(c)&&(m?(w(N),N=-1):m=!0,O(b,F-$))):(E.sortIndex=ee,e(l,E),_||g||(_=!0,W(k))),E},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(E){var I=h;return function(){var F=h;h=I;try{return E.apply(this,arguments)}finally{h=F}}}})(F_);L_.exports=F_;var PN=L_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN=v,Ft=PN;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W_=new Set,ga={};function zs(t,e){Hi(t,e),Hi(t+"Capture",e)}function Hi(t,e){for(ga[t]=e,t=0;t<e.length;t++)W_.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uf=Object.prototype.hasOwnProperty,RN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function AN(t){return Uf.call(tv,t)?!0:Uf.call(ev,t)?!1:RN.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function ON(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MN(t,e,n,r){if(e===null||typeof e>"u"||ON(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kp,Tp);et[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kp,Tp);et[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kp,Tp);et[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pp(t,e,n,r){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MN(e,n,s,r)&&(n=null),r||s===null?AN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cr=IN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),ri=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),U_=Symbol.for("react.provider"),H_=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),Ap=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),$_=Symbol.for("react.offscreen"),nv=Symbol.iterator;function Io(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Rd;function Go(t){if(Rd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rd=e&&e[1]||""}return`
`+Rd+t}var Ad=!1;function Od(t,e){if(!t||Ad)return"";Ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Go(t):""}function DN(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ri:return"Portal";case Hf:return"Profiler";case Ip:return"StrictMode";case $f:return"Suspense";case Bf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H_:return(t.displayName||"Context")+".Consumer";case U_:return(t._context.displayName||"Context")+".Provider";case Rp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ap:return e=t.displayName||null,e!==null?e:zf(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return zf(t(e))}catch{}}return null}function jN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zf(e);case 8:return e===Ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LN(t){var e=B_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=LN(t))}function z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V_(t,e){e=e.checked,e!=null&&Pp(t,"checked",e,!1)}function Gf(t,e){V_(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yf(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yf(t,e,n){(e!=="number"||Tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function yi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Yo(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function G_(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Il,K_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Il.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FN=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(t){FN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zo[e]=Zo[t]})});function q_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zo.hasOwnProperty(t)&&Zo[t]?(""+e).trim():e+"px"}function Q_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=q_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WN=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qf(t,e){if(e){if(WN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Xf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zf=null,wi=null,_i=null;function av(t){if(t=tl(t)){if(typeof Zf!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Fu(e),Zf(t.stateNode,t.type,e))}}function X_(t){wi?_i?_i.push(t):_i=[t]:wi=t}function J_(){if(wi){var t=wi,e=_i;if(_i=wi=null,av(t),e)for(t=0;t<e.length;t++)av(e[t])}}function Z_(t,e){return t(e)}function ex(){}var Md=!1;function tx(t,e,n){if(Md)return t(e,n);Md=!0;try{return Z_(t,e,n)}finally{Md=!1,(wi!==null||_i!==null)&&(ex(),J_())}}function ya(t,e){var n=t.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var eh=!1;if(Zn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){eh=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{eh=!1}function UN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ea=!1,Pc=null,Ic=!1,th=null,HN={onError:function(t){ea=!0,Pc=t}};function $N(t,e,n,r,s,i,o,a,l){ea=!1,Pc=null,UN.apply(HN,arguments)}function BN(t,e,n,r,s,i,o,a,l){if($N.apply(this,arguments),ea){if(ea){var c=Pc;ea=!1,Pc=null}else throw Error(D(198));Ic||(Ic=!0,th=c)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(Vs(t)!==t)throw Error(D(188))}function zN(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lv(s),t;if(i===r)return lv(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function rx(t){return t=zN(t),t!==null?sx(t):null}function sx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sx(t);if(e!==null)return e;t=t.sibling}return null}var ix=Ft.unstable_scheduleCallback,cv=Ft.unstable_cancelCallback,VN=Ft.unstable_shouldYield,GN=Ft.unstable_requestPaint,Le=Ft.unstable_now,YN=Ft.unstable_getCurrentPriorityLevel,Mp=Ft.unstable_ImmediatePriority,ox=Ft.unstable_UserBlockingPriority,Rc=Ft.unstable_NormalPriority,KN=Ft.unstable_LowPriority,ax=Ft.unstable_IdlePriority,Mu=null,Pn=null;function qN(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Mu,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:JN,QN=Math.log,XN=Math.LN2;function JN(t){return t>>>=0,t===0?32:31-(QN(t)/XN|0)|0}var Rl=64,Al=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ko(a):(i&=o,i!==0&&(r=Ko(i)))}else o=n&~s,o!==0?r=Ko(o):i!==0&&(r=Ko(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function ZN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ek(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ZN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lx(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Dd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function tk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function cx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ux,jp,dx,fx,hx,rh=!1,Ol=[],jr=null,Lr=null,Fr=null,wa=new Map,_a=new Map,br=[],nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function Ao(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=tl(e),e!==null&&jp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rk(t,e,n,r,s){switch(e){case"focusin":return jr=Ao(jr,t,e,n,r,s),!0;case"dragenter":return Lr=Ao(Lr,t,e,n,r,s),!0;case"mouseover":return Fr=Ao(Fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wa.set(i,Ao(wa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_a.set(i,Ao(_a.get(i)||null,t,e,n,r,s)),!0}return!1}function px(t){var e=ws(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=nx(n),e!==null){t.blockedOn=e,hx(t.priority,function(){dx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jf=r,n.target.dispatchEvent(r),Jf=null}else return e=tl(n),e!==null&&jp(e),t.blockedOn=n,!1;e.shift()}return!0}function dv(t,e,n){ic(t)&&n.delete(e)}function sk(){rh=!1,jr!==null&&ic(jr)&&(jr=null),Lr!==null&&ic(Lr)&&(Lr=null),Fr!==null&&ic(Fr)&&(Fr=null),wa.forEach(dv),_a.forEach(dv)}function Oo(t,e){t.blockedOn===e&&(t.blockedOn=null,rh||(rh=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,sk)))}function xa(t){function e(s){return Oo(s,t)}if(0<Ol.length){Oo(Ol[0],t);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&Oo(jr,t),Lr!==null&&Oo(Lr,t),Fr!==null&&Oo(Fr,t),wa.forEach(e),_a.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)px(n),n.blockedOn===null&&br.shift()}var xi=cr.ReactCurrentBatchConfig,Oc=!0;function ik(t,e,n,r){var s=fe,i=xi.transition;xi.transition=null;try{fe=1,Lp(t,e,n,r)}finally{fe=s,xi.transition=i}}function ok(t,e,n,r){var s=fe,i=xi.transition;xi.transition=null;try{fe=4,Lp(t,e,n,r)}finally{fe=s,xi.transition=i}}function Lp(t,e,n,r){if(Oc){var s=sh(t,e,n,r);if(s===null)Vd(t,e,r,Mc,n),uv(t,r);else if(rk(s,t,e,n,r))r.stopPropagation();else if(uv(t,r),e&4&&-1<nk.indexOf(t)){for(;s!==null;){var i=tl(s);if(i!==null&&ux(i),i=sh(t,e,n,r),i===null&&Vd(t,e,r,Mc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vd(t,e,r,null,n)}}var Mc=null;function sh(t,e,n,r){if(Mc=null,t=Op(r),t=ws(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mc=t,null}function mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YN()){case Mp:return 1;case ox:return 4;case Rc:case KN:return 16;case ax:return 536870912;default:return 16}default:return 16}}var Or=null,Fp=null,oc=null;function gx(){if(oc)return oc;var t,e=Fp,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return oc=s.slice(t,1<r?1-r:void 0)}function ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function fv(){return!1}function $t(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ml:fv,this.isPropagationStopped=fv,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=$t(co),el=Ie({},co,{view:0,detail:0}),ak=$t(el),jd,Ld,Mo,Du=Ie({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(jd=t.screenX-Mo.screenX,Ld=t.screenY-Mo.screenY):Ld=jd=0,Mo=t),jd)},movementY:function(t){return"movementY"in t?t.movementY:Ld}}),hv=$t(Du),lk=Ie({},Du,{dataTransfer:0}),ck=$t(lk),uk=Ie({},el,{relatedTarget:0}),Fd=$t(uk),dk=Ie({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=$t(dk),hk=Ie({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pk=$t(hk),mk=Ie({},co,{data:0}),pv=$t(mk),gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yk[t])?!!e[t]:!1}function Up(){return wk}var _k=Ie({},el,{key:function(t){if(t.key){var e=gk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(t){return t.type==="keypress"?ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xk=$t(_k),bk=Ie({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=$t(bk),Ck=Ie({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),Sk=$t(Ck),Ek=Ie({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=$t(Ek),kk=Ie({},Du,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tk=$t(kk),Pk=[9,13,27,32],Hp=Zn&&"CompositionEvent"in window,ta=null;Zn&&"documentMode"in document&&(ta=document.documentMode);var Ik=Zn&&"TextEvent"in window&&!ta,vx=Zn&&(!Hp||ta&&8<ta&&11>=ta),gv=" ",vv=!1;function yx(t,e){switch(t){case"keyup":return Pk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function Rk(t,e){switch(t){case"compositionend":return wx(e);case"keypress":return e.which!==32?null:(vv=!0,gv);case"textInput":return t=e.data,t===gv&&vv?null:t;default:return null}}function Ak(t,e){if(ii)return t==="compositionend"||!Hp&&yx(t,e)?(t=gx(),oc=Fp=Or=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vx&&e.locale!=="ko"?null:e.data;default:return null}}var Ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ok[t.type]:e==="textarea"}function _x(t,e,n,r){X_(r),e=Dc(e,"onChange"),0<e.length&&(n=new Wp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var na=null,ba=null;function Mk(t){Rx(t,0)}function ju(t){var e=li(t);if(z_(e))return t}function Dk(t,e){if(t==="change")return e}var xx=!1;if(Zn){var Wd;if(Zn){var Ud="oninput"in document;if(!Ud){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),Ud=typeof wv.oninput=="function"}Wd=Ud}else Wd=!1;xx=Wd&&(!document.documentMode||9<document.documentMode)}function _v(){na&&(na.detachEvent("onpropertychange",bx),ba=na=null)}function bx(t){if(t.propertyName==="value"&&ju(ba)){var e=[];_x(e,ba,t,Op(t)),tx(Mk,e)}}function jk(t,e,n){t==="focusin"?(_v(),na=e,ba=n,na.attachEvent("onpropertychange",bx)):t==="focusout"&&_v()}function Lk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(ba)}function Fk(t,e){if(t==="click")return ju(e)}function Wk(t,e){if(t==="input"||t==="change")return ju(e)}function Uk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:Uk;function Ca(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Uf.call(e,s)||!pn(t[s],e[s]))return!1}return!0}function xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bv(t,e){var n=xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xv(n)}}function Cx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sx(){for(var t=window,e=Tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tc(t.document)}return e}function $p(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hk(t){var e=Sx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cx(n.ownerDocument.documentElement,n)){if(r!==null&&$p(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bv(n,i);var o=bv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $k=Zn&&"documentMode"in document&&11>=document.documentMode,oi=null,ih=null,ra=null,oh=!1;function Cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oh||oi==null||oi!==Tc(r)||(r=oi,"selectionStart"in r&&$p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ra&&Ca(ra,r)||(ra=r,r=Dc(ih,"onSelect"),0<r.length&&(e=new Wp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oi)))}function Dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ai={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},Hd={},Ex={};Zn&&(Ex=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Lu(t){if(Hd[t])return Hd[t];if(!ai[t])return t;var e=ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ex)return Hd[t]=e[n];return t}var Nx=Lu("animationend"),kx=Lu("animationiteration"),Tx=Lu("animationstart"),Px=Lu("transitionend"),Ix=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){Ix.set(t,e),zs(e,[t])}for(var $d=0;$d<Sv.length;$d++){var Bd=Sv[$d],Bk=Bd.toLowerCase(),zk=Bd[0].toUpperCase()+Bd.slice(1);rs(Bk,"on"+zk)}rs(Nx,"onAnimationEnd");rs(kx,"onAnimationIteration");rs(Tx,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(Px,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Ev(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BN(r,e,void 0,t),t.currentTarget=null}function Rx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ev(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ev(s,a,c),i=l}}}if(Ic)throw t=th,Ic=!1,th=null,t}function Se(t,e){var n=e[dh];n===void 0&&(n=e[dh]=new Set);var r=t+"__bubble";n.has(r)||(Ax(e,t,2,!1),n.add(r))}function zd(t,e,n){var r=0;e&&(r|=4),Ax(n,t,r,e)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Sa(t){if(!t[jl]){t[jl]=!0,W_.forEach(function(n){n!=="selectionchange"&&(Vk.has(n)||zd(n,!1,t),zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jl]||(e[jl]=!0,zd("selectionchange",!1,e))}}function Ax(t,e,n,r){switch(mx(e)){case 1:var s=ik;break;case 4:s=ok;break;default:s=Lp}n=s.bind(null,e,n,t),s=void 0,!eh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}tx(function(){var c=i,d=Op(n),f=[];e:{var h=Ix.get(t);if(h!==void 0){var g=Wp,_=t;switch(t){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":g=xk;break;case"focusin":_="focus",g=Fd;break;case"focusout":_="blur",g=Fd;break;case"beforeblur":case"afterblur":g=Fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sk;break;case Nx:case kx:case Tx:g=fk;break;case Px:g=Nk;break;case"scroll":g=ak;break;case"wheel":g=Tk;break;case"copy":case"cut":case"paste":g=pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mv}var m=(e&4)!==0,x=!m&&t==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var p=c,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,w!==null&&(b=ya(p,w),b!=null&&m.push(Ea(p,b,y)))),x)break;p=p.return}0<m.length&&(h=new g(h,_,null,n,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Jf&&(_=n.relatedTarget||n.fromElement)&&(ws(_)||_[er]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?ws(_):null,_!==null&&(x=Vs(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(m=hv,b="onMouseLeave",w="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(m=mv,b="onPointerLeave",w="onPointerEnter",p="pointer"),x=g==null?h:li(g),y=_==null?h:li(_),h=new m(b,p+"leave",g,n,d),h.target=x,h.relatedTarget=y,b=null,ws(d)===c&&(m=new m(w,p+"enter",_,n,d),m.target=y,m.relatedTarget=x,b=m),x=b,g&&_)t:{for(m=g,w=_,p=0,y=m;y;y=Xs(y))p++;for(y=0,b=w;b;b=Xs(b))y++;for(;0<p-y;)m=Xs(m),p--;for(;0<y-p;)w=Xs(w),y--;for(;p--;){if(m===w||w!==null&&m===w.alternate)break t;m=Xs(m),w=Xs(w)}m=null}else m=null;g!==null&&Nv(f,h,g,m,!1),_!==null&&x!==null&&Nv(f,x,_,m,!0)}}e:{if(h=c?li(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=Dk;else if(yv(h))if(xx)k=Wk;else{k=Lk;var C=jk}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Fk);if(k&&(k=k(t,c))){_x(f,k,n,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Yf(h,"number",h.value)}switch(C=c?li(c):window,t){case"focusin":(yv(C)||C.contentEditable==="true")&&(oi=C,ih=c,ra=null);break;case"focusout":ra=ih=oi=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Cv(f,n,d);break;case"selectionchange":if($k)break;case"keydown":case"keyup":Cv(f,n,d)}var S;if(Hp)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ii?yx(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(vx&&n.locale!=="ko"&&(ii||N!=="onCompositionStart"?N==="onCompositionEnd"&&ii&&(S=gx()):(Or=d,Fp="value"in Or?Or.value:Or.textContent,ii=!0)),C=Dc(c,N),0<C.length&&(N=new pv(N,t,null,n,d),f.push({event:N,listeners:C}),S?N.data=S:(S=wx(n),S!==null&&(N.data=S)))),(S=Ik?Rk(t,n):Ak(t,n))&&(c=Dc(c,"onBeforeInput"),0<c.length&&(d=new pv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}Rx(f,e)})}function Ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ya(t,n),i!=null&&r.unshift(Ea(t,i,s)),i=ya(t,e),i!=null&&r.push(Ea(t,i,s))),t=t.return}return r}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ya(n,i),l!=null&&o.unshift(Ea(n,l,a))):s||(l=ya(n,i),l!=null&&o.push(Ea(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Gk=/\r\n?/g,Yk=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(Gk,`
`).replace(Yk,"")}function Ll(t,e,n){if(e=kv(e),kv(t)!==e&&n)throw Error(D(425))}function jc(){}var ah=null,lh=null;function ch(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,qk=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(Qk)}:uh;function Qk(t){setTimeout(function(){throw t})}function Gd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xa(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+uo,Na="__reactProps$"+uo,er="__reactContainer$"+uo,dh="__reactEvents$"+uo,Xk="__reactListeners$"+uo,Jk="__reactHandles$"+uo;function ws(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pv(t);t!==null;){if(n=t[Nn])return n;t=Pv(t)}return e}t=n,n=t.parentNode}return null}function tl(t){return t=t[Nn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Fu(t){return t[Na]||null}var fh=[],ci=-1;function ss(t){return{current:t}}function Ee(t){0>ci||(t.current=fh[ci],fh[ci]=null,ci--)}function _e(t,e){ci++,fh[ci]=t.current,t.current=e}var Qr={},lt=ss(Qr),Nt=ss(!1),Ps=Qr;function $i(t,e){var n=t.type.contextTypes;if(!n)return Qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kt(t){return t=t.childContextTypes,t!=null}function Lc(){Ee(Nt),Ee(lt)}function Iv(t,e,n){if(lt.current!==Qr)throw Error(D(168));_e(lt,e),_e(Nt,n)}function Ox(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,jN(t)||"Unknown",s));return Ie({},n,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,Ps=lt.current,_e(lt,t),_e(Nt,Nt.current),!0}function Rv(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Ox(t,e,Ps),r.__reactInternalMemoizedMergedChildContext=t,Ee(Nt),Ee(lt),_e(lt,t)):Ee(Nt),_e(Nt,n)}var zn=null,Wu=!1,Yd=!1;function Mx(t){zn===null?zn=[t]:zn.push(t)}function Zk(t){Wu=!0,Mx(t)}function is(){if(!Yd&&zn!==null){Yd=!0;var t=0,e=fe;try{var n=zn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,Wu=!1}catch(s){throw zn!==null&&(zn=zn.slice(t+1)),ix(Mp,is),s}finally{fe=e,Yd=!1}}return null}var ui=[],di=0,Wc=null,Uc=0,zt=[],Vt=0,Is=null,Vn=1,Gn="";function ps(t,e){ui[di++]=Uc,ui[di++]=Wc,Wc=t,Uc=e}function Dx(t,e,n){zt[Vt++]=Vn,zt[Vt++]=Gn,zt[Vt++]=Is,Is=t;var r=Vn;t=Gn;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var i=32-dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vn=1<<32-dn(e)+s|n<<s|r,Gn=i+t}else Vn=1<<i|n<<s|r,Gn=t}function Bp(t){t.return!==null&&(ps(t,1),Dx(t,1,0))}function zp(t){for(;t===Wc;)Wc=ui[--di],ui[di]=null,Uc=ui[--di],ui[di]=null;for(;t===Is;)Is=zt[--Vt],zt[Vt]=null,Gn=zt[--Vt],zt[Vt]=null,Vn=zt[--Vt],zt[Vt]=null}var jt=null,Dt=null,Ne=!1,on=null;function jx(t,e){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Av(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Dt=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Is!==null?{id:Vn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Dt=null,!0):!1;default:return!1}}function hh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ph(t){if(Ne){var e=Dt;if(e){var n=e;if(!Av(t,e)){if(hh(t))throw Error(D(418));e=Wr(n.nextSibling);var r=jt;e&&Av(t,e)?jx(r,n):(t.flags=t.flags&-4097|2,Ne=!1,jt=t)}}else{if(hh(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ne=!1,jt=t}}}function Ov(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Fl(t){if(t!==jt)return!1;if(!Ne)return Ov(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ch(t.type,t.memoizedProps)),e&&(e=Dt)){if(hh(t))throw Lx(),Error(D(418));for(;e;)jx(t,e),e=Wr(e.nextSibling)}if(Ov(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=jt?Wr(t.stateNode.nextSibling):null;return!0}function Lx(){for(var t=Dt;t;)t=Wr(t.nextSibling)}function Bi(){Dt=jt=null,Ne=!1}function Vp(t){on===null?on=[t]:on.push(t)}var eT=cr.ReactCurrentBatchConfig;function Do(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Wl(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function Fx(t){function e(w,p){if(t){var y=w.deletions;y===null?(w.deletions=[p],w.flags|=16):y.push(p)}}function n(w,p){if(!t)return null;for(;p!==null;)e(w,p),p=p.sibling;return null}function r(w,p){for(w=new Map;p!==null;)p.key!==null?w.set(p.key,p):w.set(p.index,p),p=p.sibling;return w}function s(w,p){return w=Br(w,p),w.index=0,w.sibling=null,w}function i(w,p,y){return w.index=y,t?(y=w.alternate,y!==null?(y=y.index,y<p?(w.flags|=2,p):y):(w.flags|=2,p)):(w.flags|=1048576,p)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,p,y,b){return p===null||p.tag!==6?(p=ef(y,w.mode,b),p.return=w,p):(p=s(p,y),p.return=w,p)}function l(w,p,y,b){var k=y.type;return k===si?d(w,p,y.props.children,b,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_r&&Mv(k)===p.type)?(b=s(p,y.props),b.ref=Do(w,p,y),b.return=w,b):(b=pc(y.type,y.key,y.props,null,w.mode,b),b.ref=Do(w,p,y),b.return=w,b)}function c(w,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=tf(y,w.mode,b),p.return=w,p):(p=s(p,y.children||[]),p.return=w,p)}function d(w,p,y,b,k){return p===null||p.tag!==7?(p=Ts(y,w.mode,b,k),p.return=w,p):(p=s(p,y),p.return=w,p)}function f(w,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ef(""+p,w.mode,y),p.return=w,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tl:return y=pc(p.type,p.key,p.props,null,w.mode,y),y.ref=Do(w,null,p),y.return=w,y;case ri:return p=tf(p,w.mode,y),p.return=w,p;case _r:var b=p._init;return f(w,b(p._payload),y)}if(Yo(p)||Io(p))return p=Ts(p,w.mode,y,null),p.return=w,p;Wl(w,p)}return null}function h(w,p,y,b){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(w,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tl:return y.key===k?l(w,p,y,b):null;case ri:return y.key===k?c(w,p,y,b):null;case _r:return k=y._init,h(w,p,k(y._payload),b)}if(Yo(y)||Io(y))return k!==null?null:d(w,p,y,b,null);Wl(w,y)}return null}function g(w,p,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(y)||null,a(p,w,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tl:return w=w.get(b.key===null?y:b.key)||null,l(p,w,b,k);case ri:return w=w.get(b.key===null?y:b.key)||null,c(p,w,b,k);case _r:var C=b._init;return g(w,p,y,C(b._payload),k)}if(Yo(b)||Io(b))return w=w.get(y)||null,d(p,w,b,k,null);Wl(p,b)}return null}function _(w,p,y,b){for(var k=null,C=null,S=p,N=p=0,T=null;S!==null&&N<y.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var P=h(w,S,y[N],b);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(w,S),p=i(P,p,N),C===null?k=P:C.sibling=P,C=P,S=T}if(N===y.length)return n(w,S),Ne&&ps(w,N),k;if(S===null){for(;N<y.length;N++)S=f(w,y[N],b),S!==null&&(p=i(S,p,N),C===null?k=S:C.sibling=S,C=S);return Ne&&ps(w,N),k}for(S=r(w,S);N<y.length;N++)T=g(S,w,N,y[N],b),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?N:T.key),p=i(T,p,N),C===null?k=T:C.sibling=T,C=T);return t&&S.forEach(function(L){return e(w,L)}),Ne&&ps(w,N),k}function m(w,p,y,b){var k=Io(y);if(typeof k!="function")throw Error(D(150));if(y=k.call(y),y==null)throw Error(D(151));for(var C=k=null,S=p,N=p=0,T=null,P=y.next();S!==null&&!P.done;N++,P=y.next()){S.index>N?(T=S,S=null):T=S.sibling;var L=h(w,S,P.value,b);if(L===null){S===null&&(S=T);break}t&&S&&L.alternate===null&&e(w,S),p=i(L,p,N),C===null?k=L:C.sibling=L,C=L,S=T}if(P.done)return n(w,S),Ne&&ps(w,N),k;if(S===null){for(;!P.done;N++,P=y.next())P=f(w,P.value,b),P!==null&&(p=i(P,p,N),C===null?k=P:C.sibling=P,C=P);return Ne&&ps(w,N),k}for(S=r(w,S);!P.done;N++,P=y.next())P=g(S,w,N,P.value,b),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?N:P.key),p=i(P,p,N),C===null?k=P:C.sibling=P,C=P);return t&&S.forEach(function(A){return e(w,A)}),Ne&&ps(w,N),k}function x(w,p,y,b){if(typeof y=="object"&&y!==null&&y.type===si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Tl:e:{for(var k=y.key,C=p;C!==null;){if(C.key===k){if(k=y.type,k===si){if(C.tag===7){n(w,C.sibling),p=s(C,y.props.children),p.return=w,w=p;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_r&&Mv(k)===C.type){n(w,C.sibling),p=s(C,y.props),p.ref=Do(w,C,y),p.return=w,w=p;break e}n(w,C);break}else e(w,C);C=C.sibling}y.type===si?(p=Ts(y.props.children,w.mode,b,y.key),p.return=w,w=p):(b=pc(y.type,y.key,y.props,null,w.mode,b),b.ref=Do(w,p,y),b.return=w,w=b)}return o(w);case ri:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(w,p.sibling),p=s(p,y.children||[]),p.return=w,w=p;break e}else{n(w,p);break}else e(w,p);p=p.sibling}p=tf(y,w.mode,b),p.return=w,w=p}return o(w);case _r:return C=y._init,x(w,p,C(y._payload),b)}if(Yo(y))return _(w,p,y,b);if(Io(y))return m(w,p,y,b);Wl(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(w,p.sibling),p=s(p,y),p.return=w,w=p):(n(w,p),p=ef(y,w.mode,b),p.return=w,w=p),o(w)):n(w,p)}return x}var zi=Fx(!0),Wx=Fx(!1),Hc=ss(null),$c=null,fi=null,Gp=null;function Yp(){Gp=fi=$c=null}function Kp(t){var e=Hc.current;Ee(Hc),t._currentValue=e}function mh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){$c=t,Gp=fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(Gp!==t)if(t={context:t,memoizedValue:e,next:null},fi===null){if($c===null)throw Error(D(308));fi=t,$c.dependencies={lanes:0,firstContext:t}}else fi=fi.next=t;return e}var _s=null;function qp(t){_s===null?_s=[t]:_s.push(t)}function Ux(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qp(e)):(n.next=s.next,s.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,tr(t,n)}return s=r.interleaved,s===null?(e.next=e,qp(r)):(e.next=s.next,s.next=e),r.interleaved=e,tr(t,n)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dp(t,n)}}function Dv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bc(t,e,n,r){var s=t.updateQueue;xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,m=a;switch(h=e,g=n,m.tag){case 1:if(_=m.payload,typeof _=="function"){f=_.call(g,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=m.payload,h=typeof _=="function"?_.call(g,f,h):_,h==null)break e;f=Ie({},f,h);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);As|=o,t.lanes=o,t.memoizedState=f}}function jv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var nl={},In=ss(nl),ka=ss(nl),Ta=ss(nl);function xs(t){if(t===nl)throw Error(D(174));return t}function Xp(t,e){switch(_e(Ta,e),_e(ka,t),_e(In,nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qf(e,t)}Ee(In),_e(In,e)}function Vi(){Ee(In),Ee(ka),Ee(Ta)}function $x(t){xs(Ta.current);var e=xs(In.current),n=qf(e,t.type);e!==n&&(_e(ka,t),_e(In,n))}function Jp(t){ka.current===t&&(Ee(In),Ee(ka))}var Te=ss(0);function zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kd=[];function Zp(){for(var t=0;t<Kd.length;t++)Kd[t]._workInProgressVersionPrimary=null;Kd.length=0}var cc=cr.ReactCurrentDispatcher,qd=cr.ReactCurrentBatchConfig,Rs=0,Pe=null,Ue=null,Ke=null,Vc=!1,sa=!1,Pa=0,tT=0;function st(){throw Error(D(321))}function em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function tm(t,e,n,r,s,i){if(Rs=i,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?iT:oT,t=n(r,s),sa){i=0;do{if(sa=!1,Pa=0,25<=i)throw Error(D(301));i+=1,Ke=Ue=null,e.updateQueue=null,cc.current=aT,t=n(r,s)}while(sa)}if(cc.current=Gc,e=Ue!==null&&Ue.next!==null,Rs=0,Ke=Ue=Pe=null,Vc=!1,e)throw Error(D(300));return t}function nm(){var t=Pa!==0;return Pa=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Pe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Xt(){if(Ue===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ke===null?Pe.memoizedState:Ke.next;if(e!==null)Ke=e,Ue=t;else{if(t===null)throw Error(D(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Pe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ia(t,e){return typeof e=="function"?e(t):e}function Qd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Rs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Pe.lanes|=d,As|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,pn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Pe.lanes|=i,As|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);pn(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Bx(){}function zx(t,e){var n=Pe,r=Xt(),s=e(),i=!pn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ct=!0),r=r.queue,rm(Yx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ra(9,Gx.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(D(349));Rs&30||Vx(n,e,s)}return s}function Vx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gx(t,e,n,r){e.value=n,e.getSnapshot=r,Kx(e)&&qx(t)}function Yx(t,e,n){return n(function(){Kx(e)&&qx(t)})}function Kx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function qx(t){var e=tr(t,1);e!==null&&fn(e,t,1,-1)}function Lv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},e.queue=t,t=t.dispatch=sT.bind(null,Pe,t),[e.memoizedState,t]}function Ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qx(){return Xt().memoizedState}function uc(t,e,n,r){var s=bn();Pe.flags|=t,s.memoizedState=Ra(1|e,n,void 0,r===void 0?null:r)}function Uu(t,e,n,r){var s=Xt();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&em(r,o.deps)){s.memoizedState=Ra(e,n,i,r);return}}Pe.flags|=t,s.memoizedState=Ra(1|e,n,i,r)}function Fv(t,e){return uc(8390656,8,t,e)}function rm(t,e){return Uu(2048,8,t,e)}function Xx(t,e){return Uu(4,2,t,e)}function Jx(t,e){return Uu(4,4,t,e)}function Zx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e0(t,e,n){return n=n!=null?n.concat([t]):null,Uu(4,4,Zx.bind(null,e,t),n)}function sm(){}function t0(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&em(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n0(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&em(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r0(t,e,n){return Rs&21?(pn(n,e)||(n=lx(),Pe.lanes|=n,As|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function nT(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=qd.transition;qd.transition={};try{t(!1),e()}finally{fe=n,qd.transition=r}}function s0(){return Xt().memoizedState}function rT(t,e,n){var r=$r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i0(t))o0(e,n);else if(n=Ux(t,e,n,r),n!==null){var s=vt();fn(n,t,r,s),a0(n,e,r)}}function sT(t,e,n){var r=$r(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i0(t))o0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,pn(a,o)){var l=e.interleaved;l===null?(s.next=s,qp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ux(t,e,s,r),n!==null&&(s=vt(),fn(n,t,r,s),a0(n,e,r))}}function i0(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function o0(t,e){sa=Vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dp(t,n)}}var Gc={readContext:Qt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},iT={readContext:Qt,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:Fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,Zx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rT.bind(null,Pe,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Lv,useDebugValue:sm,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Lv(!1),e=t[0];return t=nT.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pe,s=bn();if(Ne){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Qe===null)throw Error(D(349));Rs&30||Vx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Fv(Yx.bind(null,r,i,t),[t]),r.flags|=2048,Ra(9,Gx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=bn(),e=Qe.identifierPrefix;if(Ne){var n=Gn,r=Vn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oT={readContext:Qt,useCallback:t0,useContext:Qt,useEffect:rm,useImperativeHandle:e0,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:n0,useReducer:Qd,useRef:Qx,useState:function(){return Qd(Ia)},useDebugValue:sm,useDeferredValue:function(t){var e=Xt();return r0(e,Ue.memoizedState,t)},useTransition:function(){var t=Qd(Ia)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:zx,useId:s0,unstable_isNewReconciler:!1},aT={readContext:Qt,useCallback:t0,useContext:Qt,useEffect:rm,useImperativeHandle:e0,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:n0,useReducer:Xd,useRef:Qx,useState:function(){return Xd(Ia)},useDebugValue:sm,useDeferredValue:function(t){var e=Xt();return Ue===null?e.memoizedState=t:r0(e,Ue.memoizedState,t)},useTransition:function(){var t=Xd(Ia)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:zx,useId:s0,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hu={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=$r(t),i=Qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(fn(e,t,s,r),lc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=$r(t),i=Qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(fn(e,t,s,r),lc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=$r(t),s=Qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ur(t,s,r),e!==null&&(fn(e,t,r,n),lc(e,t,r))}};function Wv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,r)||!Ca(s,i):!0}function l0(t,e,n){var r=!1,s=Qr,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=kt(e)?Ps:lt.current,r=e.contextTypes,i=(r=r!=null)?$i(t,s):Qr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hu.enqueueReplaceState(e,e.state,null)}function vh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Qp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=kt(e)?Ps:lt.current,s.context=$i(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hu.enqueueReplaceState(s,s.state,null),Bc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gi(t,e){try{var n="",r=e;do n+=DN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function c0(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kc||(Kc=!0,Th=r),yh(t,e)},n}function u0(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){yh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yh(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=bT.bind(null,t,e,n),e.then(t,t))}function $v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var cT=cr.ReactCurrentOwner,Ct=!1;function ft(t,e,n,r){e.child=t===null?Wx(e,null,n,r):zi(e,t.child,n,r)}function zv(t,e,n,r,s){n=n.render;var i=e.ref;return bi(e,s),r=tm(t,e,n,r,i,s),n=nm(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nr(t,e,s)):(Ne&&n&&Bp(e),e.flags|=1,ft(t,e,r,s),e.child)}function Vv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,d0(t,e,i,r,s)):(t=pc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,r)&&t.ref===e.ref)return nr(t,e,s)}return e.flags|=1,t=Br(i,r),t.ref=e.ref,t.return=e,e.child=t}function d0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ca(i,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,nr(t,e,s)}return wh(t,e,n,r,s)}function f0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(pi,Ot),Ot|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(pi,Ot),Ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(pi,Ot),Ot|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_e(pi,Ot),Ot|=r;return ft(t,e,s,n),e.child}function h0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wh(t,e,n,r,s){var i=kt(n)?Ps:lt.current;return i=$i(e,i),bi(e,s),n=tm(t,e,n,r,i,s),r=nm(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nr(t,e,s)):(Ne&&r&&Bp(e),e.flags|=1,ft(t,e,n,s),e.child)}function Gv(t,e,n,r,s){if(kt(n)){var i=!0;Fc(e)}else i=!1;if(bi(e,s),e.stateNode===null)dc(t,e),l0(e,n,r),vh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=kt(n)?Ps:lt.current,c=$i(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Uv(e,o,r,c),xr=!1;var h=e.memoizedState;o.state=h,Bc(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Nt.current||xr?(typeof d=="function"&&(gh(e,n,d,r),l=e.memoizedState),(a=xr||Wv(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=kt(n)?Ps:lt.current,l=$i(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Uv(e,o,r,l),xr=!1,h=e.memoizedState,o.state=h,Bc(e,r,o,s);var _=e.memoizedState;a!==f||h!==_||Nt.current||xr?(typeof g=="function"&&(gh(e,n,g,r),_=e.memoizedState),(c=xr||Wv(e,n,c,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return _h(t,e,n,r,i,s)}function _h(t,e,n,r,s,i){h0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Rv(e,n,!1),nr(t,e,i);r=e.stateNode,cT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zi(e,t.child,null,i),e.child=zi(e,null,a,i)):ft(t,e,a,i),e.memoizedState=r.state,s&&Rv(e,n,!0),e.child}function p0(t){var e=t.stateNode;e.pendingContext?Iv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iv(t,e.context,!1),Xp(t,e.containerInfo)}function Yv(t,e,n,r,s){return Bi(),Vp(s),e.flags|=256,ft(t,e,n,r),e.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function m0(t,e,n){var r=e.pendingProps,s=Te.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(Te,s&1),t===null)return ph(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zu(o,r,0,null),t=Ts(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bh(n),e.memoizedState=xh,t):im(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Br(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Br(a,i):(i=Ts(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?bh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xh,r}return i=t.child,t=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function im(t,e){return e=zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ul(t,e,n,r){return r!==null&&Vp(r),zi(e,t.child,null,n),t=im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jd(Error(D(422))),Ul(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zu({mode:"visible",children:r.children},s,0,null),i=Ts(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zi(e,t.child,null,o),e.child.memoizedState=bh(o),e.memoizedState=xh,i);if(!(e.mode&1))return Ul(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Jd(i,r,void 0),Ul(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ct||a){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,tr(t,s),fn(r,t,s,-1))}return dm(),r=Jd(Error(D(421))),Ul(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=CT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dt=Wr(s.nextSibling),jt=e,Ne=!0,on=null,t!==null&&(zt[Vt++]=Vn,zt[Vt++]=Gn,zt[Vt++]=Is,Vn=t.id,Gn=t.overflow,Is=e),e=im(e,r.children),e.flags|=4096,e)}function Kv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mh(t.return,e,n)}function Zd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function g0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ft(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kv(t,n,e);else if(t.tag===19)Kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zd(e,!0,n,null,i);break;case"together":Zd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dT(t,e,n){switch(e.tag){case 3:p0(e),Bi();break;case 5:$x(e);break;case 1:kt(e.type)&&Fc(e);break;case 4:Xp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_e(Hc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?m0(t,e,n):(_e(Te,Te.current&1),t=nr(t,e,n),t!==null?t.sibling:null);_e(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return g0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,f0(t,e,n)}return nr(t,e,n)}var v0,Ch,y0,w0;v0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ch=function(){};y0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xs(In.current);var i=null;switch(n){case"input":s=Vf(t,s),r=Vf(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=Kf(t,s),r=Kf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jc)}Qf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ga.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ga.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};w0=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fT(t,e,n){var r=e.pendingProps;switch(zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return kt(e.type)&&Lc(),it(e),null;case 3:return r=e.stateNode,Vi(),Ee(Nt),Ee(lt),Zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Rh(on),on=null))),Ch(t,e),it(e),null;case 5:Jp(e);var s=xs(Ta.current);if(n=e.type,t!==null&&e.stateNode!=null)y0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return it(e),null}if(t=xs(In.current),Fl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[Na]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<qo.length;s++)Se(qo[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":rv(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":iv(r,i),Se("invalid",r)}Qf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ll(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ll(r.textContent,a,t),s=["children",""+a]):ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Pl(r),sv(r,i,!0);break;case"textarea":Pl(r),ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Na]=r,v0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<qo.length;s++)Se(qo[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":rv(t,r),s=Vf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),Se("invalid",t);break;case"textarea":iv(t,r),s=Kf(t,r),Se("invalid",t);break;default:s=r}Qf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Q_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&va(t,l):typeof l=="number"&&va(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ga.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&Pp(t,i,l,o))}switch(n){case"input":Pl(t),sv(t,r,!1);break;case"textarea":Pl(t),ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yi(t,!!r.multiple,i,!1):r.defaultValue!=null&&yi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)w0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=xs(Ta.current),xs(In.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Ll(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ll(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return it(e),null;case 13:if(Ee(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Dt!==null&&e.mode&1&&!(e.flags&128))Lx(),Bi(),e.flags|=98560,i=!1;else if(i=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Nn]=e}else Bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),i=!1}else on!==null&&(Rh(on),on=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Be===0&&(Be=3):dm())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Vi(),Ch(t,e),t===null&&Sa(e.stateNode.containerInfo),it(e),null;case 10:return Kp(e.type._context),it(e),null;case 17:return kt(e.type)&&Lc(),it(e),null;case 19:if(Ee(Te),i=e.memoizedState,i===null)return it(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jo(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zc(t),o!==null){for(e.flags|=128,jo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Le()>Yi&&(e.flags|=128,r=!0,jo(i,!1),e.lanes=4194304)}else{if(!r)if(t=zc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return it(e),null}else 2*Le()-i.renderingStartTime>Yi&&n!==1073741824&&(e.flags|=128,r=!0,jo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Te.current,_e(Te,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return um(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ot&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function hT(t,e){switch(zp(e),e.tag){case 1:return kt(e.type)&&Lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),Ee(Nt),Ee(lt),Zp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jp(e),null;case 13:if(Ee(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Te),null;case 4:return Vi(),null;case 10:return Kp(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Hl=!1,at=!1,pT=typeof WeakSet=="function"?WeakSet:Set,U=null;function hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Sh(t,e,n){try{n()}catch(r){Me(t,e,r)}}var qv=!1;function mT(t,e){if(ah=Oc,t=Sx(),$p(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lh={focusedElem:t,selectionRange:n},Oc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var m=_.memoizedProps,x=_.memoizedState,w=e.stateNode,p=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:tn(e.type,m),x);w.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){Me(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return _=qv,qv=!1,_}function ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sh(e,n,i)}s=s.next}while(s!==r)}}function $u(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _0(t){var e=t.alternate;e!==null&&(t.alternate=null,_0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Na],delete e[dh],delete e[Xk],delete e[Jk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x0(t){return t.tag===5||t.tag===3||t.tag===4}function Qv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jc));else if(r!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}function kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kh(t,e,n),t=t.sibling;t!==null;)kh(t,e,n),t=t.sibling}var Xe=null,sn=!1;function fr(t,e,n){for(n=n.child;n!==null;)b0(t,e,n),n=n.sibling}function b0(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Mu,n)}catch{}switch(n.tag){case 5:at||hi(n,e);case 6:var r=Xe,s=sn;Xe=null,fr(t,e,n),Xe=r,sn=s,Xe!==null&&(sn?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(sn?(t=Xe,n=n.stateNode,t.nodeType===8?Gd(t.parentNode,n):t.nodeType===1&&Gd(t,n),xa(t)):Gd(Xe,n.stateNode));break;case 4:r=Xe,s=sn,Xe=n.stateNode.containerInfo,sn=!0,fr(t,e,n),Xe=r,sn=s;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sh(n,e,o),s=s.next}while(s!==r)}fr(t,e,n);break;case 1:if(!at&&(hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}fr(t,e,n);break;case 21:fr(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,fr(t,e,n),at=r):fr(t,e,n);break;default:fr(t,e,n)}}function Xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pT),e.forEach(function(r){var s=ST.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,sn=!1;break e;case 3:Xe=a.stateNode.containerInfo,sn=!0;break e;case 4:Xe=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(Xe===null)throw Error(D(160));b0(i,o,s),Xe=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C0(e,t),e=e.sibling}function C0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),xn(t),r&4){try{ia(3,t,t.return),$u(3,t)}catch(m){Me(t,t.return,m)}try{ia(5,t,t.return)}catch(m){Me(t,t.return,m)}}break;case 1:Zt(e,t),xn(t),r&512&&n!==null&&hi(n,n.return);break;case 5:if(Zt(e,t),xn(t),r&512&&n!==null&&hi(n,n.return),t.flags&32){var s=t.stateNode;try{va(s,"")}catch(m){Me(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&V_(s,i),Xf(a,o);var c=Xf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Q_(s,f):d==="dangerouslySetInnerHTML"?K_(s,f):d==="children"?va(s,f):Pp(s,d,f,c)}switch(a){case"input":Gf(s,i);break;case"textarea":G_(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yi(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?yi(s,!!i.multiple,i.defaultValue,!0):yi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Na]=i}catch(m){Me(t,t.return,m)}}break;case 6:if(Zt(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Me(t,t.return,m)}}break;case 3:if(Zt(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(e.containerInfo)}catch(m){Me(t,t.return,m)}break;case 4:Zt(e,t),xn(t);break;case 13:Zt(e,t),xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lm=Le())),r&4&&Xv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||d,Zt(e,t),at=c):Zt(e,t),xn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(f=U=d;U!==null;){switch(h=U,g=h.child,h.tag){case 0:case 11:case 14:case 15:ia(4,h,h.return);break;case 1:hi(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(m){Me(r,n,m)}}break;case 5:hi(h,h.return);break;case 22:if(h.memoizedState!==null){Zv(f);continue}}g!==null?(g.return=h,U=g):Zv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=q_("display",o))}catch(m){Me(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Me(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(e,t),xn(t),r&4&&Xv(t);break;case 21:break;default:Zt(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x0(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(va(s,""),r.flags&=-33);var i=Qv(t);kh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qv(t);Nh(t,a,o);break;default:throw Error(D(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gT(t,e,n){U=t,S0(t)}function S0(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||at;a=Hl;var c=at;if(Hl=o,(at=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?ey(s):l!==null?(l.return=o,U=l):ey(s);for(;i!==null;)U=i,S0(i),i=i.sibling;U=s,Hl=a,at=c}Jv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):Jv(t)}}function Jv(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||$u(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&jv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}at||e.flags&512&&Eh(e)}catch(h){Me(e,e.return,h)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Zv(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function ey(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$u(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{Eh(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{Eh(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var vT=Math.ceil,Yc=cr.ReactCurrentDispatcher,om=cr.ReactCurrentOwner,qt=cr.ReactCurrentBatchConfig,ie=0,Qe=null,We=null,Ze=0,Ot=0,pi=ss(0),Be=0,Aa=null,As=0,Bu=0,am=0,oa=null,bt=null,lm=0,Yi=1/0,Bn=null,Kc=!1,Th=null,Hr=null,$l=!1,Mr=null,qc=0,aa=0,Ph=null,fc=-1,hc=0;function vt(){return ie&6?Le():fc!==-1?fc:fc=Le()}function $r(t){return t.mode&1?ie&2&&Ze!==0?Ze&-Ze:eT.transition!==null?(hc===0&&(hc=lx()),hc):(t=fe,t!==0||(t=window.event,t=t===void 0?16:mx(t.type)),t):1}function fn(t,e,n,r){if(50<aa)throw aa=0,Ph=null,Error(D(185));Za(t,n,r),(!(ie&2)||t!==Qe)&&(t===Qe&&(!(ie&2)&&(Bu|=n),Be===4&&Cr(t,Ze)),Tt(t,r),n===1&&ie===0&&!(e.mode&1)&&(Yi=Le()+500,Wu&&is()))}function Tt(t,e){var n=t.callbackNode;ek(t,e);var r=Ac(t,t===Qe?Ze:0);if(r===0)n!==null&&cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cv(n),e===1)t.tag===0?Zk(ty.bind(null,t)):Mx(ty.bind(null,t)),qk(function(){!(ie&6)&&is()}),n=null;else{switch(cx(r)){case 1:n=Mp;break;case 4:n=ox;break;case 16:n=Rc;break;case 536870912:n=ax;break;default:n=Rc}n=A0(n,E0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E0(t,e){if(fc=-1,hc=0,ie&6)throw Error(D(327));var n=t.callbackNode;if(Ci()&&t.callbackNode!==n)return null;var r=Ac(t,t===Qe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var s=ie;ie|=2;var i=k0();(Qe!==t||Ze!==e)&&(Bn=null,Yi=Le()+500,ks(t,e));do try{_T();break}catch(a){N0(t,a)}while(!0);Yp(),Yc.current=i,ie=s,We!==null?e=0:(Qe=null,Ze=0,e=Be)}if(e!==0){if(e===2&&(s=nh(t),s!==0&&(r=s,e=Ih(t,s))),e===1)throw n=Aa,ks(t,0),Cr(t,r),Tt(t,Le()),n;if(e===6)Cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!yT(s)&&(e=Qc(t,r),e===2&&(i=nh(t),i!==0&&(r=i,e=Ih(t,i))),e===1))throw n=Aa,ks(t,0),Cr(t,r),Tt(t,Le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ms(t,bt,Bn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=lm+500-Le(),10<e)){if(Ac(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uh(ms.bind(null,t,bt,Bn),e);break}ms(t,bt,Bn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vT(r/1960))-r,10<r){t.timeoutHandle=uh(ms.bind(null,t,bt,Bn),r);break}ms(t,bt,Bn);break;case 5:ms(t,bt,Bn);break;default:throw Error(D(329))}}}return Tt(t,Le()),t.callbackNode===n?E0.bind(null,t):null}function Ih(t,e){var n=oa;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=bt,bt=n,e!==null&&Rh(e)),t}function Rh(t){bt===null?bt=t:bt.push.apply(bt,t)}function yT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~am,e&=~Bu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function ty(t){if(ie&6)throw Error(D(327));Ci();var e=Ac(t,0);if(!(e&1))return Tt(t,Le()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=nh(t);r!==0&&(e=r,n=Ih(t,r))}if(n===1)throw n=Aa,ks(t,0),Cr(t,e),Tt(t,Le()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,bt,Bn),Tt(t,Le()),null}function cm(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Yi=Le()+500,Wu&&is())}}function Os(t){Mr!==null&&Mr.tag===0&&!(ie&6)&&Ci();var e=ie;ie|=1;var n=qt.transition,r=fe;try{if(qt.transition=null,fe=1,t)return t()}finally{fe=r,qt.transition=n,ie=e,!(ie&6)&&is()}}function um(){Ot=pi.current,Ee(pi)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kk(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(zp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lc();break;case 3:Vi(),Ee(Nt),Ee(lt),Zp();break;case 5:Jp(r);break;case 4:Vi();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:Kp(r.type._context);break;case 22:case 23:um()}n=n.return}if(Qe=t,We=t=Br(t.current,null),Ze=Ot=e,Be=0,Aa=null,am=Bu=As=0,bt=oa=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_s=null}return t}function N0(t,e){do{var n=We;try{if(Yp(),cc.current=Gc,Vc){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vc=!1}if(Rs=0,Ke=Ue=Pe=null,sa=!1,Pa=0,om.current=null,n===null||n.return===null){Be=1,Aa=e,We=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=$v(o);if(g!==null){g.flags&=-257,Bv(g,o,a,i,e),g.mode&1&&Hv(i,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var m=new Set;m.add(l),e.updateQueue=m}else _.add(l);break e}else{if(!(e&1)){Hv(i,c,e),dm();break e}l=Error(D(426))}}else if(Ne&&a.mode&1){var x=$v(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bv(x,o,a,i,e),Vp(Gi(l,a));break e}}i=l=Gi(l,a),Be!==4&&(Be=2),oa===null?oa=[i]:oa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=c0(i,l,e);Dv(i,w);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=u0(i,a,e);Dv(i,b);break e}}i=i.return}while(i!==null)}P0(n)}catch(k){e=k,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function k0(){var t=Yc.current;return Yc.current=Gc,t===null?Gc:t}function dm(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(As&268435455)&&!(Bu&268435455)||Cr(Qe,Ze)}function Qc(t,e){var n=ie;ie|=2;var r=k0();(Qe!==t||Ze!==e)&&(Bn=null,ks(t,e));do try{wT();break}catch(s){N0(t,s)}while(!0);if(Yp(),ie=n,Yc.current=r,We!==null)throw Error(D(261));return Qe=null,Ze=0,Be}function wT(){for(;We!==null;)T0(We)}function _T(){for(;We!==null&&!VN();)T0(We)}function T0(t){var e=R0(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,e===null?P0(t):We=e,om.current=null}function P0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hT(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,We=null;return}}else if(n=fT(n,e,Ot),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Be===0&&(Be=5)}function ms(t,e,n){var r=fe,s=qt.transition;try{qt.transition=null,fe=1,xT(t,e,n,r)}finally{qt.transition=s,fe=r}return null}function xT(t,e,n,r){do Ci();while(Mr!==null);if(ie&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(tk(t,i),t===Qe&&(We=Qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,A0(Rc,function(){return Ci(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var o=fe;fe=1;var a=ie;ie|=4,om.current=null,mT(t,n),C0(n,t),Hk(lh),Oc=!!ah,lh=ah=null,t.current=n,gT(n),GN(),ie=a,fe=o,qt.transition=i}else t.current=n;if($l&&($l=!1,Mr=t,qc=s),i=t.pendingLanes,i===0&&(Hr=null),qN(n.stateNode),Tt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kc)throw Kc=!1,t=Th,Th=null,t;return qc&1&&t.tag!==0&&Ci(),i=t.pendingLanes,i&1?t===Ph?aa++:(aa=0,Ph=t):aa=0,is(),null}function Ci(){if(Mr!==null){var t=cx(qc),e=qt.transition,n=fe;try{if(qt.transition=null,fe=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,qc=0,ie&6)throw Error(D(331));var s=ie;for(ie|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:ia(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var h=d.sibling,g=d.return;if(_0(d),d===c){U=null;break}if(h!==null){h.return=g,U=h;break}U=g}}}var _=i.alternate;if(_!==null){var m=_.child;if(m!==null){_.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ia(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,U=w;break e}U=i.return}}var p=t.current;for(U=p;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=p;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$u(9,a)}}catch(k){Me(a,a.return,k)}if(a===o){U=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,U=b;break e}U=a.return}}if(ie=s,is(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Mu,t)}catch{}r=!0}return r}finally{fe=n,qt.transition=e}}return!1}function ny(t,e,n){e=Gi(n,e),e=c0(t,e,1),t=Ur(t,e,1),e=vt(),t!==null&&(Za(t,1,e),Tt(t,e))}function Me(t,e,n){if(t.tag===3)ny(t,t,n);else for(;e!==null;){if(e.tag===3){ny(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=Gi(n,t),t=u0(e,t,1),e=Ur(e,t,1),t=vt(),e!==null&&(Za(e,1,t),Tt(e,t));break}}e=e.return}}function bT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Ze&n)===n&&(Be===4||Be===3&&(Ze&130023424)===Ze&&500>Le()-lm?ks(t,0):am|=n),Tt(t,e)}function I0(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=vt();t=tr(t,e),t!==null&&(Za(t,e,n),Tt(t,n))}function CT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I0(t,n)}function ST(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),I0(t,n)}var R0;R0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,dT(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Ne&&e.flags&1048576&&Dx(e,Uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dc(t,e),t=e.pendingProps;var s=$i(e,lt.current);bi(e,n),s=tm(null,e,r,t,s,n);var i=nm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(i=!0,Fc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qp(e),s.updater=Hu,e.stateNode=s,s._reactInternals=e,vh(e,r,t,n),e=_h(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&Bp(e),ft(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NT(r),t=tn(r,t),s){case 0:e=wh(null,e,r,t,n);break e;case 1:e=Gv(null,e,r,t,n);break e;case 11:e=zv(null,e,r,t,n);break e;case 14:e=Vv(null,e,r,tn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),wh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Gv(t,e,r,s,n);case 3:e:{if(p0(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Hx(t,e),Bc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gi(Error(D(423)),e),e=Yv(t,e,r,n,s);break e}else if(r!==s){s=Gi(Error(D(424)),e),e=Yv(t,e,r,n,s);break e}else for(Dt=Wr(e.stateNode.containerInfo.firstChild),jt=e,Ne=!0,on=null,n=Wx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bi(),r===s){e=nr(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return $x(e),t===null&&ph(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ch(r,s)?o=null:i!==null&&ch(r,i)&&(e.flags|=32),h0(t,e),ft(t,e,o,n),e.child;case 6:return t===null&&ph(e),null;case 13:return m0(t,e,n);case 4:return Xp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zi(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),zv(t,e,r,s,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_e(Hc,r._currentValue),r._currentValue=o,i!==null)if(pn(i.value,o)){if(i.children===s.children&&!Nt.current){e=nr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Qn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bi(e,n),s=Qt(s),r=r(s),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,s=tn(r,e.pendingProps),s=tn(r.type,s),Vv(t,e,r,s,n);case 15:return d0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),dc(t,e),e.tag=1,kt(r)?(t=!0,Fc(e)):t=!1,bi(e,n),l0(e,r,s),vh(e,r,s,n),_h(null,e,r,!0,t,n);case 19:return g0(t,e,n);case 22:return f0(t,e,n)}throw Error(D(156,e.tag))};function A0(t,e){return ix(t,e)}function ET(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,n,r){return new ET(t,e,n,r)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NT(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rp)return 11;if(t===Ap)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=Yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")fm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case si:return Ts(n.children,s,i,e);case Ip:o=8,s|=8;break;case Hf:return t=Yt(12,n,e,s|2),t.elementType=Hf,t.lanes=i,t;case $f:return t=Yt(13,n,e,s),t.elementType=$f,t.lanes=i,t;case Bf:return t=Yt(19,n,e,s),t.elementType=Bf,t.lanes=i,t;case $_:return zu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U_:o=10;break e;case H_:o=9;break e;case Rp:o=11;break e;case Ap:o=14;break e;case _r:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Yt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ts(t,e,n,r){return t=Yt(7,t,r,e),t.lanes=n,t}function zu(t,e,n,r){return t=Yt(22,t,r,e),t.elementType=$_,t.lanes=n,t.stateNode={isHidden:!1},t}function ef(t,e,n){return t=Yt(6,t,null,e),t.lanes=n,t}function tf(t,e,n){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dd(0),this.expirationTimes=Dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hm(t,e,n,r,s,i,o,a,l){return t=new kT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(i),t}function TT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function O0(t){if(!t)return Qr;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(kt(n))return Ox(t,n,e)}return e}function M0(t,e,n,r,s,i,o,a,l){return t=hm(n,r,!0,t,s,i,o,a,l),t.context=O0(null),n=t.current,r=vt(),s=$r(n),i=Qn(r,s),i.callback=e??null,Ur(n,i,s),t.current.lanes=s,Za(t,s,r),Tt(t,r),t}function Vu(t,e,n,r){var s=e.current,i=vt(),o=$r(s);return n=O0(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(s,e,o),t!==null&&(fn(t,s,o,i),lc(t,s,o)),o}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){ry(t,e),(t=t.alternate)&&ry(t,e)}function PT(){return null}var D0=typeof reportError=="function"?reportError:function(t){console.error(t)};function mm(t){this._internalRoot=t}Gu.prototype.render=mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Vu(t,e,null,null)};Gu.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){Vu(null,t,null,null)}),e[er]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=fx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&px(t)}};function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sy(){}function IT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xc(o);i.call(c)}}var o=M0(e,r,t,0,null,!1,!1,"",sy);return t._reactRootContainer=o,t[er]=o.current,Sa(t.nodeType===8?t.parentNode:t),Os(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Xc(l);a.call(c)}}var l=hm(t,0,!1,null,null,!1,!1,"",sy);return t._reactRootContainer=l,t[er]=l.current,Sa(t.nodeType===8?t.parentNode:t),Os(function(){Vu(e,l,n,r)}),l}function Ku(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Xc(o);a.call(l)}}Vu(e,o,t,s)}else o=IT(n,e,t,s,r);return Xc(o)}ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ko(e.pendingLanes);n!==0&&(Dp(e,n|1),Tt(e,Le()),!(ie&6)&&(Yi=Le()+500,is()))}break;case 13:Os(function(){var r=tr(t,1);if(r!==null){var s=vt();fn(r,t,1,s)}}),pm(t,1)}};jp=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=vt();fn(e,t,134217728,n)}pm(t,134217728)}};dx=function(t){if(t.tag===13){var e=$r(t),n=tr(t,e);if(n!==null){var r=vt();fn(n,t,e,r)}pm(t,e)}};fx=function(){return fe};hx=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Zf=function(t,e,n){switch(e){case"input":if(Gf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fu(r);if(!s)throw Error(D(90));z_(r),Gf(r,s)}}}break;case"textarea":G_(t,n);break;case"select":e=n.value,e!=null&&yi(t,!!n.multiple,e,!1)}};Z_=cm;ex=Os;var RT={usingClientEntryPoint:!1,Events:[tl,li,Fu,X_,J_,cm]},Lo={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AT={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rx(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||PT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Mu=Bl.inject(AT),Pn=Bl}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RT;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(e))throw Error(D(200));return TT(t,e,null,n)};Ht.createRoot=function(t,e){if(!gm(t))throw Error(D(299));var n=!1,r="",s=D0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hm(t,1,!1,null,null,n,!1,r,s),t[er]=e.current,Sa(t.nodeType===8?t.parentNode:t),new mm(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=rx(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return Os(t)};Ht.hydrate=function(t,e,n){if(!Yu(e))throw Error(D(200));return Ku(null,t,e,!0,n)};Ht.hydrateRoot=function(t,e,n){if(!gm(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=D0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=M0(e,null,t,1,n??null,s,!1,i,o),t[er]=e.current,Sa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gu(e)};Ht.render=function(t,e,n){if(!Yu(e))throw Error(D(200));return Ku(null,t,e,!1,n)};Ht.unmountComponentAtNode=function(t){if(!Yu(t))throw Error(D(40));return t._reactRootContainer?(Os(function(){Ku(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};Ht.unstable_batchedUpdates=cm;Ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yu(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Ku(t,e,n,!1,r)};Ht.version="18.3.1-next-f1338f8080-20240426";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(t){console.error(t)}}j0(),j_.exports=Ht;var Gs=j_.exports;const OT=C_(Gs);var L0,iy=Gs;L0=iy.createRoot,iy.hydrateRoot;function MT(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var F0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=v;function DT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jT=typeof Object.is=="function"?Object.is:DT,LT=Ki.useState,FT=Ki.useEffect,WT=Ki.useLayoutEffect,UT=Ki.useDebugValue;function HT(t,e){var n=e(),r=LT({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return WT(function(){s.value=n,s.getSnapshot=e,nf(s)&&i({inst:s})},[t,n,e]),FT(function(){return nf(s)&&i({inst:s}),t(function(){nf(s)&&i({inst:s})})},[t]),UT(n),n}function nf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jT(t,n)}catch{return!0}}function $T(t,e){return e()}var BT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$T:HT;W0.useSyncExternalStore=Ki.useSyncExternalStore!==void 0?Ki.useSyncExternalStore:BT;F0.exports=W0;var zT=F0.exports;const VT=M_.useInsertionEffect,GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YT=GT?v.useLayoutEffect:v.useEffect,KT=VT||YT,U0=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return KT(()=>{e[0]=t}),e[1]},qT="popstate",vm="pushState",ym="replaceState",QT="hashchange",oy=[qT,vm,ym,QT],XT=t=>{for(const e of oy)addEventListener(e,t);return()=>{for(const e of oy)removeEventListener(e,t)}},H0=(t,e)=>zT.useSyncExternalStore(XT,t,e),JT=()=>location.search,ZT=({ssrSearch:t=""}={})=>H0(JT,()=>t),ay=()=>location.pathname,eP=({ssrPath:t}={})=>H0(ay,t?()=>t:ay),tP=(t,{replace:e=!1,state:n=null}={})=>history[e?ym:vm](n,"",t),nP=(t={})=>[eP(t),tP],ly=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ly]>"u"){for(const t of[vm,ym]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ly,{value:!0})}const rP=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",$0=(t="")=>t==="/"?"":t,sP=(t,e)=>t[0]==="~"?t.slice(1):$0(e)+t,iP=(t="",e)=>rP(cy($0(t)),cy(e)),cy=t=>{try{return decodeURI(t)}catch{return t}},B0={hook:nP,searchHook:ZT,parser:MT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},z0=v.createContext(B0),fo=()=>v.useContext(z0),V0={},G0=v.createContext(V0),oP=()=>v.useContext(G0),qu=t=>{const[e,n]=t.hook(t);return[iP(t.base,e),U0((r,s)=>n(sP(r,t.base),s))]},os=()=>qu(fo()),wm=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},_m=t=>wm(fo().parser,t,os()[0]),aP=({children:t,...e})=>{var d,f;const n=fo(),r=e.hook?B0:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=v.useRef({}),l=a.current,c=l;for(let h in r){const g=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&g!==c[h]&&(a.current=c={...c}),c[h]=g,g!==r[h]&&(s=c)}return v.createElement(z0.Provider,{value:s,children:t})},uy=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,lP=t=>{let e=v.useRef(V0),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Fn=({path:t,nest:e,match:n,...r})=>{const s=fo(),[i]=qu(s),[o,a,l]=n??wm(s.parser,t,i,e),c=lP({...oP(),...a});if(!o)return null;const d=l?v.createElement(aP,{base:l},uy(r,c)):uy(r,c);return v.createElement(G0.Provider,{value:c,children:d})},mc=v.forwardRef((t,e)=>{const n=fo(),[r,s]=qu(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...g}=t,_=U0(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,t)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&v.isValidElement(c)?v.cloneElement(c,{onClick:_,href:m}):v.createElement("a",{...g,onClick:_,href:m,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),Y0=t=>Array.isArray(t)?t.flatMap(e=>Y0(e&&e.type===v.Fragment?e.props.children:e)):[t],cP=({children:t,location:e})=>{const n=fo(),[r]=qu(n);for(const s of Y0(t)){let i=0;if(v.isValidElement(s)&&(i=wm(n.parser,s.props.path,e||r,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var Qu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xu=typeof window>"u"||"Deno"in globalThis;function nn(){}function uP(t,e){return typeof t=="function"?t(e):t}function dP(t){return typeof t=="number"&&t>=0&&t!==1/0}function fP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dy(t,e){return typeof t=="function"?t(e):t}function hP(t,e){return typeof t=="function"?t(e):t}function fy(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xm(o,e.options))return!1}else if(!Ma(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function hy(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Oa(e.options.mutationKey)!==Oa(i))return!1}else if(!Ma(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oa)(t)}function Oa(t){return JSON.stringify(t,(e,n)=>Ah(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ma(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ma(t[n],e[n])):!1}function K0(t,e){if(t===e)return t;const n=py(t)&&py(e);if(n||Ah(t)&&Ah(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=K0(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function py(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ah(t){if(!my(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!my(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function my(t){return Object.prototype.toString.call(t)==="[object Object]"}function pP(t){return new Promise(e=>{setTimeout(e,t)})}function mP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?K0(t,e):e}function gP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bm=Symbol();function q0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Cs,Tr,Ai,m_,yP=(m_=class extends Qu{constructor(){super();ce(this,Cs);ce(this,Tr);ce(this,Ai);Q(this,Ai,e=>{if(!Xu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,Tr)||this.setEventListener(R(this,Ai))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Tr))==null||e.call(this),Q(this,Tr,void 0))}setEventListener(e){var n;Q(this,Ai,e),(n=R(this,Tr))==null||n.call(this),Q(this,Tr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){R(this,Cs)!==e&&(Q(this,Cs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,Cs)=="boolean"?R(this,Cs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cs=new WeakMap,Tr=new WeakMap,Ai=new WeakMap,m_),Q0=new yP,Oi,Pr,Mi,g_,wP=(g_=class extends Qu{constructor(){super();ce(this,Oi,!0);ce(this,Pr);ce(this,Mi);Q(this,Mi,e=>{if(!Xu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Pr)||this.setEventListener(R(this,Mi))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Pr))==null||e.call(this),Q(this,Pr,void 0))}setEventListener(e){var n;Q(this,Mi,e),(n=R(this,Pr))==null||n.call(this),Q(this,Pr,e(this.setOnline.bind(this)))}setOnline(e){R(this,Oi)!==e&&(Q(this,Oi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return R(this,Oi)}},Oi=new WeakMap,Pr=new WeakMap,Mi=new WeakMap,g_),Jc=new wP;function _P(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function xP(t){return Math.min(1e3*2**t,3e4)}function X0(t){return(t??"online")==="online"?Jc.isOnline():!0}var J0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function rf(t){return t instanceof J0}function Z0(t){let e=!1,n=0,r=!1,s;const i=_P(),o=m=>{var x;r||(h(new J0(m)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Q0.isFocused()&&(t.networkMode==="always"||Jc.isOnline())&&t.canRun(),d=()=>X0(t.networkMode)&&t.canRun(),f=m=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,m),s==null||s(),i.reject(m))},g=()=>new Promise(m=>{var x;s=w=>{(r||c())&&m(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),_=()=>{if(r)return;let m;const x=n===0?t.initialPromise:void 0;try{m=x??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var C;if(r)return;const p=t.retry??(Xu?0:3),y=t.retryDelay??xP,b=typeof y=="function"?y(n,w):y,k=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,w);if(e||!k){h(w);return}n++,(C=t.onFail)==null||C.call(t,n,w),pP(b).then(()=>c()?void 0:g()).then(()=>{e?h(w):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():g().then(_),i)}}function bP(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var mt=bP(),Ss,v_,eb=(v_=class{constructor(){ce(this,Ss)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dP(this.gcTime)&&Q(this,Ss,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xu?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ss)&&(clearTimeout(R(this,Ss)),Q(this,Ss,void 0))}},Ss=new WeakMap,v_),Di,ji,Bt,ot,Qa,Es,rn,$n,y_,CP=(y_=class extends eb{constructor(e){super();ce(this,rn);ce(this,Di);ce(this,ji);ce(this,Bt);ce(this,ot);ce(this,Qa);ce(this,Es);Q(this,Es,!1),Q(this,Qa,e.defaultOptions),this.setOptions(e.options),this.observers=[],Q(this,Bt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Q(this,Di,EP(this.options)),this.state=e.state??R(this,Di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,ot))==null?void 0:e.promise}setOptions(e){this.options={...R(this,Qa),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Bt).remove(this)}setData(e,n){const r=mP(this.state.data,e,this.options);return rt(this,rn,$n).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){rt(this,rn,$n).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=R(this,ot))==null?void 0:r.promise;return(s=R(this,ot))==null||s.cancel(e),n?n.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Di))}isActive(){return this.observers.some(e=>hP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fP(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,ot))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,ot))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Bt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(R(this,ot)&&(R(this,Es)?R(this,ot).cancel({revert:!0}):R(this,ot).cancelRetry()),this.scheduleGc()),R(this,Bt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,rn,$n).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,ot))return R(this,ot).continueRetry(),R(this,ot).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Q(this,Es,!0),r.signal)})},i=()=>{const f=q0(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),Q(this,Es,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),Q(this,ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&rt(this,rn,$n).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,g,_,m;rf(f)&&f.silent||rt(this,rn,$n).call(this,{type:"error",error:f}),rf(f)||((g=(h=R(this,Bt).config).onError)==null||g.call(h,f,this),(m=(_=R(this,Bt).config).onSettled)==null||m.call(_,this.state.data,f,this)),this.scheduleGc()};return Q(this,ot,Z0({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,_,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(g=(h=R(this,Bt).config).onSuccess)==null||g.call(h,f,this),(m=(_=R(this,Bt).config).onSettled)==null||m.call(_,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{rt(this,rn,$n).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{rt(this,rn,$n).call(this,{type:"pause"})},onContinue:()=>{rt(this,rn,$n).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),R(this,ot).start()}},Di=new WeakMap,ji=new WeakMap,Bt=new WeakMap,ot=new WeakMap,Qa=new WeakMap,Es=new WeakMap,rn=new WeakSet,$n=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...SP(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return rf(s)&&s.revert&&R(this,ji)?{...R(this,ji),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Bt).notify({query:this,type:"updated",action:e})})},y_);function SP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cn,w_,NP=(w_=class extends Qu{constructor(e={}){super();ce(this,Cn);this.config=e,Q(this,Cn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xm(s,n);let o=this.get(i);return o||(o=new CP({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){R(this,Cn).has(e.queryHash)||(R(this,Cn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,Cn).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,Cn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Cn).get(e)}getAll(){return[...R(this,Cn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fy(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>fy(e,r)):n}notify(e){mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cn=new WeakMap,w_),Sn,dt,Ns,En,yr,__,kP=(__=class extends eb{constructor(e){super();ce(this,En);ce(this,Sn);ce(this,dt);ce(this,Ns);this.mutationId=e.mutationId,Q(this,dt,e.mutationCache),Q(this,Sn,[]),this.state=e.state||TP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Sn).includes(e)||(R(this,Sn).push(e),this.clearGcTimeout(),R(this,dt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Q(this,Sn,R(this,Sn).filter(n=>n!==e)),this.scheduleGc(),R(this,dt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Sn).length||(this.state.status==="pending"?this.scheduleGc():R(this,dt).remove(this))}continue(){var e;return((e=R(this,Ns))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,f,h,g,_,m,x,w,p,y,b,k,C,S;Q(this,Ns,Z0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,T)=>{rt(this,En,yr).call(this,{type:"failed",failureCount:N,error:T})},onPause:()=>{rt(this,En,yr).call(this,{type:"pause"})},onContinue:()=>{rt(this,En,yr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,dt).canRun(this)}));const n=this.state.status==="pending",r=!R(this,Ns).canStart();try{if(!n){rt(this,En,yr).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=R(this,dt).config).onMutate)==null?void 0:i.call(s,e,this));const T=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));T!==this.state.context&&rt(this,En,yr).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const N=await R(this,Ns).start();return await((c=(l=R(this,dt).config).onSuccess)==null?void 0:c.call(l,N,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,e,this.state.context)),await((g=(h=R(this,dt).config).onSettled)==null?void 0:g.call(h,N,null,this.state.variables,this.state.context,this)),await((m=(_=this.options).onSettled)==null?void 0:m.call(_,N,null,e,this.state.context)),rt(this,En,yr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(x=R(this,dt).config).onError)==null?void 0:w.call(x,N,e,this.state.context,this)),await((y=(p=this.options).onError)==null?void 0:y.call(p,N,e,this.state.context)),await((k=(b=R(this,dt).config).onSettled)==null?void 0:k.call(b,void 0,N,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,N,e,this.state.context)),N}finally{rt(this,En,yr).call(this,{type:"error",error:N})}}finally{R(this,dt).runNext(this)}}},Sn=new WeakMap,dt=new WeakMap,Ns=new WeakMap,En=new WeakSet,yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{R(this,Sn).forEach(r=>{r.onMutationUpdate(e)}),R(this,dt).notify({mutation:this,type:"updated",action:e})})},__);function TP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var At,Xa,x_,PP=(x_=class extends Qu{constructor(e={}){super();ce(this,At);ce(this,Xa);this.config=e,Q(this,At,new Map),Q(this,Xa,Date.now())}build(e,n,r){const s=new kP({mutationCache:this,mutationId:++Nl(this,Xa)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=zl(e),r=R(this,At).get(n)??[];r.push(e),R(this,At).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=zl(e);if(R(this,At).has(n)){const s=(r=R(this,At).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?R(this,At).delete(n):R(this,At).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=R(this,At).get(zl(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=R(this,At).get(zl(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...R(this,At).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hy(n,r))}findAll(e={}){return this.getAll().filter(n=>hy(e,n))}notify(e){mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(nn))))}},At=new WeakMap,Xa=new WeakMap,x_);function zl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function gy(t){return{onFetch:(e,n)=>{var d,f,h,g,_;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=q0(e.options,e.fetchOptions),p=async(y,b,k)=>{if(m)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const C={queryKey:e.queryKey,pageParam:b,direction:k?"backward":"forward",meta:e.options.meta};x(C);const S=await w(C),{maxPages:N}=e.options,T=k?vP:gP;return{pages:T(y.pages,S,N),pageParams:T(y.pageParams,b,N)}};if(s&&i.length){const y=s==="backward",b=y?IP:vy,k={pages:i,pageParams:o},C=b(r,k);a=await p(k,C,y)}else{const y=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:vy(r,a);if(l>0&&b==null)break;a=await p(a,b),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>{var m,x;return(x=(m=e.options).persister)==null?void 0:x.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function vy(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function IP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Oe,Ir,Rr,Li,Fi,Ar,Wi,Ui,b_,RP=(b_=class{constructor(t={}){ce(this,Oe);ce(this,Ir);ce(this,Rr);ce(this,Li);ce(this,Fi);ce(this,Ar);ce(this,Wi);ce(this,Ui);Q(this,Oe,t.queryCache||new NP),Q(this,Ir,t.mutationCache||new PP),Q(this,Rr,t.defaultOptions||{}),Q(this,Li,new Map),Q(this,Fi,new Map),Q(this,Ar,0)}mount(){Nl(this,Ar)._++,R(this,Ar)===1&&(Q(this,Wi,Q0.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Oe).onFocus())})),Q(this,Ui,Jc.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Oe).onOnline())})))}unmount(){var t,e;Nl(this,Ar)._--,R(this,Ar)===0&&((t=R(this,Wi))==null||t.call(this),Q(this,Wi,void 0),(e=R(this,Ui))==null||e.call(this),Q(this,Ui,void 0))}isFetching(t){return R(this,Oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Ir).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Oe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=R(this,Oe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(dy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return R(this,Oe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=R(this,Oe).get(r.queryHash),i=s==null?void 0:s.state.data,o=uP(e,i);if(o!==void 0)return R(this,Oe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return mt.batch(()=>R(this,Oe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Oe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,Oe);mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,Oe),r={type:"active",...t};return mt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=mt.batch(()=>R(this,Oe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(nn).catch(nn)}invalidateQueries(t={},e={}){return mt.batch(()=>{if(R(this,Oe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=mt.batch(()=>R(this,Oe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,Oe).build(this,e);return n.isStaleByTime(dy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nn).catch(nn)}fetchInfiniteQuery(t){return t.behavior=gy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nn).catch(nn)}ensureInfiniteQueryData(t){return t.behavior=gy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jc.isOnline()?R(this,Ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Oe)}getMutationCache(){return R(this,Ir)}getDefaultOptions(){return R(this,Rr)}setDefaultOptions(t){Q(this,Rr,t)}setQueryDefaults(t,e){R(this,Li).set(Oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Li).values()];let n={};return e.forEach(r=>{Ma(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){R(this,Fi).set(Oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Fi).values()];let n={};return e.forEach(r=>{Ma(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Rr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===bm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Rr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Oe).clear(),R(this,Ir).clear()}},Oe=new WeakMap,Ir=new WeakMap,Rr=new WeakMap,Li=new WeakMap,Fi=new WeakMap,Ar=new WeakMap,Wi=new WeakMap,Ui=new WeakMap,b_),AP=v.createContext(void 0),OP=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(AP.Provider,{value:t,children:e}));async function MP(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const DP=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await MP(n),await n.json())},jP=new RP({defaultOptions:{queries:{queryFn:DP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),LP=1,FP=1e6;let sf=0;function WP(){return sf=(sf+1)%Number.MAX_SAFE_INTEGER,sf.toString()}const of=new Map,yy=t=>{if(of.has(t))return;const e=setTimeout(()=>{of.delete(t),la({type:"REMOVE_TOAST",toastId:t})},FP);of.set(t,e)},UP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,LP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?yy(n):t.toasts.forEach(r=>{yy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gc=[];let vc={toasts:[]};function la(t){vc=UP(vc,t),gc.forEach(e=>{e(vc)})}function HP({...t}){const e=WP(),n=s=>la({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>la({type:"DISMISS_TOAST",toastId:e});return la({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ys(){const[t,e]=v.useState(vc);return v.useEffect(()=>(gc.push(e),()=>{const n=gc.indexOf(e);n>-1&&gc.splice(n,1)}),[t]),{...t,toast:HP,dismiss:n=>la({type:"DISMISS_TOAST",toastId:n})}}function q(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function wy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tb(...t){return e=>{let n=!1;const r=t.map(s=>{const i=wy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():wy(t[s],null)}}}}function ke(...t){return v.useCallback(tb(...t),t)}function ho(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:h,children:g,..._}=f,m=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,x=v.useMemo(()=>_,Object.values(_));return u.jsx(m.Provider,{value:x,children:g})};c.displayName=i+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,_=v.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$P(s,...e)]}function $P(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qi(t){const e=zP(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(GP);if(l){const c=l.props.children,d=a.map(f=>f===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var BP=qi("Slot");function zP(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=KP(s),a=YP(i,s.props);return s.type!==v.Fragment&&(a.ref=r?tb(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nb=Symbol("radix.slottable");function VP(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=nb,e}function GP(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nb}function YP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function KP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rb(t){const e=t+"CollectionProvider",[n,r]=ho(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:w}=m,p=vr.useRef(null),y=vr.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:y,collectionRef:p,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=qi(a),c=vr.forwardRef((m,x)=>{const{scope:w,children:p}=m,y=i(a,w),b=ke(x,y.collectionRef);return u.jsx(l,{ref:b,children:p})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=qi(d),g=vr.forwardRef((m,x)=>{const{scope:w,children:p,...y}=m,b=vr.useRef(null),k=ke(x,b),C=i(d,w);return vr.useEffect(()=>(C.itemMap.set(b,{ref:b,...y}),()=>void C.itemMap.delete(b))),u.jsx(h,{[f]:"",ref:k,children:p})});g.displayName=d;function _(m){const x=i(t+"CollectionConsumer",m);return vr.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const y=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((C,S)=>y.indexOf(C.ref.current)-y.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},_,r]}var qP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=qP.reduce((t,e)=>{const n=qi(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sb(t,e){t&&Gs.flushSync(()=>t.dispatchEvent(e))}function Wt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QP(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XP="DismissableLayer",Oh="dismissableLayer.update",JP="dismissableLayer.pointerDownOutside",ZP="dismissableLayer.focusOutside",_y,ib=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rl=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(ib),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),_=ke(e,S=>f(S)),m=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(x),p=d?m.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,b=p>=w,k=tI(S=>{const N=S.target,T=[...c.branches].some(P=>P.contains(N));!b||T||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),C=nI(S=>{const N=S.target;[...c.branches].some(P=>P.contains(N))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return QP(S=>{p===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(_y=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),xy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_y)}},[d,h,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),xy())},[d,c]),v.useEffect(()=>{const S=()=>g({});return document.addEventListener(Oh,S),()=>document.removeEventListener(Oh,S)},[]),u.jsx(ue.div,{...l,ref:_,style:{pointerEvents:y?b?"auto":"none":void 0,...t.style},onFocusCapture:q(t.onFocusCapture,C.onFocusCapture),onBlurCapture:q(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:q(t.onPointerDownCapture,k.onPointerDownCapture)})});rl.displayName=XP;var eI="DismissableLayerBranch",ob=v.forwardRef((t,e)=>{const n=v.useContext(ib),r=v.useRef(null),s=ke(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ue.div,{...t,ref:s})});ob.displayName=eI;function tI(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ab(JP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nI(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&ab(ZP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xy(){const t=new CustomEvent(Oh);document.dispatchEvent(t)}function ab(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sb(s,i):s.dispatchEvent(i)}var rI=rl,sI=ob,ct=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},iI="Portal",Ju=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);ct(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?OT.createPortal(u.jsx(ue.div,{...r,ref:e}),o):null});Ju.displayName=iI;function oI(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var sl=t=>{const{present:e,children:n}=t,r=aI(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=ke(r.ref,lI(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};sl.displayName="Presence";function aI(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=oI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Vl(r.current);i.current=a==="mounted"?c:"none"},[a]),ct(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,g=Vl(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ct(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const m=Vl(r.current).includes(g.animationName);if(g.target===e&&m&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=g=>{g.target===e&&(i.current=Vl(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Vl(t){return(t==null?void 0:t.animationName)||"none"}function lI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Zc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=cI({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Wt(n),l=v.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function cI({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Wt(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var uI="VisuallyHidden",il=v.forwardRef((t,e)=>u.jsx(ue.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));il.displayName=uI;var dI=il,Cm="ToastProvider",[Sm,fI,hI]=rb("Toast"),[lb,uW]=ho("Toast",[hI]),[pI,Zu]=lb(Cm),cb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cm}\`. Expected non-empty \`string\`.`),u.jsx(Sm.Provider,{scope:e,children:u.jsx(pI,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};cb.displayName=Cm;var ub="ToastViewport",mI=["F8"],Mh="toast.viewportPause",Dh="toast.viewportResume",db=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=mI,label:s="Notifications ({hotkey})",...i}=t,o=Zu(ub,n),a=fI(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=ke(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;v.useEffect(()=>{const x=w=>{var y;r.length!==0&&r.every(b=>w[b]||w.code===b)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,w=f.current;if(_&&x&&w){const p=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Mh);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Dh);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!x.contains(C.relatedTarget)&&y()},k=()=>{x.contains(document.activeElement)||y()};return x.addEventListener("focusin",p),x.addEventListener("focusout",b),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",k),window.addEventListener("blur",p),window.addEventListener("focus",y),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",p),window.removeEventListener("focus",y)}}},[_,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:x})=>{const p=a().map(y=>{const b=y.ref.current,k=[b,...TI(b)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?p.reverse():p).flat()},[a]);return v.useEffect(()=>{const x=f.current;if(x){const w=p=>{var k,C,S;const y=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!y){const N=document.activeElement,T=p.shiftKey;if(p.target===x&&T){(k=c.current)==null||k.focus();return}const A=m({tabbingDirection:T?"backwards":"forwards"}),H=A.findIndex(M=>M===N);af(A.slice(H+1))?p.preventDefault():T?(C=c.current)==null||C.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,m]),u.jsxs(sI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&u.jsx(jh,{ref:c,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});af(x)}}),u.jsx(Sm.Slot,{scope:n,children:u.jsx(ue.ol,{tabIndex:-1,...i,ref:h})}),_&&u.jsx(jh,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});af(x)}})]})});db.displayName=ub;var fb="ToastFocusProxy",jh=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zu(fb,n);return u.jsx(il,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});jh.displayName=fb;var ed="Toast",gI="toast.swipeStart",vI="toast.swipeMove",yI="toast.swipeCancel",wI="toast.swipeEnd",hb=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Zc({prop:r,defaultProp:s,onChange:i});return u.jsx(sl,{present:n||a,children:u.jsx(bI,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:q(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:q(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:q(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:q(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});hb.displayName=ed;var[_I,xI]=lb(ed,{onClose(){}}),bI=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,..._}=t,m=Zu(ed,n),[x,w]=v.useState(null),p=ke(e,M=>w(M)),y=v.useRef(null),b=v.useRef(null),k=s||m.duration,C=v.useRef(0),S=v.useRef(k),N=v.useRef(0),{onToastAdd:T,onToastRemove:P}=m,L=Wt(()=>{var B;(x==null?void 0:x.contains(document.activeElement))&&((B=m.viewport)==null||B.focus()),o()}),A=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(N.current),C.current=new Date().getTime(),N.current=window.setTimeout(L,M))},[L]);v.useEffect(()=>{const M=m.viewport;if(M){const B=()=>{A(S.current),c==null||c()},W=()=>{const O=new Date().getTime()-C.current;S.current=S.current-O,window.clearTimeout(N.current),l==null||l()};return M.addEventListener(Mh,W),M.addEventListener(Dh,B),()=>{M.removeEventListener(Mh,W),M.removeEventListener(Dh,B)}}},[m.viewport,k,l,c,A]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&A(k)},[i,k,m.isClosePausedRef,A]),v.useEffect(()=>(T(),()=>P()),[T,P]);const H=v.useMemo(()=>x?_b(x):null,[x]);return m.viewport?u.jsxs(u.Fragment,{children:[H&&u.jsx(CI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),u.jsx(_I,{scope:n,onClose:L,children:Gs.createPortal(u.jsx(Sm.ItemSlot,{scope:n,children:u.jsx(rI,{asChild:!0,onEscapeKeyDown:q(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,..._,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:q(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:q(t.onPointerDown,M=>{M.button===0&&(y.current={x:M.clientX,y:M.clientY})}),onPointerMove:q(t.onPointerMove,M=>{if(!y.current)return;const B=M.clientX-y.current.x,W=M.clientY-y.current.y,O=!!b.current,E=["left","right"].includes(m.swipeDirection),I=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,F=E?I(0,B):0,$=E?0:I(0,W),ee=M.pointerType==="touch"?10:2,Fe={x:F,y:$},Ae={originalEvent:M,delta:Fe};O?(b.current=Fe,Gl(vI,f,Ae,{discrete:!1})):by(Fe,m.swipeDirection,ee)?(b.current=Fe,Gl(gI,d,Ae,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(B)>ee||Math.abs(W)>ee)&&(y.current=null)}),onPointerUp:q(t.onPointerUp,M=>{const B=b.current,W=M.target;if(W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId),b.current=null,y.current=null,B){const O=M.currentTarget,E={originalEvent:M,delta:B};by(B,m.swipeDirection,m.swipeThreshold)?Gl(wI,g,E,{discrete:!0}):Gl(yI,h,E,{discrete:!0}),O.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),CI=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zu(ed,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return NI(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Ju,{asChild:!0,children:u.jsx(il,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},SI="ToastTitle",pb=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ue.div,{...r,ref:e})});pb.displayName=SI;var EI="ToastDescription",mb=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ue.div,{...r,ref:e})});mb.displayName=EI;var gb="ToastAction",vb=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(wb,{altText:n,asChild:!0,children:u.jsx(Em,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gb}\`. Expected non-empty \`string\`.`),null)});vb.displayName=gb;var yb="ToastClose",Em=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=xI(yb,n);return u.jsx(wb,{asChild:!0,children:u.jsx(ue.button,{type:"button",...r,ref:e,onClick:q(t.onClick,s.onClose)})})});Em.displayName=yb;var wb=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function _b(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),kI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(..._b(r))}}),e}function Gl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sb(s,i):s.dispatchEvent(i)}var by=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function NI(t=()=>{}){const e=Wt(t);ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function kI(t){return t.nodeType===t.ELEMENT_NODE}function TI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function af(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var PI=cb,xb=db,bb=hb,Cb=pb,Sb=mb,Eb=vb,Nb=Em;function kb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=kb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Tb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=kb(t))&&(r&&(r+=" "),r+=e);return r}const Cy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Sy=Tb,Nm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Sy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const h=Cy(d)||Cy(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(_=>{let[m,x]=_;return Array.isArray(x)?x.includes({...i,...a}[m]):{...i,...a}[m]===x})?[...c,f,h]:c},[]);return Sy(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...RI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Pb("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(AI,{ref:i,iconNode:e,className:Pb(`lucide-${II(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Re("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),km="-",JI=t=>{const e=eR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(km);return a[0]===""&&a.length!==1&&a.shift(),Ob(a,e)||ZI(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ob=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Ob(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(km);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ny=/^\[(.+)\]$/,ZI=t=>{if(Ny.test(t)){const e=Ny.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nR(Object.entries(t.classGroups),n).forEach(([i,o])=>{Lh(o,r,i,e)}),r},Lh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ky(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(tR(s)){Lh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Lh(o,ky(e,i),n,r)})})},ky=(t,e)=>{let n=t;return e.split(km).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tR=t=>t.isThemeGetter,nR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,rR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Mb="!",sR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let w=a[x];if(c===0){if(w===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(w==="/"){f=x;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?a:a.substring(d),g=h.startsWith(Mb),_=g?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},iR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},oR=t=>({cache:rR(t.cacheSize),parseClassName:sR(t),...JI(t)}),aR=/\s+/,lR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(aR);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(c);let _=!!g,m=r(_?h.substring(0,g):h);if(!m){if(!_){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}_=!1}const x=iR(d).join(":"),w=f?x+Mb:x,p=w+m;if(i.includes(p))continue;i.push(p);const y=s(m,_);for(let b=0;b<y.length;++b){const k=y[b];i.push(w+k)}a=c+(a.length>0?" "+a:a)}return a};function cR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Db(e))&&(r&&(r+=" "),r+=n);return r}const Db=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Db(t[r]))&&(n&&(n+=" "),n+=e);return n};function uR(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=oR(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=lR(l,n);return s(l,d),d}return function(){return i(cR.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jb=/^\[(?:([a-z-]+):)?(.+)\]$/i,dR=/^\d+\/\d+$/,fR=new Set(["px","full","screen"]),hR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wn=t=>Si(t)||fR.has(t)||dR.test(t),hr=t=>po(t,"length",ER),Si=t=>!!t&&!Number.isNaN(Number(t)),lf=t=>po(t,"number",Si),Fo=t=>!!t&&Number.isInteger(Number(t)),yR=t=>t.endsWith("%")&&Si(t.slice(0,-1)),K=t=>jb.test(t),pr=t=>hR.test(t),wR=new Set(["length","size","percentage"]),_R=t=>po(t,wR,Lb),xR=t=>po(t,"position",Lb),bR=new Set(["image","url"]),CR=t=>po(t,bR,kR),SR=t=>po(t,"",NR),Wo=()=>!0,po=(t,e,n)=>{const r=jb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ER=t=>pR.test(t)&&!mR.test(t),Lb=()=>!1,NR=t=>gR.test(t),kR=t=>vR.test(t),TR=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),l=Ce("contrast"),c=Ce("grayscale"),d=Ce("hueRotate"),f=Ce("invert"),h=Ce("gap"),g=Ce("gradientColorStops"),_=Ce("gradientColorStopPositions"),m=Ce("inset"),x=Ce("margin"),w=Ce("opacity"),p=Ce("padding"),y=Ce("saturate"),b=Ce("scale"),k=Ce("sepia"),C=Ce("skew"),S=Ce("space"),N=Ce("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",K,e],A=()=>[K,e],H=()=>["",Wn,hr],M=()=>["auto",Si,K],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",K],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Si,K];return{cacheSize:500,separator:":",theme:{colors:[Wo],spacing:[Wn,hr],blur:["none","",pr,K],brightness:$(),borderColor:[t],borderRadius:["none","","full",pr,K],borderSpacing:A(),borderWidth:H(),contrast:$(),grayscale:I(),hueRotate:$(),invert:I(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[yR,hr],inset:L(),margin:L(),opacity:$(),padding:A(),saturate:$(),scale:$(),sepia:I(),skew:$(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[pr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),K]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fo,K]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Fo,K]}],"grid-cols":[{"grid-cols":[Wo]}],"col-start-end":[{col:["auto",{span:["full",Fo,K]},K]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Wo]}],"row-start-end":[{row:["auto",{span:[Fo,K]},K]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,e]}],"min-w":[{"min-w":[K,e,"min","max","fit"]}],"max-w":[{"max-w":[K,e,"none","full","min","max","fit","prose",{screen:[pr]},pr]}],h:[{h:[K,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lf]}],"font-family":[{font:[Wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",Si,lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wn,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wn,hr]}],"underline-offset":[{"underline-offset":["auto",Wn,K]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),xR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_R]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Wn,K]}],"outline-w":[{outline:[Wn,hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Wn,hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pr,SR]}],"shadow-color":[{shadow:[Wo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pr,K]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Fo,K]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wn,hr,lf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PR=uR(TR);function oe(...t){return PR(Tb(t))}const IR=PI,Fb=v.forwardRef(({className:t,...e},n)=>u.jsx(xb,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Fb.displayName=xb.displayName;const RR=Nm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wb=v.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(bb,{ref:r,className:oe(RR({variant:e}),t),...n}));Wb.displayName=bb.displayName;const AR=v.forwardRef(({className:t,...e},n)=>u.jsx(Eb,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));AR.displayName=Eb.displayName;const Ub=v.forwardRef(({className:t,...e},n)=>u.jsx(Nb,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(XI,{className:"h-4 w-4"})}));Ub.displayName=Nb.displayName;const Hb=v.forwardRef(({className:t,...e},n)=>u.jsx(Cb,{ref:n,className:oe("text-sm font-semibold",t),...e}));Hb.displayName=Cb.displayName;const $b=v.forwardRef(({className:t,...e},n)=>u.jsx(Sb,{ref:n,className:oe("text-sm opacity-90",t),...e}));$b.displayName=Sb.displayName;function OR(){const{toasts:t}=Ys();return u.jsxs(IR,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Wb,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Hb,{children:n}),r&&u.jsx($b,{children:r})]}),s,u.jsx(Ub,{})]},e)}),u.jsx(Fb,{})]})}var MR=M_[" useId ".trim().toString()]||(()=>{}),DR=0;function td(t){const[e,n]=v.useState(MR());return ct(()=>{n(r=>r??String(DR++))},[t]),e?`radix-${e}`:""}const jR=["top","right","bottom","left"],Xr=Math.min,Mt=Math.max,eu=Math.round,Yl=Math.floor,Rn=t=>({x:t,y:t}),LR={left:"right",right:"left",bottom:"top",top:"bottom"},FR={start:"end",end:"start"};function Fh(t,e,n){return Mt(t,Xr(e,n))}function rr(t,e){return typeof t=="function"?t(e):t}function sr(t){return t.split("-")[0]}function mo(t){return t.split("-")[1]}function Tm(t){return t==="x"?"y":"x"}function Pm(t){return t==="y"?"height":"width"}function Jr(t){return["top","bottom"].includes(sr(t))?"y":"x"}function Im(t){return Tm(Jr(t))}function WR(t,e,n){n===void 0&&(n=!1);const r=mo(t),s=Im(t),i=Pm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=tu(o)),[o,tu(o)]}function UR(t){const e=tu(t);return[Wh(t),e,Wh(e)]}function Wh(t){return t.replace(/start|end/g,e=>FR[e])}function HR(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function $R(t,e,n,r){const s=mo(t);let i=HR(sr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Wh)))),i}function tu(t){return t.replace(/left|right|bottom|top/g,e=>LR[e])}function BR(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bb(t){return typeof t!="number"?BR(t):{top:t,right:t,bottom:t,left:t}}function nu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ty(t,e,n){let{reference:r,floating:s}=t;const i=Jr(e),o=Im(e),a=Pm(o),l=sr(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(mo(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1);break}return g}const zR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Ty(c,r,l),h=r,g={},_=0;for(let m=0;m<a.length;m++){const{name:x,fn:w}=a[m],{x:p,y,data:b,reset:k}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=p??d,f=y??f,g={...g,[x]:{...g[x],...b}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=Ty(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Da(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=rr(e,t),_=Bb(g),x=a[h?f==="floating"?"reference":"floating":f],w=nu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),p=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},k=nu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:y,strategy:l}):p);return{top:(w.top-k.top+_.top)/b.y,bottom:(k.bottom-w.bottom+_.bottom)/b.y,left:(w.left-k.left+_.left)/b.x,right:(k.right-w.right+_.right)/b.x}}const VR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=rr(t,e)||{};if(c==null)return{};const f=Bb(d),h={x:n,y:r},g=Im(s),_=Pm(g),m=await o.getDimensions(c),x=g==="y",w=x?"top":"left",p=x?"bottom":"right",y=x?"clientHeight":"clientWidth",b=i.reference[_]+i.reference[g]-h[g]-i.floating[_],k=h[g]-i.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=C?C[y]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=a.floating[y]||i.floating[_]);const N=b/2-k/2,T=S/2-m[_]/2-1,P=Xr(f[w],T),L=Xr(f[p],T),A=P,H=S-m[_]-L,M=S/2-m[_]/2+N,B=Fh(A,M,H),W=!l.arrow&&mo(s)!=null&&M!==B&&i.reference[_]/2-(M<A?P:L)-m[_]/2<0,O=W?M<A?M-A:M-H:0;return{[g]:h[g]+O,data:{[g]:B,centerOffset:M-B-O,...W&&{alignmentOffset:O}},reset:W}}}),GR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:m=!0,...x}=rr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=sr(s),p=Jr(a),y=sr(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(y||!m?[tu(a)]:UR(a)),C=_!=="none";!h&&C&&k.push(...$R(a,m,_,b));const S=[a,...k],N=await Da(e,x),T=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[w]),f){const M=WR(s,o,b);T.push(N[M[0]],N[M[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(M=>M<=0)){var L,A;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,B=S[M];if(B)return{data:{index:M,overflows:P},reset:{placement:B}};let W=(A=P.filter(O=>O.overflows[0]<=0).sort((O,E)=>O.overflows[1]-E.overflows[1])[0])==null?void 0:A.placement;if(!W)switch(g){case"bestFit":{var H;const O=(H=P.filter(E=>{if(C){const I=Jr(E.placement);return I===p||I==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(I=>I>0).reduce((I,F)=>I+F,0)]).sort((E,I)=>E[1]-I[1])[0])==null?void 0:H[0];O&&(W=O);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function Py(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Iy(t){return jR.some(e=>t[e]>=0)}const YR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=rr(t,e);switch(r){case"referenceHidden":{const i=await Da(e,{...s,elementContext:"reference"}),o=Py(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Iy(o)}}}case"escaped":{const i=await Da(e,{...s,altBoundary:!0}),o=Py(i,n.floating);return{data:{escapedOffsets:o,escaped:Iy(o)}}}default:return{}}}}};async function KR(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=sr(n),a=mo(n),l=Jr(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=rr(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:h*c}:{x:h*c,y:g*d}}const qR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await KR(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},QR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:p}=x;return{x:w,y:p}}},...l}=rr(t,e),c={x:n,y:r},d=await Da(e,l),f=Jr(sr(s)),h=Tm(f);let g=c[h],_=c[f];if(i){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",p=g+d[x],y=g-d[w];g=Fh(p,g,y)}if(o){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",p=_+d[x],y=_-d[w];_=Fh(p,_,y)}const m=a.fn({...e,[h]:g,[f]:_});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[f]:o}}}}}},XR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=rr(t,e),d={x:n,y:r},f=Jr(s),h=Tm(f);let g=d[h],_=d[f];const m=rr(a,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const y=h==="y"?"height":"width",b=i.reference[h]-i.floating[y]+x.mainAxis,k=i.reference[h]+i.reference[y]-x.mainAxis;g<b?g=b:g>k&&(g=k)}if(c){var w,p;const y=h==="y"?"width":"height",b=["top","left"].includes(sr(s)),k=i.reference[f]-i.floating[y]+(b&&((w=o.offset)==null?void 0:w[f])||0)+(b?0:x.crossAxis),C=i.reference[f]+i.reference[y]+(b?0:((p=o.offset)==null?void 0:p[f])||0)-(b?x.crossAxis:0);_<k?_=k:_>C&&(_=C)}return{[h]:g,[f]:_}}}},JR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=rr(t,e),d=await Da(e,c),f=sr(s),h=mo(s),g=Jr(s)==="y",{width:_,height:m}=i.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const p=m-d.top-d.bottom,y=_-d.left-d.right,b=Xr(m-d[x],p),k=Xr(_-d[w],y),C=!e.middlewareData.shift;let S=b,N=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=p),C&&!h){const P=Mt(d.left,0),L=Mt(d.right,0),A=Mt(d.top,0),H=Mt(d.bottom,0);g?N=_-2*(P!==0||L!==0?P+L:Mt(d.left,d.right)):S=m-2*(A!==0||H!==0?A+H:Mt(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:S});const T=await o.getDimensions(a.floating);return _!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function nd(){return typeof window<"u"}function go(t){return zb(t)?(t.nodeName||"").toLowerCase():"#document"}function Lt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jn(t){var e;return(e=(zb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zb(t){return nd()?t instanceof Node||t instanceof Lt(t).Node:!1}function mn(t){return nd()?t instanceof Element||t instanceof Lt(t).Element:!1}function Mn(t){return nd()?t instanceof HTMLElement||t instanceof Lt(t).HTMLElement:!1}function Ry(t){return!nd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Lt(t).ShadowRoot}function ol(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function ZR(t){return["table","td","th"].includes(go(t))}function rd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rm(t){const e=Am(),n=mn(t)?gn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function eA(t){let e=Zr(t);for(;Mn(e)&&!Qi(e);){if(Rm(e))return e;if(rd(e))return null;e=Zr(e)}return null}function Am(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qi(t){return["html","body","#document"].includes(go(t))}function gn(t){return Lt(t).getComputedStyle(t)}function sd(t){return mn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zr(t){if(go(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ry(t)&&t.host||jn(t);return Ry(e)?e.host:e}function Vb(t){const e=Zr(t);return Qi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mn(e)&&ol(e)?e:Vb(e)}function ja(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Vb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Lt(s);if(i){const a=Uh(o);return e.concat(o,o.visualViewport||[],ol(s)?s:[],a&&n?ja(a):[])}return e.concat(s,ja(s,[],n))}function Uh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Gb(t){const e=gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Mn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=eu(n)!==i||eu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Om(t){return mn(t)?t:t.contextElement}function Ei(t){const e=Om(t);if(!Mn(e))return Rn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Gb(e);let o=(i?eu(n.width):n.width)/r,a=(i?eu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tA=Rn(0);function Yb(t){const e=Lt(t);return!Am()||!e.visualViewport?tA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nA(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Lt(t)?!1:e}function Ms(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Om(t);let o=Rn(1);e&&(r?mn(r)&&(o=Ei(r)):o=Ei(t));const a=nA(i,n,r)?Yb(i):Rn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Lt(i),g=r&&mn(r)?Lt(r):r;let _=h,m=Uh(_);for(;m&&r&&g!==_;){const x=Ei(m),w=m.getBoundingClientRect(),p=gn(m),y=w.left+(m.clientLeft+parseFloat(p.paddingLeft))*x.x,b=w.top+(m.clientTop+parseFloat(p.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=y,c+=b,_=Lt(m),m=Uh(_)}}return nu({width:d,height:f,x:l,y:c})}function Mm(t,e){const n=sd(t).scrollLeft;return e?e.left+n:Ms(jn(t)).left+n}function Kb(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Mm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function rA(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=jn(r),a=e?rd(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Rn(1);const d=Rn(0),f=Mn(r);if((f||!f&&!i)&&((go(r)!=="body"||ol(o))&&(l=sd(r)),Mn(r))){const g=Ms(r);c=Ei(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const h=o&&!f&&!i?Kb(o,l,!0):Rn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function sA(t){return Array.from(t.getClientRects())}function iA(t){const e=jn(t),n=sd(t),r=t.ownerDocument.body,s=Mt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Mt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Mm(t);const a=-n.scrollTop;return gn(r).direction==="rtl"&&(o+=Mt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function oA(t,e){const n=Lt(t),r=jn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Am();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function aA(t,e){const n=Ms(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Mn(t)?Ei(t):Rn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Ay(t,e,n){let r;if(e==="viewport")r=oA(t,n);else if(e==="document")r=iA(jn(t));else if(mn(e))r=aA(e,n);else{const s=Yb(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return nu(r)}function qb(t,e){const n=Zr(t);return n===e||!mn(n)||Qi(n)?!1:gn(n).position==="fixed"||qb(n,e)}function lA(t,e){const n=e.get(t);if(n)return n;let r=ja(t,[],!1).filter(a=>mn(a)&&go(a)!=="body"),s=null;const i=gn(t).position==="fixed";let o=i?Zr(t):t;for(;mn(o)&&!Qi(o);){const a=gn(o),l=Rm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ol(o)&&!l&&qb(t,o))?r=r.filter(d=>d!==o):s=a,o=Zr(o)}return e.set(t,r),r}function cA(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rd(e)?[]:lA(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=Ay(e,d,s);return c.top=Mt(f.top,c.top),c.right=Xr(f.right,c.right),c.bottom=Xr(f.bottom,c.bottom),c.left=Mt(f.left,c.left),c},Ay(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uA(t){const{width:e,height:n}=Gb(t);return{width:e,height:n}}function dA(t,e,n){const r=Mn(e),s=jn(e),i=n==="fixed",o=Ms(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Rn(0);if(r||!r&&!i)if((go(e)!=="body"||ol(s))&&(a=sd(e)),r){const h=Ms(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=Mm(s));const c=s&&!r&&!i?Kb(s,a):Rn(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function cf(t){return gn(t).position==="static"}function Oy(t,e){if(!Mn(t)||gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jn(t)===n&&(n=n.ownerDocument.body),n}function Qb(t,e){const n=Lt(t);if(rd(t))return n;if(!Mn(t)){let s=Zr(t);for(;s&&!Qi(s);){if(mn(s)&&!cf(s))return s;s=Zr(s)}return n}let r=Oy(t,e);for(;r&&ZR(r)&&cf(r);)r=Oy(r,e);return r&&Qi(r)&&cf(r)&&!Rm(r)?n:r||eA(t)||n}const fA=async function(t){const e=this.getOffsetParent||Qb,n=this.getDimensions,r=await n(t.floating);return{reference:dA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hA(t){return gn(t).direction==="rtl"}const pA={convertOffsetParentRelativeRectToViewportRelativeRect:rA,getDocumentElement:jn,getClippingRect:cA,getOffsetParent:Qb,getElementRects:fA,getClientRects:sA,getDimensions:uA,getScale:Ei,isElement:mn,isRTL:hA};function Xb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mA(t,e){let n=null,r;const s=jn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const _=Yl(f),m=Yl(s.clientWidth-(d+h)),x=Yl(s.clientHeight-(f+g)),w=Yl(d),y={rootMargin:-_+"px "+-m+"px "+-x+"px "+-w+"px",threshold:Mt(0,Xr(1,l))||1};let b=!0;function k(C){const S=C[0].intersectionRatio;if(S!==l){if(!b)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Xb(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(k,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(t)}return o(!0),i}function gA(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Om(t),d=s||i?[...c?ja(c):[],...ja(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?mA(c,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(w=>{let[p]=w;p&&p.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let _,m=l?Ms(t):null;l&&x();function x(){const w=Ms(t);m&&!Xb(m,w)&&n(),m=w,_=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const vA=qR,yA=QR,wA=GR,_A=JR,xA=YR,My=VR,bA=XR,CA=(t,e,n)=>{const r=new Map,s={platform:pA,...n},i={...s.platform,_c:r};return zR(t,e,{...s,platform:i})};var yc=typeof document<"u"?v.useLayoutEffect:v.useEffect;function ru(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ru(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ru(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Jb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Dy(t,e){const n=Jb(t);return Math.round(e*n)/n}function uf(t){const e=v.useRef(t);return yc(()=>{e.current=t}),e}function SA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=v.useState(r);ru(h,r)||g(r);const[_,m]=v.useState(null),[x,w]=v.useState(null),p=v.useCallback(E=>{E!==C.current&&(C.current=E,m(E))},[]),y=v.useCallback(E=>{E!==S.current&&(S.current=E,w(E))},[]),b=i||_,k=o||x,C=v.useRef(null),S=v.useRef(null),N=v.useRef(d),T=l!=null,P=uf(l),L=uf(s),A=uf(c),H=v.useCallback(()=>{if(!C.current||!S.current)return;const E={placement:e,strategy:n,middleware:h};L.current&&(E.platform=L.current),CA(C.current,S.current,E).then(I=>{const F={...I,isPositioned:A.current!==!1};M.current&&!ru(N.current,F)&&(N.current=F,Gs.flushSync(()=>{f(F)}))})},[h,e,n,L,A]);yc(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[c]);const M=v.useRef(!1);yc(()=>(M.current=!0,()=>{M.current=!1}),[]),yc(()=>{if(b&&(C.current=b),k&&(S.current=k),b&&k){if(P.current)return P.current(b,k,H);H()}},[b,k,H,P,T]);const B=v.useMemo(()=>({reference:C,floating:S,setReference:p,setFloating:y}),[p,y]),W=v.useMemo(()=>({reference:b,floating:k}),[b,k]),O=v.useMemo(()=>{const E={position:n,left:0,top:0};if(!W.floating)return E;const I=Dy(W.floating,d.x),F=Dy(W.floating,d.y);return a?{...E,transform:"translate("+I+"px, "+F+"px)",...Jb(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:F}},[n,a,W.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:H,refs:B,elements:W,floatingStyles:O}),[d,H,B,W,O])}const EA=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?My({element:r.current,padding:s}).fn(n):{}:r?My({element:r,padding:s}).fn(n):{}}}},NA=(t,e)=>({...vA(t),options:[t,e]}),kA=(t,e)=>({...yA(t),options:[t,e]}),TA=(t,e)=>({...bA(t),options:[t,e]}),PA=(t,e)=>({...wA(t),options:[t,e]}),IA=(t,e)=>({..._A(t),options:[t,e]}),RA=(t,e)=>({...xA(t),options:[t,e]}),AA=(t,e)=>({...EA(t),options:[t,e]});var OA="Arrow",Zb=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ue.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Zb.displayName=OA;var MA=Zb;function DA(t){const[e,n]=v.useState(void 0);return ct(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Dm="Popper",[eC,vo]=ho(Dm),[jA,tC]=eC(Dm),nC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return u.jsx(jA,{scope:e,anchor:r,onAnchorChange:s,children:n})};nC.displayName=Dm;var rC="PopperAnchor",sC=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=tC(rC,n),o=v.useRef(null),a=ke(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ue.div,{...s,ref:a})});sC.displayName=rC;var jm="PopperContent",[LA,FA]=eC(jm),iC=v.forwardRef((t,e)=>{var z,be,nt,ve,he,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:_,...m}=t,x=tC(jm,n),[w,p]=v.useState(null),y=ke(e,Rt=>p(Rt)),[b,k]=v.useState(null),C=DA(b),S=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,T=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],A=L.length>0,H={padding:P,boundary:L.filter(UA),altBoundary:A},{refs:M,floatingStyles:B,placement:W,isPositioned:O,middlewareData:E}=SA({strategy:"fixed",placement:T,whileElementsMounted:(...Rt)=>gA(...Rt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[NA({mainAxis:s+N,alignmentAxis:o}),l&&kA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?TA():void 0,...H}),l&&PA({...H}),IA({...H,apply:({elements:Rt,rects:_n,availableWidth:ko,availableHeight:To})=>{const{width:Po,height:oN}=_n.reference,El=Rt.floating.style;El.setProperty("--radix-popper-available-width",`${ko}px`),El.setProperty("--radix-popper-available-height",`${To}px`),El.setProperty("--radix-popper-anchor-width",`${Po}px`),El.setProperty("--radix-popper-anchor-height",`${oN}px`)}}),b&&AA({element:b,padding:a}),HA({arrowWidth:S,arrowHeight:N}),h&&RA({strategy:"referenceHidden",...H})]}),[I,F]=lC(W),$=Wt(_);ct(()=>{O&&($==null||$())},[O,$]);const ee=(z=E.arrow)==null?void 0:z.x,Fe=(be=E.arrow)==null?void 0:be.y,Ae=((nt=E.arrow)==null?void 0:nt.centerOffset)!==0,[It,ze]=v.useState();return ct(()=>{w&&ze(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:O?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:It,"--radix-popper-transform-origin":[(ve=E.transformOrigin)==null?void 0:ve.x,(he=E.transformOrigin)==null?void 0:he.y].join(" "),...((pe=E.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(LA,{scope:n,placedSide:I,onArrowChange:k,arrowX:ee,arrowY:Fe,shouldHideArrow:Ae,children:u.jsx(ue.div,{"data-side":I,"data-align":F,...m,ref:y,style:{...m.style,animation:O?void 0:"none"}})})})});iC.displayName=jm;var oC="PopperArrow",WA={top:"bottom",right:"left",bottom:"top",left:"right"},aC=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FA(oC,r),o=WA[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(MA,{...s,ref:n,style:{...s.style,display:"block"}})})});aC.displayName=oC;function UA(t){return t!==null}var HA=t=>({name:"transformOrigin",options:t,fn(e){var x,w,p;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=lC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((p=s.arrow)==null?void 0:p.y)??0)+l/2;let _="",m="";return c==="bottom"?(_=o?f:`${h}px`,m=`${-l}px`):c==="top"?(_=o?f:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,m=o?f:`${g}px`):c==="left"&&(_=`${r.floating.width+l}px`,m=o?f:`${g}px`),{data:{x:_,y:m}}}});function lC(t){const[e,n="center"]=t.split("-");return[e,n]}var cC=nC,id=sC,Lm=iC,Fm=aC,[od,dW]=ho("Tooltip",[vo]),Wm=vo(),uC="TooltipProvider",$A=700,jy="tooltip.open",[BA,dC]=od(uC),fC=t=>{const{__scopeTooltip:e,delayDuration:n=$A,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(BA,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};fC.displayName=uC;var hC="Tooltip",[fW,ad]=od(hC),Hh="TooltipTrigger",zA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ad(Hh,n),i=dC(Hh,n),o=Wm(n),a=v.useRef(null),l=ke(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(id,{asChild:!0,...o,children:u.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:q(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:q(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:q(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:q(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:q(t.onBlur,s.onClose),onClick:q(t.onClick,s.onClose)})})});zA.displayName=Hh;var VA="TooltipPortal",[hW,GA]=od(VA,{forceMount:void 0}),Xi="TooltipContent",pC=v.forwardRef((t,e)=>{const n=GA(Xi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ad(Xi,t.__scopeTooltip);return u.jsx(sl,{present:r||o.open,children:o.disableHoverableContent?u.jsx(mC,{side:s,...i,ref:e}):u.jsx(YA,{side:s,...i,ref:e})})}),YA=v.forwardRef((t,e)=>{const n=ad(Xi,t.__scopeTooltip),r=dC(Xi,t.__scopeTooltip),s=v.useRef(null),i=ke(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),g=v.useCallback((_,m)=>{const x=_.currentTarget,w={x:_.clientX,y:_.clientY},p=JA(w,x.getBoundingClientRect()),y=ZA(w,p),b=eO(m.getBoundingClientRect()),k=nO([...y,...b]);a(k),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const _=x=>g(x,d),m=x=>g(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",m)}}},[l,d,g,h]),v.useEffect(()=>{if(o){const _=m=>{const x=m.target,w={x:m.clientX,y:m.clientY},p=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),y=!tO(w,o);p?h():y&&(h(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,h]),u.jsx(mC,{...t,ref:i})}),[KA,qA]=od(hC,{isInside:!1}),QA=VP("TooltipContent"),mC=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ad(Xi,n),c=Wm(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(jy,d),()=>document.removeEventListener(jy,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(rl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Lm,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(QA,{children:r}),u.jsx(KA,{scope:n,isInside:!0,children:u.jsx(dI,{id:l.contentId,role:"tooltip",children:s||r})})]})})});pC.displayName=Xi;var gC="TooltipArrow",XA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wm(n);return qA(gC,n).isInside?null:u.jsx(Fm,{...s,...r,ref:e})});XA.displayName=gC;function JA(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZA(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function eO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function tO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function nO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),rO(e)}function rO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sO=fC,vC=pC;const iO=sO,oO=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(vC,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));oO.displayName=vC.displayName;const aO=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw yo(e)},yo=function(t){return new Error("Firebase Database ("+yC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Um={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new cO;const h=i<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _C=function(t){const e=wC(t);return Um.encodeByteArray(e,!0)},su=function(t){return _C(t).replace(/\./g,"")},iu=function(t){try{return Um.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return xC(void 0,t)}function xC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dO(n)||(t[n]=xC(t[n],e[n]));return t}function dO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=()=>fO().__FIREBASE_DEFAULTS__,pO=()=>{if(typeof process>"u"||typeof Ly>"u")return;const t=Ly.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iu(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return aO()||hO()||pO()||mO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bC=t=>{var e,n;return(n=(e=Hm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gO=t=>{const e=bC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CC=()=>{var t;return(t=Hm())==null?void 0:t.config},SC=t=>{var e;return(e=Hm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[su(JSON.stringify(n)),su(JSON.stringify(o)),""].join(".")}const ca={};function yO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ca))ca[e]?t.emulator.push(e):t.prod.push(e);return t}function wO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fy=!1;function NC(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||ca[t]===e||ca[t]||Fy)return;ca[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=yO().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Fy=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=wO(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),m=n("learnmore"),x=document.getElementById(m)||document.createElement("a"),w=n("preprendIcon"),p=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const y=h.element;a(y),d(x,m);const b=c();l(p,w),y.append(p,_,x,b),document.body.appendChild(y)}i?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $m(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function _O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bO(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TC(){return yC.NODE_ADMIN===!0}function CO(){try{return typeof indexedDB=="object"}catch{return!1}}function SO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EO,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?NO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new as(s,a,r)}}function NO(t,e){return t.replace(kO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){return JSON.parse(t)}function $e(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=La(iu(i[0])||""),n=La(iu(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},TO=function(t){const e=PC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PO=function(t){const e=PC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ji(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $h(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ou(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Wy(i)&&Wy(o)){if(!Ds(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Wy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):f<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const h=(s<<5|s>>>27)+c+l+d+r[f]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function RO(t,e){const n=new AO(t,e);return n.subscribe.bind(n)}class AO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=df),s.error===void 0&&(s.error=df),s.complete===void 0&&(s.complete=df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function df(){}function ld(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LO(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jO(t){return t===gs?void 0:t}function LO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const WO={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},UO=me.INFO,HO={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},$O=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=HO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=UO,this._logHandler=$O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const BO=(t,e)=>e.some(n=>t instanceof n);let Uy,Hy;function zO(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IC=new WeakMap,Bh=new WeakMap,RC=new WeakMap,ff=new WeakMap,zm=new WeakMap;function GO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),zm.set(e,t),e}function YO(t){if(Bh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bh.set(t,e)}let zh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KO(t){zh=t(zh)}function qO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hf(this),e,...n);return RC.set(r,e.sort?e.sort():[e]),zr(r)}:VO().includes(t)?function(...e){return t.apply(hf(this),e),zr(IC.get(this))}:function(...e){return zr(t.apply(hf(this),e))}}function QO(t){return typeof t=="function"?qO(t):(t instanceof IDBTransaction&&YO(t),BO(t,zO())?new Proxy(t,zh):t)}function zr(t){if(t instanceof IDBRequest)return GO(t);if(ff.has(t))return ff.get(t);const e=QO(t);return e!==t&&(ff.set(t,e),zm.set(e,t)),e}const hf=t=>zm.get(t);function XO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zr(o.result),l.oldVersion,l.newVersion,zr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JO=["get","getKey","getAll","getAllKeys","count"],ZO=["put","add","delete","clear"],pf=new Map;function $y(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ZO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JO.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return pf.set(e,i),i}KO(t=>({...t,get:(e,n,r)=>$y(e,n)||t.get(e,n,r),has:(e,n)=>!!$y(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vh="@firebase/app",By="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Bm("@firebase/app"),nM="@firebase/app-compat",rM="@firebase/analytics-compat",sM="@firebase/analytics",iM="@firebase/app-check-compat",oM="@firebase/app-check",aM="@firebase/auth",lM="@firebase/auth-compat",cM="@firebase/database",uM="@firebase/data-connect",dM="@firebase/database-compat",fM="@firebase/functions",hM="@firebase/functions-compat",pM="@firebase/installations",mM="@firebase/installations-compat",gM="@firebase/messaging",vM="@firebase/messaging-compat",yM="@firebase/performance",wM="@firebase/performance-compat",_M="@firebase/remote-config",xM="@firebase/remote-config-compat",bM="@firebase/storage",CM="@firebase/storage-compat",SM="@firebase/firestore",EM="@firebase/ai",NM="@firebase/firestore-compat",kM="firebase",TM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="[DEFAULT]",PM={[Vh]:"fire-core",[nM]:"fire-core-compat",[sM]:"fire-analytics",[rM]:"fire-analytics-compat",[oM]:"fire-app-check",[iM]:"fire-app-check-compat",[aM]:"fire-auth",[lM]:"fire-auth-compat",[cM]:"fire-rtdb",[uM]:"fire-data-connect",[dM]:"fire-rtdb-compat",[fM]:"fire-fn",[hM]:"fire-fn-compat",[pM]:"fire-iid",[mM]:"fire-iid-compat",[gM]:"fire-fcm",[vM]:"fire-fcm-compat",[yM]:"fire-perf",[wM]:"fire-perf-compat",[_M]:"fire-rc",[xM]:"fire-rc-compat",[bM]:"fire-gcs",[CM]:"fire-gcs-compat",[SM]:"fire-fst",[NM]:"fire-fst-compat",[EM]:"fire-vertex","fire-js":"fire-js",[kM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Map,IM=new Map,Yh=new Map;function zy(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zi(t){const e=t.name;if(Yh.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Yh.set(e,t);for(const n of au.values())zy(n,t);for(const n of IM.values())zy(n,t);return!0}function Vm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new ll("app","Firebase",RM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=TM;function AC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Vr.create("bad-app-name",{appName:String(s)});if(n||(n=CC()),!n)throw Vr.create("no-options");const i=au.get(s);if(i){if(Ds(n,i.options)&&Ds(r,i.config))return i;throw Vr.create("duplicate-app",{appName:s})}const o=new FO(s);for(const l of Yh.values())o.addComponent(l);const a=new AM(n,r,o);return au.set(s,a),a}function OC(t=Gh){const e=au.get(t);if(!e&&t===Gh&&CC())return AC();if(!e)throw Vr.create("no-app",{appName:t});return e}function Gr(t,e,n){let r=PM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(o.join(" "));return}Zi(new js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebase-heartbeat-database",MM=1,Fa="firebase-heartbeat-store";let mf=null;function MC(){return mf||(mf=XO(OM,MM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),mf}async function DM(t){try{const n=(await MC()).transaction(Fa),r=await n.objectStore(Fa).get(DC(t));return await n.done,r}catch(e){if(e instanceof as)ir.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Vy(t,e){try{const r=(await MC()).transaction(Fa,"readwrite");await r.objectStore(Fa).put(e,DC(t)),await r.done}catch(n){if(n instanceof as)ir.warn(n.message);else{const r=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function DC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=1024,LM=30;class FM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>LM){const o=HM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gy(),{heartbeatsToSend:r,unsentEntries:s}=WM(this._heartbeatsCache.heartbeats),i=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ir.warn(n),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function WM(t,e=jM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Yy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Yy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CO()?SO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yy(t){return su(JSON.stringify({version:2,heartbeats:t})).length}function HM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){Zi(new js("platform-logger",e=>new eM(e),"PRIVATE")),Zi(new js("heartbeat",e=>new FM(e),"PRIVATE")),Gr(Vh,By,t),Gr(Vh,By,"esm2020"),Gr("fire-js","")}$M("");var BM="firebase",zM="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(BM,zM,"app");function jC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VM=jC,LC=new ll("auth","Firebase",jC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Bm("@firebase/auth");function GM(t,...e){lu.logLevel<=me.WARN&&lu.warn(`Auth (${xo}): ${t}`,...e)}function wc(t,...e){lu.logLevel<=me.ERROR&&lu.error(`Auth (${xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw Gm(t,...e)}function An(t,...e){return Gm(t,...e)}function FC(t,e,n){const r={...VM(),[e]:n};return new ll("auth","Firebase",r).create(e,{appName:t.name})}function Xn(t){return FC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LC.create(t,...e)}function V(t,e,...n){if(!t)throw Gm(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function or(t,e){t||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function YM(){return Ky()==="http:"||Ky()==="https:"}function Ky(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YM()||xO()||"connection"in navigator)?navigator.onLine:!0}function qM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=$m()||kC()}get(){return KM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JM=new cl(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ur(t,e,n,r,s={}){return UC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=_o({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return _O()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(c.credentials="include"),WC.fetch()(await HC(t,t.config.apiHost,n,a),c)})}async function UC(t,e,n){t._canInitEmulator=!1;const r={...QM,...e};try{const s=new eD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Kl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw FC(t,d,c);vn(t,d)}}catch(s){if(s instanceof as)throw s;vn(t,"network-request-failed",{message:String(s)})}}async function ul(t,e,n,r,s={}){const i=await ur(t,e,n,r,s);return"mfaPendingCredential"in i&&vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function HC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ym(t.config,s):`${t.config.apiScheme}://${s}`;return XM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function ZM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(An(this.auth,"network-request-failed")),JM.get())})}}function Kl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=An(t,e,r);return s.customData._tokenResponse=n,s}function qy(t){return t!==void 0&&t.enterprise!==void 0}class tD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nD(t,e){return ur(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return ur(t,"POST","/v1/accounts:delete",e)}async function cu(t,e){return ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=Km(r);V(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ua(gf(s.auth_time)),issuedAtTime:ua(gf(s.iat)),expirationTime:ua(gf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gf(t){return Number(t)*1e3}function Km(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const s=iu(n);return s?JSON.parse(s):(wc("Failed to decode base64 JWT payload"),null)}catch(s){return wc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Qy(t){const e=Km(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&iD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await eo(t,cu(e,{idToken:n}));V(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?$C(s.providerUserInfo):[],o=lD(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function aD(t){const e=ut(t);await uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){const n=await UC(t,{},async()=>{const r=_o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await HC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&wo(t.emulatorConfig.host)&&(l.credentials="include"),WC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uD(t,e){return ur(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=Qy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ni;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(V(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(V(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ni,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new oD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await eo(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sD(this,e)}reload(){return aD(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await eo(this,rD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:_,stsTokenManager:m}=n;V(f&&m,e,"internal-error");const x=Ni.fromJSON(this.name,m);V(typeof f=="string",e,"internal-error"),mr(r,e.name),mr(s,e.name),V(typeof h=="boolean",e,"internal-error"),V(typeof g=="boolean",e,"internal-error"),mr(i,e.name),mr(o,e.name),mr(a,e.name),mr(l,e.name),mr(c,e.name),mr(d,e.name);const w=new ln({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(w.providerData=_.map(p=>({...p}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ni;s.updateFromServerResponse(n);const i=new ln({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];V(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$C(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ni;a.updateFromIdToken(r);const l=new ln({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;function Kn(t){or(t instanceof Function,"Expected a class definition");let e=Xy.get(t);return e?(or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BC.type="NONE";const Jy=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e,n){return`firebase:${t}:${e}:${n}`}class ki{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_c(this.userKey,s.apiKey,i),this.fullPersistenceKey=_c("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cu(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ki(Kn(Jy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Kn(Jy);const o=_c(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await cu(e,{idToken:d}).catch(()=>{});if(!h)break;f=await ln._fromGetAccountInfoResponse(e,h,d)}else f=ln._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ki(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ki(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(QC(e))return"Webos";if(VC(e))return"Safari";if((e.includes("chrome/")||GC(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(t=wt()){return/firefox\//i.test(t)}function VC(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GC(t=wt()){return/crios\//i.test(t)}function YC(t=wt()){return/iemobile/i.test(t)}function KC(t=wt()){return/android/i.test(t)}function qC(t=wt()){return/blackberry/i.test(t)}function QC(t=wt()){return/webos/i.test(t)}function qm(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dD(t=wt()){var e;return qm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fD(){return bO()&&document.documentMode===10}function XC(t=wt()){return qm(t)||KC(t)||QC(t)||qC(t)||/windows phone/i.test(t)||YC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=Zy(wt());break;case"Worker":n=`${Zy(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e={}){return ur(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=6;class gD{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ki.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cu(this,{idToken:e}),r=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Gt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(Xn(this));const n=e?ut(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pD(this),n=new gD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await ki.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&GM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ks(t){return ut(t)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=RO(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yD(t){ud=t}function ZC(t){return ud.loadJS(t)}function wD(){return ud.recaptchaEnterpriseScript}function _D(){return ud.gapiScript}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bD{constructor(){this.enterprise=new CD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SD="recaptcha-enterprise",e1="NO_RECAPTCHA";class ED{constructor(e){this.type=SD,this.auth=Ks(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{nD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new tD(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;qy(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(e1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bD().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&qy(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wD();l.length!==0&&(l+=a),ZC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function tw(t,e,n,r=!1,s=!1){const i=new ED(t);let o;if(s)o=e1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await tw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){const n=Vm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ds(i,e??{}))return s;vn(s,"already-initialized")}return n.initialize({options:e})}function kD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TD(t,e,n){const r=Ks(t);V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=t1(e),{host:o,port:a}=PD(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){V(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),V(Ds(c,r.config.emulator)&&Ds(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,wo(o)?(EC(`${i}//${o}${l}`),NC("Auth",!0)):ID()}function t1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PD(t){const e=t1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:nw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:nw(o)}}}function nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ID(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function RD(t,e){return ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return ul(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return ul(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function MD(t,e){return ul(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Qm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,n,"signInWithPassword",AD);case"emailLink":return OD(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,r,"signUpPassword",RD);case"emailLink":return MD(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t,e){return ul(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="http://localhost";class Ls extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ls(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ti(e,n)}buildRequest(){const e={requestUri:DD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_o(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LD(t){const e=Qo(Xo(t)).link,n=e?Qo(Xo(e)).deep_link_id:null,r=Qo(Xo(t)).deep_link_id;return(r?Qo(Xo(r)).link:null)||r||n||e||t}class Xm{constructor(e){const n=Qo(Xo(e)),r=n.apiKey??null,s=n.oobCode??null,i=jD(n.mode??null);V(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=LD(e);try{return new Xm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return Wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xm.parseLink(n);return V(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends dl{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ls._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends dl{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends dl{constructor(){super("twitter.com")}static credential(e,n){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e){return ul(t,"POST","/v1/accounts:signUp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ln._fromIdTokenResponse(e,r,s),o=rw(r);return new Fs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rw(r);return new Fs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends as{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,du.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new du(e,n,r,s)}}function r1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?du._fromErrorAndOperation(t,i,e,r):i})}async function WD(t,e,n=!1){const r=await eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e,n=!1){const{auth:r}=t;if(Gt(r.app))return Promise.reject(Xn(r));const s="reauthenticate";try{const i=await eo(t,r1(r,s,e,t),n);V(i.idToken,r,"internal-error");const o=Km(i.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),Fs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e,n=!1){if(Gt(t.app))return Promise.reject(Xn(t));const r="signIn",s=await r1(t,r,e),i=await Fs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function HD(t,e){return s1(Ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $D(t,e,n){if(Gt(t.app))return Promise.reject(Xn(t));const r=Ks(t),o=await Qh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&i1(t),l}),a=await Fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function BD(t,e,n){return Gt(t.app)?Promise.reject(Xn(t)):HD(ut(t),bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e){return ur(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ut(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await eo(r,zD(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function GD(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function YD(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function KD(t){return ut(t).signOut()}const fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=1e3,QD=10;class a1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const XD=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l1.type="SESSION";const c1=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await JD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Jm("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function e2(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function t2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function r2(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebaseLocalStorageDb",s2=1,hu="firebaseLocalStorage",f1="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([hu],e?"readwrite":"readonly").objectStore(hu)}function i2(){const t=indexedDB.deleteDatabase(d1);return new fl(t).toPromise()}function Xh(){const t=indexedDB.open(d1,s2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hu,{keyPath:f1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hu)?e(r):(r.close(),await i2(),e(await Xh()))})})}async function sw(t,e,n){const r=fd(t,!0).put({[f1]:e,value:n});return new fl(r).toPromise()}async function o2(t,e){const n=fd(t,!1).get(e),r=await new fl(n).toPromise();return r===void 0?null:r.value}function iw(t,e){const n=fd(t,!0).delete(e);return new fl(n).toPromise()}const a2=800,l2=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await t2(),!this.activeServiceWorker)return;this.sender=new ZD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xh();return await sw(e,fu,"1"),await iw(e,fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fd(s,!1).getAll();return new fl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const c2=h1;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t,e){return e?Kn(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ti(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ti(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d2(t){return s1(t.auth,new Zm(t),t.bypassAuthState)}function f2(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),UD(n,new Zm(t),t.bypassAuthState)}async function h2(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),WD(n,new Zm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return f2;default:vn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new cl(2e3,1e4);class mi extends p1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p2.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="pendingRedirect",xc=new Map;class g2 extends p1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const r=await v2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(t,e){const n=_2(e),r=w2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function y2(t,e){xc.set(t._key(),e)}function w2(t){return Kn(t._redirectPersistence)}function _2(t){return _c(m2,t.config.apiKey,t.name)}async function x2(t,e,n=!1){if(Gt(t.app))return Promise.reject(Xn(t));const r=Ks(t),s=u2(r,e),o=await new g2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=10*60*1e3;class C2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(An(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ow(e))}saveEventToCache(e){this.cachedEventUids.add(ow(e)),this.lastProcessedEventTime=Date.now()}}function ow(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e={}){return ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function T2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E2(t);for(const n of e)try{if(P2(n))return}catch{}vn(t,"unauthorized-domain")}function P2(t){const e=Kh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!k2.test(n))return!1;if(N2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new cl(3e4,6e4);function aw(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R2(t){return new Promise((e,n)=>{var s,i,o;function r(){aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aw(),n(An(t,"network-request-failed"))},timeout:I2.get()})}if((i=(s=On().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=On().gapi)!=null&&o.load)r();else{const a=xD("iframefcb");return On()[a]=()=>{gapi.load?r():n(An(t,"network-request-failed"))},ZC(`${_D()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bc=null,e})}let bc=null;function A2(t){return bc=bc||R2(t),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new cl(5e3,15e3),M2="__/auth/iframe",D2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,D2):`https://${t.config.authDomain}/${M2}`,r={apiKey:e.apiKey,appName:t.name,v:xo},s=L2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_o(r).slice(1)}`}async function W2(t){const e=await A2(t),n=On().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:F2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=An(t,"network-request-failed"),a=On().setTimeout(()=>{i(o)},O2.get());function l(){On().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,$2=600,B2="_blank",z2="http://localhost";class lw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(t,e,n,r=H2,s=$2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...U2,width:r.toString(),height:s.toString(),top:i,left:o},c=wt().toLowerCase();n&&(a=GC(c)?B2:n),zC(c)&&(e=e||z2,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(dD(c)&&a!=="_self")return G2(e||"",a),new lw(null);const f=window.open(e||"",a,d);V(f,t,"popup-blocked");try{f.focus()}catch{}return new lw(f)}function G2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="__/auth/handler",K2="emulator/auth/handler",q2=encodeURIComponent("fac");async function cw(t,e,n,r,s,i){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:s};if(e instanceof n1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$h(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof dl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${q2}=${encodeURIComponent(l)}`:"";return`${Q2(t)}?${_o(a).slice(1)}${c}`}function Q2({config:t}){return t.emulator?Ym(t,K2):`https://${t.authDomain}/${Y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class X2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=x2,this._overrideRedirectResult=y2}async _openPopup(e,n,r,s){var o;or((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await cw(e,n,r,Kh(),s);return V2(e,i,Jm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await cw(e,n,r,Kh(),s);return e2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await W2(e),r=new C2(e);return n.register("authEvent",s=>(V(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vf,{type:vf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[vf];i!==void 0&&n(!!i),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XC()||VC()||qm()}}const J2=X2;var uw="@firebase/auth",dw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tj(t){Zi(new js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},c=new vD(r,s,i,l);return kD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zi(new js("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(r=>new Z2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(uw,dw,ej(t)),Gr(uw,dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=5*60,rj=SC("authIdTokenMaxAge")||nj;let fw=null;const sj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rj)return;const s=n==null?void 0:n.token;fw!==s&&(fw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ij(t=OC()){const e=Vm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ND(t,{popupRedirectResolver:J2,persistence:[c2,XD,c1]}),r=SC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sj(i.toString());YD(n,o,()=>o(n.currentUser)),GD(n,a=>o(a))}}const s=bC("auth");return s&&TD(n,`http://${s}`),n}function oj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}yD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=An("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tj("Browser");var hw={};const pw="@firebase/database",mw="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g1="";function aj(t){g1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:La(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ln(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lj(e)}}catch{}return new cj},bs=v1("localStorage"),uj=v1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Bm("@firebase/database"),dj=function(){let t=1;return function(){return t++}}(),y1=function(t){const e=MO(t),n=new IO;n.update(e);const r=n.digest();return Um.encodeByteArray(r)},hl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hl.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e};let da=null,gw=!0;const fj=function(t,e){j(!e,"Can't turn on custom loggers persistently."),Pi.logLevel=me.VERBOSE,da=Pi.log.bind(Pi)},Je=function(...t){if(gw===!0&&(gw=!1,da===null&&uj.get("logging_enabled")===!0&&fj()),da){const e=hl.apply(null,t);da(e)}},pl=function(t){return function(...e){Je(t,...e)}},Jh=function(...t){const e="FIREBASE INTERNAL ERROR: "+hl(...t);Pi.error(e)},ar=function(...t){const e=`FIREBASE FATAL ERROR: ${hl(...t)}`;throw Pi.error(e),new Error(e)},yt=function(...t){const e="FIREBASE WARNING: "+hl(...t);Pi.warn(e)},hj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},to="[MIN_NAME]",Ws="[MAX_NAME]",qs=function(t,e){if(t===e)return 0;if(t===to||e===Ws)return-1;if(e===to||t===Ws)return 1;{const n=vw(t),r=vw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},mj=function(t,e){return t===e?0:t<e?-1:1},Uo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$e(e))},tg=function(t){if(typeof t!="object"||t===null)return $e(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$e(e[r]),n+=":",n+=tg(t[e[r]]);return n+="}",n},w1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const _1=function(t){j(!eg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},gj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const wj=new RegExp("^-?(0*)\\d{1,10}$"),_j=-2147483648,xj=2147483647,vw=function(t){if(wj.test(t)){const e=Number(t);if(e>=_j&&e<=xj)return e}return null},Co=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw yt("Exception was thrown by user callback.",n),e},Math.floor(0))}},bj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class Cc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="5",x1="v",b1="s",C1="r",S1="f",E1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,N1="ls",k1="p",Zh="ac",T1="websocket",P1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ej(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function R1(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let r;if(e===T1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===P1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ej(t)&&(n.ns=t.namespace);const s=[];return tt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.counters_={}}incrementCounter(e,n=1){Ln(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return uO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf={},wf={};function rg(t){const e=t.toString();return yf[e]||(yf[e]=new Nj),yf[e]}function kj(t,e){const n=t.toString();return wf[n]||(wf[n]=e()),wf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Co(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="start",Pj="close",Ij="pLPCommand",Rj="pRTLPCB",A1="id",O1="pw",M1="ser",Aj="cb",Oj="seg",Mj="ts",Dj="d",jj="dframe",D1=1870,j1=30,Lj=D1-j1,Fj=25e3,Wj=3e4;class gi{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pl(e),this.stats_=rg(n),this.urlFn=l=>(this.appCheckToken&&(l[Zh]=this.appCheckToken),R1(n,P1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Tj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Wj)),pj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sg((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===yw)this.id=a,this.password=l;else if(o===Pj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[yw]="t",r[M1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Aj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[x1]=ng,this.transportSessionId&&(r[b1]=this.transportSessionId),this.lastSessionId&&(r[N1]=this.lastSessionId),this.applicationId&&(r[k1]=this.applicationId),this.appCheckToken&&(r[Zh]=this.appCheckToken),typeof location<"u"&&location.hostname&&E1.test(location.hostname)&&(r[C1]=S1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gi.forceAllow_=!0}static forceDisallow(){gi.forceDisallow_=!0}static isAvailable(){return gi.forceAllow_?!0:!gi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gj()&&!vj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_C(n),s=w1(r,Lj);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[jj]="t",r[A1]=e,r[O1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sg{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dj(),window[Ij+this.uniqueCallbackIdentifier]=e,window[Rj+this.uniqueCallbackIdentifier]=n,this.myIFrame=sg.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Je("frame writing exception"),a.stack&&Je(a.stack),Je(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[A1]=this.myID,e[O1]=this.myPW,e[M1]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+j1+r.length<=D1;){const o=this.pendingSegs.shift();r=r+"&"+Oj+s+"="+o.seg+"&"+Mj+s+"="+o.ts+"&"+Dj+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Fj)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=16384,Hj=45e3;let pu=null;typeof MozWebSocket<"u"?pu=MozWebSocket:typeof WebSocket<"u"&&(pu=WebSocket);class an{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pl(this.connId),this.stats_=rg(n),this.connURL=an.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[x1]=ng,typeof location<"u"&&location.hostname&&E1.test(location.hostname)&&(o[C1]=S1),n&&(o[b1]=n),r&&(o[N1]=r),s&&(o[Zh]=s),i&&(o[k1]=i),R1(e,T1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bs.set("previous_websocket_failure",!0);try{let r;TC(),this.mySock=new pu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pu!==null&&!an.forceDisallow_}static previouslyFailed(){return bs.isInMemoryStorage||bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=La(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w1(n,Uj);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Hj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static get ALL_TRANSPORTS(){return[gi,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=an&&an.isAvailable();let r=n&&!an.previouslyFailed();if(e.webSocketOnly&&(n||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[an];else{const s=this.transports_=[];for(const i of Ua.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ua.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ua.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=6e4,Bj=5e3,zj=10*1024,Vj=100*1024,_f="t",ww="d",Gj="s",_w="r",Yj="e",xw="o",bw="a",Cw="n",Sw="p",Kj="h";class qj{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pl("c:"+this.id+":"),this.transportManager_=new Ua(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Vj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_f in e){const n=e[_f];n===bw?this.upgradeIfSecondaryHealthy_():n===_w?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Uo("t",e),r=Uo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Sw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:bw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Cw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Uo("t",e),r=Uo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Uo(_f,e);if(ww in e){const r=e[ww];if(n===Kj){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Cw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Gj?this.onConnectionShutdown_(r):n===_w?this.onReset_(r):n===Yj?Jh("Server Error: "+r):n===xw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ng!==r&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($j))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Bj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Sw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends F1{static getInstance(){return new mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$m()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=32,Nw=768;class ge{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new ge("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function es(t){return t.pieces_.length-t.pieceNum_}function we(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ge(t.pieces_,e)}function ig(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ha(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function W1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ge(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ge)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ge(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){const n=X(t),r=X(e);if(n===null)return e;if(n===r)return gt(we(t),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Xj(t,e){const n=Ha(t,0),r=Ha(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=qs(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function og(t,e){if(es(t)!==es(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Kt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(es(t)>es(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Jj{constructor(e,n){this.errorPrefix_=n,this.parts_=Ha(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cd(this.parts_[r]);U1(this)}}function Zj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=cd(e),U1(t)}function eL(t){const e=t.parts_.pop();t.byteLength_-=cd(e),t.parts_.length>0&&(t.byteLength_-=1)}function U1(t){if(t.byteLength_>Nw)throw new Error(t.errorPrefix_+"has a key path longer than "+Nw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ew)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ew+") or object contains a cycle "+vs(t))}function vs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends F1{static getInstance(){return new ag}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=1e3,tL=60*5*1e3,kw=30*1e3,nL=1.3,rL=3e4,sL="server_kill",Tw=3;class Jn extends L1{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Jn.nextPersistentConnectionId_++,this.log_=pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=tL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!TC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ag.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_($e(i)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new al,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Jn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ln(e,"w")){const r=Ji(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=TO(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Jh("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rL&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Jn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(f){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new qj(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{yt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(sL)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&yt(f),l())}}}interrupt(e){Je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$h(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>tg(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ge(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Tw&&(this.reconnectDelay_=kw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Tw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+g1.replace(/\./g,"-")]=1,$m()?e["framework.cordova"]=1:kC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mu.getInstance().currentlyOnline();return $h(this.interruptReasons_)&&e}}Jn.nextPersistentConnectionId_=0;Jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(to,e),s=new Z(to,n);return this.compare(r,s)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;class H1 extends hd{static get __EMPTY_NODE(){return ql}static set __EMPTY_NODE(e){ql=e}compare(e,n){return qs(e.name,n.name)}isDefinedOn(e){throw yo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(Ws,ql)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,ql)}toString(){return".key"}}const Ii=new H1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qe.RED,this.left=s??St.EMPTY_NODE,this.right=i??St.EMPTY_NODE}copy(e,n,r,s,i){return new qe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return St.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0;qe.BLACK=!1;class iL{copy(e,n,r,s,i){return this}insert(e,n,r){return new qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(e,n=St.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new St(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new St(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ql(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ql(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ql(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ql(this.root_,null,this.comparator_,!0,e)}}St.EMPTY_NODE=new iL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){return qs(t.name,e.name)}function lg(t,e){return qs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep;function aL(t){ep=t}const $1=function(t){return typeof t=="number"?"number:"+_1(t):"string:"+t},B1=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ln(e,".sv"),"Priority must be a string or number.")}else j(t===ep||t.isEmpty(),"priority of unexpected type.");j(t===ep||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw;class Ye{static set __childrenNodeConstructor(e){Pw=e}static get __childrenNodeConstructor(){return Pw}constructor(e,n=Ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),B1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:X(e)===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=X(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||es(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=_1(this.value_):e+=this.value_,this.lazyHash_=y1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ye.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ye.VALUE_TYPE_ORDER.indexOf(n),i=Ye.VALUE_TYPE_ORDER.indexOf(r);return j(s>=0,"Unknown leaf type: "+n),j(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z1,V1;function lL(t){z1=t}function cL(t){V1=t}class uL extends hd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?qs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(Ws,new Ye("[PRIORITY-POST]",V1))}makePost(e,n){const r=z1(e);return new Z(n,new Ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const je=new uL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=Math.log(2);class fL{constructor(e){const n=i=>parseInt(Math.log(i)/dL,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gu=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let f,h;if(d===0)return null;if(d===1)return f=t[l],h=n?n(f):f,new qe(h,f.node,qe.BLACK,null,null);{const g=parseInt(d/2,10)+l,_=s(l,g),m=s(g+1,c);return f=t[g],h=n?n(f):f,new qe(h,f.node,qe.BLACK,_,m)}},i=function(l){let c=null,d=null,f=t.length;const h=function(_,m){const x=f-_,w=f;f-=_;const p=s(x+1,w),y=t[x],b=n?n(y):y;g(new qe(b,y.node,m,null,p))},g=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const m=l.nextBitIsOne(),x=Math.pow(2,l.count-(_+1));m?h(x,qe.BLACK):(h(x,qe.BLACK),h(x,qe.RED))}return d},o=new fL(t.length),a=i(o);return new St(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;const Js={};class qn{static get Default(){return j(Js&&je,"ChildrenNode.ts has not been loaded"),xf=xf||new qn({".priority":Js},{".priority":je}),xf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ji(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof St?n:null}hasIndex(e){return Ln(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Z.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=gu(r,e.getCompare()):a=Js;const l=e.toString(),c={...this.indexSet_};c[l]=e;const d={...this.indexes_};return d[l]=a,new qn(d,c)}addToIndexes(e,n){const r=ou(this.indexes_,(s,i)=>{const o=Ji(this.indexSet_,i);if(j(o,"Missing index implementation for "+i),s===Js)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Z.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),gu(a,o.getCompare())}else return Js;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Z(e.name,a))),l.insert(e,e.node)}});return new qn(r,this.indexSet_)}removeFromIndexes(e,n){const r=ou(this.indexes_,s=>{if(s===Js)return s;{const i=n.get(e.name);return i?s.remove(new Z(e.name,i)):s}});return new qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class G{static get EMPTY_NODE(){return $o||($o=new G(new St(lg),null,qn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&B1(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$o:n}}getChild(e){const n=X(e);return n===null?this:this.getImmediateChild(n).getChild(we(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Z(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?$o:this.priorityNode_;return new G(s,o,i)}}updateChild(e,n){const r=X(e);if(r===null)return n;{j(X(e)!==".priority"||es(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(we(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(je,(o,a)=>{n[o]=a.val(e),r++,i&&G.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$1(this.getPriority().val())+":"),this.forEachChild(je,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":y1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Z(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ml?-1:0}withIndex(e){if(e===Ii||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ii||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(je),s=n.getIterator(je);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ii?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hL extends G{constructor(){super(new St(lg),G.EMPTY_NODE,qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const ml=new hL;Object.defineProperties(Z,{MIN:{value:new Z(to,G.EMPTY_NODE)},MAX:{value:new Z(Ws,ml)}});H1.__EMPTY_NODE=G.EMPTY_NODE;Ye.__childrenNodeConstructor=G;aL(ml);cL(ml);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=!0;function He(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ye(n,He(e))}if(!(t instanceof Array)&&pL){const n=[];let r=!1;if(tt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=He(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Z(o,l)))}}),n.length===0)return G.EMPTY_NODE;const i=gu(n,oL,o=>o.name,lg);if(r){const o=gu(n,je.getCompare());return new G(i,He(e),new qn({".priority":o},{".priority":je}))}else return new G(i,He(e),qn.Default)}else{let n=G.EMPTY_NODE;return tt(t,(r,s)=>{if(Ln(t,r)&&r.substring(0,1)!=="."){const i=He(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(He(e))}}lL(He);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends hd{constructor(e){super(),this.indexPath_=e,j(!te(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?qs(e.name,n.name):i}makePost(e,n){const r=He(e),s=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,s)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,ml);return new Z(Ws,e)}toString(){return Ha(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL extends hd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?qs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=He(e);return new Z(n,r)}toString(){return".value"}}const vL=new gL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){return{type:"value",snapshotNode:t}}function no(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $a(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ba(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function yL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange($a(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(no(n,r)):o.trackChildChange(Ba(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(je,(s,i)=>{n.hasChild(s)||r.trackChildChange($a(s,i))}),n.isLeafNode()||n.forEachChild(je,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Ba(s,i,o))}else r.trackChildChange(no(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.indexedFilter_=new cg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=za.getStartPost_(e),this.endPost_=za.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Z(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(G.EMPTY_NODE);const i=this;return n.forEachChild(je,(o,a)=>{i.matches(new Z(o,a))||(s=s.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new za(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Z(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=G.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(G.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,g)=>f(g,h)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new Z(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,l);if(d&&!r.isEmpty()&&g>=0)return i!=null&&i.trackChildChange(Ba(n,r,f)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange($a(n,f));const m=a.updateImmediateChild(n,G.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(no(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange($a(c.name,c.node)),i.trackChildChange(no(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new ug;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _L(t){return t.loadsAllData()?new cg(t.getIndex()):t.hasLimit()?new wL(t):new za(t)}function Iw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===je?n="$priority":t.index_===vL?n="$value":t.index_===Ii?n="$key":(j(t.index_ instanceof mL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$e(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=$e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$e(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Rw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends L1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=pl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=vu.getListenId_(e,r),a={};this.listens_[o]=a;const l=Iw(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(i,f,!1,r),Ji(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=vu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Iw(e._queryParams),r=e._path.toString(),s=new al;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_o(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=La(a.responseText)}catch{yt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&yt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(){return{value:null,children:new Map}}function Y1(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=X(e);t.children.has(r)||t.children.set(r,yu());const s=t.children.get(r);e=we(e),Y1(s,e,n)}}function tp(t,e,n){t.value!==null?n(e,t.value):bL(t,(r,s)=>{const i=new ge(e.toString()+"/"+r);tp(s,i,n)})}function bL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&tt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=10*1e3,SL=30*1e3,EL=5*60*1e3;class NL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new CL(e);const r=Aw+(SL-Aw)*Math.random();fa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;tt(e,(s,i)=>{i>0&&Ln(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*EL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function dg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cn.ACK_USER_WRITE,this.source=dg()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ge(e));return new wu(le(),n,this.revert)}}else return j(X(this.path)===e,"operationForChild called for unrelated child."),new wu(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.source=e,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new Va(this.source,le()):new Va(this.source,we(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cn.OVERWRITE}operationForChild(e){return te(this.path)?new Us(this.source,le(),this.snap.getImmediateChild(e)):new Us(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cn.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new ge(e));return n.isEmpty()?null:n.value?new Us(this.source,le(),n.value):new ro(this.source,le(),n)}else return j(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ro(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function TL(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(yL(o.childName,o.snapshotNode))}),Bo(t,s,"child_removed",e,r,n),Bo(t,s,"child_added",e,r,n),Bo(t,s,"child_moved",i,r,n),Bo(t,s,"child_changed",e,r,n),Bo(t,s,"value",e,r,n),s}function Bo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>IL(t,a,l)),o.forEach(a=>{const l=PL(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function PL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function IL(t,e,n){if(e.childName==null||n.childName==null)throw yo("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),s=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e){return{eventCache:t,serverCache:e}}function ha(t,e,n,r){return pd(new ts(e,n,r),t.serverCache)}function K1(t,e,n,r){return pd(t.eventCache,new ts(e,n,r))}function _u(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;const RL=()=>(bf||(bf=new St(mj)),bf);class ye{static fromObject(e){let n=new ye(null);return tt(e,(r,s)=>{n=n.set(new ge(r),s)}),n}constructor(e,n=RL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(te(e))return null;{const r=X(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(we(e),n);return i!=null?{path:De(new ge(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=X(e),r=this.children.get(n);return r!==null?r.subtree(we(e)):new ye(null)}}set(e,n){if(te(e))return new ye(n,this.children);{const r=X(e),i=(this.children.get(r)||new ye(null)).set(we(e),n),o=this.children.insert(r,i);return new ye(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=X(e),r=this.children.get(n);if(r){const s=r.remove(we(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ye(null):new ye(this.value,i)}else return this}}get(e){if(te(e))return this.value;{const n=X(e),r=this.children.get(n);return r?r.get(we(e)):null}}setTree(e,n){if(te(e))return n;{const r=X(e),i=(this.children.get(r)||new ye(null)).setTree(we(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ye(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(De(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(te(e))return null;{const i=X(e),o=this.children.get(i);return o?o.findOnPath_(we(e),De(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const s=X(e),i=this.children.get(s);return i?i.foreachOnPath_(we(e),De(n,s),r):new ye(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.writeTree_=e}static empty(){return new hn(new ye(null))}}function pa(t,e,n){if(te(e))return new hn(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=gt(s,e);return i=i.updateChild(o,n),new hn(t.writeTree_.set(s,i))}else{const s=new ye(n),i=t.writeTree_.setTree(e,s);return new hn(i)}}}function np(t,e,n){let r=t;return tt(n,(s,i)=>{r=pa(r,De(e,s),i)}),r}function Ow(t,e){if(te(e))return hn.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new hn(n)}}function rp(t,e){return Qs(t,e)!=null}function Qs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function Mw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(r,s)=>{e.push(new Z(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Z(r,s.value))}),e}function Yr(t,e){if(te(e))return t;{const n=Qs(t,e);return n!=null?new hn(new ye(n)):new hn(t.writeTree_.subtree(e))}}function sp(t){return t.writeTree_.isEmpty()}function so(t,e){return q1(le(),t.writeTree_,e)}function q1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(j(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=q1(De(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e){return Z1(e,t)}function AL(t,e,n,r,s){j(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=pa(t.visibleWrites,e,n)),t.lastWriteId=r}function OL(t,e,n,r){j(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=np(t.visibleWrites,e,n),t.lastWriteId=r}function ML(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function DL(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jL(a,r.path)?s=!1:Kt(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return LL(t),!0;if(r.snap)t.visibleWrites=Ow(t.visibleWrites,r.path);else{const a=r.children;tt(a,l=>{t.visibleWrites=Ow(t.visibleWrites,De(r.path,l))})}return!0}else return!1}function jL(t,e){if(t.snap)return Kt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Kt(De(t.path,n),e))return!0;return!1}function LL(t){t.visibleWrites=Q1(t.allWrites,FL,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function FL(t){return t.visible}function Q1(t,e,n){let r=hn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Kt(n,o)?(a=gt(n,o),r=pa(r,a,i.snap)):Kt(o,n)&&(a=gt(o,n),r=pa(r,le(),i.snap.getChild(a)));else if(i.children){if(Kt(n,o))a=gt(n,o),r=np(r,a,i.children);else if(Kt(o,n))if(a=gt(o,n),te(a))r=np(r,le(),i.children);else{const l=Ji(i.children,X(a));if(l){const c=l.getChild(we(a));r=pa(r,le(),c)}}}else throw yo("WriteRecord should have .snap or .children")}}return r}function X1(t,e,n,r,s){if(!r&&!s){const i=Qs(t.visibleWrites,e);if(i!=null)return i;{const o=Yr(t.visibleWrites,e);if(sp(o))return n;if(n==null&&!rp(o,le()))return null;{const a=n||G.EMPTY_NODE;return so(o,a)}}}else{const i=Yr(t.visibleWrites,e);if(!s&&sp(i))return n;if(!s&&n==null&&!rp(i,le()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Kt(c.path,e)||Kt(e,c.path))},a=Q1(t.allWrites,o,e),l=n||G.EMPTY_NODE;return so(a,l)}}}function WL(t,e,n){let r=G.EMPTY_NODE;const s=Qs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(je,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Yr(t.visibleWrites,e);return n.forEachChild(je,(o,a)=>{const l=so(Yr(i,new ge(o)),a);r=r.updateImmediateChild(o,l)}),Mw(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Yr(t.visibleWrites,e);return Mw(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function UL(t,e,n,r,s){j(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=De(e,n);if(rp(t.visibleWrites,i))return null;{const o=Yr(t.visibleWrites,i);return sp(o)?s.getChild(n):so(o,s.getChild(n))}}function HL(t,e,n,r){const s=De(e,n),i=Qs(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Yr(t.visibleWrites,s);return so(o,r.getNode().getImmediateChild(n))}else return null}function $L(t,e){return Qs(t.visibleWrites,e)}function BL(t,e,n,r,s,i,o){let a;const l=Yr(t.visibleWrites,e),c=Qs(l,le());if(c!=null)a=c;else if(n!=null)a=so(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=h.getNext();for(;g&&d.length<s;)f(g,r)!==0&&d.push(g),g=h.getNext();return d}else return[]}function zL(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function xu(t,e,n,r){return X1(t.writeTree,t.treePath,e,n,r)}function pg(t,e){return WL(t.writeTree,t.treePath,e)}function Dw(t,e,n,r){return UL(t.writeTree,t.treePath,e,n,r)}function bu(t,e){return $L(t.writeTree,De(t.treePath,e))}function VL(t,e,n,r,s,i){return BL(t.writeTree,t.treePath,e,n,r,s,i)}function mg(t,e,n){return HL(t.writeTree,t.treePath,e,n)}function J1(t,e){return Z1(De(t.treePath,e),t.writeTree)}function Z1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Ba(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,$a(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,no(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Ba(r,e.snapshotNode,s.oldSnap));else throw yo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const eS=new YL;class gg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hs(this.viewCache_),i=VL(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){return{filter:t}}function qL(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QL(t,e,n,r,s){const i=new GL;let o,a;if(n.type===cn.OVERWRITE){const c=n;c.source.fromUser?o=ip(t,e,c.path,c.snap,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),o=Cu(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===cn.MERGE){const c=n;c.source.fromUser?o=JL(t,e,c.path,c.children,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=op(t,e,c.path,c.children,r,s,a,i))}else if(n.type===cn.ACK_USER_WRITE){const c=n;c.revert?o=t4(t,e,c.path,r,s,i):o=ZL(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===cn.LISTEN_COMPLETE)o=e4(t,e,n.path,r,i);else throw yo("Unknown operation type: "+n.type);const l=i.getChanges();return XL(e,o,l),{viewCache:o,changes:l}}function XL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=_u(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(G1(_u(e)))}}function tS(t,e,n,r,s,i){const o=e.eventCache;if(bu(r,n)!=null)return e;{let a,l;if(te(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Hs(e),d=c instanceof G?c:G.EMPTY_NODE,f=pg(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const c=xu(r,Hs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=X(n);if(c===".priority"){j(es(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=Dw(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=we(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Dw(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(c).updateChild(d,h):f=o.getNode().getImmediateChild(c)}else f=mg(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,d,s,i):a=o.getNode()}}return ha(e,a,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Cu(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(te(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{const g=X(n);if(!l.isCompleteForPath(n)&&es(n)>1)return e;const _=we(n),x=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),g,x,_,eS,null)}const f=K1(e,c,l.isFullyInitialized()||te(n),d.filtersNodes()),h=new gg(s,f,i);return tS(t,f,n,s,h,a)}function ip(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new gg(s,e,i);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ha(e,c,!0,t.filter.filtersNodes());else{const f=X(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ha(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=we(n),g=a.getNode().getImmediateChild(f);let _;if(te(h))_=r;else{const m=d.getCompleteChild(f);m!=null?ig(h)===".priority"&&m.getChild(W1(h)).isEmpty()?_=m:_=m.updateChild(h,r):_=G.EMPTY_NODE}if(g.equals(_))l=e;else{const m=t.filter.updateChild(a.getNode(),f,_,h,d,o);l=ha(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function jw(t,e){return t.eventCache.isCompleteForChild(e)}function JL(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=De(n,l);jw(e,X(d))&&(a=ip(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=De(n,l);jw(e,X(d))||(a=ip(t,a,d,c,s,i,o))}),a}function Lw(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function op(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;te(n)?c=r:c=new ye(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),_=Lw(t,g,h);l=Cu(t,l,new ge(f),_,s,i,o,a)}}),c.children.inorderTraversal((f,h)=>{const g=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!g){const _=e.serverCache.getNode().getImmediateChild(f),m=Lw(t,_,h);l=Cu(t,l,new ge(f),m,s,i,o,a)}}),l}function ZL(t,e,n,r,s,i,o){if(bu(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Cu(t,e,n,l.getNode().getChild(n),s,i,a,o);if(te(n)){let c=new ye(null);return l.getNode().forEachChild(Ii,(d,f)=>{c=c.set(new ge(d),f)}),op(t,e,n,c,s,i,a,o)}else return e}else{let c=new ye(null);return r.foreach((d,f)=>{const h=De(n,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),op(t,e,n,c,s,i,a,o)}}function e4(t,e,n,r,s){const i=e.serverCache,o=K1(e,i.getNode(),i.isFullyInitialized()||te(n),i.isFiltered());return tS(t,o,n,r,eS,s)}function t4(t,e,n,r,s,i){let o;if(bu(r,n)!=null)return e;{const a=new gg(r,e,s),l=e.eventCache.getNode();let c;if(te(n)||X(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=xu(r,Hs(e));else{const f=e.serverCache.getNode();j(f instanceof G,"serverChildren would be complete if leaf node"),d=pg(r,f)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=X(n);let f=mg(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?c=t.filter.updateChild(l,d,f,we(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,G.EMPTY_NODE,we(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=xu(r,Hs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||bu(r,le())!=null,ha(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new cg(r.getIndex()),i=_L(r);this.processor_=KL(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(G.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(G.EMPTY_NODE,a.getNode(),null),d=new ts(l,o.isFullyInitialized(),s.filtersNodes()),f=new ts(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=pd(f,d),this.eventGenerator_=new kL(this.query_)}get query(){return this.query_}}function r4(t){return t.viewCache_.serverCache.getNode()}function s4(t){return _u(t.viewCache_)}function i4(t,e){const n=Hs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function Fw(t){return t.eventRegistrations_.length===0}function o4(t,e){t.eventRegistrations_.push(e)}function Ww(t,e,n){const r=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Uw(t,e,n,r){e.type===cn.MERGE&&e.source.queryId!==null&&(j(Hs(t.viewCache_),"We should always have a full cache before handling merges"),j(_u(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=QL(t.processor_,s,e,n,r);return qL(t.processor_,i.viewCache),j(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,nS(t,i.changes,i.viewCache.eventCache.getNode(),null)}function a4(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(i,o)=>{r.push(no(i,o))}),n.isFullyInitialized()&&r.push(G1(n.getNode())),nS(t,r,n.getNode(),e)}function nS(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return TL(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su;class rS{constructor(){this.views=new Map}}function l4(t){j(!Su,"__referenceConstructor has already been defined"),Su=t}function c4(){return j(Su,"Reference.ts has not been loaded"),Su}function u4(t){return t.views.size===0}function vg(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return j(i!=null,"SyncTree gave us an op for an invalid query."),Uw(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Uw(o,e,n,r));return i}}function sS(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=xu(n,s?r:null),l=!1;a?l=!0:r instanceof G?(a=pg(n,r),l=!1):(a=G.EMPTY_NODE,l=!1);const c=pd(new ts(a,l,!1),new ts(r,s,!1));return new n4(e,c)}return o}function d4(t,e,n,r,s,i){const o=sS(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),o4(o,n),a4(o,n)}function f4(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=ns(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Ww(c,n,r)),Fw(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Ww(l,n,r)),Fw(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!ns(t)&&i.push(new(c4())(e._repo,e._path)),{removed:i,events:o}}function iS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Kr(t,e){let n=null;for(const r of t.views.values())n=n||i4(r,e);return n}function oS(t,e){if(e._queryParams.loadsAllData())return gd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function aS(t,e){return oS(t,e)!=null}function ns(t){return gd(t)!=null}function gd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu;function h4(t){j(!Eu,"__referenceConstructor has already been defined"),Eu=t}function p4(){return j(Eu,"Reference.ts has not been loaded"),Eu}let m4=1;class Hw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=zL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lS(t,e,n,r,s){return AL(t.pendingWriteTree_,e,n,r,s),s?So(t,new Us(dg(),e,n)):[]}function g4(t,e,n,r){OL(t.pendingWriteTree_,e,n,r);const s=ye.fromObject(n);return So(t,new ro(dg(),e,s))}function Dr(t,e,n=!1){const r=ML(t.pendingWriteTree_,e);if(DL(t.pendingWriteTree_,e)){let i=new ye(null);return r.snap!=null?i=i.set(le(),!0):tt(r.children,o=>{i=i.set(new ge(o),!0)}),So(t,new wu(r.path,i,n))}else return[]}function gl(t,e,n){return So(t,new Us(fg(),e,n))}function v4(t,e,n){const r=ye.fromObject(n);return So(t,new ro(fg(),e,r))}function y4(t,e){return So(t,new Va(fg(),e))}function w4(t,e,n){const r=wg(t,n);if(r){const s=_g(r),i=s.path,o=s.queryId,a=gt(i,e),l=new Va(hg(o),a);return xg(t,i,l)}else return[]}function Nu(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||aS(o,e))){const l=f4(o,e,n,r);u4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(h,g)=>ns(g));if(d&&!f){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const g=b4(h);for(let _=0;_<g.length;++_){const m=g[_],x=m.query,w=fS(t,m);t.listenProvider_.startListening(ma(x),Ga(t,x),w.hashFn,w.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(ma(e),null):c.forEach(h=>{const g=t.queryToTagMap.get(vd(h));t.listenProvider_.stopListening(ma(h),g)}))}C4(t,c)}return a}function cS(t,e,n,r){const s=wg(t,r);if(s!=null){const i=_g(s),o=i.path,a=i.queryId,l=gt(o,e),c=new Us(hg(a),l,n);return xg(t,o,c)}else return[]}function _4(t,e,n,r){const s=wg(t,r);if(s){const i=_g(s),o=i.path,a=i.queryId,l=gt(o,e),c=ye.fromObject(n),d=new ro(hg(a),l,c);return xg(t,o,d)}else return[]}function ap(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,g)=>{const _=gt(h,s);i=i||Kr(g,_),o=o||ns(g)});let a=t.syncPointTree_.get(s);a?(o=o||ns(a),i=i||Kr(a,le())):(a=new rS,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=G.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,_)=>{const m=Kr(_,le());m&&(i=i.updateImmediateChild(g,m))}));const c=aS(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=vd(e);j(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=S4();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const d=md(t.pendingWriteTree_,s);let f=d4(a,e,n,d,i,l);if(!c&&!o&&!r){const h=oS(a,e);f=f.concat(E4(t,e,h))}return f}function yg(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=gt(o,e),c=Kr(a,l);if(c)return c});return X1(s,e,i,n,!0)}function x4(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const f=gt(c,n);r=r||Kr(d,f)});let s=t.syncPointTree_.get(n);s?r=r||Kr(s,le()):(s=new rS,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new ts(r,!0,!1):null,a=md(t.pendingWriteTree_,e._path),l=sS(s,e,a,i?o.getNode():G.EMPTY_NODE,i);return s4(l)}function So(t,e){return uS(e,t.syncPointTree_,null,md(t.pendingWriteTree_,le()))}function uS(t,e,n,r){if(te(t.path))return dS(t,e,n,r);{const s=e.get(le());n==null&&s!=null&&(n=Kr(s,le()));let i=[];const o=X(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=J1(r,o);i=i.concat(uS(a,l,c,d))}return s&&(i=i.concat(vg(s,t,r,n))),i}}function dS(t,e,n,r){const s=e.get(le());n==null&&s!=null&&(n=Kr(s,le()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=J1(r,o),d=t.operationForChild(o);d&&(i=i.concat(dS(d,a,l,c)))}),s&&(i=i.concat(vg(s,t,r,n))),i}function fS(t,e){const n=e.query,r=Ga(t,n);return{hashFn:()=>(r4(e)||G.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?w4(t,n._path,r):y4(t,n._path);{const i=yj(s,n);return Nu(t,n,null,i)}}}}function Ga(t,e){const n=vd(e);return t.queryToTagMap.get(n)}function vd(t){return t._path.toString()+"$"+t._queryIdentifier}function wg(t,e){return t.tagToQueryMap.get(e)}function _g(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ge(t.substr(0,e))}}function xg(t,e,n){const r=t.syncPointTree_.get(e);j(r,"Missing sync point for query tag that we're tracking");const s=md(t.pendingWriteTree_,e);return vg(r,n,s,null)}function b4(t){return t.fold((e,n,r)=>{if(n&&ns(n))return[gd(n)];{let s=[];return n&&(s=iS(n)),tt(r,(i,o)=>{s=s.concat(o)}),s}})}function ma(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(p4())(t._repo,t._path):t}function C4(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=vd(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function S4(){return m4++}function E4(t,e,n){const r=e._path,s=Ga(t,e),i=fS(t,n),o=t.listenProvider_.startListening(ma(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)j(!ns(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!te(c)&&d&&ns(d))return[gd(d).query];{let h=[];return d&&(h=h.concat(iS(d).map(g=>g.query))),tt(f,(g,_)=>{h=h.concat(_)}),h}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(ma(d),Ga(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bg(n)}node(){return this.node_}}class Cg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new Cg(this.syncTree_,n)}node(){return yg(this.syncTree_,this.path_)}}const N4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$w=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return k4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return T4(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},k4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},T4=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const s=e.node();if(j(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},hS=function(t,e,n,r){return Sg(e,new Cg(n,t),r)},pS=function(t,e,n){return Sg(t,new bg(e),n)};function Sg(t,e,n){const r=t.getPriority().val(),s=$w(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=$w(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ye(a,He(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ye(s))),o.forEachChild(je,(a,l)=>{const c=Sg(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ng(t,e){let n=e instanceof ge?e:new ge(e),r=t,s=X(n);for(;s!==null;){const i=Ji(r.node.children,s)||{children:{},childCount:0};r=new Eg(s,r,i),n=we(n),s=X(n)}return r}function Eo(t){return t.node.value}function mS(t,e){t.node.value=e,lp(t)}function gS(t){return t.node.childCount>0}function P4(t){return Eo(t)===void 0&&!gS(t)}function yd(t,e){tt(t.node.children,(n,r)=>{e(new Eg(n,t,r))})}function vS(t,e,n,r){n&&!r&&e(t),yd(t,s=>{vS(s,e,!0,r)}),n&&r&&e(t)}function I4(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vl(t){return new ge(t.parent===null?t.name:vl(t.parent)+"/"+t.name)}function lp(t){t.parent!==null&&R4(t.parent,t.name,t)}function R4(t,e,n){const r=P4(n),s=Ln(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,lp(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,lp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/[\[\].#$\/\u0000-\u001F\u007F]/,O4=/[\[\].#$\u0000-\u001F\u007F]/,Cf=10*1024*1024,kg=function(t){return typeof t=="string"&&t.length!==0&&!A4.test(t)},yS=function(t){return typeof t=="string"&&t.length!==0&&!O4.test(t)},M4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yS(t)},D4=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!eg(t)||t&&typeof t=="object"&&Ln(t,".sv")},wS=function(t,e,n,r){r&&e===void 0||wd(ld(t,"value"),e,n)},wd=function(t,e,n){const r=n instanceof ge?new Jj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+vs(r));if(typeof e=="function")throw new Error(t+"contains a function "+vs(r)+" with contents = "+e.toString());if(eg(e))throw new Error(t+"contains "+e.toString()+" "+vs(r));if(typeof e=="string"&&e.length>Cf/3&&cd(e)>Cf)throw new Error(t+"contains a string greater than "+Cf+" utf8 bytes "+vs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(tt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!kg(o)))throw new Error(t+" contains an invalid key ("+o+") "+vs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Zj(r,o),wd(t,a,r),eL(r)}),s&&i)throw new Error(t+' contains ".value" child '+vs(r)+" in addition to actual children.")}},j4=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Ha(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!kg(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Xj);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Kt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},L4=function(t,e,n,r){const s=ld(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];tt(e,(o,a)=>{const l=new ge(o);if(wd(s,a,De(n,l)),ig(l)===".priority"&&!D4(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),j4(s,i)},_S=function(t,e,n,r){if(!yS(n))throw new Error(ld(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},F4=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_S(t,e,n)},xS=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},W4=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!M4(n))throw new Error(ld(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _d(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!og(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function bS(t,e,n){_d(t,n),CS(t,r=>og(r,e))}function Jt(t,e,n){_d(t,n),CS(t,r=>Kt(r,e)||Kt(e,r))}function CS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(H4(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function H4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();da&&Je("event: "+n.toString()),Co(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="repo_interrupt",B4=25;class z4{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new U4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yu(),this.transactionQueueTree_=new Eg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function V4(t,e,n){if(t.stats_=rg(t.repoInfo_),t.forceRestClient_||bj())t.server_=new vu(t.repoInfo_,(r,s,i,o)=>{Bw(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>zw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Jn(t.repoInfo_,e,(r,s,i,o)=>{Bw(t,r,s,i,o)},r=>{zw(t,r)},r=>{G4(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kj(t.repoInfo_,()=>new NL(t.stats_,t.server_)),t.infoData_=new xL,t.infoSyncTree_=new Hw({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Tg(t,"connected",!1),t.serverSyncTree_=new Hw({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Jt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function SS(t){const n=t.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xd(t){return N4({timestamp:SS(t)})}function Bw(t,e,n,r,s){t.dataUpdateCount++;const i=new ge(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=ou(n,c=>He(c));o=_4(t.serverSyncTree_,i,l,s)}else{const l=He(n);o=cS(t.serverSyncTree_,i,l,s)}else if(r){const l=ou(n,c=>He(c));o=v4(t.serverSyncTree_,i,l)}else{const l=He(n);o=gl(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=io(t,i)),Jt(t.eventQueue_,a,o)}function zw(t,e){Tg(t,"connected",e),e===!1&&Q4(t)}function G4(t,e){tt(e,(n,r)=>{Tg(t,n,r)})}function Tg(t,e,n){const r=new ge("/.info/"+e),s=He(n);t.infoData_.updateSnapshot(r,s);const i=gl(t.infoSyncTree_,r,s);Jt(t.eventQueue_,r,i)}function Pg(t){return t.nextWriteId_++}function Y4(t,e,n){const r=x4(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=He(s).withIndex(e._queryParams.getIndex());ap(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=gl(t.serverSyncTree_,e._path,i);else{const a=Ga(t.serverSyncTree_,e);o=cS(t.serverSyncTree_,e._path,i,a)}return Jt(t.eventQueue_,e._path,o),Nu(t.serverSyncTree_,e,n,null,!0),i},s=>(yl(t,"get for query "+$e(e)+" failed: "+s),Promise.reject(new Error(s))))}function K4(t,e,n,r,s){yl(t,"set",{path:e.toString(),value:n,priority:r});const i=xd(t),o=He(n,r),a=yg(t.serverSyncTree_,e),l=pS(o,a,i),c=Pg(t),d=lS(t.serverSyncTree_,e,l,c,!0);_d(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const _=h==="ok";_||yt("set at "+e+" failed: "+h);const m=Dr(t.serverSyncTree_,c,!_);Jt(t.eventQueue_,e,m),cp(t,s,h,g)});const f=Rg(t,e);io(t,f),Jt(t.eventQueue_,f,[])}function q4(t,e,n,r){yl(t,"update",{path:e.toString(),value:n});let s=!0;const i=xd(t),o={};if(tt(n,(a,l)=>{s=!1,o[a]=hS(De(e,a),He(l),t.serverSyncTree_,i)}),s)Je("update() called with empty data.  Don't do anything."),cp(t,r,"ok",void 0);else{const a=Pg(t),l=g4(t.serverSyncTree_,e,o,a);_d(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const f=c==="ok";f||yt("update at "+e+" failed: "+c);const h=Dr(t.serverSyncTree_,a,!f),g=h.length>0?io(t,e):e;Jt(t.eventQueue_,g,h),cp(t,r,c,d)}),tt(n,c=>{const d=Rg(t,De(e,c));io(t,d)}),Jt(t.eventQueue_,e,[])}}function Q4(t){yl(t,"onDisconnectEvents");const e=xd(t),n=yu();tp(t.onDisconnect_,le(),(s,i)=>{const o=hS(s,i,t.serverSyncTree_,e);Y1(n,s,o)});let r=[];tp(n,le(),(s,i)=>{r=r.concat(gl(t.serverSyncTree_,s,i));const o=Rg(t,s);io(t,o)}),t.onDisconnect_=yu(),Jt(t.eventQueue_,le(),r)}function X4(t,e,n){let r;X(e._path)===".info"?r=ap(t.infoSyncTree_,e,n):r=ap(t.serverSyncTree_,e,n),bS(t.eventQueue_,e._path,r)}function Vw(t,e,n){let r;X(e._path)===".info"?r=Nu(t.infoSyncTree_,e,n):r=Nu(t.serverSyncTree_,e,n),bS(t.eventQueue_,e._path,r)}function J4(t){t.persistentConnection_&&t.persistentConnection_.interrupt($4)}function yl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Je(n,...e)}function cp(t,e,n,r){e&&Co(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function ES(t,e,n){return yg(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function Ig(t,e=t.transactionQueueTree_){if(e||bd(t,e),Eo(e)){const n=kS(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Z4(t,vl(e),n)}else gS(e)&&yd(e,n=>{Ig(t,n)})}function Z4(t,e,n){const r=n.map(c=>c.currentWriteId),s=ES(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];j(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=gt(e,d.path);i=i.updateChild(f,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{yl(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Dr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();bd(t,Ng(t.transactionQueueTree_,e)),Ig(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Co(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{yt("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}io(t,e)}},o)}function io(t,e){const n=NS(t,e),r=vl(n),s=kS(t,n);return e3(t,s,r),r}function e3(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=gt(n,l.path);let d=!1,f;if(j(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,s=s.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=B4)d=!0,f="maxretry",s=s.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=ES(t,l.path,o);l.currentInputSnapshot=h;const g=e[a].update(h.val());if(g!==void 0){wd("transaction failed: Data returned ",g,l.path);let _=He(g);typeof g=="object"&&g!=null&&Ln(g,".priority")||(_=_.updatePriority(h.getPriority()));const x=l.currentWriteId,w=xd(t),p=pS(_,h,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=p,l.currentWriteId=Pg(t),o.splice(o.indexOf(x),1),s=s.concat(lS(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),s=s.concat(Dr(t.serverSyncTree_,x,!0))}else d=!0,f="nodata",s=s.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0))}Jt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}bd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Co(r[a]);Ig(t,t.transactionQueueTree_)}function NS(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&Eo(r)===void 0;)r=Ng(r,n),e=we(e),n=X(e);return r}function kS(t,e){const n=[];return TS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function TS(t,e,n){const r=Eo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);yd(e,s=>{TS(t,s,n)})}function bd(t,e){const n=Eo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,mS(e,n.length>0?n:void 0)}yd(e,r=>{bd(t,r)})}function Rg(t,e){const n=vl(NS(t,e)),r=Ng(t.transactionQueueTree_,e);return I4(r,s=>{Sf(t,s)}),Sf(t,r),vS(r,s=>{Sf(t,s)}),n}function Sf(t,e){const n=Eo(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Dr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?mS(e,void 0):n.length=i+1,Jt(t.eventQueue_,vl(e),s);for(let o=0;o<r.length;o++)Co(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function n3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Gw=function(t,e){const n=r3(t),r=n.namespace;n.domain==="firebase.com"&&ar(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hj();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new I1(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ge(n.pathString)}},r3=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(s=t3(t.substring(d,f)));const h=n3(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",s3=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Yw.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Yw.charAt(e[s]);return j(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class o3{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return te(this._path)?null:ig(this._path)}get ref(){return new dr(this._repo,this._path)}get _queryIdentifier(){const e=Rw(this._queryParams),n=tg(e);return n==="{}"?"default":n}get _queryObject(){return Rw(this._queryParams)}isEqual(e){if(e=ut(e),!(e instanceof Ag))return!1;const n=this._repo===e._repo,r=og(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qj(this._path)}}class dr extends Ag{constructor(e,n){super(e,n,new ug,!1)}get parent(){const e=W1(this._path);return e===null?null:new dr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ya{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ge(e),r=Ka(this.ref,e);return new Ya(this._node.getChild(n),r,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ya(s,Ka(this.ref,r),je)))}hasChild(e){const n=new ge(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ve(t,e){return t=ut(t),t._checkNotDeleted("ref"),e!==void 0?Ka(t._root,e):t._root}function Ka(t,e){return t=ut(t),X(t._path)===null?F4("child","path",e):_S("child","path",e),new dr(t._repo,De(t._path,e))}function Kw(t,e){t=ut(t),xS("push",t._path),wS("push",e,t._path,!0);const n=SS(t._repo),r=s3(n),s=Ka(t,r),i=Ka(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function ku(t,e){t=ut(t),xS("set",t._path),wS("set",e,t._path,!1);const n=new al;return K4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Un(t,e){L4("update",e,t._path);const n=new al;return q4(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function up(t){t=ut(t);const e=new PS(()=>{}),n=new Cd(e);return Y4(t._repo,t,n).then(r=>new Ya(r,new dr(t._repo,t._path),t._queryParams.getIndex()))}class Cd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new i3("value",this,new Ya(e.snapshotNode,new dr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new o3(this,e,n):null}matches(e){return e instanceof Cd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function a3(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,f)=>{Vw(t._repo,t,a),l(d,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new PS(n,i||void 0),a=new Cd(o);return X4(t._repo,t,a),()=>Vw(t._repo,t,a)}function Xl(t,e,n,r){return a3(t,"value",e,n,r)}l4(dr);h4(dr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="FIREBASE_DATABASE_EMULATOR_HOST",dp={};let c3=!1;function u3(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=wo(i);t.repoInfo_=new I1(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function d3(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Gw(i,s),a=o.repoInfo,l;typeof process<"u"&&hw&&(l=hw[l3]),l?(i=`http://${l}?ns=${a.namespace}`,o=Gw(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new Sj(t.name,t.options,e);W4("Invalid Firebase Database URL",o),te(o.path)||ar("Database URL must point to the root of a Firebase Database (not including a child path).");const d=h3(a,t,c,new Cj(t,n));return new p3(d,t)}function f3(t,e){const n=dp[e];(!n||n[t.key]!==t)&&ar(`Database ${e}(${t.repoInfo_}) has already been deleted.`),J4(t),delete n[t.key]}function h3(t,e,n,r){let s=dp[e.name];s||(s={},dp[e.name]=s);let i=s[t.toURLString()];return i&&ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new z4(t,c3,n,r),s[t.toURLString()]=i,i}class p3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(V4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dr(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(f3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ar("Cannot call "+e+" on a deleted database.")}}function m3(t=OC(),e){const n=Vm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=gO("database");r&&g3(n,...r)}return n}function g3(t,e,n,r={}){t=ut(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ds(r,i.repoInfo_.emulatorOptions))return;ar("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cc(Cc.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:vO(r.mockUserToken,t.app.options.projectId);o=new Cc(a)}wo(e)&&(EC(e),NC("Database",!0)),u3(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){aj(xo),Zi(new js("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return d3(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Gr(pw,mw,t),Gr(pw,mw,"esm2020")}Jn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};v3();const y3={apiKey:"AIzaSyCEtbJ-KR_UV9LAlYlnvgoxliRs5FkSdXk",authDomain:"kicked-in-the-disc.firebaseapp.com",databaseURL:"https://kicked-in-the-disc-default-rtdb.firebaseio.com",projectId:"kicked-in-the-disc",storageBucket:"kicked-in-the-disc.firebasestorage.app",appId:"1:987543051729:web:c258be8a9deaa79a52d4f0"},IS=AC(y3),Jl=ij(IS),Ge=m3(IS);function cs(){const[t,e]=v.useState(null),[n,r]=v.useState(!0),{toast:s}=Ys();return v.useEffect(()=>Jl.onAuthStateChanged(async c=>{if(e(c),c)try{const d=Ve(Ge,`users/${c.uid}`);(await up(d)).exists()?console.log(" User database record already exists for:",c.uid):(console.log(" Creating database record for user:",c.uid,c.displayName),await ku(d,{id:c.uid,email:c.email||"",displayName:c.displayName||"Unknown User",hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log(" User database record created successfully"))}catch(d){console.error("Error checking/creating user record:",d)}r(!1)}),[]),{user:t,loading:n,signUp:async(l,c,d)=>{try{const f=await $D(Jl,l,c);await VD(f.user,{displayName:d}),console.log(" Creating database record for new user:",f.user.uid,d);const h=Ve(Ge,`users/${f.user.uid}`);return await ku(h,{id:f.user.uid,email:l,displayName:d,hasHostingPrivilege:!1,createdAt:new Date().toISOString()}),console.log(" New user database record created successfully"),s({title:"Account created successfully!",description:"Welcome to Kicked in the Disc"}),f}catch(f){throw s({title:"Error creating account",description:f.message,variant:"destructive"}),f}},signIn:async(l,c)=>{try{const d=await BD(Jl,l,c);return s({title:"Signed in successfully!",description:"Welcome back"}),d}catch(d){throw s({title:"Error signing in",description:d.message,variant:"destructive"}),d}},logout:async()=>{try{await KD(Jl),s({title:"Signed out successfully"})}catch(l){s({title:"Error signing out",description:l.message,variant:"destructive"})}}}}const re=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("rounded-2xl border-3 border-logo-dark bg-card text-card-foreground cartoon-shadow card-hover",t),...e}));re.displayName="Card";const w3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));w3.displayName="CardHeader";const _3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("text-2xl font-bold font-logo leading-none tracking-tight text-logo-dark",t),...e}));_3.displayName="CardTitle";const x3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));x3.displayName="CardDescription";const se=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));se.displayName="CardContent";const b3=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));b3.displayName="CardFooter";const un=v.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));un.displayName="Input";const fp=Nm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium font-logo ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"cartoon-button text-white font-semibold",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border-2 border-logo-dark",outline:"border-3 border-logo-dark bg-white hover:bg-logo-green/20 hover:text-logo-dark font-semibold cartoon-shadow",secondary:"bg-brand-secondary text-white hover:bg-brand-secondary/80 border-2 border-logo-dark font-semibold",ghost:"hover:bg-white/20 hover:text-logo-dark font-medium",link:"text-brand-primary underline-offset-4 hover:underline font-medium",cartoon:"bg-brand-accent text-logo-dark hover:bg-brand-accent/90 border-3 border-logo-dark cartoon-shadow font-bold",gradient:"bg-text-gradient text-white border-2 border-logo-dark cartoon-shadow font-bold"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-lg px-4",lg:"h-14 rounded-xl px-10 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),J=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?BP:"button";return u.jsx(o,{className:oe(fp({variant:e,size:n,className:t})),ref:i,...s})});J.displayName="Button";var C3="Label",RS=v.forwardRef((t,e)=>u.jsx(ue.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RS.displayName=C3;var AS=RS;const S3=Nm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=v.forwardRef(({className:t,...e},n)=>u.jsx(AS,{ref:n,className:oe(S3(),t),...e}));pt.displayName=AS.displayName;function E3(){const[t,e]=v.useState(!0),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(""),{signIn:d,signUp:f}=cs(),h=async g=>{if(g.preventDefault(),t)await d(n,s);else{if(s!==l)return;await f(n,s,o)}};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-6 floating-animation",children:""}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t?"Welcome Back":"Create Account"}),u.jsx("p",{className:"text-white/80 mb-8",children:t?"Sign in to track your disc golf games":"Join the disc golf community"}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Email"}),u.jsx(un,{type:"email",value:n,onChange:g=>r(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter your email",required:!0})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Display Name"}),u.jsx(un,{type:"text",value:o,onChange:g=>a(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Choose a display name",required:!0})]}),u.jsxs("div",{className:"text-left",children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Password"}),u.jsx(un,{type:"password",value:s,onChange:g=>i(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:t?"Enter your password":"Minimum 6 characters",required:!0,minLength:6})]}),!t&&u.jsxs("div",{className:"text-left",children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm Password"}),u.jsx(un,{type:"password",value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Confirm your password",required:!0})]}),u.jsx(J,{type:"submit",className:"w-full bg-white text-brand-primary font-semibold py-3 rounded-xl hover:bg-white/90 transition-colors",children:t?"Sign In":"Create Account"}),u.jsx(J,{type:"button",onClick:()=>e(!t),className:"w-full bg-transparent border border-white/30 text-white font-semibold py-3 rounded-xl hover:bg-white/10 transition-colors",children:t?"Create Account":"Back to Sign In"})]})]})})})}function Ef({title:t,description:e,icon:n,onClick:r,disabled:s,className:i}){return u.jsx(re,{className:oe("p-6 card-hover cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95",s&&"opacity-50 cursor-not-allowed hover:scale-100",i),onClick:s?void 0:r,children:u.jsxs(se,{className:"p-0 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-brand-primary/20 rounded-2xl flex items-center justify-center cartoon-shadow border-2 border-logo-dark",children:n}),u.jsx("h3",{className:"font-logo font-bold text-lg mb-2 text-logo-dark",children:t}),u.jsx("p",{className:"text-muted-foreground font-medium",children:e})]})})}const N3=[{id:"stranger",name:"The Stranger",category:"Before Throw",description:"Make an opponent throw their next throw with their offhand.",copies:4,effect:"force_offhand"},{id:"shrink_ray",name:"Shrink Ray",category:"Before Throw",description:"Make an opponent throw a mini on their next throw.",copies:4,effect:"force_mini"},{id:"because_i_said_so",name:"Because I Said So",category:"Before Throw",description:"Make a mando all other players must make. (mando must be on current hole)",copies:4,effect:"force_mando"},{id:"im_you_silly",name:"I'm You Silly",category:"Before Throw",description:"Take an opponent's throw for them.",copies:4,effect:"take_throw"},{id:"is_that_what_youre_throwing",name:"Is That What You're Throwing",category:"Before Throw",description:"Make an opponent throw a disc of your choosing from yours or their bag.",copies:4,effect:"force_disc_choice"},{id:"gremlins",name:"Gremlins",category:"After Throw",description:"Move an opponent's disc 10 paces in any direction.",copies:4,effect:"move_opponent_disc"},{id:"thats_my_disc",name:"That's My Disc",category:"After Throw",description:"Swap lies with an opponent.",copies:4,effect:"swap_lies"},{id:"merely_a_flesh_wound",name:"Merely a Flesh Wound",category:"After Throw",description:"Make all opponents throw from their knees (both knees must be touching the ground).",copies:4,effect:"force_knees"},{id:"thats_not_fair",name:"That's Not Fair",category:"After Throw",description:"Make an opponent rethrow last throw and take worst lie.",copies:4,effect:"force_rethrow_worst"},{id:"instant_replay",name:"Instant Replay",category:"After Throw",description:"Make all opponents rethrow last throw and take the worst lie.",copies:4,effect:"force_all_rethrow_worst"},{id:"im_rubber_you_glue",name:"I'm Rubber You Glue",category:"Self",description:"Reflects a card played on you back at the person who played it.",copies:4,effect:"reflect_card"},{id:"i_reject_your_reality",name:"I Reject Your Reality",category:"Self",description:"Redirects a card played on you to another opponent.",copies:4,effect:"redirect_card"},{id:"it_was_here_i_swear",name:"It Was Here I Swear",category:"Self",description:"Move your disc 10 paces in any direction.",copies:4,effect:"move_own_disc"},{id:"mulligan",name:"Mulligan",category:"Self",description:"Rethrow last throw and take best lie.",copies:4,effect:"rethrow_best"},{id:"seeing_double",name:"Seeing Double",category:"Self",description:"Putt twice take the best lie.",copies:4,effect:"double_putt_best"},{id:"jealousy",name:"Jealousy",category:"Wild",description:"Change scorecards with an opponent of your choosing. If reflected back, trade with last place or +3 if you're last.",copies:1,effect:"swap_scorecards"},{id:"i_need_some_space",name:"I Need Some Space",category:"Wild",description:"Move your disc 10 paces closer to the basket and all other players must move theirs 10 further away.",copies:1,effect:"move_closer_others_further"},{id:"hear_it_ring",name:"Hear It Ring",category:"Wild",description:"If your disc hits metal it counts as in the basket.",copies:1,effect:"metal_counts_in"},{id:"whats_par_again",name:"What's Par Again",category:"Wild",description:"Add +1 to par for you and -1 to par for all opponents on this hole.",copies:1,effect:"adjust_par"},{id:"ace_run",name:"Ace Run",category:"Wild",description:"Next throw counts as an ace.",copies:1,effect:"next_throw_ace"}];function us(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),{user:s}=cs(),{toast:i}=Ys();v.useEffect(()=>{if(s){const C=Ve(Ge,`users/${s.uid}`);return Xl(C,N=>{const T=N.val();r((T==null?void 0:T.hasHostingPrivilege)||!1)})}},[s]);const o=()=>Math.random().toString(36).substring(2,8).toUpperCase(),a=()=>{const C=[];N3.forEach(S=>{for(let N=0;N<S.copies;N++)C.push({...S,id:`${S.id}_${N}`})});for(let S=C.length-1;S>0;S--){const N=Math.floor(Math.random()*(S+1));[C[S],C[N]]=[C[N],C[S]]}return C},l=(C,S)=>{const N={...C},T=[...S];return Object.keys(N).forEach(P=>{const L=[];for(let A=0;A<5;A++)T.length>0&&L.push(T.pop());N[P].hand=L}),{players:N,remainingDeck:T}},c=async(C,S)=>{if(!s||!n){i({title:"Cannot create game",description:"You need hosting privileges to create a game",variant:"destructive"});return}try{const N=o(),T=Kw(Ve(Ge,"games")),P={id:s.uid,name:s.displayName||s.email,isHost:!0,isReady:!0,strokes:[],scores:[],totalScore:0,hand:[]},L={id:T.key,gameCode:N,hostId:s.uid,gameName:S,totalHoles:C,currentHole:1,currentPar:3,pars:Array.from({length:C},()=>3),parsSet:Array.from({length:C},()=>!1),gamePhase:"lobby",players:{[s.uid]:P},gameActivity:[`${s.displayName||s.email} created the game`],deck:[],discardPile:[],gameRound:"before_throw"};return await ku(T,L),i({title:"Game created!",description:`Game code: ${N}`}),N}catch(N){i({title:"Error creating game",description:N.message,variant:"destructive"})}},d=async C=>{if(s)try{const S=Ve(Ge,"games");Xl(S,N=>{const T=N.val(),P=Object.entries(T||{}).find(([,B])=>B.gameCode===C.toUpperCase());if(!P){i({title:"Game not found",description:"Please check the game code and try again",variant:"destructive"});return}const[L,A]=P;if(Object.keys(A.players).length>=6){i({title:"Game is full",description:"This game already has 6 players",variant:"destructive"});return}const H={id:s.uid,name:s.displayName||s.email,isHost:!1,isReady:!1,strokes:[],scores:[],totalScore:0,hand:[]},M={[`games/${L}/players/${s.uid}`]:H,[`games/${L}/gameActivity`]:[...A.gameActivity||[],`${s.displayName||s.email} joined the game`]};Un(Ve(Ge),M),i({title:"Joined game!",description:`Welcome to ${A.gameName||"the game"}`})},{onlyOnce:!0})}catch(S){i({title:"Error joining game",description:S.message,variant:"destructive"})}},f=C=>{const S=Ve(Ge,`games/${C}`);return Xl(S,N=>{const T=N.val();T&&e(P=>({...T,id:C}))})},h=async C=>{if(s)try{const S=Ve(Ge,"games");return new Promise((N,T)=>{Xl(S,P=>{const L=P.val(),A=Object.entries(L||{}).find(([,H])=>H.gameCode===C.toUpperCase());if(A){const[H,M]=A;e({...M,id:H}),N(M)}else T(new Error("Game not found"))},{onlyOnce:!0})})}catch(S){throw i({title:"Error finding game",description:S.message,variant:"destructive"}),S}},g=async C=>{if(!(!s||!t))try{const S=a(),{players:N,remainingDeck:T}=l(t.players,S),P=Ve(Ge,`games/${C}`);await Un(P,{gamePhase:"playing",players:N,deck:T,currentPlayerTurn:null,gameRound:"scoring",gameActivity:[...t.gameActivity||[],`${s.displayName||s.email} started the game`,"Cards have been dealt to all players!"]}),i({title:"Game started!",description:"Cards have been dealt to all players"})}catch(S){i({title:"Error starting game",description:S.message,variant:"destructive"})}},_=async(C,S,N)=>{var T;if(!(!s||!t))try{const P=t.players[s.uid];if(!P){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const L=P.hand.findIndex(W=>W.id===S);if(L===-1){i({title:"Error",description:"Card not found in hand",variant:"destructive"});return}const A=P.hand[L],H=[...P.hand];H.splice(L,1);const M=[...t.discardPile||[],A],B={[`games/${C}/players/${s.uid}/hand`]:H,[`games/${C}/discardPile`]:M,[`games/${C}/gameActivity`]:[...t.gameActivity||[],`${s.displayName||s.email} played ${A.name}`+(N?` on ${((T=t.players[N])==null?void 0:T.name)||"a player"}`:"")]};await Un(Ve(Ge),B),i({title:"Card played!",description:`${A.name} has been played`})}catch(P){i({title:"Error playing card",description:P.message,variant:"destructive"})}},m=async(C,S,N)=>{var T,P;if(!(!s||!t))try{if(!Number.isInteger(N)||N<1||N>30){i({title:"Invalid score",description:"Score must be a whole number between 1 and 30 strokes",variant:"destructive"});return}if(!(((T=t.parsSet)==null?void 0:T[S])??!1)){i({title:"Cannot submit score",description:"The host must set par for this hole first",variant:"destructive"});return}const A=t.players[s.uid];if(!A){i({title:"Error",description:"Player not found in game",variant:"destructive"});return}const H=[...A.strokes||[]];H[S]=N;const M=((P=t.pars)==null?void 0:P[S])??t.currentPar??3,B=N-M,W=[...A.scores||[]];W[S]=B;const O=W.reduce(($,ee)=>$+(ee||0),0),E={[`games/${C}/players/${s.uid}/strokes`]:H,[`games/${C}/players/${s.uid}/scores`]:W,[`games/${C}/players/${s.uid}/totalScore`]:O};await Un(Ve(Ge),E);const I=B>0?`+${B}`:B.toString();i({title:"Score submitted!",description:`Hole ${S+1}: ${N} strokes (${I})`}),(()=>{var Ae;if(!t)return;const $=t.currentHole-1;if(!(((Ae=t.parsSet)==null?void 0:Ae[$])??!1))return;Object.values(t.players).every(It=>{var ze;return It.id===s.uid?typeof W[$]=="number":typeof((ze=It.scores)==null?void 0:ze[$])=="number"})&&setTimeout(()=>{w(C)},1500)})()}catch(L){i({title:"Error submitting score",description:L.message,variant:"destructive"})}},x=async(C,S)=>{if(!s||!t||s.uid!==t.hostId)return;const N=[...t.pars||Array.from({length:t.totalHoles},()=>3)];N[t.currentHole-1]=S;const T=[...t.parsSet||Array.from({length:t.totalHoles},()=>!1)];T[t.currentHole-1]=!0;const P={currentPar:S,pars:N,parsSet:T,gameActivity:[...t.gameActivity||[],`Par set to ${S} for hole ${t.currentHole}`]};await Un(Ve(Ge,`games/${C}`),P)},w=async C=>{var T,P,L;if(!s||!t)return;const S=t.currentHole+1;if(S>t.totalHoles){console.log(" Game finishing! nextHole:",S,"totalHoles:",t.totalHoles),await Un(Ve(Ge,`games/${C}`),{gamePhase:"finished",gameActivity:[...t.gameActivity||[],"Game finished!"]}),console.log(" Game phase set to finished in Firebase"),i({title:"Round complete!",description:"Game has been finished."});return}let N={[`games/${C}/currentHole`]:S,[`games/${C}/gameActivity`]:[...t.gameActivity||[],`Advanced to hole ${S}`]};if((T=t.parsSet)!=null&&T[S-1]?N[`games/${C}/currentPar`]=((P=t.pars)==null?void 0:P[S-1])??3:N[`games/${C}/currentPar`]=3,(S-1)%3===0){const H=Object.values(t.players).sort((M,B)=>(B.totalScore||0)-(M.totalScore||0))[0];if(H){const M=[...t.deck||[]],B=M.pop();if(B){const W=[...((L=t.players[H.id])==null?void 0:L.hand)||[]];W.push(B),N={...N,[`games/${C}/deck`]:M,[`games/${C}/players/${H.id}/hand`]:W,[`games/${C}/gameActivity`]:[...N[`games/${C}/gameActivity`]||[],`${H.name} received a bonus card for being in last place`]}}}}await Un(Ve(Ge),N)};return{currentGame:t,hasHostingPrivilege:n,createGame:c,joinGame:d,listenToGame:f,findGameByCode:h,startGame:g,playCard:_,submitScore:m,setParForHole:x,advanceToNextHole:w,purchaseHosting:async()=>{if(s)try{const C=Ve(Ge,`users/${s.uid}`);await Un(C,{hasHostingPrivilege:!0}),i({title:"Purchase successful!",description:"You can now host games"})}catch(C){i({title:"Purchase failed",description:C.message,variant:"destructive"})}},scheduleGame:async(C,S,N,T,P)=>{if(!s||!n){i({title:"Cannot schedule game",description:"You need hosting privileges to schedule games",variant:"destructive"});return}try{const L=Kw(Ve(Ge,"scheduledGames")),A={id:L.key,hostId:s.uid,gameName:C,scheduledDate:S.toISOString(),scheduledTime:N,invitedPlayers:T,notes:P,status:"scheduled",createdAt:new Date().toISOString()};return await ku(L,A),i({title:"Game Scheduled",description:"Players will be notified"}),A.id}catch(L){console.error("Error scheduling game:",L),i({title:"Error",description:L.message,variant:"destructive"})}},getScheduledGames:async()=>{if(!s)return[];try{const C=Ve(Ge,"scheduledGames"),S=await up(C);return S.exists()?Object.values(S.val()).filter(T=>{var P,L;return T.hostId===s.uid||((P=T.invitedPlayers.emails)==null?void 0:P.includes(s.email))||((L=T.invitedPlayers.phones)==null?void 0:L.some(A=>A===s.phoneNumber))}):[]}catch(C){return console.error("Error fetching scheduled games:",C),[]}},cancelScheduledGame:async C=>{if(s)try{const S=Ve(Ge,`scheduledGames/${C}`),N=await up(S);if(!N.exists()){i({title:"Error",description:"Game not found",variant:"destructive"});return}if(N.val().hostId!==s.uid){i({title:"Error",description:"Only the host can cancel a scheduled game",variant:"destructive"});return}await Un(S,{status:"cancelled"}),i({title:"Game Cancelled",description:"Players will be notified"})}catch(S){i({title:"Error",description:S.message,variant:"destructive"})}}}}function k3(){var s;const{user:t,logout:e}=cs(),{hasHostingPrivilege:n}=us(),[,r]=os();return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"glass-card p-4 m-4 rounded-2xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"text-4xl floating-animation",children:""}),u.jsx("h1",{className:"text-2xl font-logo font-bold text-gradient text-outline",children:"KICKED IN THE DISC"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-white/80 text-sm",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),u.jsx(J,{onClick:e,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",size:"sm",children:u.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-8 border-0",children:u.jsx(se,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["Welcome, ",((s=t==null?void 0:t.displayName)==null?void 0:s.split(" ")[0])||"Player","!"]}),u.jsx("p",{className:"text-white/70",children:"Ready to play some disc golf?"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-white/70 text-sm",children:"Hosting Privilege:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${n?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:n?" Purchased":" Not Purchased"})]})})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(mc,{href:"/host",children:u.jsx(Ef,{title:"Host Game",description:"Create a new game for up to 6 players",disabled:!n,icon:u.jsx(VI,{className:"w-8 h-8 text-brand-accent"}),className:n?"":"opacity-50"})}),u.jsx(mc,{href:"/join",children:u.jsx(Ef,{title:"Join Game",description:"Enter a game code to join an existing game",icon:u.jsx(QI,{className:"w-8 h-8 text-blue-400"})})}),u.jsx(mc,{href:"/store",children:u.jsx(Ef,{title:"Store",description:"Purchase hosting privileges and upgrades",icon:u.jsx(KI,{className:"w-8 h-8 text-purple-400"})})})]}),u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"More Ways to Play"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(J,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>r("/schedule"),children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:u.jsx(Ib,{className:"w-6 h-6 text-purple-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Schedule Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Plan a future game with friends"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(Ey,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]}),u.jsxs("div",{className:`relative ${n?"":"opacity-50"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-green-500/20 to-teal-500/20 rounded-xl transition-all ${n?"":"blur-sm"}`}),u.jsx(J,{disabled:!n,className:"w-full h-full p-6 bg-transparent hover:bg-white/5 border-2 border-white/10 rounded-xl relative overflow-hidden group transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:u.jsx(OI,{className:"w-6 h-6 text-green-300"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:"Solo Game"}),u.jsx("p",{className:"text-sm text-white/70",children:"Play against 1-4 AI bots"}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(Ey,{className:"w-4 h-4 text-white/40 mr-1"}),u.jsx("span",{className:"text-xs text-white/40",children:"Coming Soon"})]})]})]})})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx(J,{className:"w-full p-4 bg-white/5 hover:bg-white/10 border-2 border-white/10 rounded-xl transition-all",onClick:()=>{},children:u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(MI,{className:"w-5 h-5 text-red-300"}),u.jsx("span",{className:"text-white",children:"Report a Bug"})]})})})]})})]})]})}function T3(){const{hasHostingPrivilege:t,purchaseHosting:e}=us();return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Store"}),u.jsx("p",{className:"text-white/70",children:"Enhance your disc golf experience"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-brand-accent/20 rounded-3xl flex items-center justify-center",children:u.jsx(YI,{className:"w-10 h-10 text-brand-accent"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Hosting Privilege"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Unlock the ability to host games for up to 6 players with custom hole counts"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$9.99"}),u.jsx(J,{onClick:e,disabled:t,className:`w-full font-semibold py-3 rounded-xl transition-colors ${t?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-brand-accent text-white hover:bg-brand-accent/90"}`,children:t?"Purchased ":"Purchase Now"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"One-time purchase  Lifetime access"})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-3xl flex items-center justify-center",children:u.jsx(qI,{className:"w-10 h-10 text-purple-400"})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Premium Features"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Advanced statistics, custom scoring rules, and exclusive themes"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-6",children:"$4.99"}),u.jsx(J,{disabled:!0,className:"w-full bg-purple-500/20 text-purple-300 font-semibold py-3 rounded-xl opacity-50 cursor-not-allowed",children:"Coming Soon"}),u.jsx("div",{className:"mt-4 text-sm text-white/60",children:"Monthly subscription"})]})})]}),u.jsx("div",{className:"text-center",children:u.jsx(mc,{href:"/",children:u.jsx(J,{className:"bg-white/10 text-white px-8 py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})})})]})}function P3(){const[t,e]=v.useState(18),[n,r]=v.useState(""),{createGame:s}=us(),[,i]=os(),o=async()=>{const l=await s(t,n||void 0);l&&i(`/lobby/${l}`)},a=[9,18,24];return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-8",children:"Host New Game"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-3",children:"Number of Holes"}),u.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:a.map(l=>u.jsxs(J,{onClick:()=>e(l),className:`p-4 rounded-xl font-semibold transition-colors border ${t===l?"bg-white/20 border-white/40 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"}`,children:[l," Holes"]},l))}),u.jsxs("div",{className:"mt-3",children:[u.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:l=>e(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),u.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-1",children:[u.jsx("span",{children:"1"}),u.jsxs("span",{children:["Custom: ",t," holes"]}),u.jsx("span",{children:"24"})]})]})]}),u.jsxs("div",{children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Mode"}),u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{className:"p-4 bg-white/20 rounded-xl border-2 border-white/40 cursor-pointer",children:[u.jsx("div",{className:"text-white font-semibold",children:"Standard Stroke Play"}),u.jsx("div",{className:"text-white/70 text-sm",children:"Traditional scoring - lowest score wins"})]})})]}),u.jsxs("div",{children:[u.jsx(pt,{className:"block text-white/80 text-sm font-medium mb-3",children:"Game Name (Optional)"}),u.jsx(un,{type:"text",value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40",placeholder:"Enter game name"})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-8",children:[u.jsx(J,{onClick:o,className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Create Game"}),u.jsx(J,{onClick:()=>i("/"),className:"px-8 bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})}function I3(){const[t,e]=v.useState(""),{joinGame:n}=us(),[,r]=os(),s=async()=>{t.length===6&&(await n(t),r(`/lobby/${t.toUpperCase()}`))};return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-md",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-500/20 rounded-3xl flex items-center justify-center",children:u.jsx($I,{className:"w-10 h-10 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Game"}),u.jsx("p",{className:"text-white/70 mb-8",children:"Enter the game code provided by the host"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(un,{type:"text",value:t,onChange:i=>e(i.target.value.toUpperCase()),className:"w-full px-4 py-4 text-center text-2xl font-mono rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:border-white/40 uppercase tracking-wider",placeholder:"ABC123",maxLength:6}),u.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Game codes are 6 characters long"})]}),u.jsx(J,{onClick:s,disabled:t.length!==6,className:"w-full bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50",children:"Join Game"}),u.jsx(J,{onClick:()=>r("/"),className:"w-full bg-white/10 text-white font-semibold py-3 rounded-xl hover:bg-white/20 transition-colors",children:"Back to Main Menu"})]})]})})})}function OS({player:t,position:e,showScore:n}){var o;const r=(a,l=0)=>a<l?"text-green-400":a===l?"text-white":"text-red-400",s=a=>a===1?"bg-yellow-500":a===2?"bg-gray-400":a===3?"bg-orange-600":"bg-white/20",i=(t.strokes||[]).reduce((a,l)=>a+(l||0),0);return u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all duration-200 ${t.isHost?"bg-brand-gradient":"bg-white/5"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[e&&u.jsx("div",{className:`w-8 h-8 ${s(e)} rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white font-bold text-sm",children:e})}),u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-semibold",children:t.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white font-semibold flex items-center",children:t.name}),u.jsxs("div",{className:"text-white/70 text-sm",children:[t.isHost?" Host":"Player",!n&&(t.isReady?"  Ready ":"  Waiting..."),n&&`  ${((o=t.hand)==null?void 0:o.length)||0} cards`]})]})]}),n&&u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`text-2xl font-bold ${r(t.totalScore)}`,children:[t.totalScore>0?"+":"",t.totalScore]}),u.jsxs("div",{className:"text-white/70 text-sm",children:[i," strokes"]})]})]})}function R3(){const[t,e]=_m("/lobby/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,startGame:i,setParForHole:o}=us(),{user:a}=cs(),[,l]=os(),{toast:c}=Ys(),[d,f]=v.useState(!1),[h,g]=v.useState(!0),[_,m]=v.useState("");v.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(g(!0),s(e.gameCode).then(()=>{g(!1)}).catch(N=>{console.error("Error finding game:",N),g(!1),c({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),l("/")}))},[t,e==null?void 0:e.gameCode,n,s,l,c]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),v.useEffect(()=>{n&&m(n.currentPar??"")},[n==null?void 0:n.currentPar]),v.useEffect(()=>{(n==null?void 0:n.gamePhase)==="playing"&&(c({title:"Game starting!",description:"Redirecting to game..."}),l(`/game/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,l,c]);const x=async()=>{if(n!=null&&n.gameCode)try{await navigator.clipboard.writeText(n.gameCode),f(!0),c({title:"Game code copied!",description:"Share this code with your friends to join the game."}),setTimeout(()=>f(!1),2e3)}catch{c({title:"Failed to copy",description:"Please copy the game code manually.",variant:"destructive"})}},w=async()=>{if(n!=null&&n.gameCode){const N=`${window.location.origin}/join`,T=`Join my disc golf game! 

Game Code: ${n.gameCode}

Sign up and join here: ${N}`;if(navigator.share)try{await navigator.share({title:"Join my Disc Golf Game",text:T,url:N})}catch{}else try{await navigator.clipboard.writeText(T),c({title:"Game link copied!",description:"Share this message with your friends to invite them."})}catch{c({title:"Failed to copy",description:"Please share the game code manually.",variant:"destructive"})}}},p=()=>{if(n!=null&&n.gameCode){const N=`${window.location.origin}/join`,T=`Join my disc golf game! 

Game Code: ${n.gameCode}

Sign up and join here: ${N}`,P=`sms:?body=${encodeURIComponent(T)}`;window.open(P,"_blank")}};if(h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Looking for game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we find your game"})]})})});if(!n||!a)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(J,{onClick:()=>l("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const y=n.hostId===a.uid,b=Object.values(n.players),k=async()=>{n!=null&&n.id&&(await i(n.id),l(`/game/${n.gameCode}`))},C=async()=>{!(n!=null&&n.id)||_===""||(await o(n.id,Number(_)),c({title:"Par set",description:`Par set to ${_} for hole 1`}))},S=()=>{l("/")};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:n.gameName||"Disc Golf Game"}),u.jsxs("p",{className:"text-white/70",children:[n.totalHoles," holes  Standard Stroke Play"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-3xl font-mono font-bold text-brand-accent",children:n.gameCode}),u.jsx("div",{className:"text-white/70 text-sm",children:"Game Code"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/70 text-sm",children:["Players: ",u.jsx("span",{className:"text-white font-semibold",children:b.length}),"/6"]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Status: ",u.jsx("span",{className:"text-yellow-400 font-semibold",children:"Waiting for players"})]})]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Share Game Code"}),u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx("div",{className:"flex-1 bg-white/10 rounded-xl p-4 border border-white/20",children:u.jsx("div",{className:"text-2xl font-mono font-bold text-brand-accent text-center",children:n.gameCode})}),u.jsx(J,{onClick:x,className:`px-4 py-4 rounded-xl transition-colors ${d?"bg-green-500/20 text-green-300 border-green-400/40":"bg-white/10 text-white hover:bg-white/20 border-white/20"}`,children:d?u.jsx(Rb,{className:"w-5 h-5"}):u.jsx(WI,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs(J,{onClick:w,className:"flex-1 bg-brand-primary text-white font-semibold py-3 rounded-xl hover:bg-brand-primary/90 transition-colors",children:[u.jsx(GI,{className:"w-4 h-4 mr-2"}),"Share Link"]}),u.jsxs(J,{onClick:p,className:"flex-1 bg-brand-secondary text-white font-semibold py-3 rounded-xl hover:bg-brand-secondary/90 transition-colors",children:[u.jsx(BI,{className:"w-4 h-4 mr-2"}),"Send Text"]})]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:b.map(N=>u.jsx(OS,{player:N},N.id))})]})}),y&&u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Host Controls"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white/80 text-sm mb-1",children:"Par for hole 1"}),u.jsx(un,{type:"number",min:1,value:_,onChange:N=>m(N.target.value===""?"":Number(N.target.value)),className:"bg-white/10 border-white/20 text-white",placeholder:"Par"})]}),u.jsx(J,{onClick:C,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"}),u.jsx(J,{onClick:k,disabled:b.length<1,className:"flex-1 bg-brand-accent text-white font-semibold py-3 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Game"}),u.jsx(J,{onClick:S,className:"px-8 bg-red-500/20 text-red-300 font-semibold py-3 rounded-xl hover:bg-red-500/30 transition-colors",children:"Cancel Game"})]})]})}),!y&&u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsx(se,{className:"p-0 text-center",children:u.jsx(J,{onClick:S,className:"bg-red-500/20 text-red-300 font-semibold py-3 px-8 rounded-xl hover:bg-red-500/30 transition-colors",children:"Leave Game"})})})]})}function qw(t,[e,n]){return Math.min(n,Math.max(e,t))}var A3=v.createContext(void 0);function O3(t){const e=v.useContext(A3);return t||e||"ltr"}var Nf=0;function MS(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Qw()),document.body.insertAdjacentElement("beforeend",t[1]??Qw()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nf--}},[])}function Qw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kf="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",Xw={bubbles:!1,cancelable:!0},M3="FocusScope",Og=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Wt(s),d=Wt(i),f=v.useRef(null),h=ke(e,m=>l(m)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let m=function(y){if(g.paused||!a)return;const b=y.target;a.contains(b)?f.current=b:wr(f.current,{select:!0})},x=function(y){if(g.paused||!a)return;const b=y.relatedTarget;b!==null&&(a.contains(b)||wr(f.current,{select:!0}))},w=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&wr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const p=new MutationObserver(w);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),p.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){Zw.add(g);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(kf,Xw);a.addEventListener(kf,c),a.dispatchEvent(w),w.defaultPrevented||(D3(U3(DS(a)),{select:!0}),document.activeElement===m&&wr(a))}return()=>{a.removeEventListener(kf,c),setTimeout(()=>{const w=new CustomEvent(Tf,Xw);a.addEventListener(Tf,d),a.dispatchEvent(w),w.defaultPrevented||wr(m??document.body,{select:!0}),a.removeEventListener(Tf,d),Zw.remove(g)},0)}}},[a,c,d,g]);const _=v.useCallback(m=>{if(!n&&!r||g.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(x&&w){const p=m.currentTarget,[y,b]=j3(p);y&&b?!m.shiftKey&&w===b?(m.preventDefault(),n&&wr(y,{select:!0})):m.shiftKey&&w===y&&(m.preventDefault(),n&&wr(b,{select:!0})):w===p&&m.preventDefault()}},[n,r,g.paused]);return u.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});Og.displayName=M3;function D3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wr(r,{select:e}),document.activeElement!==n)return}function j3(t){const e=DS(t),n=Jw(e,t),r=Jw(e.reverse(),t);return[n,r]}function DS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jw(t,e){for(const n of t)if(!L3(n,{upTo:e}))return n}function L3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function F3(t){return t instanceof HTMLInputElement&&"select"in t}function wr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&F3(t)&&e&&t.select()}}var Zw=W3();function W3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=e_(t,e),t.unshift(e)},remove(e){var n;t=e_(t,e),(n=t[0])==null||n.resume()}}}function e_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function U3(t){return t.filter(e=>e.tagName!=="A")}function H3(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zs=new WeakMap,Zl=new WeakMap,ec={},Pf=0,jS=function(t){return t&&(t.host||jS(t.parentNode))},B3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},z3=function(t,e,n,r){var s=B3(e,Array.isArray(t)?t:[t]);ec[n]||(ec[n]=new WeakMap);var i=ec[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(r),_=g!==null&&g!=="false",m=(Zs.get(h)||0)+1,x=(i.get(h)||0)+1;Zs.set(h,m),i.set(h,x),o.push(h),m===1&&_&&Zl.set(h,!0),x===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),a.clear(),Pf++,function(){o.forEach(function(f){var h=Zs.get(f)-1,g=i.get(f)-1;Zs.set(f,h),i.set(f,g),h||(Zl.has(f)||f.removeAttribute(r),Zl.delete(f)),g||f.removeAttribute(n)}),Pf--,Pf||(Zs=new WeakMap,Zs=new WeakMap,Zl=new WeakMap,ec={})}},LS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=$3(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),z3(r,s,n,"aria-hidden")):function(){return null}},kn=function(){return kn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kn.apply(this,arguments)};function FS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function V3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Sc="right-scroll-bar-position",Ec="width-before-scroll-bar",G3="with-scroll-bars-hidden",Y3="--removed-body-scroll-bar-size";function If(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function K3(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var q3=typeof window<"u"?v.useLayoutEffect:v.useEffect,t_=new WeakMap;function Q3(t,e){var n=K3(null,function(r){return t.forEach(function(s){return If(s,r)})});return q3(function(){var r=t_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||If(a,null)}),i.forEach(function(a){s.has(a)||If(a,o)})}t_.set(n,t)},[t]),n}function X3(t){return t}function J3(t,e){e===void 0&&(e=X3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Z3(t){t===void 0&&(t={});var e=J3(null);return e.options=kn({async:!0,ssr:!1},t),e}var WS=function(t){var e=t.sideCar,n=FS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,kn({},n))};WS.isSideCarExport=!0;function eF(t,e){return t.useMedium(e),WS}var US=Z3(),Rf=function(){},Sd=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Rf,onWheelCapture:Rf,onTouchMoveCapture:Rf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,_=t.inert,m=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,p=t.gapMode,y=FS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,k=Q3([n,e]),C=kn(kn({},y),s);return v.createElement(v.Fragment,null,d&&v.createElement(b,{sideCar:US,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:p}),o?v.cloneElement(v.Children.only(a),kn(kn({},C),{ref:k})):v.createElement(w,kn({},C,{className:l,ref:k}),a))});Sd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sd.classNames={fullWidth:Ec,zeroRight:Sc};var tF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=tF();return e&&t.setAttribute("nonce",e),t}function rF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=nF())&&(rF(e,n),sF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oF=function(){var t=iF();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HS=function(){var t=oF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},aF={left:0,top:0,right:0,gap:0},Af=function(t){return parseInt(t||"",10)||0},lF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Af(n),Af(r),Af(s)]},cF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aF;var e=lF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},uF=HS(),Ri="data-scroll-locked",dF=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(G3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ri,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ec,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ri,`] {
    `).concat(Y3,": ").concat(a,`px;
  }
`)},n_=function(){var t=parseInt(document.body.getAttribute(Ri)||"0",10);return isFinite(t)?t:0},fF=function(){v.useEffect(function(){return document.body.setAttribute(Ri,(n_()+1).toString()),function(){var t=n_()-1;t<=0?document.body.removeAttribute(Ri):document.body.setAttribute(Ri,t.toString())}},[])},hF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;fF();var i=v.useMemo(function(){return cF(s)},[s]);return v.createElement(uF,{styles:dF(i,!e,s,n?"":"!important")})},hp=!1;if(typeof window<"u")try{var tc=Object.defineProperty({},"passive",{get:function(){return hp=!0,!0}});window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{hp=!1}var ei=hp?{passive:!1}:!1,pF=function(t){return t.tagName==="TEXTAREA"},$S=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!pF(t)&&n[e]==="visible")},mF=function(t){return $S(t,"overflowY")},gF=function(t){return $S(t,"overflowX")},r_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BS(t,r);if(s){var i=zS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BS=function(t,e){return t==="v"?mF(e):gF(e)},zS=function(t,e){return t==="v"?vF(e):yF(e)},wF=function(t,e){return t==="h"&&e==="rtl"?-1:1},_F=function(t,e,n,r,s){var i=wF(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var g=zS(t,a),_=g[0],m=g[1],x=g[2],w=m-x-i*_;(_||w)&&BS(t,a)&&(f+=w,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},nc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},s_=function(t){return[t.deltaX,t.deltaY]},i_=function(t){return t&&"current"in t?t.current:t},xF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CF=0,ti=[];function SF(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(CF++)[0],i=v.useState(HS)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=V3([t.lockRef.current],(t.shards||[]).map(i_),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=nc(m),p=n.current,y="deltaX"in m?m.deltaX:p[0]-w[0],b="deltaY"in m?m.deltaY:p[1]-w[1],k,C=m.target,S=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in m&&S==="h"&&C.type==="range")return!1;var N=r_(S,C);if(!N)return!0;if(N?k=S:(k=S==="v"?"h":"v",N=r_(S,C)),!N)return!1;if(!r.current&&"changedTouches"in m&&(y||b)&&(r.current=k),!k)return!0;var T=r.current||k;return _F(T,x,m,T==="h"?y:b,!0)},[]),l=v.useCallback(function(m){var x=m;if(!(!ti.length||ti[ti.length-1]!==i)){var w="deltaY"in x?s_(x):nc(x),p=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&xF(k.delta,w)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var y=(o.current.shards||[]).map(i_).filter(Boolean).filter(function(k){return k.contains(x.target)}),b=y.length>0?a(x,y[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(m,x,w,p){var y={name:m,delta:x,target:w,should:p,shadowParent:EF(w)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(b){return b!==y})},1)},[]),d=v.useCallback(function(m){n.current=nc(m),r.current=void 0},[]),f=v.useCallback(function(m){c(m.type,s_(m),m.target,a(m,t.lockRef.current))},[]),h=v.useCallback(function(m){c(m.type,nc(m),m.target,a(m,t.lockRef.current))},[]);v.useEffect(function(){return ti.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ei),document.addEventListener("touchmove",l,ei),document.addEventListener("touchstart",d,ei),function(){ti=ti.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,ei),document.removeEventListener("touchmove",l,ei),document.removeEventListener("touchstart",d,ei)}},[]);var g=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(i,{styles:bF(s)}):null,g?v.createElement(hF,{gapMode:t.gapMode}):null)}function EF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NF=eF(US,SF);var Mg=v.forwardRef(function(t,e){return v.createElement(Sd,kn({},t,{ref:e,sideCar:NF}))});Mg.classNames=Sd.classNames;var kF=[" ","Enter","ArrowUp","ArrowDown"],TF=[" ","Enter"],wl="Select",[Ed,Nd,PF]=rb(wl),[No,pW]=ho(wl,[PF,vo]),kd=vo(),[IF,ds]=No(wl),[RF,AF]=No(wl),VS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:g,form:_}=t,m=kd(e),[x,w]=v.useState(null),[p,y]=v.useState(null),[b,k]=v.useState(!1),C=O3(c),[S=!1,N]=Zc({prop:r,defaultProp:s,onChange:i}),[T,P]=Zc({prop:o,defaultProp:a,onChange:l}),L=v.useRef(null),A=x?_||!!x.closest("form"):!0,[H,M]=v.useState(new Set),B=Array.from(H).map(W=>W.props.value).join(";");return u.jsx(cC,{...m,children:u.jsxs(IF,{required:g,scope:e,trigger:x,onTriggerChange:w,valueNode:p,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:k,contentId:td(),value:T,onValueChange:P,open:S,onOpenChange:N,dir:C,triggerPointerDownPosRef:L,disabled:h,children:[u.jsx(Ed.Provider,{scope:e,children:u.jsx(RF,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(W=>{M(O=>new Set(O).add(W))},[]),onNativeOptionRemove:v.useCallback(W=>{M(O=>{const E=new Set(O);return E.delete(W),E})},[]),children:n})}),A?u.jsxs(gE,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:W=>P(W.target.value),disabled:h,form:_,children:[T===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},B):null]})})};VS.displayName=wl;var GS="SelectTrigger",YS=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=kd(n),o=ds(GS,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=Nd(n),d=v.useRef("touch"),[f,h,g]=vE(m=>{const x=c().filter(y=>!y.disabled),w=x.find(y=>y.value===o.value),p=yE(x,m,w);p!==void 0&&o.onValueChange(p.value)}),_=m=>{a||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(id,{asChild:!0,...i,children:u.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mE(o.value)?"":void 0,...s,ref:l,onClick:q(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&_(m)}),onPointerDown:q(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(_(m),m.preventDefault())}),onKeyDown:q(s.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&kF.includes(m.key)&&(_(),m.preventDefault())})})})});YS.displayName=GS;var KS="SelectValue",qS=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ds(KS,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=ke(e,l.onValueNodeChange);return ct(()=>{c(d)},[c,d]),u.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:mE(l.value)?u.jsx(u.Fragment,{children:o}):i})});qS.displayName=KS;var OF="SelectIcon",QS=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(ue.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});QS.displayName=OF;var MF="SelectPortal",XS=t=>u.jsx(Ju,{asChild:!0,...t});XS.displayName=MF;var $s="SelectContent",JS=v.forwardRef((t,e)=>{const n=ds($s,t.__scopeSelect),[r,s]=v.useState();if(ct(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Gs.createPortal(u.jsx(ZS,{scope:t.__scopeSelect,children:u.jsx(Ed.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(eE,{...t,ref:e})});JS.displayName=$s;var en=10,[ZS,fs]=No($s),DF="SelectContentImpl",jF=qi("SelectContent.RemoveScroll"),eE=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:m,avoidCollisions:x,...w}=t,p=ds($s,n),[y,b]=v.useState(null),[k,C]=v.useState(null),S=ke(e,z=>b(z)),[N,T]=v.useState(null),[P,L]=v.useState(null),A=Nd(n),[H,M]=v.useState(!1),B=v.useRef(!1);v.useEffect(()=>{if(y)return LS(y)},[y]),MS();const W=v.useCallback(z=>{const[be,...nt]=A().map(pe=>pe.ref.current),[ve]=nt.slice(-1),he=document.activeElement;for(const pe of z)if(pe===he||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===be&&k&&(k.scrollTop=0),pe===ve&&k&&(k.scrollTop=k.scrollHeight),pe==null||pe.focus(),document.activeElement!==he))return},[A,k]),O=v.useCallback(()=>W([N,y]),[W,N,y]);v.useEffect(()=>{H&&O()},[H,O]);const{onOpenChange:E,triggerPointerDownPosRef:I}=p;v.useEffect(()=>{if(y){let z={x:0,y:0};const be=ve=>{var he,pe;z={x:Math.abs(Math.round(ve.pageX)-(((he=I.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((pe=I.current)==null?void 0:pe.y)??0))}},nt=ve=>{z.x<=10&&z.y<=10?ve.preventDefault():y.contains(ve.target)||E(!1),document.removeEventListener("pointermove",be),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",nt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",nt,{capture:!0})}}},[y,E,I]),v.useEffect(()=>{const z=()=>E(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[E]);const[F,$]=vE(z=>{const be=A().filter(he=>!he.disabled),nt=be.find(he=>he.ref.current===document.activeElement),ve=yE(be,z,nt);ve&&setTimeout(()=>ve.ref.current.focus())}),ee=v.useCallback((z,be,nt)=>{const ve=!B.current&&!nt;(p.value!==void 0&&p.value===be||ve)&&(T(z),ve&&(B.current=!0))},[p.value]),Fe=v.useCallback(()=>y==null?void 0:y.focus(),[y]),Ae=v.useCallback((z,be,nt)=>{const ve=!B.current&&!nt;(p.value!==void 0&&p.value===be||ve)&&L(z)},[p.value]),It=r==="popper"?pp:tE,ze=It===pp?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:m,avoidCollisions:x}:{};return u.jsx(ZS,{scope:n,content:y,viewport:k,onViewportChange:C,itemRefCallback:ee,selectedItem:N,onItemLeave:Fe,itemTextRefCallback:Ae,focusSelectedItem:O,selectedItemText:P,position:r,isPositioned:H,searchRef:F,children:u.jsx(Mg,{as:jF,allowPinchZoom:!0,children:u.jsx(Og,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:q(s,z=>{var be;(be=p.trigger)==null||be.focus({preventScroll:!0}),z.preventDefault()}),children:u.jsx(rl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:u.jsx(It,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...w,...ze,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:q(w.onKeyDown,z=>{const be=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!be&&z.key.length===1&&$(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ve=A().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const he=z.target,pe=ve.indexOf(he);ve=ve.slice(pe+1)}setTimeout(()=>W(ve)),z.preventDefault()}})})})})})})});eE.displayName=DF;var LF="SelectItemAlignedPosition",tE=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ds($s,n),o=fs($s,n),[a,l]=v.useState(null),[c,d]=v.useState(null),f=ke(e,S=>d(S)),h=Nd(n),g=v.useRef(!1),_=v.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:w,focusSelectedItem:p}=o,y=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&x&&w){const S=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const he=P.left-N.left,pe=T.left-he,Rt=S.left-pe,_n=S.width+Rt,ko=Math.max(_n,N.width),To=window.innerWidth-en,Po=qw(pe,[en,Math.max(en,To-ko)]);a.style.minWidth=_n+"px",a.style.left=Po+"px"}else{const he=N.right-P.right,pe=window.innerWidth-T.right-he,Rt=window.innerWidth-S.right-pe,_n=S.width+Rt,ko=Math.max(_n,N.width),To=window.innerWidth-en,Po=qw(pe,[en,Math.max(en,To-ko)]);a.style.minWidth=_n+"px",a.style.right=Po+"px"}const L=h(),A=window.innerHeight-en*2,H=m.scrollHeight,M=window.getComputedStyle(c),B=parseInt(M.borderTopWidth,10),W=parseInt(M.paddingTop,10),O=parseInt(M.borderBottomWidth,10),E=parseInt(M.paddingBottom,10),I=B+W+H+E+O,F=Math.min(x.offsetHeight*5,I),$=window.getComputedStyle(m),ee=parseInt($.paddingTop,10),Fe=parseInt($.paddingBottom,10),Ae=S.top+S.height/2-en,It=A-Ae,ze=x.offsetHeight/2,z=x.offsetTop+ze,be=B+W+z,nt=I-be;if(be<=Ae){const he=L.length>0&&x===L[L.length-1].ref.current;a.style.bottom="0px";const pe=c.clientHeight-m.offsetTop-m.offsetHeight,Rt=Math.max(It,ze+(he?Fe:0)+pe+O),_n=be+Rt;a.style.height=_n+"px"}else{const he=L.length>0&&x===L[0].ref.current;a.style.top="0px";const Rt=Math.max(Ae,B+m.offsetTop+(he?ee:0)+ze)+nt;a.style.height=Rt+"px",m.scrollTop=be-Ae+m.offsetTop}a.style.margin=`${en}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,x,w,i.dir,r]);ct(()=>y(),[y]);const[b,k]=v.useState();ct(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const C=v.useCallback(S=>{S&&_.current===!0&&(y(),p==null||p(),_.current=!1)},[y,p]);return u.jsx(WF,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tE.displayName=LF;var FF="SelectPopperPosition",pp=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=en,...i}=t,o=kd(n);return u.jsx(Lm,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pp.displayName=FF;var[WF,Dg]=No($s,{}),mp="SelectViewport",nE=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=fs(mp,n),o=Dg(mp,n),a=ke(e,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Ed.Slot,{scope:n,children:u.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:q(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const _=window.innerHeight-en*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(m,x);if(w<_){const p=w+g,y=Math.min(_,p),b=p-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});nE.displayName=mp;var rE="SelectGroup",[UF,HF]=No(rE),$F=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=td();return u.jsx(UF,{scope:n,id:s,children:u.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:e})})});$F.displayName=rE;var sE="SelectLabel",iE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=HF(sE,n);return u.jsx(ue.div,{id:s.id,...r,ref:e})});iE.displayName=sE;var Tu="SelectItem",[BF,oE]=No(Tu),aE=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ds(Tu,n),l=fs(Tu,n),c=a.value===r,[d,f]=v.useState(i??""),[h,g]=v.useState(!1),_=ke(e,p=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,p,r,s)}),m=td(),x=v.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(BF,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:v.useCallback(p=>{f(y=>y||((p==null?void 0:p.textContent)??"").trim())},[]),children:u.jsx(Ed.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(ue.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:q(o.onFocus,()=>g(!0)),onBlur:q(o.onBlur,()=>g(!1)),onClick:q(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:q(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:q(o.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:q(o.onPointerMove,p=>{var y;x.current=p.pointerType,s?(y=l.onItemLeave)==null||y.call(l):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:q(o.onPointerLeave,p=>{var y;p.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:q(o.onKeyDown,p=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(TF.includes(p.key)&&w(),p.key===" "&&p.preventDefault())})})})})});aE.displayName=Tu;var Jo="SelectItemText",lE=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ds(Jo,n),a=fs(Jo,n),l=oE(Jo,n),c=AF(Jo,n),[d,f]=v.useState(null),h=ke(e,w=>f(w),l.onItemTextChange,w=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,_=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=c;return ct(()=>(m(_),()=>x(_)),[m,x,_]),u.jsxs(u.Fragment,{children:[u.jsx(ue.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gs.createPortal(i.children,o.valueNode):null]})});lE.displayName=Jo;var cE="SelectItemIndicator",uE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oE(cE,n).isSelected?u.jsx(ue.span,{"aria-hidden":!0,...r,ref:e}):null});uE.displayName=cE;var gp="SelectScrollUpButton",dE=v.forwardRef((t,e)=>{const n=fs(gp,t.__scopeSelect),r=Dg(gp,t.__scopeSelect),[s,i]=v.useState(!1),o=ke(e,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(hE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});dE.displayName=gp;var vp="SelectScrollDownButton",fE=v.forwardRef((t,e)=>{const n=fs(vp,t.__scopeSelect),r=Dg(vp,t.__scopeSelect),[s,i]=v.useState(!1),o=ke(e,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(hE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});fE.displayName=vp;var hE=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=fs("SelectScrollButton",n),o=v.useRef(null),a=Nd(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),ct(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(ue.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:q(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:q(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:q(s.onPointerLeave,()=>{l()})})}),zF="SelectSeparator",pE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ue.div,{"aria-hidden":!0,...r,ref:e})});pE.displayName=zF;var yp="SelectArrow",VF=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=kd(n),i=ds(yp,n),o=fs(yp,n);return i.open&&o.position==="popper"?u.jsx(Fm,{...s,...r,ref:e}):null});VF.displayName=yp;function mE(t){return t===""||t===void 0}var gE=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=ke(e,s),o=H3(n);return v.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(il,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});gE.displayName="BubbleSelect";function vE(t){const e=Wt(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function yE(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=GF(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function GF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YF=VS,wE=YS,KF=qS,qF=QS,QF=XS,_E=JS,XF=nE,xE=iE,bE=aE,JF=lE,ZF=uE,CE=dE,SE=fE,EE=pE;const wp=YF,_p=KF,Pu=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(wE,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(qF,{asChild:!0,children:u.jsx(Ab,{className:"h-4 w-4 opacity-50"})})]}));Pu.displayName=wE.displayName;const NE=v.forwardRef(({className:t,...e},n)=>u.jsx(CE,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(LI,{className:"h-4 w-4"})}));NE.displayName=CE.displayName;const kE=v.forwardRef(({className:t,...e},n)=>u.jsx(SE,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Ab,{className:"h-4 w-4"})}));kE.displayName=SE.displayName;const Iu=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(QF,{children:u.jsxs(_E,{ref:s,className:oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(NE,{}),u.jsx(XF,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(kE,{})]})}));Iu.displayName=_E.displayName;const e6=v.forwardRef(({className:t,...e},n)=>u.jsx(xE,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));e6.displayName=xE.displayName;const vi=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(bE,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(ZF,{children:u.jsx(Rb,{className:"h-4 w-4"})})}),u.jsx(JF,{children:e})]}));vi.displayName=bE.displayName;const t6=v.forwardRef(({className:t,...e},n)=>u.jsx(EE,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));t6.displayName=EE.displayName;function n6(){var O;const[t,e]=_m("/game/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s,playCard:i,submitScore:o,setParForHole:a,advanceToNextHole:l}=us(),{user:c}=cs(),[,d]=os(),{toast:f}=Ys(),[h,g]=v.useState(!0),[_,m]=v.useState(!0),[x,w]=v.useState(""),[p,y]=v.useState(""),[b,k]=v.useState({});v.useEffect(()=>{t&&(e!=null&&e.gameCode)&&!n&&(g(!0),s(e.gameCode).then(()=>{g(!1)}).catch(E=>{console.error("Error finding game:",E),g(!1),d("/")}))},[t,e==null?void 0:e.gameCode,n,s,d]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),v.useEffect(()=>{(n==null?void 0:n.gamePhase)==="finished"&&(console.log(" Game phase is finished, redirecting to results:",`/results/${n.gameCode}`),d(`/results/${n.gameCode}`))},[n==null?void 0:n.gamePhase,n==null?void 0:n.gameCode,d]),v.useEffect(()=>{var F,$;if(!n||!c)return;w(n.currentPar??"");const E=n.currentHole-1,I=($=(F=n.players[c.uid])==null?void 0:F.strokes)==null?void 0:$[E];y(typeof I=="number"?I:"")},[n==null?void 0:n.currentHole,n==null?void 0:n.currentPar,n==null?void 0:n.id,c==null?void 0:c.uid]);const C=async E=>{if(!(n!=null&&n.id))return;const I=b[E.id];await i(n.id,E.id,I)},S=async()=>{if(!(n!=null&&n.id)||!c||p==="")return;const E=Number(p);if(E<1||E>30){f({title:"Invalid score",description:"Please enter a score between 1 and 30 strokes",variant:"destructive"});return}const I=n.currentHole-1;await o(n.id,I,E)},N=async()=>{!(n!=null&&n.id)||x===""||await a(n.id,Number(x))},T=()=>{var F;if(!n)return!1;const E=n.currentHole-1;return(((F=n.parsSet)==null?void 0:F[E])??!1)&&Object.values(n.players).every($=>{var ee;return typeof((ee=$.scores)==null?void 0:ee[E])=="number"})},P=async()=>{n!=null&&n.id&&await l(n.id)},L=E=>{switch(E){case"Before Throw":return"bg-blue-500/20 border-blue-400/40";case"After Throw":return"bg-red-500/20 border-red-400/40";case"Self":return"bg-green-500/20 border-green-400/40";case"Wild":return"bg-purple-500/20 border-purple-400/40";default:return"bg-white/10 border-white/20"}};if(h)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading game..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load your game"})]})})});if(!n||!c)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(J,{onClick:()=>d("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});if(n.gamePhase!=="playing")return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not started"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The host hasn't started the game yet. Please wait in the lobby."}),u.jsx(J,{onClick:()=>d(`/lobby/${n.gameCode}`),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Lobby"})]})})});const A=n.players[c.uid];if(!A)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Player not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You are not a player in this game."})]})})});if(!A.hand||A.hand.length===0)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4 animate-spin",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Dealing cards..."}),u.jsx("p",{className:"text-white/70 mb-6",children:"Please wait while cards are being dealt to all players."})]})})});const M=Object.values(n.players).sort((E,I)=>(E.totalScore||0)-(I.totalScore||0)),B=n.currentHole/n.totalHoles*100,W=n.hostId===c.uid;return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hole ",n.currentHole," of ",n.totalHoles]}),u.jsx("p",{className:"text-white/70",children:n.gameName||"Disc Golf Game"}),W&&u.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[u.jsx(un,{type:"number",min:1,value:x,onChange:E=>w(E.target.value===""?"":Number(E.target.value)),className:"w-24 bg-white/10 border-white/20 text-white",placeholder:"Par"}),u.jsx(J,{onClick:N,className:"bg-white/10 text-white hover:bg-white/20",children:"Set Par"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-white/70 text-sm",children:"Par"}),u.jsx("div",{className:"text-3xl font-bold text-white",children:n.currentPar})]})]}),u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-500",style:{width:`${B}%`}})}),u.jsxs("div",{className:"text-white/70 text-sm mt-2 text-center",children:[Math.round(B),"% Complete"]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(se,{className:"p-0",children:(()=>{var F;const E=n.currentHole-1,I=((F=n.parsSet)==null?void 0:F[E])??!1;return u.jsxs("div",{className:"flex items-end space-x-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-white/80 text-sm mb-1",children:["Your strokes for hole ",n.currentHole," (Par ",n.currentPar,")"]}),u.jsx(un,{type:"number",min:1,max:30,value:p,onChange:$=>{const ee=$.target.value;if(ee==="")y("");else{const Fe=Number(ee);Fe>=1&&Fe<=30&&y(Fe)}},className:"bg-white/10 border-white/20 text-white",placeholder:I?"Enter strokes (1-30)":"Waiting for host to set par...",disabled:!I}),I?p!==""&&typeof p=="number"?u.jsxs("div",{className:"text-white/60 text-xs mt-1",children:["Golf score: ",p-(n.currentPar||3)>0?"+":"",p-(n.currentPar||3),(p<1||p>30)&&u.jsx("span",{className:"text-red-400 ml-2",children:" Score must be 1-30"})]}):I?u.jsx("div",{className:"text-white/40 text-xs mt-1",children:"Valid range: 1-30 strokes"}):null:u.jsx("div",{className:"text-yellow-400 text-xs mt-1",children:" Host must set par before you can submit your score"})]}),u.jsx(J,{onClick:S,disabled:!I||p===""||typeof p!="number"||p<1||p>30,className:"bg-brand-accent text-white h-10 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Score"})]})})()})}),A&&u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:["Your Hand (",((O=A.hand)==null?void 0:O.length)||0," cards)"]}),u.jsxs(J,{onClick:()=>m(!_),variant:"ghost",className:"text-white hover:bg-white/10",children:[_?u.jsx(UI,{className:"w-4 h-4"}):u.jsx(HI,{className:"w-4 h-4"}),_?"Hide":"Show"," Hand"]})]}),_&&A.hand&&A.hand.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.hand.map(E=>u.jsx(re,{className:`${L(E.category)} border-2 transition-all duration-200 hover:scale-105`,children:u.jsx(se,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-semibold text-white/70 mb-1",children:E.category}),u.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:E.name}),u.jsx("p",{className:"text-white/80 text-sm mb-4 leading-relaxed",children:E.description}),E.category!=="Self"&&u.jsx("div",{className:"mb-3",children:u.jsxs(wp,{value:b[E.id]||"",onValueChange:I=>k(F=>({...F,[E.id]:I})),children:[u.jsx(Pu,{className:"w-full bg-white/10 border-white/20 text-white",children:u.jsx(_p,{placeholder:"Target player (optional)"})}),u.jsx(Iu,{children:Object.values(n.players).filter(I=>I.id!==c.uid).map(I=>u.jsx(vi,{value:I.id,children:I.name},I.id))})]})}),u.jsxs(J,{onClick:()=>C(E),className:"w-full bg-brand-accent text-white font-semibold py-2 rounded-xl hover:bg-brand-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(zI,{className:"w-4 h-4 mr-2"}),"Play Card"]})]})})},E.id))}):_?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-white/70",children:"No cards in hand"})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-white/70",children:"Hand is hidden"})]})]})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Players"}),u.jsx("div",{className:"space-y-3",children:M.map((E,I)=>u.jsx(OS,{player:E,position:I+1,showScore:!0},E.id))})]})}),W&&u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(se,{className:"p-0",children:T()?u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:""}),u.jsx("div",{className:"text-sm",children:"Auto-advancing to next hole..."})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-white/80 text-sm",children:["Waiting for all players to submit scores for hole ",n.currentHole]}),u.jsx(J,{onClick:P,disabled:!T(),className:"bg-white/10 text-white hover:bg-white/20 disabled:opacity-50",children:"Manual Advance"})]})})}),!W&&T()&&u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-6 border-0",children:u.jsx(se,{className:"p-0",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[u.jsx("div",{className:"animate-spin text-lg",children:""}),u.jsx("div",{className:"text-sm",children:"Advancing to next hole..."})]})})}),n.gameActivity&&n.gameActivity.length>0&&u.jsx(re,{className:"glass-card rounded-3xl p-6 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Game Activity"}),u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.gameActivity.slice(-10).map((E,I)=>u.jsx("div",{className:"text-white/70 text-sm p-2 bg-white/5 rounded-lg",children:E},I))})]})})]})}function r6(){const[t,e]=_m("/results/:gameCode"),{currentGame:n,listenToGame:r,findGameByCode:s}=us(),{user:i}=cs(),[,o]=os(),{toast:a}=Ys(),[l,c]=v.useState(!0);if(v.useEffect(()=>{console.log(" GameResults useEffect - match:",t,"gameCode:",e==null?void 0:e.gameCode,"currentGame:",!!n),t&&(e!=null&&e.gameCode)&&!n?(c(!0),console.log(" GameResults finding game by code:",e.gameCode),s(e.gameCode).then(()=>{console.log(" GameResults game found successfully"),c(!1)}).catch(p=>{console.error(" GameResults error finding game:",p),c(!1),a({title:"Game not found",description:"The game you're looking for doesn't exist or has been deleted.",variant:"destructive"}),o("/")})):n&&(console.log(" GameResults currentGame already exists, gamePhase:",n.gamePhase),c(!1))},[t,e==null?void 0:e.gameCode,n,s,o,a]),v.useEffect(()=>{if(n!=null&&n.id)return r(n.id)},[n==null?void 0:n.id,r]),l)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Loading Results..."}),u.jsx("p",{className:"text-white/70",children:"Please wait while we load the game results"})]})})});if(!n||!i)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),u.jsx("p",{className:"text-white/70 mb-6",children:"The game you're looking for doesn't exist or has been deleted."}),u.jsx(J,{onClick:()=>o("/"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Back to Main Menu"})]})})});const d=Object.values(n.players),f=d.sort((p,y)=>p.totalScore-y.totalScore),h=f[0],g=d.map(p=>({...p,birdieCount:(p.scores||[]).filter(y=>y===-1).length})),_=g.reduce((p,y)=>y.birdieCount>p.birdieCount?y:p,g[0]),m=()=>{o("/host")},x=()=>{o("/")},w=()=>{const p=window.location.href,y=f.map((k,C)=>`${C+1}. ${k.name}: ${k.totalScore>0?"+":""}${k.totalScore}`).join(`
`),b=` Just finished a game of Kicked in the Disc! 

 WINNER: ${h.name} (${h.totalScore>0?"+":""}${h.totalScore})

 Final Leaderboard:
${y}

${n.totalHoles} holes played in ${n.gameName||"our game"}

Play with us: ${p}`;navigator.share?navigator.share({title:"Kicked in the Disc - Game Results",text:b,url:p}).catch(console.error):navigator.clipboard.writeText(b).then(()=>{a({title:"Results copied!",description:"Game results copied to clipboard. Paste and share!"})}).catch(()=>{a({title:"Share manually",description:"Copy the results from the game activity to share",variant:"destructive"})})};return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"animate-bounce text-8xl mb-4",children:""}),u.jsx("div",{className:"animate-pulse text-yellow-400 text-2xl mb-2",children:" CHAMPION "}),u.jsx("h1",{className:"text-7xl md:text-8xl font-black text-transparent bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400 bg-clip-text drop-shadow-lg mb-4 animate-pulse",children:h.name.toUpperCase()}),u.jsx("div",{className:"text-3xl font-bold text-white mb-4",children:" WINS THE GAME! "}),u.jsxs("div",{className:"inline-block bg-gradient-to-r from-green-400 to-blue-500 text-white text-xl font-bold px-6 py-3 rounded-full transform rotate-2 shadow-lg",children:["Final Score: ",h.totalScore>0?"+":"",h.totalScore," strokes"]})]}),u.jsx(re,{className:"glass-card rounded-3xl p-4 text-center mb-8 border-2 border-yellow-400/50 bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:u.jsx(se,{className:"p-0",children:u.jsxs("div",{className:"text-white/90 text-lg",children:[" ",n.totalHoles," holes completed in ",u.jsx("span",{className:"font-bold text-yellow-300",children:n.gameName||"this game"})]})})}),u.jsx(re,{className:"glass-card rounded-3xl p-6 mb-8 border-0 bg-gradient-to-br from-blue-600/30 to-purple-600/30",children:u.jsxs(se,{className:"p-0",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:" FINAL LEADERBOARD "}),u.jsx("div",{className:"text-lg text-white/80",children:"Who came out on top?"})]}),u.jsx("div",{className:"space-y-4",children:f.map((p,y)=>{const b=y===0,k=y===1,C=y===2;return u.jsx("div",{className:`
                    relative rounded-2xl p-4 border-2 transition-all transform hover:scale-105
                    ${b?"bg-gradient-to-r from-yellow-400/30 to-yellow-600/30 border-yellow-400 animate-pulse":k?"bg-gradient-to-r from-gray-300/30 to-gray-500/30 border-gray-400":C?"bg-gradient-to-r from-orange-400/30 to-orange-600/30 border-orange-400":"bg-white/10 border-white/20"}
                  `,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`
                        text-3xl font-black w-12 h-12 rounded-full flex items-center justify-center
                        ${b?"bg-yellow-400 text-yellow-900":k?"bg-gray-400 text-gray-900":C?"bg-orange-400 text-orange-900":"bg-white/20 text-white"}
                      `,children:b?"":k?"":C?"":y+1}),u.jsxs("div",{children:[u.jsxs("div",{className:`text-xl font-bold ${b?"text-yellow-100":"text-white"}`,children:[p.name,b&&u.jsx("span",{className:"ml-2 text-yellow-300",children:""})]}),u.jsxs("div",{className:"text-white/70 text-sm",children:["Total strokes: ",(p.strokes||[]).reduce((S,N)=>S+(N||0),0)]})]})]}),u.jsxs("div",{className:`text-2xl font-bold ${p.totalScore<0?"text-green-400":p.totalScore>0?"text-red-400":"text-white"}`,children:[p.totalScore>0?"+":"",p.totalScore]})]})},p.id)})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(J,{onClick:w,className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white font-bold py-4 rounded-xl hover:from-pink-600 hover:to-violet-600 transition-all transform hover:scale-105 shadow-lg",children:" Share Results"}),u.jsx(J,{onClick:m,className:"bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold py-4 rounded-xl hover:from-green-600 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg",children:" Play Again"}),u.jsx(J,{onClick:x,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white font-bold py-4 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-lg",children:" Main Menu"})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Game Duration"}),u.jsx("div",{className:"text-white font-bold",children:"Epic!"})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Players"}),u.jsx("div",{className:"text-white font-bold",children:d.length})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Birdie King"}),_.birdieCount>0?u.jsxs("div",{className:"text-green-400 font-bold text-xs",children:[_.name,u.jsxs("div",{className:"text-white/70 text-xs mt-1",children:[_.birdieCount," ",_.birdieCount===1?"birdie":"birdies"]})]}):u.jsxs("div",{className:"text-white/70 text-xs",children:["No birdies",u.jsx("div",{className:"text-white/50 text-xs mt-1",children:"Try harder!"})]})]}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("div",{className:"text-sm text-white/70",children:"Holes"}),u.jsx("div",{className:"text-white font-bold",children:n.totalHoles})]})]})]})}function ae(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ut(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ht(t,e){const n=ae(t);return isNaN(e)?Ut(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function yn(t,e){const n=ae(t);if(isNaN(e))return Ut(t,NaN);if(!e)return n;const r=n.getDate(),s=Ut(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const jg=6048e5,s6=864e5;let i6={};function _l(){return i6}function Dn(t,e){var a,l,c,d;const n=_l(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=ae(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Bs(t){return Dn(t,{weekStartsOn:1})}function TE(t){const e=ae(t),n=e.getFullYear(),r=Ut(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Bs(r),i=Ut(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Bs(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function oo(t){const e=ae(t);return e.setHours(0,0,0,0),e}function Ru(t){const e=ae(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tn(t,e){const n=oo(t),r=oo(e),s=+n-Ru(n),i=+r-Ru(r);return Math.round((s-i)/s6)}function o6(t){const e=TE(t),n=Ut(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Bs(n)}function xp(t,e){const n=e*7;return ht(t,n)}function a6(t,e){return yn(t,e*12)}function l6(t){let e;return t.forEach(function(n){const r=ae(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function c6(t){let e;return t.forEach(n=>{const r=ae(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Et(t,e){const n=oo(t),r=oo(e);return+n==+r}function Lg(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function u6(t){if(!Lg(t)&&typeof t!="number")return!1;const e=ae(t);return!isNaN(Number(e))}function qa(t,e){const n=ae(t),r=ae(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function d6(t,e,n){const r=Dn(t,n),s=Dn(e,n),i=+r-Ru(r),o=+s-Ru(s);return Math.round((i-o)/jg)}function Fg(t){const e=ae(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Pt(t){const e=ae(t);return e.setDate(1),e.setHours(0,0,0,0),e}function PE(t){const e=ae(t),n=Ut(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wg(t,e){var a,l,c,d;const n=_l(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=ae(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function IE(t){return Wg(t,{weekStartsOn:1})}const f6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h6=(t,e,n)=>{let r;const s=f6[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Of(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const p6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v6={date:Of({formats:p6,defaultWidth:"full"}),time:Of({formats:m6,defaultWidth:"full"}),dateTime:Of({formats:g6,defaultWidth:"full"})},y6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w6=(t,e,n,r)=>y6[t];function zo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const _6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},k6={ordinalNumber:N6,era:zo({values:_6,defaultWidth:"wide"}),quarter:zo({values:x6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zo({values:b6,defaultWidth:"wide"}),day:zo({values:C6,defaultWidth:"wide"}),dayPeriod:zo({values:S6,defaultWidth:"wide",formattingValues:E6,defaultFormattingWidth:"wide"})};function Vo(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?P6(a,f=>f.test(o)):T6(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function T6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function P6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function I6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const R6=/^(\d+)(th|st|nd|rd)?/i,A6=/\d+/i,O6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M6={any:[/^b/i,/^(a|c)/i]},D6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j6={any:[/1/i,/2/i,/3/i,/4/i]},L6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B6={ordinalNumber:I6({matchPattern:R6,parsePattern:A6,valueCallback:t=>parseInt(t,10)}),era:Vo({matchPatterns:O6,defaultMatchWidth:"wide",parsePatterns:M6,defaultParseWidth:"any"}),quarter:Vo({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:j6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vo({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any"}),day:Vo({matchPatterns:W6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),dayPeriod:Vo({matchPatterns:H6,defaultMatchWidth:"any",parsePatterns:$6,defaultParseWidth:"any"})},RE={code:"en-US",formatDistance:h6,formatLong:v6,formatRelative:w6,localize:k6,match:B6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z6(t){const e=ae(t);return Tn(e,PE(e))+1}function AE(t){const e=ae(t),n=+Bs(e)-+o6(e);return Math.round(n/jg)+1}function OE(t,e){var d,f,h,g;const n=ae(t),r=n.getFullYear(),s=_l(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ut(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Dn(o,e),l=Ut(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Dn(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function V6(t,e){var a,l,c,d;const n=_l(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=OE(t,e),i=Ut(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Dn(i,e)}function ME(t,e){const n=ae(t),r=+Dn(n,e)-+V6(n,e);return Math.round(r/jg)+1}function de(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const gr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return de(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):de(n+1,2)},d(t,e){return de(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return de(t.getHours()%12||12,e.length)},H(t,e){return de(t.getHours(),e.length)},m(t,e){return de(t.getMinutes(),e.length)},s(t,e){return de(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return de(s,e.length)}},ni={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return gr.y(t,e)},Y:function(t,e,n,r){const s=OE(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return de(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):de(i,e.length)},R:function(t,e){const n=TE(t);return de(n,e.length)},u:function(t,e){const n=t.getFullYear();return de(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return de(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return de(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return gr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return de(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=ME(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):de(s,e.length)},I:function(t,e,n){const r=AE(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):de(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):gr.d(t,e)},D:function(t,e,n){const r=z6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):de(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return de(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return de(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return de(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ni.noon:r===0?s=ni.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ni.evening:r>=12?s=ni.afternoon:r>=4?s=ni.morning:s=ni.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):gr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):de(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):de(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):gr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):gr.s(t,e)},S:function(t,e){return gr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return l_(r);case"XXXX":case"XX":return ys(r);case"XXXXX":case"XXX":default:return ys(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return l_(r);case"xxxx":case"xx":return ys(r);case"xxxxx":case"xxx":default:return ys(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+a_(r,":");case"OOOO":default:return"GMT"+ys(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+a_(r,":");case"zzzz":default:return"GMT"+ys(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return de(r,e.length)},T:function(t,e,n){const r=t.getTime();return de(r,e.length)}};function a_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+de(i,2)}function l_(t,e){return t%60===0?(t>0?"-":"+")+de(Math.abs(t)/60,2):ys(t,e)}function ys(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=de(Math.trunc(r/60),2),i=de(r%60,2);return n+s+e+i}const c_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},G6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return c_(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",c_(r,e)).replace("{{time}}",DE(s,e))},Y6={p:DE,P:G6},K6=/^D+$/,q6=/^Y+$/,Q6=["D","DD","YY","YYYY"];function X6(t){return K6.test(t)}function J6(t){return q6.test(t)}function Z6(t,e,n){const r=e5(t,e,n);if(console.warn(r),Q6.includes(t))throw new RangeError(r)}function e5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const t5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r5=/^'([^]*?)'?$/,s5=/''/g,i5=/[a-zA-Z]/;function lr(t,e,n){var d,f,h,g,_,m,x,w;const r=_l(),s=(n==null?void 0:n.locale)??r.locale??RE,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,a=ae(t);if(!u6(a))throw new RangeError("Invalid time value");let l=e.match(n5).map(p=>{const y=p[0];if(y==="p"||y==="P"){const b=Y6[y];return b(p,s.formatLong)}return p}).join("").match(t5).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:o5(p)};if(o_[y])return{isToken:!0,value:p};if(y.match(i5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&J6(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&X6(y))&&Z6(y,e,String(t));const b=o_[y[0]];return b(a,y,s.localize,c)}).join("")}function o5(t){const e=t.match(r5);return e?e[1].replace(s5,"'"):t}function a5(t){const e=ae(t),n=e.getFullYear(),r=e.getMonth(),s=Ut(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function l5(t){return Math.trunc(+ae(t)/1e3)}function c5(t){const e=ae(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function u5(t,e){return d6(c5(t),Pt(t),e)+1}function bp(t,e){const n=ae(t),r=ae(e);return n.getTime()>r.getTime()}function jE(t,e){const n=ae(t),r=ae(e);return+n<+r}function Ug(t,e){const n=ae(t),r=ae(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function d5(t,e){const n=ae(t),r=ae(e);return n.getFullYear()===r.getFullYear()}function Mf(t,e){return ht(t,-e)}function Df(t,e){const n=ae(t),r=n.getFullYear(),s=n.getDate(),i=Ut(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=a5(i);return n.setMonth(e,Math.min(s,o)),n}function u_(t,e){const n=ae(t);return isNaN(+n)?Ut(t,NaN):(n.setFullYear(e),n)}var Y=function(){return Y=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y.apply(this,arguments)};function f5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function LE(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function xl(t){return t.mode==="multiple"}function bl(t){return t.mode==="range"}function Td(t){return t.mode==="single"}var h5={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function p5(t,e){return lr(t,"LLLL y",e)}function m5(t,e){return lr(t,"d",e)}function g5(t,e){return lr(t,"LLLL",e)}function v5(t){return"".concat(t)}function y5(t,e){return lr(t,"cccccc",e)}function w5(t,e){return lr(t,"yyyy",e)}var _5=Object.freeze({__proto__:null,formatCaption:p5,formatDay:m5,formatMonthCaption:g5,formatWeekNumber:v5,formatWeekdayName:y5,formatYearCaption:w5}),x5=function(t,e,n){return lr(t,"do MMMM (EEEE)",n)},b5=function(){return"Month: "},C5=function(){return"Go to next month"},S5=function(){return"Go to previous month"},E5=function(t,e){return lr(t,"cccc",e)},N5=function(t){return"Week n. ".concat(t)},k5=function(){return"Year: "},T5=Object.freeze({__proto__:null,labelDay:x5,labelMonthDropdown:b5,labelNext:C5,labelPrevious:S5,labelWeekNumber:N5,labelWeekday:E5,labelYearDropdown:k5});function P5(){var t="buttons",e=h5,n=RE,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:_5,labels:T5,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function I5(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Pt(r):e&&(i=new Date(e,0,1)),s?o=Fg(s):n&&(o=new Date(n,11,31)),{fromDate:i?oo(i):void 0,toDate:o?oo(o):void 0}}var FE=v.createContext(void 0);function R5(t){var e,n=t.initialProps,r=P5(),s=I5(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(Td(n)||xl(n)||bl(n))&&(l=n.onSelect);var c=Y(Y(Y({},r),n),{captionLayout:a,classNames:Y(Y({},r.classNames),n.classNames),components:Y({},n.components),formatters:Y(Y({},r.formatters),n.formatters),fromDate:i,labels:Y(Y({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Y(Y({},r.modifiers),n.modifiers),modifiersClassNames:Y(Y({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Y(Y({},r.styles),n.styles),toDate:o});return u.jsx(FE.Provider,{value:c,children:t.children})}function xe(){var t=v.useContext(FE);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function WE(t){var e=xe(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function A5(t){return u.jsx("svg",Y({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UE(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,c=xe(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:A5;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:i}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function O5(t){var e,n=xe(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});var f=[];if(d5(r,s))for(var h=Pt(r),g=r.getMonth();g<=s.getMonth();g++)f.push(Df(h,g));else for(var h=Pt(new Date),g=0;g<=11;g++)f.push(Df(h,g));var _=function(x){var w=Number(x.target.value),p=Df(Pt(t.displayMonth),w);t.onChange(p)},m=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:UE;return u.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(x){return u.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function M5(t){var e,n=t.displayMonth,r=xe(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});for(var g=s.getFullYear(),_=i.getFullYear(),m=g;m<=_;m++)h.push(u_(PE(new Date),m));var x=function(p){var y=u_(Pt(n),Number(p.target.value));t.onChange(y)},w=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:UE;return u.jsx(w,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(p){return u.jsx("option",{value:p.getFullYear(),children:d(p,{locale:o})},p.getFullYear())})})}function D5(t,e){var n=v.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function j5(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&qa(i,s)<0){var c=-1*(l-1);s=yn(i,c)}return o&&qa(s,o)<0&&(s=o),Pt(s)}function L5(){var t=xe(),e=j5(t),n=D5(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=Pt(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function F5(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Pt(t),i=Pt(yn(s,r)),o=qa(i,s),a=[],l=0;l<o;l++){var c=yn(s,l);a.push(c)}return n&&(a=a.reverse()),a}function W5(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Pt(t);if(!n)return yn(a,o);var l=qa(n,t);if(!(l<i))return yn(a,o)}}function U5(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Pt(t);if(!n)return yn(a,-o);var l=qa(a,n);if(!(l<=0))return yn(a,-o)}}var HE=v.createContext(void 0);function H5(t){var e=xe(),n=L5(),r=n[0],s=n[1],i=F5(r,e),o=W5(r,e),a=U5(r,e),l=function(f){return i.some(function(h){return Ug(f,h)})},c=function(f,h){l(f)||(h&&jE(f,h)?s(yn(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return u.jsx(HE.Provider,{value:d,children:t.children})}function Cl(){var t=v.useContext(HE);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function d_(t){var e,n=xe(),r=n.classNames,s=n.styles,i=n.components,o=Cl().goToMonth,a=function(d){o(yn(d,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:WE,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(O5,{onChange:a,displayMonth:t.displayMonth}),u.jsx(M5,{onChange:a,displayMonth:t.displayMonth})]})}function $5(t){return u.jsx("svg",Y({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function B5(t){return u.jsx("svg",Y({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Au=v.forwardRef(function(t,e){var n=xe(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=Y(Y({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),u.jsx("button",Y({},t,{ref:e,type:"button",className:o,style:a}))});function z5(t){var e,n,r=xe(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var h=c(t.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),_=d(t.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),x=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:B5,w=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:$5;return u.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(Au,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?u.jsx(x,{className:o.nav_icon,style:a.nav_icon}):u.jsx(w,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(Au,{name:"next-month","aria-label":_,className:m,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?u.jsx(w,{className:o.nav_icon,style:a.nav_icon}):u.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function f_(t){var e=xe().numberOfMonths,n=Cl(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(_){return Ug(t.displayMonth,_)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&i(r)},g=function(){s&&i(s)};return u.jsx(z5,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:g})}function V5(t){var e,n=xe(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:WE,c;return s?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(d_,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(d_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(f_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(f_,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:i.caption,children:c})}function G5(t){var e=xe(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?u.jsx("tfoot",{className:s,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function Y5(t,e,n){for(var r=n?Bs(new Date):Dn(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=ht(r,i);s.push(o)}return s}function K5(){var t=xe(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=Y5(s,i,o);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,f){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function q5(){var t,e=xe(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:K5;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(i,{})})}function Q5(t){var e=xe(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var Hg=v.createContext(void 0);function X5(t){if(!xl(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(Hg.Provider,{value:e,children:t.children})}return u.jsx(J5,{initialProps:t.initialProps,children:t.children})}function J5(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(c,d,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,d,f);var _=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!_){var m=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!m){var x=r?LE([],r):[];if(d.selected){var w=x.findIndex(function(p){return Et(c,p)});x.splice(w,1)}else x.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,x,c,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=i&&r.length>i-1,f=r.some(function(h){return Et(h,c)});return!!(d&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return u.jsx(Hg.Provider,{value:l,children:n})}function $g(){var t=v.useContext(Hg);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Z5(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Et(s,t)&&Et(r,t)?void 0:Et(s,t)?{from:s,to:void 0}:Et(r,t)?void 0:bp(r,t)?{from:t,to:s}:{from:r,to:t}:s?bp(t,s)?{from:s,to:t}:{from:t,to:s}:r?jE(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Bg=v.createContext(void 0);function e8(t){if(!bl(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(Bg.Provider,{value:e,children:t.children})}return u.jsx(t8,{initialProps:t.initialProps,children:t.children})}function t8(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,c=function(g,_,m){var x,w;(x=e.onDayClick)===null||x===void 0||x.call(e,g,_,m);var p=Z5(g,r);(w=e.onSelect)===null||w===void 0||w.call(e,p,g,_,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Et(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:Mf(i,a-1),before:ht(i,a-1)}),i&&o&&d.disabled.push({after:i,before:ht(i,a-1)}),!i&&o&&d.disabled.push({after:Mf(o,a-1),before:ht(o,a-1)})),l){if(i&&!o&&(d.disabled.push({before:ht(i,-l+1)}),d.disabled.push({after:ht(i,l-1)})),i&&o){var f=Tn(o,i)+1,h=l-f;d.disabled.push({before:Mf(i,h)}),d.disabled.push({after:ht(o,h)})}!i&&o&&(d.disabled.push({before:ht(o,-l+1)}),d.disabled.push({after:ht(o,l-1)}))}return u.jsx(Bg.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function zg(){var t=v.useContext(Bg);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Nc(t){return Array.isArray(t)?LE([],t):t!==void 0?[t]:[]}function n8(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Nc(s)}),e}var wn;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(wn||(wn={}));var r8=wn.Selected,Hn=wn.Disabled,s8=wn.Hidden,i8=wn.Today,jf=wn.RangeEnd,Lf=wn.RangeMiddle,Ff=wn.RangeStart,o8=wn.Outside;function a8(t,e,n){var r,s=(r={},r[r8]=Nc(t.selected),r[Hn]=Nc(t.disabled),r[s8]=Nc(t.hidden),r[i8]=[t.today],r[jf]=[],r[Lf]=[],r[Ff]=[],r[o8]=[],r);return t.fromDate&&s[Hn].push({before:t.fromDate}),t.toDate&&s[Hn].push({after:t.toDate}),xl(t)?s[Hn]=s[Hn].concat(e.modifiers[Hn]):bl(t)&&(s[Hn]=s[Hn].concat(n.modifiers[Hn]),s[Ff]=n.modifiers[Ff],s[Lf]=n.modifiers[Lf],s[jf]=n.modifiers[jf]),s}var $E=v.createContext(void 0);function l8(t){var e=xe(),n=$g(),r=zg(),s=a8(e,n,r),i=n8(e.modifiers),o=Y(Y({},s),i);return u.jsx($E.Provider,{value:o,children:t.children})}function BE(){var t=v.useContext($E);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function c8(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function u8(t){return!!(t&&typeof t=="object"&&"from"in t)}function d8(t){return!!(t&&typeof t=="object"&&"after"in t)}function f8(t){return!!(t&&typeof t=="object"&&"before"in t)}function h8(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function p8(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Tn(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Tn(t,r)>=0&&Tn(s,t)>=0;return o}return s?Et(s,t):r?Et(r,t):!1}function m8(t){return Lg(t)}function g8(t){return Array.isArray(t)&&t.every(Lg)}function v8(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(m8(n))return Et(t,n);if(g8(n))return n.includes(t);if(u8(n))return p8(t,n);if(h8(n))return n.dayOfWeek.includes(t.getDay());if(c8(n)){var r=Tn(n.before,t),s=Tn(n.after,t),i=r>0,o=s<0,a=bp(n.before,n.after);return a?o&&i:i||o}return d8(n)?Tn(t,n.after)>0:f8(n)?Tn(n.before,t)>0:typeof n=="function"?n(t):!1})}function Vg(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return v8(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Ug(t,n)&&(s.outside=!0),s}function y8(t,e){for(var n=Pt(t[0]),r=Fg(t[t.length-1]),s,i,o=n;o<=r;){var a=Vg(o,e),l=!a.disabled&&!a.hidden;if(!l){o=ht(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=ht(o,1)}return i||s}var w8=365;function zE(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,c=s.fromDate,d=s.toDate,f=s.locale,h={day:ht,week:xp,month:yn,year:a6,startOfWeek:function(x){return s.ISOWeek?Bs(x):Dn(x,{locale:f,weekStartsOn:l})},endOfWeek:function(x){return s.ISOWeek?IE(x):Wg(x,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=l6([c,g]):r==="after"&&d&&(g=c6([d,g]));var _=!0;if(i){var m=Vg(g,i);_=!m.disabled&&!m.hidden}return _?g:a.count>w8?a.lastFocused:zE(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:Y(Y({},a),{count:a.count+1})})}var VE=v.createContext(void 0);function _8(t){var e=Cl(),n=BE(),r=v.useState(),s=r[0],i=r[1],o=v.useState(),a=o[0],l=o[1],c=y8(e.displayMonths,n),d=s??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(s),i(void 0)},h=function(x){i(x)},g=xe(),_=function(x,w){if(s){var p=zE(s,{moveBy:x,direction:w,context:g,modifiers:n});Et(s,p)||(e.goToDate(p,s),h(p))}},m={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return u.jsx(VE.Provider,{value:m,children:t.children})}function Gg(){var t=v.useContext(VE);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function x8(t,e){var n=BE(),r=Vg(t,n,e);return r}var Yg=v.createContext(void 0);function b8(t){if(!Td(t.initialProps)){var e={selected:void 0};return u.jsx(Yg.Provider,{value:e,children:t.children})}return u.jsx(C8,{initialProps:t.initialProps,children:t.children})}function C8(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return u.jsx(Yg.Provider,{value:s,children:n})}function GE(){var t=v.useContext(Yg);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function S8(t,e){var n=xe(),r=GE(),s=$g(),i=zg(),o=Gg(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,g=o.focusMonthBefore,_=o.focusMonthAfter,m=o.focusYearBefore,x=o.focusYearAfter,w=o.focusStartOfWeek,p=o.focusEndOfWeek,y=function(O){var E,I,F,$;Td(n)?(E=r.onDayClick)===null||E===void 0||E.call(r,t,e,O):xl(n)?(I=s.onDayClick)===null||I===void 0||I.call(s,t,e,O):bl(n)?(F=i.onDayClick)===null||F===void 0||F.call(i,t,e,O):($=n.onDayClick)===null||$===void 0||$.call(n,t,e,O)},b=function(O){var E;h(t),(E=n.onDayFocus)===null||E===void 0||E.call(n,t,e,O)},k=function(O){var E;f(),(E=n.onDayBlur)===null||E===void 0||E.call(n,t,e,O)},C=function(O){var E;(E=n.onDayMouseEnter)===null||E===void 0||E.call(n,t,e,O)},S=function(O){var E;(E=n.onDayMouseLeave)===null||E===void 0||E.call(n,t,e,O)},N=function(O){var E;(E=n.onDayPointerEnter)===null||E===void 0||E.call(n,t,e,O)},T=function(O){var E;(E=n.onDayPointerLeave)===null||E===void 0||E.call(n,t,e,O)},P=function(O){var E;(E=n.onDayTouchCancel)===null||E===void 0||E.call(n,t,e,O)},L=function(O){var E;(E=n.onDayTouchEnd)===null||E===void 0||E.call(n,t,e,O)},A=function(O){var E;(E=n.onDayTouchMove)===null||E===void 0||E.call(n,t,e,O)},H=function(O){var E;(E=n.onDayTouchStart)===null||E===void 0||E.call(n,t,e,O)},M=function(O){var E;(E=n.onDayKeyUp)===null||E===void 0||E.call(n,t,e,O)},B=function(O){var E;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),c();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),d();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?m():g();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?x():_();break;case"Home":O.preventDefault(),O.stopPropagation(),w();break;case"End":O.preventDefault(),O.stopPropagation(),p();break}(E=n.onDayKeyDown)===null||E===void 0||E.call(n,t,e,O)},W={onClick:y,onFocus:b,onBlur:k,onKeyDown:B,onKeyUp:M,onMouseEnter:C,onMouseLeave:S,onPointerEnter:N,onPointerLeave:T,onTouchCancel:P,onTouchEnd:L,onTouchMove:A,onTouchStart:H};return W}function E8(){var t=xe(),e=GE(),n=$g(),r=zg(),s=Td(t)?e.selected:xl(t)?n.selected:bl(t)?r.selected:void 0;return s}function N8(t){return Object.values(wn).includes(t)}function k8(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(N8(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function T8(t,e){var n=Y({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Y(Y({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function P8(t,e,n){var r,s,i,o=xe(),a=Gg(),l=x8(t,e),c=S8(t,l),d=E8(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var C;l.outside||a.focusedDay&&f&&Et(a.focusedDay,t)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,t,n,f,l.outside]);var h=k8(o,l).join(" "),g=T8(o,l),_=!!(l.outside&&!o.showOutsideDays||l.hidden),m=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Q5,x=u.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),w={style:g,className:h,children:x,role:"gridcell"},p=a.focusTarget&&Et(a.focusTarget,t)&&!l.outside,y=a.focusedDay&&Et(a.focusedDay,t),b=Y(Y(Y({},w),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=y||p?0:-1,r)),c),k={isButton:f,isHidden:_,activeModifiers:l,selectedDays:d,buttonProps:b,divProps:w};return k}function I8(t){var e=v.useRef(null),n=P8(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(Au,Y({name:"day",ref:e},n.buttonProps)):u.jsx("div",Y({},n.divProps))}function R8(t){var e=t.number,n=t.dates,r=xe(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!s)return u.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(e),{locale:a}),h=function(g){s(e,n,g)};return u.jsx(Au,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function A8(t){var e,n,r=xe(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:I8,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:R8,d;return o&&(d=u.jsx("td",{className:i.cell,style:s.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return u.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:f})},l5(f))})]})}function h_(t,e,n){for(var r=n!=null&&n.ISOWeek?IE(e):Wg(e,n),s=n!=null&&n.ISOWeek?Bs(t):Dn(t,n),i=Tn(r,s),o=[],a=0;a<=i;a++)o.push(ht(s,a));var l=o.reduce(function(c,d){var f=n!=null&&n.ISOWeek?AE(d):ME(d,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return l}function O8(t,e){var n=h_(Pt(t),Fg(t),e);if(e!=null&&e.useFixedWeeks){var r=u5(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=xp(i,6-r),a=h_(xp(i,1),o,e);n.push.apply(n,a)}}return n}function M8(t){var e,n,r,s=xe(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,c=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,g=s.ISOWeek,_=O8(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:q5,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:A8,w=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:G5;return u.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(m,{}),u.jsx("tbody",{className:o.tbody,style:a.tbody,children:_.map(function(p){return u.jsx(x,{displayMonth:t.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),u.jsx(w,{displayMonth:t.displayMonth})]})}function D8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var j8=D8()?v.useLayoutEffect:v.useEffect,Wf=!1,L8=0;function p_(){return"react-day-picker-".concat(++L8)}function F8(t){var e,n=t??(Wf?p_():null),r=v.useState(n),s=r[0],i=r[1];return j8(function(){s===null&&i(p_())},[]),v.useEffect(function(){Wf===!1&&(Wf=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function W8(t){var e,n,r=xe(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=Cl().displayMonths,c=F8(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],h=o.month,g=t.displayIndex===0,_=t.displayIndex===l.length-1,m=!g&&!_;s==="rtl"&&(e=[g,_],_=e[0],g=e[1]),g&&(f.push(i.caption_start),h=Y(Y({},h),o.caption_start)),_&&(f.push(i.caption_end),h=Y(Y({},h),o.caption_end)),m&&(f.push(i.caption_between),h=Y(Y({},h),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:V5;return u.jsxs("div",{className:f.join(" "),style:h,children:[u.jsx(x,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(M8,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function U8(t){var e=xe(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function H8(t){var e,n,r=t.initialProps,s=xe(),i=Gg(),o=Cl(),a=v.useState(!1),l=a[0],c=a[1];v.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Y(Y({},s.styles.root),s.style),h=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,m){var x;return Y(Y({},_),(x={},x[m]=r[m],x))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:U8;return u.jsx("div",Y({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:u.jsx(g,{children:o.displayMonths.map(function(_,m){return u.jsx(W8,{displayIndex:m,displayMonth:_},m)})})}))}function $8(t){var e=t.children,n=f5(t,["children"]);return u.jsx(R5,{initialProps:n,children:u.jsx(H5,{children:u.jsx(b8,{initialProps:n,children:u.jsx(X5,{initialProps:n,children:u.jsx(e8,{initialProps:n,children:u.jsx(l8,{children:u.jsx(_8,{children:e})})})})})})})}function B8(t){return u.jsx($8,Y({},t,{children:u.jsx(H8,{initialProps:t})}))}function YE({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(B8,{showOutsideDays:n,className:oe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:oe(fp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:oe(fp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...i})=>u.jsx(DI,{className:oe("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>u.jsx(jI,{className:oe("h-4 w-4",s),...i})},...r})}YE.displayName="Calendar";var Kg="Popover",[KE,mW]=ho(Kg,[vo]),Sl=vo(),[z8,hs]=KE(Kg),qE=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Sl(e),l=v.useRef(null),[c,d]=v.useState(!1),[f=!1,h]=Zc({prop:r,defaultProp:s,onChange:i});return u.jsx(cC,{...a,children:u.jsx(z8,{scope:e,contentId:td(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};qE.displayName=Kg;var QE="PopoverAnchor",V8=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hs(QE,n),i=Sl(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return v.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(id,{...i,...r,ref:e})});V8.displayName=QE;var XE="PopoverTrigger",JE=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hs(XE,n),i=Sl(n),o=ke(e,s.triggerRef),a=u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rN(s.open),...r,ref:o,onClick:q(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(id,{asChild:!0,...i,children:a})});JE.displayName=XE;var qg="PopoverPortal",[G8,Y8]=KE(qg,{forceMount:void 0}),ZE=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=hs(qg,e);return u.jsx(G8,{scope:e,forceMount:n,children:u.jsx(sl,{present:n||i.open,children:u.jsx(Ju,{asChild:!0,container:s,children:r})})})};ZE.displayName=qg;var ao="PopoverContent",eN=v.forwardRef((t,e)=>{const n=Y8(ao,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=hs(ao,t.__scopePopover);return u.jsx(sl,{present:r||i.open,children:i.modal?u.jsx(q8,{...s,ref:e}):u.jsx(Q8,{...s,ref:e})})});eN.displayName=ao;var K8=qi("PopoverContent.RemoveScroll"),q8=v.forwardRef((t,e)=>{const n=hs(ao,t.__scopePopover),r=v.useRef(null),s=ke(e,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return LS(o)},[]),u.jsx(Mg,{as:K8,allowPinchZoom:!0,children:u.jsx(tN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:q(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:q(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Q8=v.forwardRef((t,e)=>{const n=hs(ao,t.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return u.jsx(tN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tN=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,h=hs(ao,n),g=Sl(n);return MS(),u.jsx(Og,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(rl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(Lm,{"data-state":rN(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nN="PopoverClose",X8=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=hs(nN,n);return u.jsx(ue.button,{type:"button",...r,ref:e,onClick:q(t.onClick,()=>s.onOpenChange(!1))})});X8.displayName=nN;var J8="PopoverArrow",Z8=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sl(n);return u.jsx(Fm,{...s,...r,ref:e})});Z8.displayName=J8;function rN(t){return t?"open":"closed"}var eW=qE,tW=JE,nW=ZE,sN=eN;const rW=eW,sW=tW,iN=v.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(nW,{children:u.jsx(sN,{ref:s,align:e,sideOffset:n,className:oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));iN.displayName=sN.displayName;const kc=v.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));kc.displayName="Textarea";function iW(){cs();const{hasHostingPrivilege:t}=us(),[,e]=os(),{toast:n}=Ys(),[r,s]=v.useState(""),[i,o]=v.useState(),[a,l]=v.useState(""),[c,d]=v.useState(""),[f,h]=v.useState(""),[g,_]=v.useState(""),[m,x]=v.useState("email"),w=Array.from({length:24*4},(y,b)=>{const k=Math.floor(b/4),C=b%4*15;return lr(new Date().setHours(k,C),"hh:mm a")}),p=async y=>{if(y.preventDefault(),!t){n({title:"Hosting Privilege Required",description:"You need hosting privileges to schedule games",variant:"destructive"});return}if(!r||!i||!a){n({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}try{const b=c.split(",").map(C=>C.trim()).filter(Boolean),k=f.split(",").map(C=>C.trim()).filter(Boolean);n({title:"Game Scheduled!",description:"Invitations will be sent to players"}),e("/")}catch{n({title:"Error",description:"Failed to schedule game. Please try again.",variant:"destructive"})}};return t?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Schedule a Game"}),u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Game Name"}),u.jsx(un,{value:r,onChange:y=>s(y.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Enter a name for your game"})]}),u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Date"}),u.jsxs(rW,{children:[u.jsx(sW,{asChild:!0,children:u.jsxs(J,{variant:"outline",className:oe("w-full mt-2 bg-white/10 border-white/20 text-white justify-start text-left font-normal",!i&&"text-white/50"),children:[u.jsx(Ib,{className:"mr-2 h-4 w-4"}),i?lr(i,"PPP"):"Select a date"]})}),u.jsx(iN,{className:"w-auto p-0",children:u.jsx(YE,{mode:"single",selected:i,onSelect:o,initialFocus:!0,disabled:y=>y<new Date})})]})]}),u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Time"}),u.jsxs(wp,{value:a,onValueChange:l,children:[u.jsx(Pu,{className:"w-full mt-2 bg-white/10 border-white/20 text-white",children:u.jsx(_p,{placeholder:"Select a time"})}),u.jsx(Iu,{children:w.map(y=>u.jsx(vi,{value:y,children:y},y))})]})]}),u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Notification Type"}),u.jsxs(wp,{value:m,onValueChange:x,children:[u.jsx(Pu,{className:"w-full mt-2 bg-white/10 border-white/20 text-white",children:u.jsx(_p,{placeholder:"Select notification type"})}),u.jsxs(Iu,{children:[u.jsx(vi,{value:"email",children:"Email"}),u.jsx(vi,{value:"sms",children:"SMS"}),u.jsx(vi,{value:"both",children:"Both"})]})]})]}),(m==="email"||m==="both")&&u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Player Emails"}),u.jsx(kc,{value:c,onChange:y=>d(y.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Enter player emails (comma-separated)"}),u.jsx("p",{className:"text-white/50 text-sm mt-1",children:"Example: player1@email.com, player2@email.com"})]}),(m==="sms"||m==="both")&&u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Player Phone Numbers"}),u.jsx(kc,{value:f,onChange:y=>h(y.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Enter phone numbers (comma-separated)"}),u.jsx("p",{className:"text-white/50 text-sm mt-1",children:"Example: +1234567890, +0987654321"})]}),u.jsxs("div",{children:[u.jsx(pt,{className:"text-white/80",children:"Additional Notes"}),u.jsx(kc,{value:g,onChange:y=>_(y.target.value),className:"bg-white/10 border-white/20 text-white mt-2",placeholder:"Add any additional notes for players"})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(J,{type:"submit",className:"flex-1 bg-brand-accent text-white font-semibold py-4 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Schedule Game"}),u.jsx(J,{type:"button",onClick:()=>e("/"),className:"bg-white/10 text-white font-semibold py-4 rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"})]})]})]})})}):u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:u.jsx(re,{className:"glass-card rounded-3xl p-8 text-center border-0",children:u.jsxs(se,{className:"p-0",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Hosting Privilege Required"}),u.jsx("p",{className:"text-white/70 mb-6",children:"You need hosting privileges to schedule games."}),u.jsx(J,{onClick:()=>e("/store"),className:"bg-brand-accent text-white font-semibold py-3 px-6 rounded-xl hover:bg-brand-accent/90 transition-colors",children:"Purchase Hosting Privilege"})]})})})}function oW(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(re,{className:"w-full max-w-md mx-4",children:u.jsxs(se,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(FI,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function aW(){const{user:t,loading:e}=cs();return e?u.jsx("div",{className:"min-h-screen bg-brand-gradient flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"floating-animation text-8xl mb-6",children:""}),u.jsx("h1",{className:"font-logo text-5xl font-bold mb-4 text-gradient text-outline",children:"KICKED IN THE DISC"}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl mx-auto max-w-sm",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-logo-cyan border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"mt-4 text-logo-dark font-medium",children:"Loading awesome disc golf action..."})]})]})}):t?u.jsxs(cP,{children:[u.jsx(Fn,{path:"/",component:k3}),u.jsx(Fn,{path:"/store",component:T3}),u.jsx(Fn,{path:"/host",component:P3}),u.jsx(Fn,{path:"/join",component:I3}),u.jsx(Fn,{path:"/lobby/:gameCode",component:R3}),u.jsx(Fn,{path:"/game/:gameCode",component:n6}),u.jsx(Fn,{path:"/results/:gameCode",component:r6}),u.jsx(Fn,{path:"/schedule",component:iW}),u.jsx(Fn,{component:oW})]}):u.jsx(E3,{})}function lW(){return u.jsx(OP,{client:jP,children:u.jsx(iO,{children:u.jsxs("div",{className:"min-h-screen bg-brand-gradient bg-pattern-dots",children:[u.jsx(OR,{}),u.jsx(aW,{})]})})})}L0(document.getElementById("root")).render(u.jsx(lW,{}));
